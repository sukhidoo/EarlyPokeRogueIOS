const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./battle-scene-BqLx1xw0.js","./loading-scene-DWxFK_8p.js"])))=>i.map(i=>d[i]);
var KO=Object.defineProperty;var r=(e,t)=>KO(e,"name",{value:t,configurable:!0});r(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))a(y);new MutationObserver(y=>{for(const S of y)if(S.type==="childList")for(const n of S.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function i(y){const S={};return y.integrity&&(S.integrity=y.integrity),y.referrerPolicy&&(S.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?S.credentials="include":y.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}r(i,"getFetchOpts");function a(y){if(y.ep)return;y.ep=!0;const S=i(y);fetch(y.href,S)}r(a,"processPreload")},"polyfill")();const ZO="modulepreload",JO=r(function(e,t){return new URL(e,t).href},"assetsURL"),Sy={},Mv=r(function(t,i,a){let y=Promise.resolve();if(i&&i.length>0){let n=r(function(T){return Promise.all(T.map(c=>Promise.resolve(c).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))},"allSettled2");const C=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));y=n(i.map(T=>{if(T=JO(T,a),T in Sy)return;Sy[T]=!0;const c=T.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(!!a)for(let f=C.length-1;f>=0;f--){const v=C[f];if(v.href===T&&(!c||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${T}"]${l}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":ZO,c||(h.as="script"),h.crossOrigin="",h.href=T,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${T}`)))})}))}function S(n){const C=new Event("vite:preloadError",{cancelable:!0});if(C.payload=n,window.dispatchEvent(C),!C.defaultPrevented)throw n}return r(S,"handlePreloadError"),y.then(n=>{for(const C of n||[])C.status==="rejected"&&S(C.reason);return t().catch(S)})},"preload");var AQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ug(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}r(ug,"getDefaultExportFromCjs");function PQ(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var i=r(function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)},"a");i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var y=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,y.get?y:{enumerable:!0,get:r(function(){return e[a]},"get")})}),i}r(PQ,"getAugmentedNamespace");var zu={exports:{}},QO=zu.exports,Ay;function jO(){return Ay||(Ay=1,function(e,t){r(function(a,y){e.exports=y()},"webpackUniversalModuleDefinition")(QO,()=>(()=>{var i={50792:n=>{var C=Object.prototype.hasOwnProperty,s="~";function o(){}r(o,"Events"),Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function T(h,f,v){this.fn=h,this.context=f,this.once=v||!1}r(T,"EE");function c(h,f,v,d,p){if(typeof v!="function")throw new TypeError("The listener must be a function");var g=new T(v,d||h,p),m=s?s+f:f;return h._events[m]?h._events[m].fn?h._events[m]=[h._events[m],g]:h._events[m].push(g):(h._events[m]=g,h._eventsCount++),h}r(c,"addListener");function l(h,f){--h._eventsCount===0?h._events=new o:delete h._events[f]}r(l,"clearEvent");function u(){this._events=new o,this._eventsCount=0}r(u,"EventEmitter"),u.prototype.eventNames=r(function(){var f=[],v,d;if(this._eventsCount===0)return f;for(d in v=this._events)C.call(v,d)&&f.push(s?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(v)):f},"eventNames"),u.prototype.listeners=r(function(f){var v=s?s+f:f,d=this._events[v];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,g=d.length,m=new Array(g);p<g;p++)m[p]=d[p].fn;return m},"listeners"),u.prototype.listenerCount=r(function(f){var v=s?s+f:f,d=this._events[v];return d?d.fn?1:d.length:0},"listenerCount"),u.prototype.emit=r(function(f,v,d,p,g,m){var x=s?s+f:f;if(!this._events[x])return!1;var E=this._events[x],A=arguments.length,R,P;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),A){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,v),!0;case 3:return E.fn.call(E.context,v,d),!0;case 4:return E.fn.call(E.context,v,d,p),!0;case 5:return E.fn.call(E.context,v,d,p,g),!0;case 6:return E.fn.call(E.context,v,d,p,g,m),!0}for(P=1,R=new Array(A-1);P<A;P++)R[P-1]=arguments[P];E.fn.apply(E.context,R)}else{var O=E.length,L;for(P=0;P<O;P++)switch(E[P].once&&this.removeListener(f,E[P].fn,void 0,!0),A){case 1:E[P].fn.call(E[P].context);break;case 2:E[P].fn.call(E[P].context,v);break;case 3:E[P].fn.call(E[P].context,v,d);break;case 4:E[P].fn.call(E[P].context,v,d,p);break;default:if(!R)for(L=1,R=new Array(A-1);L<A;L++)R[L-1]=arguments[L];E[P].fn.apply(E[P].context,R)}}return!0},"emit"),u.prototype.on=r(function(f,v,d){return c(this,f,v,d,!1)},"on"),u.prototype.once=r(function(f,v,d){return c(this,f,v,d,!0)},"once"),u.prototype.removeListener=r(function(f,v,d,p){var g=s?s+f:f;if(!this._events[g])return this;if(!v)return l(this,g),this;var m=this._events[g];if(m.fn)m.fn===v&&(!p||m.once)&&(!d||m.context===d)&&l(this,g);else{for(var x=0,E=[],A=m.length;x<A;x++)(m[x].fn!==v||p&&!m[x].once||d&&m[x].context!==d)&&E.push(m[x]);E.length?this._events[g]=E.length===1?E[0]:E:l(this,g)}return this},"removeListener"),u.prototype.removeAllListeners=r(function(f){var v;return f?(v=s?s+f:f,this._events[v]&&l(this,v)):(this._events=new o,this._eventsCount=0),this},"removeAllListeners"),u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=s,u.EventEmitter=u,n.exports=u},11517:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(38829),T=r(function(c,l,u,h){for(var f=c[0],v=1;v<c.length;v++){var d=c[v];o(d,f,l,u,h),f=d}return c},"AlignTo");n.exports=T},80318:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),T=r(function(c,l,u,h,f){return o(c,"angle",l,u,h,f)},"Angle");n.exports=T},60757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){for(var c=0;c<s.length;c++){var l=s[c];o.call(T,l)}return s},"Call");n.exports=C},69927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){T===void 0&&(T=0);for(var c=T;c<s.length;c++){var l=s[c],u=!0;for(var h in o)l[h]!==o[h]&&(u=!1);if(u)return l}return null},"GetFirst");n.exports=C},32265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){T===void 0&&(T=0);for(var c=s.length-1;c>=T;c--){var l=s[c],u=!0;for(var h in o)l[h]!==o[h]&&(u=!1);if(u)return l}return null},"GetLast");n.exports=C},94420:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(11879),T=s(60461),c=s(95540),l=s(29747),u=s(41481),h=new u({sys:{queueDepthSort:l,events:{once:l}}},0,0,1,1).setOrigin(0,0),f=r(function(v,d){d===void 0&&(d={});var p=d.hasOwnProperty("width"),g=d.hasOwnProperty("height"),m=c(d,"width",-1),x=c(d,"height",-1),E=c(d,"cellWidth",1),A=c(d,"cellHeight",E),R=c(d,"position",T.TOP_LEFT),P=c(d,"x",0),O=c(d,"y",0),L=0,w=0,M=m*E,b=x*A;h.setPosition(P,O),h.setSize(E,A);for(var D=0;D<v.length;D++)if(o(v[D],h,R),p&&m===-1)h.x+=E;else if(g&&x===-1)h.y+=A;else if(g&&!p){if(w+=A,h.y+=A,w===b&&(w=0,L+=E,h.y=O,h.x+=E,L===M))break}else if(L+=E,h.x+=E,L===M&&(L=0,w+=A,h.x=P,h.y+=A,w===b))break;return v},"GridAlign");n.exports=f},41721:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),T=r(function(c,l,u,h,f){return o(c,"alpha",l,u,h,f)},"IncAlpha");n.exports=T},67285:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),T=r(function(c,l,u,h,f){return o(c,"x",l,u,h,f)},"IncX");n.exports=T},9074:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),T=r(function(c,l,u,h,f,v,d){return u==null&&(u=l),o(c,"x",l,h,v,d),o(c,"y",u,f,v,d)},"IncXY");n.exports=T},75222:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),T=r(function(c,l,u,h,f){return o(c,"y",l,u,h,f)},"IncY");n.exports=T},22983:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){T===void 0&&(T=0),c===void 0&&(c=6.28);for(var l=T,u=(c-T)/s.length,h=o.x,f=o.y,v=o.radius,d=0;d<s.length;d++)s[d].x=h+v*Math.cos(l),s[d].y=f+v*Math.sin(l),l+=u;return s},"PlaceOnCircle");n.exports=C},95253:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){T===void 0&&(T=0),c===void 0&&(c=6.28);for(var l=T,u=(c-T)/s.length,h=o.width/2,f=o.height/2,v=0;v<s.length;v++)s[v].x=o.x+h*Math.cos(l),s[v].y=o.y+f*Math.sin(l),l+=u;return s},"PlaceOnEllipse");n.exports=C},88505:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15258),T=s(26708),c=r(function(l,u,h){var f;h?f=T(u,h,l.length):f=o(u,l.length);for(var v=0;v<l.length;v++){var d=l[v],p=f[v];d.x=p.x,d.y=p.y}return l},"PlaceOnLine");n.exports=c},41346:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(14649),T=s(86003),c=s(49498),l=r(function(u,h,f){f===void 0&&(f=0);var v=o(h,!1,u.length);f>0?T(v,f):f<0&&c(v,Math.abs(f));for(var d=0;d<u.length;d++)u[d].x=v[d].x,u[d].y=v[d].y;return u},"PlaceOnRectangle");n.exports=l},11575:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84993),T=r(function(c,l,u){var h=o({x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},u),f=o({x1:l.x2,y1:l.y2,x2:l.x3,y2:l.y3},u),v=o({x1:l.x3,y1:l.y3,x2:l.x1,y2:l.y1},u);h.pop(),f.pop(),v.pop(),h=h.concat(f,v);for(var d=h.length/c.length,p=0,g=0;g<c.length;g++){var m=c[g],x=h[Math.floor(p)];m.x=x.x,m.y=x.y,p+=d}return c},"PlaceOnTriangle");n.exports=T},29953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){for(var c=0;c<s.length;c++){var l=s[c];l.anims&&l.anims.play(o,T)}return s},"PlayAnimation");n.exports=C},66979:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l,u){c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=1);var h,f=0,v=s.length;if(u===1)for(h=l;h<v;h++)s[h][o]+=T+f*c,f++;else for(h=l;h>=0;h--)s[h][o]+=T+f*c,f++;return s},"PropertyValueInc");n.exports=C},43967:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l,u){c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=1);var h,f=0,v=s.length;if(u===1)for(h=l;h<v;h++)s[h][o]=T+f*c,f++;else for(h=l;h>=0;h--)s[h][o]=T+f*c,f++;return s},"PropertyValueSet");n.exports=C},88926:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28176),T=r(function(c,l){for(var u=0;u<c.length;u++)o(l,c[u]);return c},"RandomCircle");n.exports=T},33286:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(24820),T=r(function(c,l){for(var u=0;u<c.length;u++)o(l,c[u]);return c},"RandomEllipse");n.exports=T},96e3:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65822),T=r(function(c,l){for(var u=0;u<c.length;u++)o(l,c[u]);return c},"RandomLine");n.exports=T},28789:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26597),T=r(function(c,l){for(var u=0;u<c.length;u++)o(l,c[u]);return c},"RandomRectangle");n.exports=T},97154:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(90260),T=r(function(c,l){for(var u=0;u<c.length;u++)o(l,c[u]);return c},"RandomTriangle");n.exports=T},20510:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),T=r(function(c,l,u,h,f){return o(c,"rotation",l,u,h,f)},"Rotate");n.exports=T},91051:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(1163),T=s(20339),c=r(function(l,u,h){for(var f=u.x,v=u.y,d=0;d<l.length;d++){var p=l[d];o(p,f,v,h,Math.max(1,T(p.x,p.y,f,v)))}return l},"RotateAround");n.exports=c},76332:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(1163),T=r(function(c,l,u,h){var f=l.x,v=l.y;if(h===0)return c;for(var d=0;d<c.length;d++)o(c[d],f,v,u,h);return c},"RotateAroundDistance");n.exports=T},61619:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),T=r(function(c,l,u,h,f){return o(c,"scaleX",l,u,h,f)},"ScaleX");n.exports=T},94868:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),T=r(function(c,l,u,h,f,v,d){return u==null&&(u=l),o(c,"scaleX",l,h,v,d),o(c,"scaleY",u,f,v,d)},"ScaleXY");n.exports=T},95532:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),T=r(function(c,l,u,h,f){return o(c,"scaleY",l,u,h,f)},"ScaleY");n.exports=T},8689:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f){return o(c,"alpha",l,u,h,f)},"SetAlpha");n.exports=T},2645:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h){return o(c,"blendMode",l,0,u,h)},"SetBlendMode");n.exports=T},32372:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f){return o(c,"depth",l,u,h,f)},"SetDepth");n.exports=T},85373:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){for(var c=0;c<s.length;c++)s[c].setInteractive(o,T);return s},"SetHitArea");n.exports=C},81583:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f,v,d){return u==null&&(u=l),o(c,"originX",l,h,v,d),o(c,"originY",u,f,v,d),c.forEach(function(p){p.updateDisplayOrigin()}),c},"SetOrigin");n.exports=T},79939:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f){return o(c,"rotation",l,u,h,f)},"SetRotation");n.exports=T},2699:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f,v,d){return u==null&&(u=l),o(c,"scaleX",l,h,v,d),o(c,"scaleY",u,f,v,d)},"SetScale");n.exports=T},98739:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f){return o(c,"scaleX",l,u,h,f)},"SetScaleX");n.exports=T},98476:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f){return o(c,"scaleY",l,u,h,f)},"SetScaleY");n.exports=T},6207:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f,v,d){return u==null&&(u=l),o(c,"scrollFactorX",l,h,v,d),o(c,"scrollFactorY",u,f,v,d)},"SetScrollFactor");n.exports=T},6607:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f){return o(c,"scrollFactorX",l,u,h,f)},"SetScrollFactorX");n.exports=T},72248:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f){return o(c,"scrollFactorY",l,u,h,f)},"SetScrollFactorY");n.exports=T},14036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l){for(var u=0;u<s.length;u++)s[u].setTint(o,T,c,l);return s},"SetTint");n.exports=C},50159:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h){return o(c,"visible",l,0,u,h)},"SetVisible");n.exports=T},77597:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f){return o(c,"x",l,u,h,f)},"SetX");n.exports=T},83194:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f,v,d){return u==null&&(u=l),o(c,"x",l,h,v,d),o(c,"y",u,f,v,d)},"SetXY");n.exports=T},67678:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),T=r(function(c,l,u,h,f){return o(c,"y",l,u,h,f)},"SetY");n.exports=T},35850:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=r(function(c,l,u,h,f){h===void 0&&(h=0),f===void 0&&(f=new o);var v,d,p=c.length;if(p===1)v=c[0].x,d=c[0].y,c[0].x=l,c[0].y=u;else{var g=1,m=0;h===0&&(m=p-1,g=p-2),v=c[m].x,d=c[m].y,c[m].x=l,c[m].y=u;for(var x=0;x<p;x++)if(!(g>=p||g===-1)){var E=c[g],A=E.x,R=E.y;E.x=v,E.y=d,v=A,d=R,h===0?g--:g++}}return f.x=v,f.y=d,f},"ShiftPosition");n.exports=T},8628:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33680),T=r(function(c){return o(c)},"Shuffle");n.exports=T},21837:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7602),T=r(function(c,l,u,h,f){f===void 0&&(f=!1);var v=Math.abs(h-u)/c.length,d;if(f)for(d=0;d<c.length;d++)c[d][l]+=o(d*v,u,h);else for(d=0;d<c.length;d++)c[d][l]=o(d*v,u,h);return c},"SmoothStep");n.exports=T},21910:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54261),T=r(function(c,l,u,h,f){f===void 0&&(f=!1);var v=Math.abs(h-u)/c.length,d;if(f)for(d=0;d<c.length;d++)c[d][l]+=o(d*v,u,h);else for(d=0;d<c.length;d++)c[d][l]=o(d*v,u,h);return c},"SmootherStep");n.exports=T},62054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l){if(l===void 0&&(l=!1),s.length===0)return s;if(s.length===1)return l?s[0][o]+=(c+T)/2:s[0][o]=(c+T)/2,s;var u=Math.abs(c-T)/(s.length-1),h;if(l)for(h=0;h<s.length;h++)s[h][o]+=h*u+T;else for(h=0;h<s.length;h++)s[h][o]=h*u+T;return s},"Spread");n.exports=C},79815:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){for(var o=0;o<s.length;o++)s[o].visible=!s[o].visible;return s},"ToggleVisible");n.exports=C},39665:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15994),T=r(function(c,l,u){u===void 0&&(u=0);for(var h=0;h<c.length;h++){var f=c[h];f.x=o(f.x,l.left-u,l.right+u),f.y=o(f.y,l.top-u,l.bottom+u)}return c},"WrapInRectangle");n.exports=T},61061:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AlignTo:s(11517),Angle:s(80318),Call:s(60757),GetFirst:s(69927),GetLast:s(32265),GridAlign:s(94420),IncAlpha:s(41721),IncX:s(67285),IncXY:s(9074),IncY:s(75222),PlaceOnCircle:s(22983),PlaceOnEllipse:s(95253),PlaceOnLine:s(88505),PlaceOnRectangle:s(41346),PlaceOnTriangle:s(11575),PlayAnimation:s(29953),PropertyValueInc:s(66979),PropertyValueSet:s(43967),RandomCircle:s(88926),RandomEllipse:s(33286),RandomLine:s(96e3),RandomRectangle:s(28789),RandomTriangle:s(97154),Rotate:s(20510),RotateAround:s(91051),RotateAroundDistance:s(76332),ScaleX:s(61619),ScaleXY:s(94868),ScaleY:s(95532),SetAlpha:s(8689),SetBlendMode:s(2645),SetDepth:s(32372),SetHitArea:s(85373),SetOrigin:s(81583),SetRotation:s(79939),SetScale:s(2699),SetScaleX:s(98739),SetScaleY:s(98476),SetScrollFactor:s(6207),SetScrollFactorX:s(6607),SetScrollFactorY:s(72248),SetTint:s(14036),SetVisible:s(50159),SetX:s(77597),SetXY:s(83194),SetY:s(67678),ShiftPosition:s(35850),Shuffle:s(8628),SmootherStep:s(21910),SmoothStep:s(21837),Spread:s(62054),ToggleVisible:s(79815),WrapInRectangle:s(39665)}},42099:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=s(83419),c=s(74943),l=s(81957),u=s(41138),h=s(35154),f=s(90126),v=new T({initialize:r(function(p,g,m){this.manager=p,this.key=g,this.type="frame",this.frames=this.getFrames(p.textureManager,h(m,"frames",[]),h(m,"defaultTextureKey",null),h(m,"sortFrames",!0)),this.frameRate=h(m,"frameRate",null),this.duration=h(m,"duration",null),this.msPerFrame,this.skipMissedFrames=h(m,"skipMissedFrames",!0),this.delay=h(m,"delay",0),this.repeat=h(m,"repeat",0),this.repeatDelay=h(m,"repeatDelay",0),this.yoyo=h(m,"yoyo",!1),this.showBeforeDelay=h(m,"showBeforeDelay",!1),this.showOnStart=h(m,"showOnStart",!1),this.hideOnComplete=h(m,"hideOnComplete",!1),this.randomFrame=h(m,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(c.PAUSE_ALL,this.pause,this),this.manager.on(c.RESUME_ALL,this.resume,this))},"Animation"),getTotalFrames:r(function(){return this.frames.length},"getTotalFrames"),calculateDuration:r(function(d,p,g,m){g===null&&m===null?(d.frameRate=24,d.duration=24/p*1e3):g&&m===null?(d.duration=g,d.frameRate=p/(g/1e3)):(d.frameRate=m,d.duration=p/m*1e3),d.msPerFrame=1e3/d.frameRate},"calculateDuration"),addFrame:r(function(d){return this.addFrameAt(this.frames.length,d)},"addFrame"),addFrameAt:r(function(d,p){var g=this.getFrames(this.manager.textureManager,p);if(g.length>0){if(d===0)this.frames=g.concat(this.frames);else if(d===this.frames.length)this.frames=this.frames.concat(g);else{var m=this.frames.slice(0,d),x=this.frames.slice(d);this.frames=m.concat(g,x)}this.updateFrameSequence()}return this},"addFrameAt"),checkFrame:r(function(d){return d>=0&&d<this.frames.length},"checkFrame"),getFirstTick:r(function(d){d.accumulator=0,d.nextTick=d.frameRate===d.currentAnim.frameRate&&d.currentFrame.duration||d.msPerFrame},"getFirstTick"),getFrameAt:r(function(d){return this.frames[d]},"getFrameAt"),getFrames:r(function(d,p,g,m){m===void 0&&(m=!0);var x=[],E,A,R=1,P,O;if(typeof p=="string"){if(O=p,!d.exists(O))return console.warn('Texture "%s" not found',O),x;var L=d.get(O),w=L.getFrameNames();m&&f(w),p=[],w.forEach(function(B){p.push({key:O,frame:B})})}if(!Array.isArray(p)||p.length===0)return x;for(P=0;P<p.length;P++){var M=p[P],b=h(M,"key",g);if(b){var D=h(M,"frame",0),F=d.getFrame(b,D);if(!F){console.warn('Texture "%s" not found',b);continue}A=new u(b,D,R,F),A.duration=h(M,"duration",0),A.isFirst=!E,E&&(E.nextFrame=A,A.prevFrame=E),x.push(A),E=A,R++}}if(x.length>0){A.isLast=!0,A.nextFrame=x[0],x[0].prevFrame=A;var N=1/(x.length-1);for(P=0;P<x.length;P++)x[P].progress=P*N}return x},"getFrames"),getNextTick:r(function(d){d.accumulator-=d.nextTick,d.nextTick=d.frameRate===d.currentAnim.frameRate&&d.currentFrame.duration||d.msPerFrame},"getNextTick"),getFrameByProgress:r(function(d){return d=o(d,0,1),l(d,this.frames,"progress")},"getFrameByProgress"),nextFrame:r(function(d){var p=d.currentFrame;p.isLast?d.yoyo?this.handleYoyoFrame(d,!1):d.repeatCounter>0?d.inReverse&&d.forward?d.forward=!1:this.repeatAnimation(d):d.complete():this.updateAndGetNextTick(d,p.nextFrame)},"nextFrame"),handleYoyoFrame:r(function(d,p){if(p||(p=!1),d.inReverse===!p&&d.repeatCounter>0){(d.repeatDelay===0||d.pendingRepeat)&&(d.forward=p),this.repeatAnimation(d);return}if(d.inReverse!==p&&d.repeatCounter===0){d.complete();return}d.forward=p;var g=p?d.currentFrame.nextFrame:d.currentFrame.prevFrame;this.updateAndGetNextTick(d,g)},"handleYoyoFrame"),getLastFrame:r(function(){return this.frames[this.frames.length-1]},"getLastFrame"),previousFrame:r(function(d){var p=d.currentFrame;p.isFirst?d.yoyo?this.handleYoyoFrame(d,!0):d.repeatCounter>0?d.inReverse&&!d.forward?this.repeatAnimation(d):(d.forward=!0,this.repeatAnimation(d)):d.complete():this.updateAndGetNextTick(d,p.prevFrame)},"previousFrame"),updateAndGetNextTick:r(function(d,p){d.setCurrentFrame(p),this.getNextTick(d)},"updateAndGetNextTick"),removeFrame:r(function(d){var p=this.frames.indexOf(d);return p!==-1&&this.removeFrameAt(p),this},"removeFrame"),removeFrameAt:r(function(d){return this.frames.splice(d,1),this.updateFrameSequence(),this},"removeFrameAt"),repeatAnimation:r(function(d){if(d._pendingStop===2){if(d._pendingStopValue===0)return d.stop();d._pendingStopValue--}d.repeatDelay>0&&!d.pendingRepeat?(d.pendingRepeat=!0,d.accumulator-=d.nextTick,d.nextTick+=d.repeatDelay):(d.repeatCounter--,d.forward?d.setCurrentFrame(d.currentFrame.nextFrame):d.setCurrentFrame(d.currentFrame.prevFrame),d.isPlaying&&(this.getNextTick(d),d.handleRepeat()))},"repeatAnimation"),toJSON:r(function(){var d={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(p){d.frames.push(p.toJSON())}),d},"toJSON"),updateFrameSequence:r(function(){for(var d=this.frames.length,p=1/(d-1),g,m=0;m<d;m++)g=this.frames[m],g.index=m+1,g.isFirst=!1,g.isLast=!1,g.progress=m*p,m===0?(g.isFirst=!0,d===1?(g.isLast=!0,g.nextFrame=g,g.prevFrame=g):(g.isLast=!1,g.prevFrame=this.frames[d-1],g.nextFrame=this.frames[m+1])):m===d-1&&d>1?(g.isLast=!0,g.prevFrame=this.frames[d-2],g.nextFrame=this.frames[0]):d>1&&(g.prevFrame=this.frames[m-1],g.nextFrame=this.frames[m+1]);return this},"updateFrameSequence"),pause:r(function(){return this.paused=!0,this},"pause"),resume:r(function(){return this.paused=!1,this},"resume"),destroy:r(function(){this.manager.off&&(this.manager.off(c.PAUSE_ALL,this.pause,this),this.manager.off(c.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var d=0;d<this.frames.length;d++)this.frames[d].destroy();this.frames=[],this.manager=null},"destroy")});n.exports=v},41138:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h,f,v){v===void 0&&(v=!1),this.textureKey=l,this.textureFrame=u,this.index=h,this.frame=f,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=v},"AnimationFrame"),toJSON:r(function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},"toJSON"),destroy:r(function(){this.frame=void 0},"destroy")});n.exports=T},60848:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42099),T=s(83419),c=s(90330),l=s(50792),u=s(74943),h=s(8443),f=s(95540),v=s(35154),d=s(36383),p=s(20283),g=s(41836),m=new T({Extends:l,initialize:r(function(E){l.call(this),this.game=E,this.textureManager=null,this.globalTimeScale=1,this.anims=new c,this.mixes=new c,this.paused=!1,this.name="AnimationManager",E.events.once(h.BOOT,this.boot,this)},"AnimationManager"),boot:r(function(){this.textureManager=this.game.textures,this.game.events.once(h.DESTROY,this.destroy,this)},"boot"),addMix:r(function(x,E,A){var R=this.anims,P=this.mixes,O=typeof x=="string"?x:x.key,L=typeof E=="string"?E:E.key;if(R.has(O)&&R.has(L)){var w=P.get(O);w||(w={}),w[L]=A,P.set(O,w)}return this},"addMix"),removeMix:r(function(x,E){var A=this.mixes,R=typeof x=="string"?x:x.key,P=A.get(R);if(P)if(E){var O=typeof E=="string"?E:E.key;P.hasOwnProperty(O)&&delete P[O]}else E||A.delete(R);return this},"removeMix"),getMix:r(function(x,E){var A=this.mixes,R=typeof x=="string"?x:x.key,P=typeof E=="string"?E:E.key,O=A.get(R);return O&&O.hasOwnProperty(P)?O[P]:0},"getMix"),add:r(function(x,E){return this.anims.has(x)?(console.warn("Animation key exists: "+x),this):(E.key=x,this.anims.set(x,E),this.emit(u.ADD_ANIMATION,x,E),this)},"add"),exists:r(function(x){return this.anims.has(x)},"exists"),createFromAseprite:r(function(x,E,A){var R=[],P=this.game.cache.json.get(x);if(!P)return console.warn("No Aseprite data found for: "+x),R;var O=this,L=v(P,"meta",null),w=v(P,"frames",null);if(L&&w){var M=v(L,"frameTags",[]);M.forEach(function(b){var D=[],F=f(b,"name",null),N=f(b,"from",0),B=f(b,"to",0),Y=f(b,"direction","forward");if(F&&(!E||E&&E.indexOf(F)>-1)){for(var W=0,z=N;z<=B;z++){var X=z.toString(),H=w[X];if(H){var V=f(H,"duration",d.MAX_SAFE_INTEGER);D.push({key:x,frame:X,duration:V}),W+=V}}Y==="reverse"&&(D=D.reverse());var G={key:F,frames:D,duration:W,yoyo:Y==="pingpong"},k;A?A.anims&&(k=A.anims.create(G)):k=O.create(G),k&&R.push(k)}})}return R},"createFromAseprite"),create:r(function(x){var E=x.key,A=!1;return E&&(A=this.get(E),A?console.warn("AnimationManager key already exists: "+E):(A=new o(this,E,x),this.anims.set(E,A),this.emit(u.ADD_ANIMATION,E,A))),A},"create"),fromJSON:r(function(x,E){E===void 0&&(E=!1),E&&this.anims.clear(),typeof x=="string"&&(x=JSON.parse(x));var A=[];if(x.hasOwnProperty("anims")&&Array.isArray(x.anims)){for(var R=0;R<x.anims.length;R++)A.push(this.create(x.anims[R]));x.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=x.globalTimeScale)}else x.hasOwnProperty("key")&&x.type==="frame"&&A.push(this.create(x));return A},"fromJSON"),generateFrameNames:r(function(x,E){var A=v(E,"prefix",""),R=v(E,"start",0),P=v(E,"end",0),O=v(E,"suffix",""),L=v(E,"zeroPad",0),w=v(E,"outputArray",[]),M=v(E,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),w;var b=this.textureManager.get(x);if(!b)return w;var D;if(E)for(M||(M=p(R,P)),D=0;D<M.length;D++){var F=A+g(M[D],L,"0",1)+O;b.has(F)?w.push({key:x,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,x)}else for(M=b.getFrameNames(),D=0;D<M.length;D++)w.push({key:x,frame:M[D]});return w},"generateFrameNames"),generateFrameNumbers:r(function(x,E){var A=v(E,"start",0),R=v(E,"end",-1),P=v(E,"first",!1),O=v(E,"outputArray",[]),L=v(E,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),O;var w=this.textureManager.get(x);if(!w)return O;P&&w.has(P)&&O.push({key:x,frame:P}),L||(R===-1&&(R=w.frameTotal-2),L=p(A,R));for(var M=0;M<L.length;M++){var b=L[M];w.has(b)?O.push({key:x,frame:b}):console.warn('Frame "%s" not found in texture "%s"',b,x)}return O},"generateFrameNumbers"),get:r(function(x){return this.anims.get(x)},"get"),getAnimsFromTexture:r(function(x){for(var E=this.textureManager.get(x),A=E.key,R=this.anims.getArray(),P=[],O=0;O<R.length;O++)for(var L=R[O],w=L.frames,M=0;M<w.length;M++)if(w[M].textureKey===A){P.push(L.key);break}return P},"getAnimsFromTexture"),pauseAll:r(function(){return this.paused||(this.paused=!0,this.emit(u.PAUSE_ALL)),this},"pauseAll"),play:r(function(x,E){Array.isArray(E)||(E=[E]);for(var A=0;A<E.length;A++)E[A].anims.play(x);return this},"play"),staggerPlay:r(function(x,E,A,R){A===void 0&&(A=0),R===void 0&&(R=!0),Array.isArray(E)||(E=[E]);var P=E.length;R||P--;for(var O=0;O<E.length;O++){var L=A<0?Math.abs(A)*(P-O):A*O;E[O].anims.playAfterDelay(x,L)}return this},"staggerPlay"),remove:r(function(x){var E=this.get(x);return E&&(this.emit(u.REMOVE_ANIMATION,x,E),this.anims.delete(x),this.removeMix(x)),E},"remove"),resumeAll:r(function(){return this.paused&&(this.paused=!1,this.emit(u.RESUME_ALL)),this},"resumeAll"),toJSON:r(function(x){var E={anims:[],globalTimeScale:this.globalTimeScale};return x!==void 0&&x!==""?E.anims.push(this.anims.get(x).toJSON()):this.anims.each(function(A,R){E.anims.push(R.toJSON())}),E},"toJSON"),destroy:r(function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null},"destroy")});n.exports=m},9674:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42099),T=s(30976),c=s(83419),l=s(90330),u=s(74943),h=s(95540),f=new c({initialize:r(function(d){this.parent=d,this.animationManager=d.scene.sys.anims,this.animationManager.on(u.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},"AnimationState"),chain:r(function(v){var d=this.parent;if(v===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,d;Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++){var g=v[p];this.nextAnim?this.nextAnimsQueue.push(g):this.nextAnim=g}return this.parent},"chain"),getName:r(function(){return this.currentAnim?this.currentAnim.key:""},"getName"),getFrameName:r(function(){return this.currentFrame?this.currentFrame.textureFrame:""},"getFrameName"),load:r(function(v){this.isPlaying&&this.stop();var d=this.animationManager,p=typeof v=="string"?v:h(v,"key",null),g=this.exists(p)?this.get(p):d.get(p);if(!g)console.warn("Missing animation: "+p);else{this.currentAnim=g;var m=g.getTotalFrames(),x=h(v,"frameRate",g.frameRate),E=h(v,"duration",g.duration);g.calculateDuration(this,m,E,x),this.delay=h(v,"delay",g.delay),this.repeat=h(v,"repeat",g.repeat),this.repeatDelay=h(v,"repeatDelay",g.repeatDelay),this.yoyo=h(v,"yoyo",g.yoyo),this.showBeforeDelay=h(v,"showBeforeDelay",g.showBeforeDelay),this.showOnStart=h(v,"showOnStart",g.showOnStart),this.hideOnComplete=h(v,"hideOnComplete",g.hideOnComplete),this.skipMissedFrames=h(v,"skipMissedFrames",g.skipMissedFrames),this.randomFrame=h(v,"randomFrame",g.randomFrame),this.timeScale=h(v,"timeScale",this.timeScale);var A=h(v,"startFrame",0);A>m&&(A=0),this.randomFrame&&(A=T(0,m-1));var R=g.frames[A];A===0&&!this.forward&&(R=g.getLastFrame()),this.currentFrame=R}return this.parent},"load"),pause:r(function(v){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),v!==void 0&&this.setCurrentFrame(v),this.parent},"pause"),resume:r(function(v){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),v!==void 0&&this.setCurrentFrame(v),this.parent},"resume"),playAfterDelay:r(function(v,d){if(!this.isPlaying)this.delayCounter=d,this.play(v,!0);else{var p=this.nextAnim,g=this.nextAnimsQueue;p&&g.unshift(p),this.nextAnim=v,this._pendingStop=1,this._pendingStopValue=d}return this.parent},"playAfterDelay"),playAfterRepeat:r(function(v,d){if(d===void 0&&(d=1),!this.isPlaying)this.play(v);else{var p=this.nextAnim,g=this.nextAnimsQueue;p&&g.unshift(p),this.repeatCounter!==-1&&d>this.repeatCounter&&(d=this.repeatCounter),this.nextAnim=v,this._pendingStop=2,this._pendingStopValue=d}return this.parent},"playAfterRepeat"),play:r(function(v,d){d===void 0&&(d=!1);var p=this.currentAnim,g=this.parent,m=typeof v=="string"?v:v.key;if(d&&this.isPlaying&&p.key===m)return g;if(p&&this.isPlaying){var x=this.animationManager.getMix(p.key,v);if(x>0)return this.playAfterDelay(v,x)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v)},"play"),playReverse:r(function(v,d){d===void 0&&(d=!1);var p=typeof v=="string"?v:v.key;return d&&this.isPlaying&&this.currentAnim.key===p?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v))},"playReverse"),startAnimation:r(function(v){this.load(v);var d=this.currentAnim,p=this.parent;return d&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,d.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),p},"startAnimation"),handleStart:r(function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(u.ANIMATION_START)},"handleStart"),handleRepeat:r(function(){this.pendingRepeat=!1,this.emitEvents(u.ANIMATION_REPEAT)},"handleRepeat"),handleStop:r(function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(u.ANIMATION_STOP)},"handleStop"),handleComplete:r(function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(u.ANIMATION_COMPLETE,u.ANIMATION_COMPLETE_KEY)},"handleComplete"),emitEvents:r(function(v,d){var p=this.currentAnim;if(p){var g=this.currentFrame,m=this.parent,x=g.textureFrame;m.emit(v,p,g,m,x),d&&m.emit(d+p.key,p,g,m,x)}},"emitEvents"),reverse:r(function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},"reverse"),getProgress:r(function(){var v=this.currentFrame;if(!v)return 0;var d=v.progress;return this.inReverse&&(d*=-1),d},"getProgress"),setProgress:r(function(v){return this.forward||(v=1-v),this.setCurrentFrame(this.currentAnim.getFrameByProgress(v)),this.parent},"setProgress"),setRepeat:r(function(v){return this.repeatCounter=v===-1?Number.MAX_VALUE:v,this.parent},"setRepeat"),globalRemove:r(function(v,d){d===void 0&&(d=this.currentAnim),this.isPlaying&&d.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},"globalRemove"),restart:r(function(v,d){v===void 0&&(v=!1),d===void 0&&(d=!1);var p=this.currentAnim,g=this.parent;return p?(d&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),p.getFirstTick(this),this.emitEvents(u.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!v,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(p.frames[0]),this.parent):g},"restart"),complete:r(function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(v)}return this.parent},"complete"),stop:r(function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(v)}return this.parent},"stop"),stopAfterDelay:r(function(v){return this._pendingStop=1,this._pendingStopValue=v,this.parent},"stopAfterDelay"),stopAfterRepeat:r(function(v){return v===void 0&&(v=1),this.repeatCounter!==-1&&v>this.repeatCounter&&(v=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=v,this.parent},"stopAfterRepeat"),stopOnFrame:r(function(v){return this._pendingStop=3,this._pendingStopValue=v,this.parent},"stopOnFrame"),getTotalFrames:r(function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},"getTotalFrames"),update:r(function(v,d){var p=this.currentAnim;if(!(!this.isPlaying||!p||p.paused)){if(this.accumulator+=d*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=d,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?p.nextFrame(this):p.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var g=0;do this.forward?p.nextFrame(this):p.previousFrame(this),g++;while(this.isPlaying&&this.accumulator>this.nextTick&&g<60)}}},"update"),setCurrentFrame:r(function(v){var d=this.parent;return this.currentFrame=v,d.texture=v.frame.texture,d.frame=v.frame,d.isCropped&&d.frame.updateCropUVs(d._crop,d.flipX,d.flipY),v.setAlpha&&(d.alpha=v.alpha),d.setSizeToFrame(),d._originComponent&&(v.frame.customPivot?d.setOrigin(v.frame.pivotX,v.frame.pivotY):d.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(u.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===v&&this.stop()),d},"setCurrentFrame"),nextFrame:r(function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},"nextFrame"),previousFrame:r(function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},"previousFrame"),get:r(function(v){return this.anims?this.anims.get(v):null},"get"),exists:r(function(v){return this.anims?this.anims.has(v):!1},"exists"),create:r(function(v){var d=v.key,p=!1;return d&&(p=this.get(d),p?console.warn("Animation key already exists: "+d):(p=new o(this,d,v),this.anims||(this.anims=new l),this.anims.set(d,p))),p},"create"),createFromAseprite:r(function(v,d){return this.animationManager.createFromAseprite(v,d,this.parent)},"createFromAseprite"),generateFrameNames:r(function(v,d){return this.animationManager.generateFrameNames(v,d)},"generateFrameNames"),generateFrameNumbers:r(function(v,d){return this.animationManager.generateFrameNumbers(v,d)},"generateFrameNumbers"),remove:r(function(v){var d=this.get(v);return d&&(this.currentAnim===d&&this.stop(),this.anims.delete(v)),d},"remove"),destroy:r(function(){this.animationManager.off(u.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},"destroy"),isPaused:{get:r(function(){return this._paused},"get")}});n.exports=f},57090:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},25312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete"},89580:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete-"},52860:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrepeat"},63850:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrestart"},99085:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstart"},28087:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstop"},1794:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationupdate"},52562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},57953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},68339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},74943:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD_ANIMATION:s(57090),ANIMATION_COMPLETE:s(25312),ANIMATION_COMPLETE_KEY:s(89580),ANIMATION_REPEAT:s(52860),ANIMATION_RESTART:s(63850),ANIMATION_START:s(99085),ANIMATION_STOP:s(28087),ANIMATION_UPDATE:s(1794),PAUSE_ALL:s(52562),REMOVE_ANIMATION:s(57953),RESUME_ALL:s(68339)}},60421:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Animation:s(42099),AnimationFrame:s(41138),AnimationManager:s(60848),AnimationState:s(9674),Events:s(74943)}},2161:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(90330),c=s(50792),l=s(24736),u=new o({initialize:r(function(){this.entries=new T,this.events=new c},"BaseCache"),add:r(function(h,f){return this.entries.set(h,f),this.events.emit(l.ADD,this,h,f),this},"add"),has:r(function(h){return this.entries.has(h)},"has"),exists:r(function(h){return this.entries.has(h)},"exists"),get:r(function(h){return this.entries.get(h)},"get"),remove:r(function(h){var f=this.get(h);return f&&(this.entries.delete(h),this.events.emit(l.REMOVE,this,h,f.data)),this},"remove"),getKeys:r(function(){return this.entries.keys()},"getKeys"),destroy:r(function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null},"destroy")});n.exports=u},24047:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2161),T=s(83419),c=s(8443),l=new T({initialize:r(function(h){this.game=h,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(c.DESTROY,this.destroy,this)},"CacheManager"),addCustom:r(function(u){return this.custom.hasOwnProperty(u)||(this.custom[u]=new o),this.custom[u]},"addCustom"),destroy:r(function(){for(var u=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],h=0;h<u.length;h++)this[u[h]].destroy(),this[u[h]]=null;for(var f in this.custom)this.custom[f].destroy();this.custom=null,this.game=null},"destroy")});n.exports=l},51464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},59261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},24736:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:s(51464),REMOVE:s(59261)}},83388:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BaseCache:s(2161),CacheManager:s(24047),Events:s(24736)}},71911:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(39506),l=s(50792),u=s(19715),h=s(87841),f=s(61340),v=s(80333),d=s(26099),p=new o({Extends:l,Mixins:[T.AlphaSingle,T.Visible],initialize:r(function(m,x,E,A){m===void 0&&(m=0),x===void 0&&(x=0),E===void 0&&(E=0),A===void 0&&(A=0),l.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new h,this.dirty=!0,this._x=m,this._y=x,this._width=E,this._height=A,this._bounds=new h,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new f,this.transparent=!0,this.backgroundColor=v("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new d(E/2,A/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},"BaseCamera"),addToRenderList:r(function(g){this.renderList.push(g)},"addToRenderList"),setOrigin:r(function(g,m){return g===void 0&&(g=.5),m===void 0&&(m=g),this.originX=g,this.originY=m,this},"setOrigin"),getScroll:r(function(g,m,x){x===void 0&&(x=new d);var E=this.width*.5,A=this.height*.5;return x.x=g-E,x.y=m-A,this.useBounds&&(x.x=this.clampX(x.x),x.y=this.clampY(x.y)),x},"getScroll"),centerOnX:r(function(g){var m=this.width*.5;return this.midPoint.x=g,this.scrollX=g-m,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},"centerOnX"),centerOnY:r(function(g){var m=this.height*.5;return this.midPoint.y=g,this.scrollY=g-m,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},"centerOnY"),centerOn:r(function(g,m){return this.centerOnX(g),this.centerOnY(m),this},"centerOn"),centerToBounds:r(function(){if(this.useBounds){var g=this._bounds,m=this.width*.5,x=this.height*.5;this.midPoint.set(g.centerX,g.centerY),this.scrollX=g.centerX-m,this.scrollY=g.centerY-x}return this},"centerToBounds"),centerToSize:r(function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},"centerToSize"),cull:r(function(g){if(this.disableCull)return g;var m=this.matrix.matrix,x=m[0],E=m[1],A=m[2],R=m[3],P=x*R-E*A;if(!P)return g;var O=m[4],L=m[5],w=this.scrollX,M=this.scrollY,b=this.width,D=this.height,F=this.y,N=F+D,B=this.x,Y=B+b,W=this.culledObjects,z=g.length;P=1/P,W.length=0;for(var X=0;X<z;++X){var H=g[X];if(!H.hasOwnProperty("width")||H.parentContainer){W.push(H);continue}var V=H.width,G=H.height,k=H.x-w*H.scrollFactorX-V*H.originX,U=H.y-M*H.scrollFactorY-G*H.originY,I=k*x+U*A+O,$=k*E+U*R+L,K=(k+V)*x+(U+G)*A+O,Z=(k+V)*E+(U+G)*R+L;K>B&&I<Y&&Z>F&&$<N&&W.push(H)}return W},"cull"),getWorldPoint:r(function(g,m,x){x===void 0&&(x=new d);var E=this.matrix.matrix,A=E[0],R=E[1],P=E[2],O=E[3],L=E[4],w=E[5],M=A*O-R*P;if(!M)return x.x=g,x.y=m,x;M=1/M;var b=O*M,D=-R*M,F=-P*M,N=A*M,B=(P*w-O*L)*M,Y=(R*L-A*w)*M,W=Math.cos(this.rotation),z=Math.sin(this.rotation),X=this.zoomX,H=this.zoomY,V=this.scrollX,G=this.scrollY,k=g+(V*W-G*z)*X,U=m+(V*z+G*W)*H;return x.x=k*b+U*F+B,x.y=k*D+U*N+Y,x},"getWorldPoint"),ignore:r(function(g){var m=this.id;Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++){var E=g[x];Array.isArray(E)?this.ignore(E):E.isParent?this.ignore(E.getChildren()):E.cameraFilter|=m}return this},"ignore"),clampX:r(function(g){var m=this._bounds,x=this.displayWidth,E=m.x+(x-this.width)/2,A=Math.max(E,E+m.width-x);return g<E?g=E:g>A&&(g=A),g},"clampX"),clampY:r(function(g){var m=this._bounds,x=this.displayHeight,E=m.y+(x-this.height)/2,A=Math.max(E,E+m.height-x);return g<E?g=E:g>A&&(g=A),g},"clampY"),removeBounds:r(function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},"removeBounds"),setAngle:r(function(g){return g===void 0&&(g=0),this.rotation=c(g),this},"setAngle"),setBackgroundColor:r(function(g){return g===void 0&&(g="rgba(0,0,0,0)"),this.backgroundColor=v(g),this.transparent=this.backgroundColor.alpha===0,this},"setBackgroundColor"),setBounds:r(function(g,m,x,E,A){return A===void 0&&(A=!1),this._bounds.setTo(g,m,x,E),this.dirty=!0,this.useBounds=!0,A?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},"setBounds"),getBounds:r(function(g){g===void 0&&(g=new h);var m=this._bounds;return g.setTo(m.x,m.y,m.width,m.height),g},"getBounds"),setName:r(function(g){return g===void 0&&(g=""),this.name=g,this},"setName"),setPosition:r(function(g,m){return m===void 0&&(m=g),this.x=g,this.y=m,this},"setPosition"),setRotation:r(function(g){return g===void 0&&(g=0),this.rotation=g,this},"setRotation"),setRoundPixels:r(function(g){return this.roundPixels=g,this},"setRoundPixels"),setScene:r(function(g,m){m===void 0&&(m=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=g,this.isSceneCamera=m;var x=g.sys;return this.sceneManager=x.game.scene,this.scaleManager=x.scale,this.cameraManager=x.cameras,this.updateSystem(),this},"setScene"),setScroll:r(function(g,m){return m===void 0&&(m=g),this.scrollX=g,this.scrollY=m,this},"setScroll"),setSize:r(function(g,m){return m===void 0&&(m=g),this.width=g,this.height=m,this},"setSize"),setViewport:r(function(g,m,x,E){return this.x=g,this.y=m,this.width=x,this.height=E,this},"setViewport"),setZoom:r(function(g,m){return g===void 0&&(g=1),m===void 0&&(m=g),g===0&&(g=.001),m===0&&(m=.001),this.zoomX=g,this.zoomY=m,this},"setZoom"),setMask:r(function(g,m){return m===void 0&&(m=!0),this.mask=g,this._maskCamera=m?this.cameraManager.default:this,this},"setMask"),clearMask:r(function(g){return g===void 0&&(g=!1),g&&this.mask&&this.mask.destroy(),this.mask=null,this},"clearMask"),toJSON:r(function(){var g={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(g.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),g},"toJSON"),update:r(function(){},"update"),setIsSceneCamera:r(function(g){return this.isSceneCamera=g,this},"setIsSceneCamera"),updateSystem:r(function(){if(!(!this.scaleManager||!this.isSceneCamera)){var g=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,m=this.sceneManager;g&&!this._customViewport?m.customViewports++:!g&&this._customViewport&&m.customViewports--,this.dirty=!0,this._customViewport=g}},"updateSystem"),destroy:r(function(){this.emit(u.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},"destroy"),x:{get:r(function(){return this._x},"get"),set:r(function(g){this._x=g,this.updateSystem()},"set")},y:{get:r(function(){return this._y},"get"),set:r(function(g){this._y=g,this.updateSystem()},"set")},width:{get:r(function(){return this._width},"get"),set:r(function(g){this._width=g,this.updateSystem()},"set")},height:{get:r(function(){return this._height},"get"),set:r(function(g){this._height=g,this.updateSystem()},"set")},scrollX:{get:r(function(){return this._scrollX},"get"),set:r(function(g){g!==this._scrollX&&(this._scrollX=g,this.dirty=!0)},"set")},scrollY:{get:r(function(){return this._scrollY},"get"),set:r(function(g){g!==this._scrollY&&(this._scrollY=g,this.dirty=!0)},"set")},zoom:{get:r(function(){return(this._zoomX+this._zoomY)/2},"get"),set:r(function(g){this._zoomX=g,this._zoomY=g,this.dirty=!0},"set")},zoomX:{get:r(function(){return this._zoomX},"get"),set:r(function(g){this._zoomX=g,this.dirty=!0},"set")},zoomY:{get:r(function(){return this._zoomY},"get"),set:r(function(g){this._zoomY=g,this.dirty=!0},"set")},rotation:{get:r(function(){return this._rotation},"get"),set:r(function(g){this._rotation=g,this.dirty=!0},"set")},centerX:{get:r(function(){return this.x+.5*this.width},"get")},centerY:{get:r(function(){return this.y+.5*this.height},"get")},displayWidth:{get:r(function(){return this.width/this.zoomX},"get")},displayHeight:{get:r(function(){return this.height/this.zoomY},"get")}});n.exports=p},38058:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71911),T=s(67502),c=s(45319),l=s(83419),u=s(31401),h=s(20052),f=s(19715),v=s(28915),d=s(87841),p=s(26099),g=new l({Extends:o,Mixins:[u.PostPipeline],initialize:r(function(x,E,A,R){o.call(this,x,E,A,R),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new h.Fade(this),this.flashEffect=new h.Flash(this),this.shakeEffect=new h.Shake(this),this.panEffect=new h.Pan(this),this.rotateToEffect=new h.RotateTo(this),this.zoomEffect=new h.Zoom(this),this.lerp=new p(1,1),this.followOffset=new p,this.deadzone=null,this._follow=null},"Camera"),setDeadzone:r(function(m,x){if(m===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=m,this.deadzone.height=x):this.deadzone=new d(0,0,m,x),this._follow){var E=this.width/2,A=this.height/2,R=this._follow.x-this.followOffset.x,P=this._follow.y-this.followOffset.y;this.midPoint.set(R,P),this.scrollX=R-E,this.scrollY=P-A}T(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},"setDeadzone"),fadeIn:r(function(m,x,E,A,R,P){return this.fadeEffect.start(!1,m,x,E,A,!0,R,P)},"fadeIn"),fadeOut:r(function(m,x,E,A,R,P){return this.fadeEffect.start(!0,m,x,E,A,!0,R,P)},"fadeOut"),fadeFrom:r(function(m,x,E,A,R,P,O){return this.fadeEffect.start(!1,m,x,E,A,R,P,O)},"fadeFrom"),fade:r(function(m,x,E,A,R,P,O){return this.fadeEffect.start(!0,m,x,E,A,R,P,O)},"fade"),flash:r(function(m,x,E,A,R,P,O){return this.flashEffect.start(m,x,E,A,R,P,O)},"flash"),shake:r(function(m,x,E,A,R){return this.shakeEffect.start(m,x,E,A,R)},"shake"),pan:r(function(m,x,E,A,R,P,O){return this.panEffect.start(m,x,E,A,R,P,O)},"pan"),rotateTo:r(function(m,x,E,A,R,P,O){return this.rotateToEffect.start(m,x,E,A,R,P,O)},"rotateTo"),zoomTo:r(function(m,x,E,A,R,P){return this.zoomEffect.start(m,x,E,A,R,P)},"zoomTo"),preRender:r(function(){this.renderList.length=0;var m=this.width,x=this.height,E=m*.5,A=x*.5,R=this.zoomX,P=this.zoomY,O=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(R)&&Number.isInteger(P);var L=m*this.originX,w=x*this.originY,M=this._follow,b=this.deadzone,D=this.scrollX,F=this.scrollY;b&&T(b,this.midPoint.x,this.midPoint.y);var N=!1;if(M&&!this.panEffect.isRunning){var B=this.lerp,Y=M.x-this.followOffset.x,W=M.y-this.followOffset.y;b?(Y<b.x?D=v(D,D-(b.x-Y),B.x):Y>b.right&&(D=v(D,D+(Y-b.right),B.x)),W<b.y?F=v(F,F-(b.y-W),B.y):W>b.bottom&&(F=v(F,F+(W-b.bottom),B.y))):(D=v(D,Y-L,B.x),F=v(F,W-w,B.y)),N=!0}this.roundPixels&&(D=Math.floor(D),F=Math.floor(F)),this.useBounds&&(D=this.clampX(D),F=this.clampY(F)),this.scrollX=D,this.scrollY=F;var z=D+E,X=F+A;this.midPoint.set(z,X);var H=Math.floor(m/R+.5),V=Math.floor(x/P+.5),G=Math.floor(z-H/2+.5),k=Math.floor(X-V/2+.5);this.worldView.setTo(G,k,H,V),O.applyITRS(Math.floor(this.x+L+.5),Math.floor(this.y+w+.5),this.rotation,R,P),O.translate(-L,-w),this.shakeEffect.preRender(),N&&this.emit(f.FOLLOW_UPDATE,this,M)},"preRender"),setLerp:r(function(m,x){return m===void 0&&(m=1),x===void 0&&(x=m),this.lerp.set(m,x),this},"setLerp"),setFollowOffset:r(function(m,x){return m===void 0&&(m=0),x===void 0&&(x=0),this.followOffset.set(m,x),this},"setFollowOffset"),startFollow:r(function(m,x,E,A,R,P){x===void 0&&(x=!1),E===void 0&&(E=1),A===void 0&&(A=E),R===void 0&&(R=0),P===void 0&&(P=R),this._follow=m,this.roundPixels=x,E=c(E,0,1),A=c(A,0,1),this.lerp.set(E,A),this.followOffset.set(R,P);var O=this.width/2,L=this.height/2,w=m.x-R,M=m.y-P;return this.midPoint.set(w,M),this.scrollX=w-O,this.scrollY=M-L,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},"startFollow"),stopFollow:r(function(){return this._follow=null,this},"stopFollow"),resetFX:r(function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},"resetFX"),update:r(function(m,x){this.visible&&(this.rotateToEffect.update(m,x),this.panEffect.update(m,x),this.zoomEffect.update(m,x),this.shakeEffect.update(m,x),this.flashEffect.update(m,x),this.fadeEffect.update(m,x))},"update"),destroy:r(function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null},"destroy")});n.exports=g},32743:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(38058),T=s(83419),c=s(95540),l=s(37277),u=s(37303),h=s(97480),f=s(44594),v=new T({initialize:r(function(p){this.scene=p,this.systems=p.sys,this.roundPixels=p.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,p.sys.events.once(f.BOOT,this.boot,this),p.sys.events.on(f.START,this.start,this)},"CameraManager"),boot:r(function(){var d=this.systems;d.settings.cameras?this.fromJSON(d.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,d.scale.width,d.scale.height).setScene(this.scene),d.game.scale.on(h.RESIZE,this.onResize,this),this.systems.events.once(f.DESTROY,this.destroy,this)},"boot"),start:r(function(){if(!this.main){var d=this.systems;d.settings.cameras?this.fromJSON(d.settings.cameras):this.add(),this.main=this.cameras[0]}var p=this.systems.events;p.on(f.UPDATE,this.update,this),p.once(f.SHUTDOWN,this.shutdown,this)},"start"),add:r(function(d,p,g,m,x,E){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),x===void 0&&(x=!1),E===void 0&&(E="");var A=new o(d,p,g,m);return A.setName(E),A.setScene(this.scene),A.setRoundPixels(this.roundPixels),A.id=this.getNextID(),this.cameras.push(A),x&&(this.main=A),A},"add"),addExisting:r(function(d,p){p===void 0&&(p=!1);var g=this.cameras.indexOf(d);return g===-1?(d.id=this.getNextID(),d.setRoundPixels(this.roundPixels),this.cameras.push(d),p&&(this.main=d),d):null},"addExisting"),getNextID:r(function(){for(var d=this.cameras,p=1,g=0;g<32;g++){for(var m=!1,x=0;x<d.length;x++){var E=d[x];if(E&&E.id===p){m=!0;continue}}if(m)p=p<<1;else return p}return 0},"getNextID"),getTotal:r(function(d){d===void 0&&(d=!1);for(var p=0,g=this.cameras,m=0;m<g.length;m++){var x=g[m];(!d||d&&x.visible)&&p++}return p},"getTotal"),fromJSON:r(function(d){Array.isArray(d)||(d=[d]);for(var p=this.scene.sys.scale.width,g=this.scene.sys.scale.height,m=0;m<d.length;m++){var x=d[m],E=c(x,"x",0),A=c(x,"y",0),R=c(x,"width",p),P=c(x,"height",g),O=this.add(E,A,R,P);O.name=c(x,"name",""),O.zoom=c(x,"zoom",1),O.rotation=c(x,"rotation",0),O.scrollX=c(x,"scrollX",0),O.scrollY=c(x,"scrollY",0),O.roundPixels=c(x,"roundPixels",!1),O.visible=c(x,"visible",!0);var L=c(x,"backgroundColor",!1);L&&O.setBackgroundColor(L);var w=c(x,"bounds",null);if(w){var M=c(w,"x",0),b=c(w,"y",0),D=c(w,"width",p),F=c(w,"height",g);O.setBounds(M,b,D,F)}}return this},"fromJSON"),getCamera:r(function(d){for(var p=this.cameras,g=0;g<p.length;g++)if(p[g].name===d)return p[g];return null},"getCamera"),getCamerasBelowPointer:r(function(d){for(var p=this.cameras,g=d.x,m=d.y,x=[],E=0;E<p.length;E++){var A=p[E];A.visible&&A.inputEnabled&&u(A,g,m)&&x.unshift(A)}return x},"getCamerasBelowPointer"),remove:r(function(d,p){p===void 0&&(p=!0),Array.isArray(d)||(d=[d]);for(var g=0,m=this.cameras,x=0;x<d.length;x++){var E=m.indexOf(d[x]);E!==-1&&(p?m[E].destroy():m[E].renderList=[],m.splice(E,1),g++)}return!this.main&&m[0]&&(this.main=m[0]),g},"remove"),render:r(function(d,p){for(var g=this.scene,m=this.cameras,x=0;x<m.length;x++){var E=m[x];if(E.visible&&E.alpha>0){E.preRender();var A=this.getVisibleChildren(p.getChildren(),E);d.render(g,A,E)}}},"render"),getVisibleChildren:r(function(d,p){return d.filter(function(g){return g.willRender(p)})},"getVisibleChildren"),resetAll:r(function(){for(var d=0;d<this.cameras.length;d++)this.cameras[d].destroy();return this.cameras=[],this.main=this.add(),this.main},"resetAll"),update:r(function(d,p){for(var g=0;g<this.cameras.length;g++)this.cameras[g].update(d,p)},"update"),onResize:r(function(d,p,g,m,x){for(var E=0;E<this.cameras.length;E++){var A=this.cameras[E];A._x===0&&A._y===0&&A._width===m&&A._height===x&&A.setSize(p.width,p.height)}},"onResize"),resize:r(function(d,p){for(var g=0;g<this.cameras.length;g++)this.cameras[g].setSize(d,p)},"resize"),shutdown:r(function(){this.main=void 0;for(var d=0;d<this.cameras.length;d++)this.cameras[d].destroy();this.cameras=[];var p=this.systems.events;p.off(f.UPDATE,this.update,this),p.off(f.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.default.destroy(),this.systems.events.off(f.START,this.start,this),this.systems.events.off(f.DESTROY,this.destroy,this),this.systems.game.scale.off(h.RESIZE,this.onResize,this),this.scene=null,this.systems=null},"destroy")});l.register("CameraManager",v,"cameras"),n.exports=v},5020:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=s(83419),c=s(19715),l=new T({initialize:r(function(h){this.camera=h,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},"Fade"),start:r(function(u,h,f,v,d,p,g,m){if(u===void 0&&(u=!0),h===void 0&&(h=1e3),f===void 0&&(f=0),v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene),!p&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=h,this.direction=u,this.progress=0,this.red=f,this.green=v,this.blue=d,this.alpha=u?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m;var x=u?c.FADE_OUT_START:c.FADE_IN_START;return this.camera.emit(x,this.camera,this,h,f,v,d),this.camera},"start"),update:r(function(u,h){this.isRunning&&(this._elapsed+=h,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},"update"),postRenderCanvas:r(function(u){if(!this.isRunning&&!this.isComplete)return!1;var h=this.camera;return u.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",u.fillRect(h.x,h.y,h.width,h.height),!0},"postRenderCanvas"),postRenderWebGL:r(function(u,h){if(!this.isRunning&&!this.isComplete)return!1;var f=this.camera,v=this.red/255,d=this.green/255,p=this.blue/255;return u.drawFillRect(f.x,f.y,f.width,f.height,h(p,d,v,1),this.alpha),!0},"postRenderWebGL"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var u=this.direction?c.FADE_OUT_COMPLETE:c.FADE_IN_COMPLETE;this.camera.emit(u,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null},"destroy")});n.exports=l},10662:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=s(83419),c=s(19715),l=new T({initialize:r(function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},"Flash"),start:r(function(u,h,f,v,d,p,g){return u===void 0&&(u=250),h===void 0&&(h=255),f===void 0&&(f=255),v===void 0&&(v=255),d===void 0&&(d=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),!d&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=u,this.progress=0,this.red=h,this.green=f,this.blue=v,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.camera.emit(c.FLASH_START,this.camera,this,u,h,f,v),this.camera)},"start"),update:r(function(u,h){this.isRunning&&(this._elapsed+=h,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},"update"),postRenderCanvas:r(function(u){if(!this.isRunning)return!1;var h=this.camera;return u.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",u.fillRect(h.x,h.y,h.width,h.height),!0},"postRenderCanvas"),postRenderWebGL:r(function(u,h){if(!this.isRunning)return!1;var f=this.camera,v=this.red/255,d=this.green/255,p=this.blue/255;return u.drawFillRect(f.x,f.y,f.width,f.height,h(p,d,v,1),this.alpha),!0},"postRenderWebGL"),effectComplete:r(function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.FLASH_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null},"destroy")});n.exports=l},20359:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=s(83419),c=s(62640),l=s(19715),u=s(26099),h=new T({initialize:r(function(v){this.camera=v,this.isRunning=!1,this.duration=0,this.source=new u,this.current=new u,this.destination=new u,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},"Pan"),start:r(function(f,v,d,p,g,m,x){d===void 0&&(d=1e3),p===void 0&&(p=c.Linear),g===void 0&&(g=!1),m===void 0&&(m=null),x===void 0&&(x=this.camera.scene);var E=this.camera;return!g&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source.set(E.scrollX,E.scrollY),this.destination.set(f,v),E.getScroll(f,v,this.current),typeof p=="string"&&c.hasOwnProperty(p)?this.ease=c[p]:typeof p=="function"&&(this.ease=p),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=x,this.camera.emit(l.PAN_START,this.camera,this,d,f,v)),E},"start"),update:r(function(f,v){if(this.isRunning){this._elapsed+=v;var d=o(this._elapsed/this.duration,0,1);this.progress=d;var p=this.camera;if(this._elapsed<this.duration){var g=this.ease(d);p.getScroll(this.destination.x,this.destination.y,this.current);var m=this.source.x+(this.current.x-this.source.x)*g,x=this.source.y+(this.current.y-this.source.y)*g;p.setScroll(m,x),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,d,m,x)}else p.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,d,p.scrollX,p.scrollY),this.effectComplete()}},"update"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.PAN_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null,this.source=null,this.destination=null},"destroy")});n.exports=h},34208:(n,C,s)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=s(45319),T=s(83419),c=s(19715),l=s(62640),u=new T({initialize:r(function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},"RotateTo"),start:r(function(h,f,v,d,p,g,m){v===void 0&&(v=1e3),d===void 0&&(d=l.Linear),p===void 0&&(p=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene),f===void 0&&(f=!1),this.shortestPath=f;var x=h;h<0?(x=-1*h,this.clockwise=!1):this.clockwise=!0;var E=360*Math.PI/180;x=x-Math.floor(x/E)*E;var A=this.camera;if(!p&&this.isRunning)return A;if(this.isRunning=!0,this.duration=v,this.progress=0,this.source=A.rotation,this.destination=x,typeof d=="string"&&l.hasOwnProperty(d)?this.ease=l[d]:typeof d=="function"&&(this.ease=d),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.shortestPath){var R=0,P=0;this.destination>this.source?R=Math.abs(this.destination-this.source):R=Math.abs(this.destination+E)-this.source,this.source>this.destination?P=Math.abs(this.source-this.destination):P=Math.abs(this.source+E)-this.destination,R<P?this.clockwise=!0:R>P&&(this.clockwise=!1)}return this.camera.emit(c.ROTATE_START,this.camera,this,v,x),A},"start"),update:r(function(h,f){if(this.isRunning){this._elapsed+=f;var v=o(this._elapsed/this.duration,0,1);this.progress=v;var d=this.camera;if(this._elapsed<this.duration){var p=this.ease(v);this.current=d.rotation;var g=0,m=360*Math.PI/180,x=this.destination,E=this.current;this.clockwise===!1&&(x=this.current,E=this.destination),x>=E?g=Math.abs(x-E):g=Math.abs(x+m)-E;var A=0;this.clockwise?A=d.rotation+g*p:A=d.rotation-g*p,d.rotation=A,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,v,A)}else d.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,v,this.destination),this.effectComplete()}},"update"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.ROTATE_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null,this.source=null,this.destination=null},"destroy")});n.exports=u},30330:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=s(83419),c=s(19715),l=s(26099),u=new T({initialize:r(function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.intensity=new l,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},"Shake"),start:r(function(h,f,v,d,p){return h===void 0&&(h=100),f===void 0&&(f=.05),v===void 0&&(v=!1),d===void 0&&(d=null),p===void 0&&(p=this.camera.scene),!v&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=h,this.progress=0,typeof f=="number"?this.intensity.set(f):this.intensity.set(f.x,f.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=d,this._onUpdateScope=p,this.camera.emit(c.SHAKE_START,this.camera,this,h,f),this.camera)},"start"),preRender:r(function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},"preRender"),update:r(function(h,f){if(this.isRunning)if(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var v=this.intensity,d=this.camera.width,p=this.camera.height,g=this.camera.zoom;this._offsetX=(Math.random()*v.x*d*2-v.x*d)*g,this._offsetY=(Math.random()*v.y*p*2-v.y*p)*g,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},"update"),effectComplete:r(function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.SHAKE_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null,this.intensity=null},"destroy")});n.exports=u},45641:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=s(83419),c=s(62640),l=s(19715),u=new T({initialize:r(function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},"Zoom"),start:r(function(h,f,v,d,p,g){f===void 0&&(f=1e3),v===void 0&&(v=c.Linear),d===void 0&&(d=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene);var m=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=f,this.progress=0,this.source=m.zoom,this.destination=h,typeof v=="string"&&c.hasOwnProperty(v)?this.ease=c[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.camera.emit(l.ZOOM_START,this.camera,this,f,h)),m},"start"),update:r(function(h,f){this.isRunning&&(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},"update"),effectComplete:r(function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ZOOM_COMPLETE,this.camera,this)},"effectComplete"),reset:r(function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},"reset"),destroy:r(function(){this.reset(),this.camera=null},"destroy")});n.exports=u},20052:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Fade:s(5020),Flash:s(10662),Pan:s(20359),Shake:s(30330),RotateTo:s(34208),Zoom:s(45641)}},16438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameradestroy"},32726:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeincomplete"},87807:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeinstart"},45917:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutcomplete"},95666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutstart"},47056:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashcomplete"},91261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashstart"},45047:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="followupdate"},81927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapancomplete"},74264:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapanstart"},54419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},79330:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},93183:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatecomplete"},80112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatestart"},62252:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakecomplete"},86017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakestart"},539:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomcomplete"},51892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomstart"},19715:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DESTROY:s(16438),FADE_IN_COMPLETE:s(32726),FADE_IN_START:s(87807),FADE_OUT_COMPLETE:s(45917),FADE_OUT_START:s(95666),FLASH_COMPLETE:s(47056),FLASH_START:s(91261),FOLLOW_UPDATE:s(45047),PAN_COMPLETE:s(81927),PAN_START:s(74264),POST_RENDER:s(54419),PRE_RENDER:s(79330),ROTATE_COMPLETE:s(93183),ROTATE_START:s(80112),SHAKE_COMPLETE:s(62252),SHAKE_START:s(86017),ZOOM_COMPLETE:s(539),ZOOM_START:s(51892)}},87969:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Camera:s(38058),BaseCamera:s(71911),CameraManager:s(32743),Effects:s(20052),Events:s(19715)}},63091:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(35154),c=new o({initialize:r(function(u){this.camera=T(u,"camera",null),this.left=T(u,"left",null),this.right=T(u,"right",null),this.up=T(u,"up",null),this.down=T(u,"down",null),this.zoomIn=T(u,"zoomIn",null),this.zoomOut=T(u,"zoomOut",null),this.zoomSpeed=T(u,"zoomSpeed",.01),this.minZoom=T(u,"minZoom",.001),this.maxZoom=T(u,"maxZoom",1e3),this.speedX=0,this.speedY=0;var h=T(u,"speed",null);typeof h=="number"?(this.speedX=h,this.speedY=h):(this.speedX=T(u,"speed.x",0),this.speedY=T(u,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},"FixedKeyControl"),start:r(function(){return this.active=this.camera!==null,this},"start"),stop:r(function(){return this.active=!1,this},"stop"),setCamera:r(function(l){return this.camera=l,this},"setCamera"),update:r(function(l){if(this.active){l===void 0&&(l=1);var u=this.camera;this.up&&this.up.isDown?u.scrollY-=this.speedY*l|0:this.down&&this.down.isDown&&(u.scrollY+=this.speedY*l|0),this.left&&this.left.isDown?u.scrollX-=this.speedX*l|0:this.right&&this.right.isDown&&(u.scrollX+=this.speedX*l|0),this.zoomIn&&this.zoomIn.isDown?(u.zoom-=this.zoomSpeed,u.zoom<this.minZoom&&(u.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(u.zoom+=this.zoomSpeed,u.zoom>this.maxZoom&&(u.zoom=this.maxZoom))}},"update"),destroy:r(function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null},"destroy")});n.exports=c},58818:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(35154),c=new o({initialize:r(function(u){this.camera=T(u,"camera",null),this.left=T(u,"left",null),this.right=T(u,"right",null),this.up=T(u,"up",null),this.down=T(u,"down",null),this.zoomIn=T(u,"zoomIn",null),this.zoomOut=T(u,"zoomOut",null),this.zoomSpeed=T(u,"zoomSpeed",.01),this.minZoom=T(u,"minZoom",.001),this.maxZoom=T(u,"maxZoom",1e3),this.accelX=0,this.accelY=0;var h=T(u,"acceleration",null);typeof h=="number"?(this.accelX=h,this.accelY=h):(this.accelX=T(u,"acceleration.x",0),this.accelY=T(u,"acceleration.y",0)),this.dragX=0,this.dragY=0;var f=T(u,"drag",null);typeof f=="number"?(this.dragX=f,this.dragY=f):(this.dragX=T(u,"drag.x",0),this.dragY=T(u,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var v=T(u,"maxSpeed",null);typeof v=="number"?(this.maxSpeedX=v,this.maxSpeedY=v):(this.maxSpeedX=T(u,"maxSpeed.x",0),this.maxSpeedY=T(u,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},"SmoothedKeyControl"),start:r(function(){return this.active=this.camera!==null,this},"start"),stop:r(function(){return this.active=!1,this},"stop"),setCamera:r(function(l){return this.camera=l,this},"setCamera"),update:r(function(l){if(this.active){l===void 0&&(l=1);var u=this.camera;this._speedX>0?(this._speedX-=this.dragX*l,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*l,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*l,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*l,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(u.scrollX-=this._speedX*l|0),this._speedY!==0&&(u.scrollY-=this._speedY*l|0),this._zoom!==0&&(u.zoom+=this._zoom,u.zoom<this.minZoom?u.zoom=this.minZoom:u.zoom>this.maxZoom&&(u.zoom=this.maxZoom))}},"update"),destroy:r(function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null},"destroy")});n.exports=c},38865:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FixedKeyControl:s(63091),SmoothedKeyControl:s(58818)}},26638:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Controls:s(38865),Scene2D:s(87969)}},8054:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:s(10312),ScaleModes:s(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};n.exports=o},69547:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(8054),c=s(42363),l=s(82264),u=s(95540),h=s(35154),f=s(41212),v=s(29747),d=s(75508),p=s(36060),g=s(80333),m=new o({initialize:r(function(E){E===void 0&&(E={});var A=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],R="#ffffff",P=h(E,"scale",null);this.width=h(P,"width",1024,E),this.height=h(P,"height",768,E),this.zoom=h(P,"zoom",1,E),this.parent=h(P,"parent",void 0,E),this.scaleMode=h(P,P?"mode":"scaleMode",0,E),this.expandParent=h(P,"expandParent",!0,E),this.autoRound=h(P,"autoRound",!1,E),this.autoCenter=h(P,"autoCenter",0,E),this.resizeInterval=h(P,"resizeInterval",500,E),this.fullscreenTarget=h(P,"fullscreenTarget",null,E),this.minWidth=h(P,"min.width",0,E),this.maxWidth=h(P,"max.width",0,E),this.minHeight=h(P,"min.height",0,E),this.maxHeight=h(P,"max.height",0,E),this.snapWidth=h(P,"snap.width",0,E),this.snapHeight=h(P,"snap.height",0,E),this.renderType=h(E,"type",T.AUTO),this.canvas=h(E,"canvas",null),this.context=h(E,"context",null),this.canvasStyle=h(E,"canvasStyle",null),this.customEnvironment=h(E,"customEnvironment",!1),this.sceneConfig=h(E,"scene",null),this.seed=h(E,"seed",[(Date.now()*Math.random()).toString()]),d.RND=new d.RandomDataGenerator(this.seed),this.gameTitle=h(E,"title",""),this.gameURL=h(E,"url","https://phaser.io/"+T.LOG_VERSION),this.gameVersion=h(E,"version",""),this.autoFocus=h(E,"autoFocus",!0),this.stableSort=h(E,"stableSort",-1),this.stableSort===-1&&(this.stableSort=l.browser.es2019?1:0),l.features.stableSort=this.stableSort,this.domCreateContainer=h(E,"dom.createContainer",!1),this.domPointerEvents=h(E,"dom.pointerEvents","none"),this.inputKeyboard=h(E,"input.keyboard",!0),this.inputKeyboardEventTarget=h(E,"input.keyboard.target",window),this.inputKeyboardCapture=h(E,"input.keyboard.capture",[]),this.inputMouse=h(E,"input.mouse",!0),this.inputMouseEventTarget=h(E,"input.mouse.target",null),this.inputMousePreventDefaultDown=h(E,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=h(E,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=h(E,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=h(E,"input.mouse.preventDefaultWheel",!0),this.inputTouch=h(E,"input.touch",l.input.touch),this.inputTouchEventTarget=h(E,"input.touch.target",null),this.inputTouchCapture=h(E,"input.touch.capture",!0),this.inputActivePointers=h(E,"input.activePointers",1),this.inputSmoothFactor=h(E,"input.smoothFactor",0),this.inputWindowEvents=h(E,"input.windowEvents",!0),this.inputGamepad=h(E,"input.gamepad",!1),this.inputGamepadEventTarget=h(E,"input.gamepad.target",window),this.disableContextMenu=h(E,"disableContextMenu",!1),this.audio=h(E,"audio",{}),this.hideBanner=h(E,"banner",null)===!1,this.hidePhaser=h(E,"banner.hidePhaser",!1),this.bannerTextColor=h(E,"banner.text",R),this.bannerBackgroundColor=h(E,"banner.background",A),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=h(E,"fps",null),this.disablePreFX=h(E,"disablePreFX",!1),this.disablePostFX=h(E,"disablePostFX",!1);var O=h(E,"render",null);this.pipeline=h(O,"pipeline",null,E),this.autoMobilePipeline=h(O,"autoMobilePipeline",!0,E),this.defaultPipeline=h(O,"defaultPipeline",p.MULTI_PIPELINE,E),this.antialias=h(O,"antialias",!0,E),this.antialiasGL=h(O,"antialiasGL",!0,E),this.mipmapFilter=h(O,"mipmapFilter","",E),this.desynchronized=h(O,"desynchronized",!1,E),this.roundPixels=h(O,"roundPixels",!1,E),this.pixelArt=h(O,"pixelArt",this.zoom!==1,E),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=h(O,"transparent",!1,E),this.clearBeforeRender=h(O,"clearBeforeRender",!0,E),this.preserveDrawingBuffer=h(O,"preserveDrawingBuffer",!1,E),this.premultipliedAlpha=h(O,"premultipliedAlpha",!0,E),this.failIfMajorPerformanceCaveat=h(O,"failIfMajorPerformanceCaveat",!1,E),this.powerPreference=h(O,"powerPreference","default",E),this.batchSize=h(O,"batchSize",4096,E),this.maxTextures=h(O,"maxTextures",-1,E),this.maxLights=h(O,"maxLights",10,E);var L=h(E,"backgroundColor",0);this.backgroundColor=g(L),this.transparent&&(this.backgroundColor=g(0),this.backgroundColor.alpha=0),this.preBoot=h(E,"callbacks.preBoot",v),this.postBoot=h(E,"callbacks.postBoot",v),this.physics=h(E,"physics",{}),this.defaultPhysicsSystem=h(this.physics,"default",!1),this.loaderBaseURL=h(E,"loader.baseURL",""),this.loaderPath=h(E,"loader.path",""),this.loaderMaxParallelDownloads=h(E,"loader.maxParallelDownloads",l.os.android?6:32),this.loaderCrossOrigin=h(E,"loader.crossOrigin",void 0),this.loaderResponseType=h(E,"loader.responseType",""),this.loaderAsync=h(E,"loader.async",!0),this.loaderUser=h(E,"loader.user",""),this.loaderPassword=h(E,"loader.password",""),this.loaderTimeout=h(E,"loader.timeout",0),this.loaderMaxRetries=h(E,"loader.maxRetries",2),this.loaderWithCredentials=h(E,"loader.withCredentials",!1),this.loaderImageLoadType=h(E,"loader.imageLoadType","XHR"),this.loaderLocalScheme=h(E,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=h(E,"fx.glow.quality",.1),this.glowFXDistance=h(E,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var w=h(E,"plugins",null),M=c.DefaultScene;w&&(Array.isArray(w)?this.defaultPlugins=w:f(w)&&(this.installGlobalPlugins=u(w,"global",[]),this.installScenePlugins=u(w,"scene",[]),Array.isArray(w.default)?M=w.default:Array.isArray(w.defaultMerge)&&(M=M.concat(w.defaultMerge)))),this.defaultPlugins=M;var b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=h(E,"images.default",b+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=h(E,"images.missing",b+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=h(E,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=T.WEBGL:window.FORCE_CANVAS&&(this.renderType=T.CANVAS))},"Config")});n.exports=m},86054:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20623),T=s(27919),c=s(8054),l=s(89357),u=r(function(h){var f=h.config;if((f.customEnvironment||f.canvas)&&f.renderType===c.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!f.customEnvironment&&!f.canvas&&f.renderType!==c.HEADLESS)if(f.renderType===c.AUTO&&(f.renderType=l.webGL?c.WEBGL:c.CANVAS),f.renderType===c.WEBGL){if(!l.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(f.renderType===c.CANVAS){if(!l.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+f.renderType);f.antialias||T.disableSmoothing();var v=h.scale.baseSize,d=v.width,p=v.height;if(f.canvas?(h.canvas=f.canvas,h.canvas.width=d,h.canvas.height=p):h.canvas=T.create(h,d,p,f.renderType),f.canvasStyle&&(h.canvas.style=f.canvasStyle),f.antialias||o.setCrisp(h.canvas),f.renderType!==c.HEADLESS){var g,m;g=s(68627),m=s(74797),f.renderType===c.WEBGL?h.renderer=new m(h):(h.renderer=new g(h),h.context=h.renderer.gameContext)}},"CreateRenderer");n.exports=u},96391:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8054),T=r(function(c){var l=c.config;if(!l.hideBanner){var u="WebGL";l.renderType===o.CANVAS?u="Canvas":l.renderType===o.HEADLESS&&(u="Headless");var h=l.audio,f=c.device.audio,v;if(f.webAudio&&!h.disableWebAudio?v="Web Audio":h.noAudio||!f.webAudio&&!f.audioData?v="No Audio":v="HTML5 Audio",c.device.browser.ie)window.console&&""+o.VERSION;else{var d="",p=[d];if(Array.isArray(l.bannerBackgroundColor)){var g;l.bannerBackgroundColor.forEach(function(x){d=d.concat("%c "),p.push("background: "+x),g=x}),p[p.length-1]="color: "+l.bannerTextColor+"; background: "+g}else d=d.concat("%c "),p.push("color: "+l.bannerTextColor+"; background: "+l.bannerBackgroundColor);p.push("background: transparent"),l.gameTitle&&(d=d.concat(l.gameTitle),l.gameVersion&&(d=d.concat(" v"+l.gameVersion)),l.hidePhaser||(d=d.concat(" / ")));var m="";l.hidePhaser||(d=d.concat("Phaser v"+o.VERSION+m+" ("+u+" | "+v+")")),d=d.concat(" %c "+l.gameURL),p[0]=d,console.log.apply(console,p)}}},"DebugHeader");n.exports=T},50127:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40366),T=s(60848),c=s(24047),l=s(27919),u=s(83419),h=s(69547),f=s(83719),v=s(86054),d=s(45893),p=s(96391),g=s(82264),m=s(57264),x=s(50792),E=s(8443),A=s(7003),R=s(37277),P=s(77332),O=s(76531),L=s(60903),w=s(69442),M=s(17130),b=s(65898),D=s(51085),F=s(14747),N=new u({initialize:r(function(Y){this.config=new h(Y),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new x,this.anims=new T(this),this.textures=new M(this),this.cache=new c(this),this.registry=new d(this,new x),this.input=new A(this,this.config),this.scene=new L(this,this.config.sceneConfig),this.device=g,this.scale=new O(this,this.config),this.sound=null,this.sound=F.create(this),this.loop=new b(this,this.config.fps),this.plugins=new P(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,m(this.boot.bind(this))},"Game"),boot:r(function(){if(!R.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),v(this),f(this),p(this),o(this.canvas,this.config.parent),this.textures.once(w.READY,this.texturesReady,this),this.events.emit(E.BOOT)},"boot"),texturesReady:r(function(){this.events.emit(E.READY),this.start()},"texturesReady"),start:r(function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),D(this);var B=this.events;B.on(E.HIDDEN,this.onHidden,this),B.on(E.VISIBLE,this.onVisible,this),B.on(E.BLUR,this.onBlur,this),B.on(E.FOCUS,this.onFocus,this)},"start"),step:r(function(B,Y){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(E.PRE_STEP,B,Y),W.emit(E.STEP,B,Y),this.scene.update(B,Y),W.emit(E.POST_STEP,B,Y);var z=this.renderer;z.preRender(),W.emit(E.PRE_RENDER,z,B,Y),this.scene.render(z),z.postRender(),W.emit(E.POST_RENDER,z,B,Y)}},"step"),headlessStep:r(function(B,Y){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(E.PRE_STEP,B,Y),W.emit(E.STEP,B,Y),this.scene.update(B,Y),W.emit(E.POST_STEP,B,Y),this.scene.isProcessing=!1,W.emit(E.PRE_RENDER,null,B,Y),W.emit(E.POST_RENDER,null,B,Y)}},"headlessStep"),onHidden:r(function(){this.loop.pause(),this.events.emit(E.PAUSE)},"onHidden"),pause:r(function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(E.PAUSE)},"pause"),onVisible:r(function(){this.loop.resume(),this.events.emit(E.RESUME,this.loop.pauseDuration)},"onVisible"),resume:r(function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(E.RESUME,0)},"resume"),onBlur:r(function(){this.hasFocus=!1,this.loop.blur()},"onBlur"),onFocus:r(function(){this.hasFocus=!0,this.loop.focus()},"onFocus"),getFrame:r(function(){return this.loop.frame},"getFrame"),getTime:r(function(){return this.loop.now},"getTime"),destroy:r(function(B,Y){Y===void 0&&(Y=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=Y},"destroy"),runDestroy:r(function(){this.scene.destroy(),this.events.emit(E.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(l.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1},"runDestroy")});n.exports=N},65898:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(35154),c=s(29747),l=s(43092),u=new o({initialize:r(function(f,v){this.game=f,this.raf=new l,this.started=!1,this.running=!1,this.minFps=T(v,"min",5),this.targetFps=T(v,"target",60),this.fpsLimit=T(v,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=c,this.forceSetTimeOut=T(v,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=T(v,"deltaHistory",10),this.panicMax=T(v,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=T(v,"smoothStep",!0)},"TimeStep"),blur:r(function(){this.inFocus=!1},"blur"),focus:r(function(){this.inFocus=!0,this.resetDelta()},"focus"),pause:r(function(){this._pauseTime=window.performance.now()},"pause"),resume:r(function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},"resume"),resetDelta:r(function(){var h=window.performance.now();this.time=h,this.lastTime=h,this.nextFpsUpdate=h+1e3,this.framesThisSecond=0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=Math.min(this._target,this.deltaHistory[f]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},"resetDelta"),start:r(function(h){if(this.started)return this;this.started=!0,this.running=!0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=h;var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target)},"start"),smoothDelta:r(function(h){var f=this.deltaIndex,v=this.deltaHistory,d=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,h=Math.min(h,this._target)),h>this._min&&(h=v[f],h=Math.min(h,this._min)),v[f]=h,this.deltaIndex++,this.deltaIndex>=d&&(this.deltaIndex=0);for(var p=0,g=0;g<d;g++)p+=v[g];return p/=d,p},"smoothDelta"),updateFPS:r(function(h){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=h+1e3,this.framesThisSecond=0},"updateFPS"),stepLimitFPS:r(function(h){this.now=h;var f=Math.max(0,h-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta+=f,h>=this.nextFpsUpdate&&this.updateFPS(h),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(h,this.delta),this.delta=0),this.lastTime=h,this.frame++},"stepLimitFPS"),step:r(function(h){this.now=h;var f=Math.max(0,h-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta=f,h>=this.nextFpsUpdate&&this.updateFPS(h),this.framesThisSecond++,this.callback(h,f),this.lastTime=h,this.frame++},"step"),tick:r(function(){var h=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(h):this.step(h)},"tick"),sleep:r(function(){this.running&&(this.raf.stop(),this.running=!1)},"sleep"),wake:r(function(h){h===void 0&&(h=!1);var f=window.performance.now();if(!this.running){h&&(this.startTime+=-this.lastTime+(this.lastTime+f));var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=f+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},"wake"),getDuration:r(function(){return Math.round(this.lastTime-this.startTime)/1e3},"getDuration"),getDurationMS:r(function(){return Math.round(this.lastTime-this.startTime)},"getDurationMS"),stop:r(function(){return this.running=!1,this.started=!1,this.raf.stop(),this},"stop"),destroy:r(function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null},"destroy")});n.exports=u},51085:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8443),T=r(function(c){var l,u=c.events;if(document.hidden!==void 0)l="visibilitychange";else{var h=["webkit","moz","ms"];h.forEach(function(v){document[v+"Hidden"]!==void 0&&(document.hidden=function(){return document[v+"Hidden"]},l=v+"visibilitychange")})}var f=r(function(v){document.hidden||v.type==="pause"?u.emit(o.HIDDEN):u.emit(o.VISIBLE)},"onChange");l&&document.addEventListener(l,f,!1),window.onblur=function(){u.emit(o.BLUR)},window.onfocus=function(){u.emit(o.FOCUS)},window.focus&&c.config.autoFocus&&window.focus()},"VisibilityHandler");n.exports=T},97217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="blur"},47548:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},19814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="contextlost"},68446:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},41700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="focus"},25432:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="hidden"},65942:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},59211:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},47789:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="poststep"},39066:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},460:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prestep"},16175:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},42331:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},11966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="step"},32969:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="systemready"},94830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="visible"},8443:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BLUR:s(97217),BOOT:s(47548),CONTEXT_LOST:s(19814),DESTROY:s(68446),FOCUS:s(41700),HIDDEN:s(25432),PAUSE:s(65942),POST_RENDER:s(59211),POST_STEP:s(47789),PRE_RENDER:s(39066),PRE_STEP:s(460),READY:s(16175),RESUME:s(42331),STEP:s(11966),SYSTEM_READY:s(32969),VISIBLE:s(94830)}},42857:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Config:s(69547),CreateRenderer:s(86054),DebugHeader:s(96391),Events:s(8443),TimeStep:s(65898),VisibilityHandler:s(51085)}},99584:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(5290),T=s(27919),c=s(35154),l=r(function(u){var h=c(u,"data",[]),f=c(u,"canvas",null),v=c(u,"palette",o),d=c(u,"pixelWidth",1),p=c(u,"pixelHeight",d),g=c(u,"resizeCanvas",!0),m=c(u,"clearCanvas",!0),x=c(u,"preRender",null),E=c(u,"postRender",null),A=Math.floor(Math.abs(h[0].length*d)),R=Math.floor(Math.abs(h.length*p));f||(f=T.create2D(this,A,R),g=!1,m=!1),g&&(f.width=A,f.height=R);var P=f.getContext("2d",{willReadFrequently:!0});m&&P.clearRect(0,0,A,R),x&&x(f,P);for(var O=0;O<h.length;O++)for(var L=h[O],w=0;w<L.length;w++){var M=L[w];M!=="."&&M!==" "&&(P.fillStyle=v[M],P.fillRect(w*d,O*p,d,p))}return E&&E(f,P),f},"GenerateTexture");n.exports=l},15822:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GenerateTexture:s(99584),Palettes:s(57763)}},5290:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARNE16:s(5290),C64:s(23816),CGA:s(9866),JMP:s(77552),MSX:s(92259)}},46728:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(36316),c=s(80021),l=s(26099),u=new o({Extends:c,initialize:r(function(f,v,d,p){c.call(this,"CubicBezierCurve"),Array.isArray(f)&&(p=new l(f[6],f[7]),d=new l(f[4],f[5]),v=new l(f[2],f[3]),f=new l(f[0],f[1])),this.p0=f,this.p1=v,this.p2=d,this.p3=p},"CubicBezierCurve"),getStartPoint:r(function(h){return h===void 0&&(h=new l),h.copy(this.p0)},"getStartPoint"),getResolution:r(function(h){return h},"getResolution"),getPoint:r(function(h,f){f===void 0&&(f=new l);var v=this.p0,d=this.p1,p=this.p2,g=this.p3;return f.set(T(h,v.x,d.x,p.x,g.x),T(h,v.y,d.y,p.y,g.y))},"getPoint"),draw:r(function(h,f){f===void 0&&(f=32);var v=this.getPoints(f);h.beginPath(),h.moveTo(this.p0.x,this.p0.y);for(var d=1;d<v.length;d++)h.lineTo(v[d].x,v[d].y);return h.strokePath(),h},"draw"),toJSON:r(function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}},"toJSON")});u.fromJSON=function(h){var f=h.points,v=new l(f[0],f[1]),d=new l(f[2],f[3]),p=new l(f[4],f[5]),g=new l(f[6],f[7]);return new u(v,d,p,g)},n.exports=u},80021:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(19217),c=s(87841),l=s(26099),u=new o({initialize:r(function(f){this.type=f,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new l,this._tmpVec2B=new l},"Curve"),draw:r(function(h,f){return f===void 0&&(f=32),h.strokePoints(this.getPoints(f))},"draw"),getBounds:r(function(h,f){h||(h=new c),f===void 0&&(f=16);var v=this.getLength();f>v&&(f=v/2);var d=Math.max(1,Math.round(v/f));return T(this.getSpacedPoints(d),h)},"getBounds"),getDistancePoints:r(function(h){var f=this.getLength(),v=Math.max(1,f/h);return this.getSpacedPoints(v)},"getDistancePoints"),getEndPoint:r(function(h){return h===void 0&&(h=new l),this.getPointAt(1,h)},"getEndPoint"),getLength:r(function(){var h=this.getLengths();return h[h.length-1]},"getLength"),getLengths:r(function(h){if(h===void 0&&(h=this.arcLengthDivisions),this.cacheArcLengths.length===h+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var f=[],v,d=this.getPoint(0,this._tmpVec2A),p=0;f.push(0);for(var g=1;g<=h;g++)v=this.getPoint(g/h,this._tmpVec2B),p+=v.distance(d),f.push(p),d.copy(v);return this.cacheArcLengths=f,f},"getLengths"),getPointAt:r(function(h,f){var v=this.getUtoTmapping(h);return this.getPoint(v,f)},"getPointAt"),getPoints:r(function(h,f,v){v===void 0&&(v=[]),h||(f?h=this.getLength()/f:h=this.defaultDivisions);for(var d=0;d<=h;d++)v.push(this.getPoint(d/h));return v},"getPoints"),getRandomPoint:r(function(h){return h===void 0&&(h=new l),this.getPoint(Math.random(),h)},"getRandomPoint"),getSpacedPoints:r(function(h,f,v){v===void 0&&(v=[]),h||(f?h=this.getLength()/f:h=this.defaultDivisions);for(var d=0;d<=h;d++){var p=this.getUtoTmapping(d/h,null,h);v.push(this.getPoint(p))}return v},"getSpacedPoints"),getStartPoint:r(function(h){return h===void 0&&(h=new l),this.getPointAt(0,h)},"getStartPoint"),getTangent:r(function(h,f){f===void 0&&(f=new l);var v=1e-4,d=h-v,p=h+v;return d<0&&(d=0),p>1&&(p=1),this.getPoint(d,this._tmpVec2A),this.getPoint(p,f),f.subtract(this._tmpVec2A).normalize()},"getTangent"),getTangentAt:r(function(h,f){var v=this.getUtoTmapping(h);return this.getTangent(v,f)},"getTangentAt"),getTFromDistance:r(function(h,f){return h<=0?0:this.getUtoTmapping(0,h,f)},"getTFromDistance"),getUtoTmapping:r(function(h,f,v){var d=this.getLengths(v),p=0,g=d.length,m;f?m=Math.min(f,d[g-1]):m=h*d[g-1];for(var x=0,E=g-1,A;x<=E;)if(p=Math.floor(x+(E-x)/2),A=d[p]-m,A<0)x=p+1;else if(A>0)E=p-1;else{E=p;break}if(p=E,d[p]===m)return p/(g-1);var R=d[p],P=d[p+1],O=P-R,L=(m-R)/O;return(p+L)/(g-1)},"getUtoTmapping"),updateArcLengths:r(function(){this.needsUpdate=!0,this.getLengths()},"updateArcLengths")});n.exports=u},73825:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(80021),c=s(39506),l=s(35154),u=s(43396),h=s(26099),f=new o({Extends:T,initialize:r(function(d,p,g,m,x,E,A,R){if(typeof d=="object"){var P=d;d=l(P,"x",0),p=l(P,"y",0),g=l(P,"xRadius",0),m=l(P,"yRadius",g),x=l(P,"startAngle",0),E=l(P,"endAngle",360),A=l(P,"clockwise",!1),R=l(P,"rotation",0)}else m===void 0&&(m=g),x===void 0&&(x=0),E===void 0&&(E=360),A===void 0&&(A=!1),R===void 0&&(R=0);T.call(this,"EllipseCurve"),this.p0=new h(d,p),this._xRadius=g,this._yRadius=m,this._startAngle=c(x),this._endAngle=c(E),this._clockwise=A,this._rotation=c(R)},"EllipseCurve"),getStartPoint:r(function(v){return v===void 0&&(v=new h),this.getPoint(0,v)},"getStartPoint"),getResolution:r(function(v){return v*2},"getResolution"),getPoint:r(function(v,d){d===void 0&&(d=new h);for(var p=Math.PI*2,g=this._endAngle-this._startAngle,m=Math.abs(g)<Number.EPSILON;g<0;)g+=p;for(;g>p;)g-=p;g<Number.EPSILON&&(m?g=0:g=p),this._clockwise&&!m&&(g===p?g=-p:g=g-p);var x=this._startAngle+v*g,E=this.p0.x+this._xRadius*Math.cos(x),A=this.p0.y+this._yRadius*Math.sin(x);if(this._rotation!==0){var R=Math.cos(this._rotation),P=Math.sin(this._rotation),O=E-this.p0.x,L=A-this.p0.y;E=O*R-L*P+this.p0.x,A=O*P+L*R+this.p0.y}return d.set(E,A)},"getPoint"),setXRadius:r(function(v){return this.xRadius=v,this},"setXRadius"),setYRadius:r(function(v){return this.yRadius=v,this},"setYRadius"),setWidth:r(function(v){return this.xRadius=v/2,this},"setWidth"),setHeight:r(function(v){return this.yRadius=v/2,this},"setHeight"),setStartAngle:r(function(v){return this.startAngle=v,this},"setStartAngle"),setEndAngle:r(function(v){return this.endAngle=v,this},"setEndAngle"),setClockwise:r(function(v){return this.clockwise=v,this},"setClockwise"),setRotation:r(function(v){return this.rotation=v,this},"setRotation"),x:{get:r(function(){return this.p0.x},"get"),set:r(function(v){this.p0.x=v},"set")},y:{get:r(function(){return this.p0.y},"get"),set:r(function(v){this.p0.y=v},"set")},xRadius:{get:r(function(){return this._xRadius},"get"),set:r(function(v){this._xRadius=v},"set")},yRadius:{get:r(function(){return this._yRadius},"get"),set:r(function(v){this._yRadius=v},"set")},startAngle:{get:r(function(){return u(this._startAngle)},"get"),set:r(function(v){this._startAngle=c(v)},"set")},endAngle:{get:r(function(){return u(this._endAngle)},"get"),set:r(function(v){this._endAngle=c(v)},"set")},clockwise:{get:r(function(){return this._clockwise},"get"),set:r(function(v){this._clockwise=v},"set")},angle:{get:r(function(){return u(this._rotation)},"get"),set:r(function(v){this._rotation=c(v)},"set")},rotation:{get:r(function(){return this._rotation},"get"),set:r(function(v){this._rotation=v},"set")},toJSON:r(function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:u(this._startAngle),endAngle:u(this._endAngle),clockwise:this._clockwise,rotation:u(this._rotation)}},"toJSON")});f.fromJSON=function(v){return new f(v)},n.exports=f},33951:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(80021),c=s(19217),l=s(87841),u=s(26099),h=new o({Extends:T,initialize:r(function(v,d){T.call(this,"LineCurve"),Array.isArray(v)&&(d=new u(v[2],v[3]),v=new u(v[0],v[1])),this.p0=v,this.p1=d,this.arcLengthDivisions=1},"LineCurve"),getBounds:r(function(f){return f===void 0&&(f=new l),c([this.p0,this.p1],f)},"getBounds"),getStartPoint:r(function(f){return f===void 0&&(f=new u),f.copy(this.p0)},"getStartPoint"),getResolution:r(function(f){return f===void 0&&(f=1),f},"getResolution"),getPoint:r(function(f,v){return v===void 0&&(v=new u),f===1?v.copy(this.p1):(v.copy(this.p1).subtract(this.p0).scale(f).add(this.p0),v)},"getPoint"),getPointAt:r(function(f,v){return this.getPoint(f,v)},"getPointAt"),getTangent:r(function(f,v){return v===void 0&&(v=new u),v.copy(this.p1).subtract(this.p0).normalize(),v},"getTangent"),getUtoTmapping:r(function(f,v,d){var p;if(v){var g=this.getLengths(d),m=g[g.length-1],x=Math.min(v,m);p=x/m}else p=f;return p},"getUtoTmapping"),draw:r(function(f){return f.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),f},"draw"),toJSON:r(function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}},"toJSON")});h.fromJSON=function(f){var v=f.points,d=new u(v[0],v[1]),p=new u(v[2],v[3]);return new h(d,p)},n.exports=h},14744:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(80021),c=s(32112),l=s(26099),u=new o({Extends:T,initialize:r(function(f,v,d){T.call(this,"QuadraticBezierCurve"),Array.isArray(f)&&(d=new l(f[4],f[5]),v=new l(f[2],f[3]),f=new l(f[0],f[1])),this.p0=f,this.p1=v,this.p2=d},"QuadraticBezier"),getStartPoint:r(function(h){return h===void 0&&(h=new l),h.copy(this.p0)},"getStartPoint"),getResolution:r(function(h){return h},"getResolution"),getPoint:r(function(h,f){f===void 0&&(f=new l);var v=this.p0,d=this.p1,p=this.p2;return f.set(c(h,v.x,d.x,p.x),c(h,v.y,d.y,p.y))},"getPoint"),draw:r(function(h,f){f===void 0&&(f=32);var v=this.getPoints(f);h.beginPath(),h.moveTo(this.p0.x,this.p0.y);for(var d=1;d<v.length;d++)h.lineTo(v[d].x,v[d].y);return h.strokePath(),h},"draw"),toJSON:r(function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}},"toJSON")});u.fromJSON=function(h){var f=h.points,v=new l(f[0],f[1]),d=new l(f[2],f[3]),p=new l(f[4],f[5]);return new u(v,d,p)},n.exports=u},42534:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87842),T=s(83419),c=s(80021),l=s(26099),u=new T({Extends:c,initialize:r(function(f){f===void 0&&(f=[]),c.call(this,"SplineCurve"),this.points=[],this.addPoints(f)},"SplineCurve"),addPoints:r(function(h){for(var f=0;f<h.length;f++){var v=new l;typeof h[f]=="number"?(v.x=h[f],v.y=h[f+1],f++):Array.isArray(h[f])?(v.x=h[f][0],v.y=h[f][1]):(v.x=h[f].x,v.y=h[f].y),this.points.push(v)}return this},"addPoints"),addPoint:r(function(h,f){var v=new l(h,f);return this.points.push(v),v},"addPoint"),getStartPoint:r(function(h){return h===void 0&&(h=new l),h.copy(this.points[0])},"getStartPoint"),getResolution:r(function(h){return h*this.points.length},"getResolution"),getPoint:r(function(h,f){f===void 0&&(f=new l);var v=this.points,d=(v.length-1)*h,p=Math.floor(d),g=d-p,m=v[p===0?p:p-1],x=v[p],E=v[p>v.length-2?v.length-1:p+1],A=v[p>v.length-3?v.length-1:p+2];return f.set(o(g,m.x,x.x,E.x,A.x),o(g,m.y,x.y,E.y,A.y))},"getPoint"),toJSON:r(function(){for(var h=[],f=0;f<this.points.length;f++)h.push(this.points[f].x),h.push(this.points[f].y);return{type:this.type,points:h}},"toJSON")});u.fromJSON=function(h){return new u(h.points)},n.exports=u},25410:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Path:s(46669),MoveTo:s(68618),CubicBezier:s(46728),Curve:s(80021),Ellipse:s(73825),Line:s(33951),QuadraticBezier:s(14744),Spline:s(42534)}},68618:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(26099),c=new o({initialize:r(function(u,h){this.active=!1,this.p0=new T(u,h)},"MoveTo"),getPoint:r(function(l,u){return u===void 0&&(u=new T),u.copy(this.p0)},"getPoint"),getPointAt:r(function(l,u){return this.getPoint(l,u)},"getPointAt"),getResolution:r(function(){return 1},"getResolution"),getLength:r(function(){return 0},"getLength"),toJSON:r(function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}},"toJSON")});n.exports=c},46669:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(46728),c=s(73825),l=s(39429),u=s(33951),h=s(68618),f=s(14744),v=s(87841),d=s(42534),p=s(26099),g=s(36383),m=new o({initialize:r(function(E,A){E===void 0&&(E=0),A===void 0&&(A=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new p,this._tmpVec2A=new p,this._tmpVec2B=new p,typeof E=="object"?this.fromJSON(E):this.startPoint.set(E,A)},"Path"),add:r(function(x){return this.curves.push(x),this},"add"),circleTo:r(function(x,E,A){return E===void 0&&(E=!1),this.ellipseTo(x,x,0,360,E,A)},"circleTo"),closePath:r(function(){var x=this.curves[0].getPoint(0),E=this.curves[this.curves.length-1].getPoint(1);return x.equals(E)||this.curves.push(new u(E,x)),this},"closePath"),cubicBezierTo:r(function(x,E,A,R,P,O){var L=this.getEndPoint(),w,M,b;return x instanceof p?(w=x,M=E,b=A):(w=new p(A,R),M=new p(P,O),b=new p(x,E)),this.add(new T(L,w,M,b))},"cubicBezierTo"),quadraticBezierTo:r(function(x,E,A,R){var P=this.getEndPoint(),O,L;return x instanceof p?(O=x,L=E):(O=new p(A,R),L=new p(x,E)),this.add(new f(P,O,L))},"quadraticBezierTo"),draw:r(function(x,E){for(var A=0;A<this.curves.length;A++){var R=this.curves[A];R.active&&R.draw(x,E)}return x},"draw"),ellipseTo:r(function(x,E,A,R,P,O){var L=new c(0,0,x,E,A,R,P,O),w=this.getEndPoint(this._tmpVec2A),M=L.getStartPoint(this._tmpVec2B);return w.subtract(M),L.x=w.x,L.y=w.y,this.add(L)},"ellipseTo"),fromJSON:r(function(x){this.curves=[],this.cacheLengths=[],this.startPoint.set(x.x,x.y),this.autoClose=x.autoClose;for(var E=0;E<x.curves.length;E++){var A=x.curves[E];switch(A.type){case"LineCurve":this.add(u.fromJSON(A));break;case"EllipseCurve":this.add(c.fromJSON(A));break;case"SplineCurve":this.add(d.fromJSON(A));break;case"CubicBezierCurve":this.add(T.fromJSON(A));break;case"QuadraticBezierCurve":this.add(f.fromJSON(A));break}}return this},"fromJSON"),getBounds:r(function(x,E){x===void 0&&(x=new v),E===void 0&&(E=16),x.x=Number.MAX_VALUE,x.y=Number.MAX_VALUE;for(var A=new v,R=g.MIN_SAFE_INTEGER,P=g.MIN_SAFE_INTEGER,O=0;O<this.curves.length;O++){var L=this.curves[O];L.active&&(L.getBounds(A,E),x.x=Math.min(x.x,A.x),x.y=Math.min(x.y,A.y),R=Math.max(R,A.right),P=Math.max(P,A.bottom))}return x.right=R,x.bottom=P,x},"getBounds"),getCurveLengths:r(function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var x=[],E=0,A=0;A<this.curves.length;A++)E+=this.curves[A].getLength(),x.push(E);return this.cacheLengths=x,x},"getCurveLengths"),getCurveAt:r(function(x){for(var E=x*this.getLength(),A=this.getCurveLengths(),R=0;R<A.length;){if(A[R]>=E)return this.curves[R];R++}return null},"getCurveAt"),getEndPoint:r(function(x){return x===void 0&&(x=new p),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,x):x.copy(this.startPoint),x},"getEndPoint"),getLength:r(function(){var x=this.getCurveLengths();return x[x.length-1]},"getLength"),getPoint:r(function(x,E){E===void 0&&(E=new p);for(var A=x*this.getLength(),R=this.getCurveLengths(),P=0;P<R.length;){if(R[P]>=A){var O=R[P]-A,L=this.curves[P],w=L.getLength(),M=w===0?0:1-O/w;return L.getPointAt(M,E)}P++}return null},"getPoint"),getPoints:r(function(x,E){!x&&!E&&(x=this.defaultDivisions);for(var A=[],R,P=0;P<this.curves.length;P++){var O=this.curves[P];if(O.active)for(var L=O.getResolution(x),w=O.getPoints(L,E),M=0;M<w.length;M++){var b=w[M];R&&R.equals(b)||(A.push(b),R=b)}}return this.autoClose&&A.length>1&&!A[A.length-1].equals(A[0])&&A.push(A[0]),A},"getPoints"),getRandomPoint:r(function(x){return x===void 0&&(x=new p),this.getPoint(Math.random(),x)},"getRandomPoint"),getSpacedPoints:r(function(x){x===void 0&&(x=40);for(var E=[],A=0;A<=x;A++)E.push(this.getPoint(A/x));return this.autoClose&&E.push(E[0]),E},"getSpacedPoints"),getStartPoint:r(function(x){return x===void 0&&(x=new p),x.copy(this.startPoint)},"getStartPoint"),getTangent:r(function(x,E){E===void 0&&(E=new p);for(var A=x*this.getLength(),R=this.getCurveLengths(),P=0;P<R.length;){if(R[P]>=A){var O=R[P]-A,L=this.curves[P],w=L.getLength(),M=w===0?0:1-O/w;return L.getTangentAt(M,E)}P++}return null},"getTangent"),lineTo:r(function(x,E){x instanceof p?this._tmpVec2B.copy(x):typeof x=="object"?this._tmpVec2B.setFromObject(x):this._tmpVec2B.set(x,E);var A=this.getEndPoint(this._tmpVec2A);return this.add(new u([A.x,A.y,this._tmpVec2B.x,this._tmpVec2B.y]))},"lineTo"),splineTo:r(function(x){return x.unshift(this.getEndPoint()),this.add(new d(x))},"splineTo"),moveTo:r(function(x,E){return x instanceof p?this.add(new h(x.x,x.y)):this.add(new h(x,E))},"moveTo"),toJSON:r(function(){for(var x=[],E=0;E<this.curves.length;E++)x.push(this.curves[E].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:x}},"toJSON"),updateArcLengths:r(function(){this.cacheLengths=[],this.getCurveLengths()},"updateArcLengths"),destroy:r(function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0},"destroy")});l.register("path",function(x,E){return new m(x,E)}),n.exports=m},45893:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(24882),c=new o({initialize:r(function(u,h){this.parent=u,this.events=h,h||(this.events=u.events?u.events:u),this.list={},this.values={},this._frozen=!1,!u.hasOwnProperty("sys")&&this.events&&this.events.once(T.DESTROY,this.destroy,this)},"DataManager"),get:r(function(l){var u=this.list;if(Array.isArray(l)){for(var h=[],f=0;f<l.length;f++)h.push(u[l[f]]);return h}else return u[l]},"get"),getAll:r(function(){var l={};for(var u in this.list)this.list.hasOwnProperty(u)&&(l[u]=this.list[u]);return l},"getAll"),query:r(function(l){var u={};for(var h in this.list)this.list.hasOwnProperty(h)&&h.match(l)&&(u[h]=this.list[h]);return u},"query"),set:r(function(l,u){if(this._frozen)return this;if(typeof l=="string")return this.setValue(l,u);for(var h in l)this.setValue(h,l[h]);return this},"set"),inc:r(function(l,u){if(this._frozen)return this;u===void 0&&(u=1);var h=this.get(l);return h===void 0&&(h=0),this.set(l,h+u),this},"inc"),toggle:r(function(l){return this._frozen?this:(this.set(l,!this.get(l)),this)},"toggle"),setValue:r(function(l,u){if(this._frozen)return this;if(this.has(l))this.values[l]=u;else{var h=this,f=this.list,v=this.events,d=this.parent;Object.defineProperty(this.values,l,{enumerable:!0,configurable:!0,get:r(function(){return f[l]},"get"),set:r(function(p){if(!h._frozen){var g=f[l];f[l]=p,v.emit(T.CHANGE_DATA,d,l,p,g),v.emit(T.CHANGE_DATA_KEY+l,d,p,g)}},"set")}),f[l]=u,v.emit(T.SET_DATA,d,l,u)}return this},"setValue"),each:r(function(l,u){for(var h=[this.parent,null,void 0],f=1;f<arguments.length;f++)h.push(arguments[f]);for(var v in this.list)h[1]=v,h[2]=this.list[v],l.apply(u,h);return this},"each"),merge:r(function(l,u){u===void 0&&(u=!0);for(var h in l)l.hasOwnProperty(h)&&(u||!u&&!this.has(h))&&this.setValue(h,l[h]);return this},"merge"),remove:r(function(l){if(this._frozen)return this;if(Array.isArray(l))for(var u=0;u<l.length;u++)this.removeValue(l[u]);else return this.removeValue(l);return this},"remove"),removeValue:r(function(l){if(this.has(l)){var u=this.list[l];delete this.list[l],delete this.values[l],this.events.emit(T.REMOVE_DATA,this.parent,l,u)}return this},"removeValue"),pop:r(function(l){var u=void 0;return!this._frozen&&this.has(l)&&(u=this.list[l],delete this.list[l],delete this.values[l],this.events.emit(T.REMOVE_DATA,this.parent,l,u)),u},"pop"),has:r(function(l){return this.list.hasOwnProperty(l)},"has"),setFreeze:r(function(l){return this._frozen=l,this},"setFreeze"),reset:r(function(){for(var l in this.list)delete this.list[l],delete this.values[l];return this._frozen=!1,this},"reset"),destroy:r(function(){this.reset(),this.events.off(T.CHANGE_DATA),this.events.off(T.SET_DATA),this.events.off(T.REMOVE_DATA),this.parent=null},"destroy"),freeze:{get:r(function(){return this._frozen},"get"),set:r(function(l){this._frozen=!!l},"set")},count:{get:r(function(){var l=0;for(var u in this.list)this.list[u]!==void 0&&l++;return l},"get")}});n.exports=c},63646:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(45893),c=s(37277),l=s(44594),u=new o({Extends:T,initialize:r(function(f){T.call(this,f,f.sys.events),this.scene=f,this.systems=f.sys,f.sys.events.once(l.BOOT,this.boot,this),f.sys.events.on(l.START,this.start,this)},"DataManagerPlugin"),boot:r(function(){this.events=this.systems.events,this.events.once(l.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},"start"),shutdown:r(function(){this.systems.events.off(l.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){T.prototype.destroy.call(this),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null},"destroy")});c.register("DataManagerPlugin",u,"data"),n.exports=u},10700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata"},93608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata-"},60883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},69780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedata"},22166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="setdata"},24882:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CHANGE_DATA:s(10700),CHANGE_DATA_KEY:s(93608),DESTROY:s(60883),REMOVE_DATA:s(69780),SET_DATA:s(22166)}},44965:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DataManager:s(45893),DataManagerPlugin:s(63646),Events:s(24882)}},7098:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84148),T={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function c(){if(typeof importScripts=="function")return T;T.audioData=!!window.Audio,T.webAudio=!!(window.AudioContext||window.webkitAudioContext);var l=document.createElement("audio"),u=!!l.canPlayType;try{if(u){var h=r(function(d,p){var g=l.canPlayType("audio/"+d).replace(/^no$/,"");return p?!!(g||l.canPlayType("audio/"+p).replace(/^no$/,"")):!!g},"CanPlay");if(T.ogg=h('ogg; codecs="vorbis"'),T.opus=h('ogg; codecs="opus"',"opus"),T.mp3=h("mpeg"),T.wav=h("wav"),T.m4a=h("x-m4a"),T.aac=h("aac"),T.flac=h("flac","x-flac"),T.webm=h('webm; codecs="vorbis"'),l.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)T.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var f=parseInt(RegExp.$1,10),v=parseInt(RegExp.$2,10);(f===10&&v>=11||f>10)&&(T.dolby=!0)}}}}catch{}return T}r(c,"init"),n.exports=c()},84148:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25892),T={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function c(){var l=navigator.userAgent;return/Edg\/\d+/.test(l)?(T.edge=!0,T.es2019=!0):/OPR/.test(l)?(T.opera=!0,T.es2019=!0):/Chrome\/(\d+)/.test(l)&&!o.windowsPhone?(T.chrome=!0,T.chromeVersion=parseInt(RegExp.$1,10),T.es2019=T.chromeVersion>69):/Firefox\D+(\d+)/.test(l)?(T.firefox=!0,T.firefoxVersion=parseInt(RegExp.$1,10),T.es2019=T.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(l)&&o.iOS?(T.mobileSafari=!0,T.es2019=!0):/MSIE (\d+\.\d+);/.test(l)?(T.ie=!0,T.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(l)&&!o.windowsPhone?(T.safari=!0,T.safariVersion=parseInt(RegExp.$1,10),T.es2019=T.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(l)&&(T.ie=!0,T.trident=!0,T.tridentVersion=parseInt(RegExp.$1,10),T.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(l)&&(T.silk=!0),T}r(c,"init"),n.exports=c()},89289:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),T={supportInverseAlpha:!1,supportNewBlendModes:!1};function c(){var h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",f="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",v=new Image;return v.onload=function(){var d=new Image;d.onload=function(){var p=o.create2D(d,6),g=p.getContext("2d",{willReadFrequently:!0});if(g.globalCompositeOperation="multiply",g.drawImage(v,0,0),g.drawImage(d,2,0),!g.getImageData(2,0,1,1))return!1;var m=g.getImageData(2,0,1,1).data;o.remove(d),T.supportNewBlendModes=m[0]===255&&m[1]===0&&m[2]===0},d.src=h+"/wCKxvRF"+f},v.src=h+"AP804Oa6"+f,!1}r(c,"checkBlendMode");function l(){var h=o.create2D(this,2),f=h.getContext("2d",{willReadFrequently:!0});f.fillStyle="rgba(10, 20, 30, 0.5)",f.fillRect(0,0,1,1);var v=f.getImageData(0,0,1,1);if(v===null)return!1;f.putImageData(v,1,0);var d=f.getImageData(1,0,1,1),p=d.data[0]===v.data[0]&&d.data[1]===v.data[1]&&d.data[2]===v.data[2]&&d.data[3]===v.data[3];return o.remove(this),p}r(l,"checkInverseAlpha");function u(){return typeof importScripts!="function"&&document!==void 0&&(T.supportNewBlendModes=c(),T.supportInverseAlpha=l()),T}r(u,"init"),n.exports=u()},89357:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25892),T=s(84148),c=s(27919),l={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function u(){var f=new ArrayBuffer(4),v=new Uint8Array(f),d=new Uint32Array(f);return v[0]=161,v[1]=178,v[2]=195,v[3]=212,d[0]===3569595041?!0:d[0]===2712847316?!1:null}r(u,"checkIsLittleEndian");function h(){if(typeof importScripts=="function")return l;l.canvas=!!window.CanvasRenderingContext2D;try{l.localStorage=!!localStorage.getItem}catch{l.localStorage=!1}l.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,l.fileSystem=!!window.requestFileSystem;var f=!1,v=r(function(){if(window.WebGLRenderingContext)try{var d=c.createWebGL(this),p=d.getContext("webgl")||d.getContext("experimental-webgl"),g=c.create2D(this),m=g.getContext("2d",{willReadFrequently:!0}),x=m.createImageData(1,1);return f=x.data instanceof Uint8ClampedArray,c.remove(d),c.remove(g),!!p}catch{return!1}return!1},"testWebGL");return l.webGL=v(),l.worker=!!window.Worker,l.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,l.getUserMedia=l.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,T.firefox&&T.firefoxVersion<21&&(l.getUserMedia=!1),!o.iOS&&(T.ie||T.firefox||T.chrome)&&(l.canvasBitBltShift=!0),(T.safari||T.mobileSafari)&&(l.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(l.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(l.littleEndian=u()),l.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&l.littleEndian!==null&&f,l}r(h,"init"),n.exports=h()},91639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={available:!1,cancel:"",keyboard:!1,request:""};function s(){if(typeof importScripts=="function")return C;var o,T="Fullscreen",c="FullScreen",l=["request"+T,"request"+c,"webkitRequest"+T,"webkitRequest"+c,"msRequest"+T,"msRequest"+c,"mozRequest"+c,"mozRequest"+T];for(o=0;o<l.length;o++)if(document.documentElement[l[o]]){C.available=!0,C.request=l[o];break}var u=["cancel"+c,"exit"+T,"webkitCancel"+c,"webkitExit"+T,"msCancel"+c,"msExit"+T,"mozCancel"+c,"mozExit"+T];if(C.available){for(o=0;o<u.length;o++)if(document[u[o]]){C.cancel=u[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(C.keyboard=!0),Object.defineProperty(C,"active",{get:r(function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},"get")}),C}r(s,"init"),n.exports=s()},31784:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84148),T={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function c(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(T.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(T.mspointer=!0),navigator.getGamepads&&(T.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?T.wheelEvent="wheel":"onmousewheel"in window?T.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(T.wheelEvent="DOMMouseScroll")),T}r(c,"init"),n.exports=c()},25892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function s(){if(typeof importScripts=="function")return C;var o=navigator.userAgent;/Windows/.test(o)?C.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(C.iOS=!0,C.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),C.iOSVersion=parseInt(RegExp.$1,10)):C.macOS=!0:/Android/.test(o)?C.android=!0:/Linux/.test(o)?C.linux=!0:/iP[ao]d|iPhone/i.test(o)?(C.iOS=!0,navigator.appVersion.match(/OS (\d+)/),C.iOSVersion=parseInt(RegExp.$1,10),C.iPhone=o.toLowerCase().indexOf("iphone")!==-1,C.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?C.kindle=!0:/CrOS/.test(o)&&(C.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(C.android=!1,C.iOS=!1,C.macOS=!1,C.windows=!0,C.windowsPhone=!0);var T=/Silk/.test(o);return(C.windows||C.macOS||C.linux&&!T||C.chromeOS)&&(C.desktop=!0),(C.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(C.desktop=!1),navigator.standalone&&(C.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(C.cordova=!0),window.ejecta!==void 0&&(C.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(C.node=!0),C.node&&typeof process.versions=="object"&&(C.nodeWebkit=!!process.versions["node-webkit"],C.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(C.crosswalk=!0),C.pixelRatio=window.devicePixelRatio||1,C}r(s,"init"),n.exports=s()},43267:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),T={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function c(){if(typeof importScripts=="function")return T;var l=document.createElement("video"),u=!!l.canPlayType,h=/^no$/;try{u&&(l.canPlayType('video/ogg; codecs="theora"').replace(h,"")&&(T.ogg=!0),l.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(h,"")&&(T.h264=!0,T.mp4=!0),l.canPlayType("video/x-m4v").replace(h,"")&&(T.m4v=!0),l.canPlayType('video/webm; codecs="vp8, vorbis"').replace(h,"")&&(T.webm=!0),l.canPlayType('video/webm; codecs="vp9"').replace(h,"")&&(T.vp9=!0),l.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(h,"")&&(T.hls=!0))}catch{}return l.parentNode&&l.parentNode.removeChild(l),T.getVideoURL=function(f){Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++){var d=o(f[v],"url",f[v]);if(d.indexOf("blob:")===0)return{url:d,type:""};var p;if(d.indexOf("data:")===0?p=d.split(",")[0].match(/\/(.*?);/):p=d.match(/\.([a-zA-Z0-9]+)($|\?)/),p=o(f[v],"type",p?p[1]:"").toLowerCase(),T[p])return{url:d,type:p}}return null},T}r(c,"init"),n.exports=c()},82264:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={os:s(25892),browser:s(84148),features:s(89357),input:s(31784),audio:s(7098),video:s(43267),fullscreen:s(91639),canvasFeatures:s(89289)}},89422:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new Float32Array(20),c=new o({initialize:r(function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},"ColorMatrix"),set:r(function(l){return this._matrix.set(l),this._dirty=!0,this},"set"),reset:r(function(){var l=this._matrix;return l.fill(0),l[0]=1,l[6]=1,l[12]=1,l[18]=1,this.alpha=1,this._dirty=!0,this},"reset"),getData:r(function(){var l=this._data;return this._dirty&&(l.set(this._matrix),l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,this._dirty=!1),l},"getData"),brightness:r(function(l,u){l===void 0&&(l=0),u===void 0&&(u=!1);var h=l;return this.multiply([h,0,0,0,0,0,h,0,0,0,0,0,h,0,0,0,0,0,1,0],u)},"brightness"),saturate:r(function(l,u){l===void 0&&(l=0),u===void 0&&(u=!1);var h=l*2/3+1,f=(h-1)*-.5;return this.multiply([h,f,f,0,0,f,h,f,0,0,f,f,h,0,0,0,0,0,1,0],u)},"saturate"),desaturate:r(function(l){return l===void 0&&(l=!1),this.saturate(-1,l)},"desaturate"),hue:r(function(l,u){l===void 0&&(l=0),u===void 0&&(u=!1),l=l/180*Math.PI;var h=Math.cos(l),f=Math.sin(l),v=.213,d=.715,p=.072;return this.multiply([v+h*(1-v)+f*-v,d+h*-d+f*-d,p+h*-p+f*(1-p),0,0,v+h*-v+f*.143,d+h*(1-d)+f*.14,p+h*-p+f*-.283,0,0,v+h*-v+f*-.787,d+h*-d+f*d,p+h*(1-p)+f*p,0,0,0,0,0,1,0],u)},"hue"),grayscale:r(function(l,u){return l===void 0&&(l=1),u===void 0&&(u=!1),this.saturate(-l,u)},"grayscale"),blackWhite:r(function(l){return l===void 0&&(l=!1),this.multiply(c.BLACK_WHITE,l)},"blackWhite"),contrast:r(function(l,u){l===void 0&&(l=0),u===void 0&&(u=!1);var h=l+1,f=-.5*(h-1);return this.multiply([h,0,0,0,f,0,h,0,0,f,0,0,h,0,f,0,0,0,1,0],u)},"contrast"),negative:r(function(l){return l===void 0&&(l=!1),this.multiply(c.NEGATIVE,l)},"negative"),desaturateLuminance:r(function(l){return l===void 0&&(l=!1),this.multiply(c.DESATURATE_LUMINANCE,l)},"desaturateLuminance"),sepia:r(function(l){return l===void 0&&(l=!1),this.multiply(c.SEPIA,l)},"sepia"),night:r(function(l,u){return l===void 0&&(l=.1),u===void 0&&(u=!1),this.multiply([l*-2,-l,0,0,0,-l,0,l,0,0,0,l,l*2,0,0,0,0,0,1,0],u)},"night"),lsd:r(function(l){return l===void 0&&(l=!1),this.multiply(c.LSD,l)},"lsd"),brown:r(function(l){return l===void 0&&(l=!1),this.multiply(c.BROWN,l)},"brown"),vintagePinhole:r(function(l){return l===void 0&&(l=!1),this.multiply(c.VINTAGE,l)},"vintagePinhole"),kodachrome:r(function(l){return l===void 0&&(l=!1),this.multiply(c.KODACHROME,l)},"kodachrome"),technicolor:r(function(l){return l===void 0&&(l=!1),this.multiply(c.TECHNICOLOR,l)},"technicolor"),polaroid:r(function(l){return l===void 0&&(l=!1),this.multiply(c.POLAROID,l)},"polaroid"),shiftToBGR:r(function(l){return l===void 0&&(l=!1),this.multiply(c.SHIFT_BGR,l)},"shiftToBGR"),multiply:r(function(l,u){u===void 0&&(u=!1),u||this.reset();var h=this._matrix,f=T;return f.set(h),h.set([f[0]*l[0]+f[1]*l[5]+f[2]*l[10]+f[3]*l[15],f[0]*l[1]+f[1]*l[6]+f[2]*l[11]+f[3]*l[16],f[0]*l[2]+f[1]*l[7]+f[2]*l[12]+f[3]*l[17],f[0]*l[3]+f[1]*l[8]+f[2]*l[13]+f[3]*l[18],f[0]*l[4]+f[1]*l[9]+f[2]*l[14]+f[3]*l[19]+f[4],f[5]*l[0]+f[6]*l[5]+f[7]*l[10]+f[8]*l[15],f[5]*l[1]+f[6]*l[6]+f[7]*l[11]+f[8]*l[16],f[5]*l[2]+f[6]*l[7]+f[7]*l[12]+f[8]*l[17],f[5]*l[3]+f[6]*l[8]+f[7]*l[13]+f[8]*l[18],f[5]*l[4]+f[6]*l[9]+f[7]*l[14]+f[8]*l[19]+f[9],f[10]*l[0]+f[11]*l[5]+f[12]*l[10]+f[13]*l[15],f[10]*l[1]+f[11]*l[6]+f[12]*l[11]+f[13]*l[16],f[10]*l[2]+f[11]*l[7]+f[12]*l[12]+f[13]*l[17],f[10]*l[3]+f[11]*l[8]+f[12]*l[13]+f[13]*l[18],f[10]*l[4]+f[11]*l[9]+f[12]*l[14]+f[13]*l[19]+f[14],f[15]*l[0]+f[16]*l[5]+f[17]*l[10]+f[18]*l[15],f[15]*l[1]+f[16]*l[6]+f[17]*l[11]+f[18]*l[16],f[15]*l[2]+f[16]*l[7]+f[17]*l[12]+f[18]*l[17],f[15]*l[3]+f[16]*l[8]+f[17]*l[13]+f[18]*l[18],f[15]*l[4]+f[16]*l[9]+f[17]*l[14]+f[18]*l[19]+f[19]]),this._dirty=!0,this},"multiply")});c.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],c.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],c.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],c.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],c.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],c.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],c.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],c.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],c.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],c.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],c.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],n.exports=c},51767:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(29747),c=new o({initialize:r(function(u,h,f){this._rgb=[0,0,0],this.onChangeCallback=T,this.dirty=!1,this.set(u,h,f)},"RGB"),set:r(function(l,u,h){return l===void 0&&(l=0),u===void 0&&(u=0),h===void 0&&(h=0),this._rgb=[l,u,h],this.onChange(),this},"set"),equals:r(function(l,u,h){var f=this._rgb;return f[0]===l&&f[1]===u&&f[2]===h},"equals"),onChange:r(function(){this.dirty=!0;var l=this._rgb;this.onChangeCallback.call(this,l[0],l[1],l[2])},"onChange"),r:{get:r(function(){return this._rgb[0]},"get"),set:r(function(l){this._rgb[0]=l,this.onChange()},"set")},g:{get:r(function(){return this._rgb[1]},"get"),set:r(function(l){this._rgb[1]=l,this.onChange()},"set")},b:{get:r(function(){return this._rgb[2]},"get"),set:r(function(l){this._rgb[2]=l,this.onChange()},"set")},destroy:r(function(){this.onChangeCallback=null},"destroy")});n.exports=c},60461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};n.exports=C},54312:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),T=s(35893),c=s(86327),l=s(88417),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,T(f)+v),c(h,o(f)+d),h},"BottomCenter");n.exports=u},46768:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),T=s(26541),c=s(86327),l=s(385),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,T(f)-v),c(h,o(f)+d),h},"BottomLeft");n.exports=u},35827:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),T=s(54380),c=s(86327),l=s(40136),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,T(f)+v),c(h,o(f)+d),h},"BottomRight");n.exports=u},46871:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66786),T=s(35893),c=s(7702),l=r(function(u,h,f,v){return f===void 0&&(f=0),v===void 0&&(v=0),o(u,T(h)+f,c(h)+v),u},"Center");n.exports=l},5198:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),T=s(26541),c=s(20786),l=s(385),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,T(f)-v),c(h,o(f)+d),h},"LeftCenter");n.exports=u},11879:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),T=[];T[o.BOTTOM_CENTER]=s(54312),T[o.BOTTOM_LEFT]=s(46768),T[o.BOTTOM_RIGHT]=s(35827),T[o.CENTER]=s(46871),T[o.LEFT_CENTER]=s(5198),T[o.RIGHT_CENTER]=s(80503),T[o.TOP_CENTER]=s(89698),T[o.TOP_LEFT]=s(922),T[o.TOP_RIGHT]=s(21373),T[o.LEFT_BOTTOM]=T[o.BOTTOM_LEFT],T[o.LEFT_TOP]=T[o.TOP_LEFT],T[o.RIGHT_BOTTOM]=T[o.BOTTOM_RIGHT],T[o.RIGHT_TOP]=T[o.TOP_RIGHT];var c=r(function(l,u,h,f,v){return T[h](l,u,f,v)},"QuickSet");n.exports=c},80503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),T=s(54380),c=s(20786),l=s(40136),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,T(f)+v),c(h,o(f)+d),h},"RightCenter");n.exports=u},89698:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35893),T=s(17717),c=s(88417),l=s(66737),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(h,o(f)+v),l(h,T(f)-d),h},"TopCenter");n.exports=u},922:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26541),T=s(17717),c=s(385),l=s(66737),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(h,o(f)-v),l(h,T(f)-d),h},"TopLeft");n.exports=u},21373:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54380),T=s(17717),c=s(40136),l=s(66737),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(h,o(f)+v),l(h,T(f)-d),h},"TopRight");n.exports=u},91660:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:s(54312),BottomLeft:s(46768),BottomRight:s(35827),Center:s(46871),LeftCenter:s(5198),QuickSet:s(11879),RightCenter:s(80503),TopCenter:s(89698),TopLeft:s(922),TopRight:s(21373)}},71926:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),T=s(79291),c={In:s(91660),To:s(16694)};c=T(!1,c,o),n.exports=c},21578:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),T=s(35893),c=s(88417),l=s(66737),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(h,T(f)+v),l(h,o(f)+d),h},"BottomCenter");n.exports=u},10210:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),T=s(26541),c=s(385),l=s(66737),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(h,T(f)-v),l(h,o(f)+d),h},"BottomLeft");n.exports=u},82341:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),T=s(54380),c=s(40136),l=s(66737),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(h,T(f)+v),l(h,o(f)+d),h},"BottomRight");n.exports=u},87958:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),T=s(26541),c=s(86327),l=s(40136),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,T(f)-v),c(h,o(f)+d),h},"LeftBottom");n.exports=u},40080:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),T=s(26541),c=s(20786),l=s(40136),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,T(f)-v),c(h,o(f)+d),h},"LeftCenter");n.exports=u},88466:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26541),T=s(17717),c=s(40136),l=s(66737),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(h,o(f)-v),l(h,T(f)-d),h},"LeftTop");n.exports=u},38829:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),T=[];T[o.BOTTOM_CENTER]=s(21578),T[o.BOTTOM_LEFT]=s(10210),T[o.BOTTOM_RIGHT]=s(82341),T[o.LEFT_BOTTOM]=s(87958),T[o.LEFT_CENTER]=s(40080),T[o.LEFT_TOP]=s(88466),T[o.RIGHT_BOTTOM]=s(19211),T[o.RIGHT_CENTER]=s(34609),T[o.RIGHT_TOP]=s(48741),T[o.TOP_CENTER]=s(49440),T[o.TOP_LEFT]=s(81288),T[o.TOP_RIGHT]=s(61323);var c=r(function(l,u,h,f,v){return T[h](l,u,f,v)},"QuickSet");n.exports=c},19211:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),T=s(54380),c=s(86327),l=s(385),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,T(f)+v),c(h,o(f)+d),h},"RightBottom");n.exports=u},34609:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),T=s(54380),c=s(20786),l=s(385),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,T(f)+v),c(h,o(f)+d),h},"RightCenter");n.exports=u},48741:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54380),T=s(17717),c=s(385),l=s(66737),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),c(h,o(f)+v),l(h,T(f)-d),h},"RightTop");n.exports=u},49440:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35893),T=s(17717),c=s(86327),l=s(88417),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,o(f)+v),c(h,T(f)-d),h},"TopCenter");n.exports=u},81288:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26541),T=s(17717),c=s(86327),l=s(385),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,o(f)-v),c(h,T(f)-d),h},"TopLeft");n.exports=u},61323:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54380),T=s(17717),c=s(86327),l=s(40136),u=r(function(h,f,v,d){return v===void 0&&(v=0),d===void 0&&(d=0),l(h,o(f)+v),c(h,T(f)-d),h},"TopRight");n.exports=u},16694:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:s(21578),BottomLeft:s(10210),BottomRight:s(82341),LeftBottom:s(87958),LeftCenter:s(40080),LeftTop:s(88466),QuickSet:s(38829),RightBottom:s(19211),RightCenter:s(34609),RightTop:s(48741),TopCenter:s(49440),TopLeft:s(81288),TopRight:s(61323)}},66786:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(88417),T=s(20786),c=r(function(l,u,h){return o(l,u),T(l,h)},"CenterOn");n.exports=c},62235:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.y+s.height-s.height*s.originY},"GetBottom");n.exports=C},72873:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),T=s(26541),c=s(54380),l=s(17717),u=s(87841),h=r(function(f,v){v===void 0&&(v=new u);var d=T(f),p=l(f);return v.x=d,v.y=p,v.width=c(f)-d,v.height=o(f)-p,v},"GetBounds");n.exports=h},35893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.x-s.width*s.originX+s.width*.5},"GetCenterX");n.exports=C},7702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.y-s.height*s.originY+s.height*.5},"GetCenterY");n.exports=C},26541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.x-s.width*s.originX},"GetLeft");n.exports=C},87431:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.width*s.originX},"GetOffsetX");n.exports=C},46928:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.height*s.originY},"GetOffsetY");n.exports=C},54380:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.x+s.width-s.width*s.originX},"GetRight");n.exports=C},17717:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.y-s.height*s.originY},"GetTop");n.exports=C},86327:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.y=o-s.height+s.height*s.originY,s},"SetBottom");n.exports=C},88417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.width*s.originX;return s.x=o+T-s.width*.5,s},"SetCenterX");n.exports=C},20786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.height*s.originY;return s.y=o+T-s.height*.5,s},"SetCenterY");n.exports=C},385:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x=o+s.width*s.originX,s},"SetLeft");n.exports=C},40136:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x=o-s.width+s.width*s.originX,s},"SetRight");n.exports=C},66737:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.y=o+s.height*s.originY,s},"SetTop");n.exports=C},58724:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CenterOn:s(66786),GetBottom:s(62235),GetBounds:s(72873),GetCenterX:s(35893),GetCenterY:s(7702),GetLeft:s(26541),GetOffsetX:s(87431),GetOffsetY:s(46928),GetRight:s(54380),GetTop:s(17717),SetBottom:s(86327),SetCenterX:s(88417),SetCenterY:s(20786),SetLeft:s(385),SetRight:s(40136),SetTop:s(66737)}},20623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setCrisp:r(function(s){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(T){s.style["image-rendering"]=T}),s.style.msInterpolationMode="nearest-neighbor",s},"setCrisp"),setBicubic:r(function(s){return s.style["image-rendering"]="auto",s.style.msInterpolationMode="bicubic",s},"setBicubic")};n.exports=C},27919:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8054),T=s(68703),c=[],l=!1,u=r(function(){var h=r(function(A,R,P,O,L){R===void 0&&(R=1),P===void 0&&(P=1),O===void 0&&(O=o.CANVAS),L===void 0&&(L=!1);var w,M=d(O);return M===null?(M={parent:A,canvas:document.createElement("canvas"),type:O},O===o.CANVAS&&c.push(M),w=M.canvas):(M.parent=A,w=M.canvas),L&&(M.parent=w),w.width=R,w.height=P,l&&O===o.CANVAS&&T.disable(w.getContext("2d",{willReadFrequently:!1})),w},"create"),f=r(function(A,R,P){return h(A,R,P,o.CANVAS)},"create2D"),v=r(function(A,R,P){return h(A,R,P,o.WEBGL)},"createWebGL"),d=r(function(A){if(A===void 0&&(A=o.CANVAS),A===o.WEBGL)return null;for(var R=0;R<c.length;R++){var P=c[R];if(!P.parent&&P.type===A)return P}return null},"first"),p=r(function(A){var R=A instanceof HTMLCanvasElement;c.forEach(function(P){(R&&P.canvas===A||!R&&P.parent===A)&&(P.parent=null,P.canvas.width=1,P.canvas.height=1)})},"remove"),g=r(function(){var A=0;return c.forEach(function(R){R.parent&&A++}),A},"total"),m=r(function(){return c.length-g()},"free"),x=r(function(){l=!0},"disableSmoothing"),E=r(function(){l=!1},"enableSmoothing");return{create2D:f,create:h,createWebGL:v,disableSmoothing:x,enableSmoothing:E,first:d,free:m,pool:c,remove:p,total:g}},"CanvasPool");n.exports=u()},68703:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C="",s=r(function(){var o=r(function(u){for(var h=["i","webkitI","msI","mozI","oI"],f=0;f<h.length;f++){var v=h[f]+"mageSmoothingEnabled";if(v in u)return v}return null},"getPrefix"),T=r(function(u){return C===""&&(C=o(u)),C&&(u[C]=!0),u},"enable"),c=r(function(u){return C===""&&(C=o(u)),C&&(u[C]=!1),u},"disable"),l=r(function(u){return C!==null?u[C]:null},"isEnabled");return{disable:c,enable:T,getPrefix:o,isEnabled:l}},"Smoothing");n.exports=s()},65208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o===void 0&&(o="none"),s.style.msTouchAction=o,s.style["ms-touch-action"]=o,s.style["touch-action"]=o,s},"TouchAction");n.exports=C},91610:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o===void 0&&(o="none");var T=["-webkit-","-khtml-","-moz-","-ms-",""];return T.forEach(function(c){s.style[c+"user-select"]=o}),s.style["-webkit-touch-callout"]=o,s.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",s},"UserSelect");n.exports=C},26253:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasInterpolation:s(20623),CanvasPool:s(27919),Smoothing:s(68703),TouchAction:s(65208),UserSelect:s(91610)}},40987:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(37589),c=s(1e3),l=s(7537),u=s(87837),h=new o({initialize:r(function(v,d,p,g){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(v,d,p,g)},"Color"),transparent:r(function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},"transparent"),setTo:r(function(f,v,d,p,g){return p===void 0&&(p=255),g===void 0&&(g=!0),this._locked=!0,this.red=f,this.green=v,this.blue=d,this.alpha=p,this._locked=!1,this.update(g)},"setTo"),setGLTo:r(function(f,v,d,p){return p===void 0&&(p=1),this._locked=!0,this.redGL=f,this.greenGL=v,this.blueGL=d,this.alphaGL=p,this._locked=!1,this.update(!0)},"setGLTo"),setFromRGB:r(function(f){return this._locked=!0,this.red=f.r,this.green=f.g,this.blue=f.b,f.hasOwnProperty("a")&&(this.alpha=f.a),this._locked=!1,this.update(!0)},"setFromRGB"),setFromHSV:r(function(f,v,d){return l(f,v,d,this)},"setFromHSV"),update:r(function(f){if(f===void 0&&(f=!1),this._locked)return this;var v=this.r,d=this.g,p=this.b,g=this.a;return this._color=T(v,d,p),this._color32=c(v,d,p,g),this._rgba="rgba("+v+","+d+","+p+","+g/255+")",f&&u(v,d,p,this),this},"update"),updateHSV:r(function(){var f=this.r,v=this.g,d=this.b;return u(f,v,d,this),this},"updateHSV"),clone:r(function(){return new h(this.r,this.g,this.b,this.a)},"clone"),gray:r(function(f){return this.setTo(f,f,f)},"gray"),random:r(function(f,v){f===void 0&&(f=0),v===void 0&&(v=255);var d=Math.floor(f+Math.random()*(v-f)),p=Math.floor(f+Math.random()*(v-f)),g=Math.floor(f+Math.random()*(v-f));return this.setTo(d,p,g)},"random"),randomGray:r(function(f,v){f===void 0&&(f=0),v===void 0&&(v=255);var d=Math.floor(f+Math.random()*(v-f));return this.setTo(d,d,d)},"randomGray"),saturate:r(function(f){return this.s+=f/100,this},"saturate"),desaturate:r(function(f){return this.s-=f/100,this},"desaturate"),lighten:r(function(f){return this.v+=f/100,this},"lighten"),darken:r(function(f){return this.v-=f/100,this},"darken"),brighten:r(function(f){var v=this.r,d=this.g,p=this.b;return v=Math.max(0,Math.min(255,v-Math.round(255*-(f/100)))),d=Math.max(0,Math.min(255,d-Math.round(255*-(f/100)))),p=Math.max(0,Math.min(255,p-Math.round(255*-(f/100)))),this.setTo(v,d,p)},"brighten"),color:{get:r(function(){return this._color},"get")},color32:{get:r(function(){return this._color32},"get")},rgba:{get:r(function(){return this._rgba},"get")},redGL:{get:r(function(){return this.gl[0]},"get"),set:r(function(f){this.gl[0]=Math.min(Math.abs(f),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)},"set")},greenGL:{get:r(function(){return this.gl[1]},"get"),set:r(function(f){this.gl[1]=Math.min(Math.abs(f),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)},"set")},blueGL:{get:r(function(){return this.gl[2]},"get"),set:r(function(f){this.gl[2]=Math.min(Math.abs(f),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)},"set")},alphaGL:{get:r(function(){return this.gl[3]},"get"),set:r(function(f){this.gl[3]=Math.min(Math.abs(f),1),this.a=Math.floor(this.gl[3]*255),this.update()},"set")},red:{get:r(function(){return this.r},"get"),set:r(function(f){f=Math.floor(Math.abs(f)),this.r=Math.min(f,255),this.gl[0]=f/255,this.update(!0)},"set")},green:{get:r(function(){return this.g},"get"),set:r(function(f){f=Math.floor(Math.abs(f)),this.g=Math.min(f,255),this.gl[1]=f/255,this.update(!0)},"set")},blue:{get:r(function(){return this.b},"get"),set:r(function(f){f=Math.floor(Math.abs(f)),this.b=Math.min(f,255),this.gl[2]=f/255,this.update(!0)},"set")},alpha:{get:r(function(){return this.a},"get"),set:r(function(f){f=Math.floor(Math.abs(f)),this.a=Math.min(f,255),this.gl[3]=f/255,this.update()},"set")},h:{get:r(function(){return this._h},"get"),set:r(function(f){this._h=f,l(f,this._s,this._v,this)},"set")},s:{get:r(function(){return this._s},"get"),set:r(function(f){this._s=f,l(this._h,f,this._v,this)},"set")},v:{get:r(function(){return this._v},"get"),set:r(function(f){this._v=f,l(this._h,this._s,f,this)},"set")}});n.exports=h},92728:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37589),T=r(function(c){c===void 0&&(c=1024);var l=[],u=255,h,f=255,v=0,d=0;for(h=0;h<=u;h++)l.push({r:f,g:h,b:d,color:o(f,h,d)});for(v=255,h=u;h>=0;h--)l.push({r:h,g:v,b:d,color:o(h,v,d)});for(f=0,h=0;h<=u;h++,v--)l.push({r:f,g:v,b:h,color:o(f,v,h)});for(v=0,d=255,h=0;h<=u;h++,d--,f++)l.push({r:f,g:v,b:d,color:o(f,v,d)});if(c===1024)return l;var p=[],g=0,m=1024/c;for(h=0;h<c;h++)p.push(l[Math.floor(g)]),g+=m;return p},"ColorSpectrum");n.exports=T},91588:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o={r:s>>16&255,g:s>>8&255,b:s&255,a:255};return s>16777215&&(o.a=s>>>24),o},"ColorToRGBA");n.exports=C},62957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o=s.toString(16);return o.length===1?"0"+o:o},"ComponentToHex");n.exports=C},37589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s<<16|o<<8|T},"GetColor");n.exports=C},1e3:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){return c<<24|s<<16|o<<8|T},"GetColor32");n.exports=C},62183:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),T=s(89528),c=r(function(l,u,h){var f=h,v=h,d=h;if(u!==0){var p=h<.5?h*(1+u):h+u-h*u,g=2*h-p;f=T(g,p,l+1/3),v=T(g,p,l),d=T(g,p,l-1/3)}var m=new o;return m.setGLTo(f,v,d,1)},"HSLToColor");n.exports=c},27939:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7537),T=r(function(c,l){c===void 0&&(c=1),l===void 0&&(l=1);for(var u=[],h=0;h<=359;h++)u.push(o(h/359,c,l));return u},"HSVColorWheel");n.exports=T},7537:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37589);function T(l,u,h,f){var v=(l+u*6)%6,d=Math.min(v,4-v,1);return Math.round(255*(f-f*h*Math.max(0,d)))}r(T,"ConvertValue");var c=r(function(l,u,h,f){u===void 0&&(u=1),h===void 0&&(h=1);var v=T(5,l,u,h),d=T(3,l,u,h),p=T(1,l,u,h);return f?f.setTo?f.setTo(v,d,p,f.alpha,!0):(f.r=v,f.g=d,f.b=p,f.color=o(v,d,p),f):{r:v,g:d,b:p,color:o(v,d,p)}},"HSVToRGB");n.exports=c},70238:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),T=r(function(c){var l=new o;c=c.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(d,p,g,m){return p+p+g+g+m+m});var u=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(u){var h=parseInt(u[1],16),f=parseInt(u[2],16),v=parseInt(u[3],16);l.setTo(h,f,v)}return l},"HexStringToColor");n.exports=T},89528:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return T<0&&(T+=1),T>1&&(T-=1),T<.16666666666666666?s+(o-s)*6*T:T<.5?o:T<.6666666666666666?s+(o-s)*(.6666666666666666-T)*6:s},"HueToComponent");n.exports=C},30100:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),T=s(90664),c=r(function(l){var u=T(l);return new o(u.r,u.g,u.b,u.a)},"IntegerToColor");n.exports=c},90664:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s>16777215?{a:s>>>24,r:s>>16&255,g:s>>8&255,b:s&255}:{a:255,r:s>>16&255,g:s>>8&255,b:s&255}},"IntegerToRGB");n.exports=C},13699:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28915),T=s(37589),c=r(function(h,f,v,d,p,g,m,x){m===void 0&&(m=100),x===void 0&&(x=0);var E=x/m,A=o(h,d,E),R=o(f,p,E),P=o(v,g,E);return{r:A,g:R,b:P,a:255,color:T(A,R,P)}},"RGBWithRGB"),l=r(function(h,f,v,d){return v===void 0&&(v=100),d===void 0&&(d=0),c(h.r,h.g,h.b,f.r,f.g,f.b,v,d)},"ColorWithColor"),u=r(function(h,f,v,d,p,g){return p===void 0&&(p=100),g===void 0&&(g=0),c(h.r,h.g,h.b,f,v,d,p,g)},"ColorWithRGB");n.exports={RGBWithRGB:c,ColorWithRGB:u,ColorWithColor:l}},68957:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),T=r(function(c){return new o(c.r,c.g,c.b,c.a)},"ObjectToColor");n.exports=T},87388:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),T=r(function(c){var l=new o,u=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(c.toLowerCase());if(u){var h=parseInt(u[1],10),f=parseInt(u[2],10),v=parseInt(u[3],10),d=u[4]!==void 0?parseFloat(u[4]):1;l.setTo(h,f,v,d*255)}return l},"RGBStringToColor");n.exports=T},87837:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){c===void 0&&(c={h:0,s:0,v:0}),s/=255,o/=255,T/=255;var l=Math.min(s,o,T),u=Math.max(s,o,T),h=u-l,f=0,v=u===0?0:h/u,d=u;return u!==l&&(u===s?f=(o-T)/h+(o<T?6:0):u===o?f=(T-s)/h+2:u===T&&(f=(s-o)/h+4),f/=6),c.hasOwnProperty("_h")?(c._h=f,c._s=v,c._v=d):(c.h=f,c.s=v,c.v=d),c},"RGBToHSV");n.exports=C},75723:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62957),T=r(function(c,l,u,h,f){return h===void 0&&(h=255),f===void 0&&(f="#"),f==="#"?"#"+((1<<24)+(c<<16)+(l<<8)+u).toString(16).slice(1,7):"0x"+o(h)+o(c)+o(l)+o(u)},"RGBToString");n.exports=T},85386:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),T=s(40987),c=r(function(l,u){return l===void 0&&(l=0),u===void 0&&(u=255),new T(o(l,u),o(l,u),o(l,u))},"RandomRGB");n.exports=c},80333:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70238),T=s(30100),c=s(68957),l=s(87388),u=r(function(h){var f=typeof h;switch(f){case"string":return h.substr(0,3).toLowerCase()==="rgb"?l(h):o(h);case"number":return T(h);case"object":return c(h)}},"ValueToColor");n.exports=u},3956:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987);o.ColorSpectrum=s(92728),o.ColorToRGBA=s(91588),o.ComponentToHex=s(62957),o.GetColor=s(37589),o.GetColor32=s(1e3),o.HexStringToColor=s(70238),o.HSLToColor=s(62183),o.HSVColorWheel=s(27939),o.HSVToRGB=s(7537),o.HueToComponent=s(89528),o.IntegerToColor=s(30100),o.IntegerToRGB=s(90664),o.Interpolate=s(13699),o.ObjectToColor=s(68957),o.RandomRGB=s(85386),o.RGBStringToColor=s(87388),o.RGBToHSV=s(87837),o.RGBToString=s(75723),o.ValueToColor=s(80333),n.exports=o},27460:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Align:s(71926),BaseShader:s(73894),Bounds:s(58724),Canvas:s(26253),Color:s(3956),ColorMatrix:s(89422),Masks:s(69781),RGB:s(51767)}},6858:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(39429),c=new o({initialize:r(function(u,h,f,v,d,p){h||(h=u.sys.make.image({x:f,y:v,key:d,frame:p,add:!1})),this.bitmapMask=h,this.invertAlpha=!1,this.isStencil=!1},"BitmapMask"),setBitmap:r(function(l){this.bitmapMask=l},"setBitmap"),preRenderWebGL:r(function(l,u,h){l.pipelines.BITMAPMASK_PIPELINE.beginMask(this,u,h)},"preRenderWebGL"),postRenderWebGL:r(function(l,u,h){l.pipelines.BITMAPMASK_PIPELINE.endMask(this,u,h)},"postRenderWebGL"),preRenderCanvas:r(function(){},"preRenderCanvas"),postRenderCanvas:r(function(){},"postRenderCanvas"),destroy:r(function(){this.bitmapMask=null},"destroy")});T.register("bitmapMask",function(l,u,h,f,v){return new c(this.scene,l,u,h,f,v)}),n.exports=c},80661:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u){this.geometryMask=u,this.invertAlpha=!1,this.isStencil=!0,this.level=0},"GeometryMask"),setShape:r(function(c){return this.geometryMask=c,this},"setShape"),setInvertAlpha:r(function(c){return c===void 0&&(c=!0),this.invertAlpha=c,this},"setInvertAlpha"),preRenderWebGL:r(function(c,l,u){var h=c.gl;c.flush(),c.maskStack.length===0&&(h.enable(h.STENCIL_TEST),h.clear(h.STENCIL_BUFFER_BIT),c.maskCount=0),c.currentCameraMask.mask!==this&&(c.currentMask.mask=this),c.maskStack.push({mask:this,camera:u}),this.applyStencil(c,u,!0),c.maskCount++},"preRenderWebGL"),applyStencil:r(function(c,l,u){var h=c.gl,f=this.geometryMask,v=c.maskCount,d=255;h.colorMask(!1,!1,!1,!1),u?(h.stencilFunc(h.EQUAL,v,d),h.stencilOp(h.KEEP,h.KEEP,h.INCR),v++):(h.stencilFunc(h.EQUAL,v+1,d),h.stencilOp(h.KEEP,h.KEEP,h.DECR)),this.level=v,f.renderWebGL(c,f,l),c.flush(),h.colorMask(!0,!0,!0,!0),h.stencilOp(h.KEEP,h.KEEP,h.KEEP),this.invertAlpha?h.stencilFunc(h.NOTEQUAL,v,d):h.stencilFunc(h.EQUAL,v,d)},"applyStencil"),postRenderWebGL:r(function(c){var l=c.gl;c.maskStack.pop(),c.maskCount--,c.flush();var u=c.currentMask;if(c.maskStack.length===0)u.mask=null,l.disable(l.STENCIL_TEST);else{var h=c.maskStack[c.maskStack.length-1];h.mask.applyStencil(c,h.camera,!1),c.currentCameraMask.mask!==h.mask?(u.mask=h.mask,u.camera=h.camera):u.mask=null}},"postRenderWebGL"),preRenderCanvas:r(function(c,l,u){var h=this.geometryMask;c.currentContext.save(),h.renderCanvas(c,h,u,null,null,!0),c.currentContext.clip()},"preRenderCanvas"),postRenderCanvas:r(function(c){c.currentContext.restore()},"postRenderCanvas"),destroy:r(function(){this.geometryMask=null},"destroy")});n.exports=T},69781:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BitmapMask:s(6858),GeometryMask:s(80661)}},73894:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h,f){(!u||u==="")&&(u=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!h||h==="")&&(h=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),f===void 0&&(f=null),this.key=l,this.fragmentSrc=u,this.vertexSrc=h,this.uniforms=f},"BaseShader")});n.exports=T},40366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T;if(o)typeof o=="string"?T=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(T=o);else if(s.parentElement||o===null)return s;return T||(T=document.body),T.appendChild(s),s},"AddToDOM");n.exports=C},83719:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40366),T=r(function(c){var l=c.config;if(!(!l.parent||!l.domCreateContainer)){var u=document.createElement("div");u.style.cssText=["display: block;","width: "+c.scale.width+"px;","height: "+c.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+l.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),c.domContainer=u,o(u,l.parent)}},"CreateDOMContainer");n.exports=T},57264:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25892),T=r(function(c){if(document.readyState==="complete"||document.readyState==="interactive"){c();return}var l=r(function(){document.removeEventListener("deviceready",l,!0),document.removeEventListener("DOMContentLoaded",l,!0),window.removeEventListener("load",l,!0),c()},"check");document.body?o.cordova?document.addEventListener("deviceready",l,!1):(document.addEventListener("DOMContentLoaded",l,!0),window.addEventListener("load",l,!0)):window.setTimeout(l,20)},"DOMContentLoaded");n.exports=T},57811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){if(!s)return window.innerHeight;var o=Math.abs(window.orientation),T={w:0,h:0},c=document.createElement("div");return c.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(c),T.w=o===90?c.offsetHeight:window.innerWidth,T.h=o===90?window.innerWidth:c.offsetHeight,document.documentElement.removeChild(c),c=null,Math.abs(window.orientation)!==90?T.h:T.w},"GetInnerHeight");n.exports=C},45818:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13560),T=r(function(c,l){var u=window.screen,h=u?u.orientation||u.mozOrientation||u.msOrientation:!1;if(h&&typeof h.type=="string")return h.type;if(typeof h=="string")return h;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return l>c?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE},"GetScreenOrientation");n.exports=T},74403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o;return s!==""&&(typeof s=="string"?o=document.getElementById(s):s&&s.nodeType===1&&(o=s)),o||(o=document.body),o},"GetTarget");n.exports=C},56836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o="";try{if(window.DOMParser){var T=new DOMParser;o=T.parseFromString(s,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(s)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o},"ParseXML");n.exports=C},35846:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){s.parentNode&&s.parentNode.removeChild(s)},"RemoveFromDOM");n.exports=C},43092:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(29747),c=new o({initialize:r(function(){this.isRunning=!1,this.callback=T,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var u=this;this.step=r(function h(f){u.callback(f),u.isRunning&&(u.timeOutID=window.requestAnimationFrame(h))},"step"),this.stepTimeout=r(function h(){u.isRunning&&(u.timeOutID=window.setTimeout(h,u.delay)),u.callback(window.performance.now())},"stepTimeout")},"RequestAnimationFrame"),start:r(function(l,u,h){this.isRunning||(this.callback=l,this.isSetTimeOut=u,this.delay=h,this.isRunning=!0,this.timeOutID=u?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},"start"),stop:r(function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},"stop"),destroy:r(function(){this.stop(),this.callback=T},"destroy")});n.exports=c},84902:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:s(40366),DOMContentLoaded:s(57264),GetInnerHeight:s(57811),GetScreenOrientation:s(45818),GetTarget:s(74403),ParseXML:s(56836),RemoveFromDOM:s(35846),RequestAnimationFrame:s(43092)};n.exports=o},47565:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(50792),c=s(37277),l=new o({Extends:T,initialize:r(function(){T.call(this)},"EventEmitter"),shutdown:r(function(){this.removeAllListeners()},"shutdown"),destroy:r(function(){this.removeAllListeners()},"destroy")});c.register("EventEmitter",l,"events"),n.exports=l},93055:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EventEmitter:s(47565)}},20122:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f){f===void 0&&(f=1),T.call(this,c.BARREL,h),this.amount=f},"Barrel")});n.exports=l},32251:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f,v,d,p,g,m){v===void 0&&(v=1),d===void 0&&(d=1),p===void 0&&(p=1),g===void 0&&(g=1),m===void 0&&(m=4),T.call(this,c.BLOOM,h),this.steps=m,this.offsetX=v,this.offsetY=d,this.blurStrength=p,this.strength=g,this.glcolor=[1,1,1],f!=null&&(this.color=f)},"Bloom"),color:{get:r(function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},"get"),set:r(function(u){var h=this.glcolor;h[0]=(u>>16&255)/255,h[1]=(u>>8&255)/255,h[2]=(u&255)/255},"set")}});n.exports=l},9047:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f,v,d,p,g,m){f===void 0&&(f=0),v===void 0&&(v=2),d===void 0&&(d=2),p===void 0&&(p=1),m===void 0&&(m=4),T.call(this,c.BLUR,h),this.quality=f,this.x=v,this.y=d,this.steps=m,this.strength=p,this.glcolor=[1,1,1],g!=null&&(this.color=g)},"Blur"),color:{get:r(function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},"get"),set:r(function(u){var h=this.glcolor;h[0]=(u>>16&255)/255,h[1]=(u>>8&255)/255,h[2]=(u&255)/255},"set")}});n.exports=l},27885:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f,v,d,p,g,m,x){f===void 0&&(f=.5),v===void 0&&(v=1),d===void 0&&(d=.2),p===void 0&&(p=!1),g===void 0&&(g=1),m===void 0&&(m=1),x===void 0&&(x=1),T.call(this,c.BOKEH,h),this.radius=f,this.amount=v,this.contrast=d,this.isTiltShift=p,this.strength=x,this.blurX=g,this.blurY=m},"Bokeh")});n.exports=l},12578:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f,v,d,p,g){f===void 0&&(f=8),p===void 0&&(p=1),g===void 0&&(g=.005),T.call(this,c.CIRCLE,h),this.scale=p,this.feather=g,this.thickness=f,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],v!=null&&(this.color=v),d!=null&&(this.backgroundColor=d)},"Circle"),color:{get:r(function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},"get"),set:r(function(u){var h=this.glcolor;h[0]=(u>>16&255)/255,h[1]=(u>>8&255)/255,h[2]=(u&255)/255},"set")},backgroundColor:{get:r(function(){var u=this.glcolor2;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},"get"),set:r(function(u){var h=this.glcolor2;h[0]=(u>>16&255)/255,h[1]=(u>>8&255)/255,h[2]=(u&255)/255},"set")},backgroundAlpha:{get:r(function(){return this.glcolor2[3]},"get"),set:r(function(u){this.glcolor2[3]=u},"set")}});n.exports=l},15802:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(89422),c=s(14811),l=new o({Extends:T,initialize:r(function(h){T.call(this),this.type=c.COLOR_MATRIX,this.gameObject=h,this.active=!0},"ColorMatrix"),destroy:r(function(){this.gameObject=null,this._matrix=null,this._data=null},"destroy")});n.exports=l},72898:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u){this.type=l,this.gameObject=u,this.active=!0},"Controller"),setActive:r(function(c){return this.active=c,this},"setActive"),destroy:r(function(){this.gameObject=null,this.active=!1},"destroy")});n.exports=T},44553:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f,v,d){f===void 0&&(f="__WHITE"),v===void 0&&(v=.005),d===void 0&&(d=.005),T.call(this,c.DISPLACEMENT,h),this.x=v,this.y=d,this.glTexture,this.setTexture(f)},"Displacement"),setTexture:r(function(u){var h=this.gameObject.scene.sys.textures.getFrame(u);return h&&(this.glTexture=h.glTexture),this},"setTexture")});n.exports=l},68531:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f,v,d,p){v===void 0&&(v=4),d===void 0&&(d=0),p===void 0&&(p=!1),T.call(this,c.GLOW,h),this.outerStrength=v,this.innerStrength=d,this.knockout=p,this.glcolor=[1,1,1,1],f!==void 0&&(this.color=f)},"Glow"),color:{get:r(function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},"get"),set:r(function(u){var h=this.glcolor;h[0]=(u>>16&255)/255,h[1]=(u>>8&255)/255,h[2]=(u&255)/255},"set")}});n.exports=l},37102:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f,v,d,p,g,m,x,E){d===void 0&&(d=.2),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=1),E===void 0&&(E=0),T.call(this,c.GRADIENT,h),this.alpha=d,this.size=E,this.fromX=p,this.fromY=g,this.toX=m,this.toY=x,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],f!=null&&(this.color1=f),v!=null&&(this.color2=v)},"Gradient"),color1:{get:r(function(){var u=this.glcolor1;return(u[0]<<16)+(u[1]<<8)+(u[2]|0)},"get"),set:r(function(u){var h=this.glcolor1;h[0]=u>>16&255,h[1]=u>>8&255,h[2]=u&255},"set")},color2:{get:r(function(){var u=this.glcolor2;return(u[0]<<16)+(u[1]<<8)+(u[2]|0)},"get"),set:r(function(u){var h=this.glcolor2;h[0]=u>>16&255,h[1]=u>>8&255,h[2]=u&255},"set")}});n.exports=l},86886:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f){f===void 0&&(f=1),T.call(this,c.PIXELATE,h),this.amount=f},"Pixelate")});n.exports=l},92322:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f,v,d,p,g,m,x){f===void 0&&(f=0),v===void 0&&(v=0),d===void 0&&(d=.1),p===void 0&&(p=1),m===void 0&&(m=6),x===void 0&&(x=1),T.call(this,c.SHADOW,h),this.x=f,this.y=v,this.decay=d,this.power=p,this.glcolor=[0,0,0,1],this.samples=m,this.intensity=x,g!==void 0&&(this.color=g)},"Shadow"),color:{get:r(function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},"get"),set:r(function(u){var h=this.glcolor;h[0]=(u>>16&255)/255,h[1]=(u>>8&255)/255,h[2]=(u&255)/255},"set")}});n.exports=l},39563:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f,v,d,p){f===void 0&&(f=.5),v===void 0&&(v=.5),d===void 0&&(d=3),p===void 0&&(p=!1),T.call(this,c.SHINE,h),this.speed=f,this.lineWidth=v,this.gradient=d,this.reveal=p},"Shine")});n.exports=l},56448:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f,v,d,p){f===void 0&&(f=.5),v===void 0&&(v=.5),d===void 0&&(d=.5),p===void 0&&(p=.5),T.call(this,c.VIGNETTE,h),this.x=f,this.y=v,this.radius=d,this.strength=p},"Vignette")});n.exports=l},38433:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72898),c=s(14811),l=new o({Extends:T,initialize:r(function(h,f,v,d,p){f===void 0&&(f=.1),v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=!1),T.call(this,c.WIPE,h),this.progress=0,this.wipeWidth=f,this.direction=v,this.axis=d,this.reveal=p},"Wipe")});n.exports=l},14811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};n.exports=C},66064:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),T=s(14811),c={Barrel:s(20122),Controller:s(72898),Bloom:s(32251),Blur:s(9047),Bokeh:s(27885),Circle:s(12578),ColorMatrix:s(15802),Displacement:s(44553),Glow:s(68531),Gradient:s(37102),Pixelate:s(86886),Shadow:s(92322),Shine:s(39563),Vignette:s(56448),Wipe:s(38433)};c=o(!1,c,T),n.exports=c},25305:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),T=s(23568),c=r(function(l,u,h){u.x=T(h,"x",0),u.y=T(h,"y",0),u.depth=T(h,"depth",0),u.flipX=T(h,"flipX",!1),u.flipY=T(h,"flipY",!1);var f=T(h,"scale",null);typeof f=="number"?u.setScale(f):f!==null&&(u.scaleX=T(f,"x",1),u.scaleY=T(f,"y",1));var v=T(h,"scrollFactor",null);typeof v=="number"?u.setScrollFactor(v):v!==null&&(u.scrollFactorX=T(v,"x",1),u.scrollFactorY=T(v,"y",1)),u.rotation=T(h,"rotation",0);var d=T(h,"angle",null);d!==null&&(u.angle=d),u.alpha=T(h,"alpha",1);var p=T(h,"origin",null);if(typeof p=="number")u.setOrigin(p);else if(p!==null){var g=T(p,"x",.5),m=T(p,"y",.5);u.setOrigin(g,m)}u.blendMode=T(h,"blendMode",o.NORMAL),u.visible=T(h,"visible",!0);var x=T(h,"add",!0);return x&&l.sys.displayList.add(u),u.preUpdate&&l.sys.updateList.add(u),u},"BuildGameObject");n.exports=c},13059:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23568),T=r(function(c,l){var u=o(l,"anims",null);if(u===null)return c;if(typeof u=="string")c.anims.play(u);else if(typeof u=="object"){var h=c.anims,f=o(u,"key",void 0);if(f){var v=o(u,"startFrame",void 0),d=o(u,"delay",0),p=o(u,"repeat",0),g=o(u,"repeatDelay",0),m=o(u,"yoyo",!1),x=o(u,"play",!1),E=o(u,"delayedPlay",0),A={key:f,delay:d,repeat:p,repeatDelay:g,yoyo:m,startFrame:v};x?h.play(A):E>0?h.playAfterDelay(A,E):h.load(A)}}return c},"BuildGameObjectAnimation");n.exports=T},8050:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(73162),c=s(37277),l=s(51708),u=s(44594),h=s(19186),f=new o({Extends:T,initialize:r(function(d){T.call(this,d),this.sortChildrenFlag=!1,this.scene=d,this.systems=d.sys,this.events=d.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(u.BOOT,this.boot,this),this.events.on(u.START,this.start,this)},"DisplayList"),boot:r(function(){this.events.once(u.DESTROY,this.destroy,this)},"boot"),addChildCallback:r(function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.parentContainer&&v.parentContainer.remove(v),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(l.ADDED_TO_SCENE,v,this.scene),this.events.emit(u.ADDED_TO_SCENE,v,this.scene))},"addChildCallback"),removeChildCallback:r(function(v){this.queueDepthSort(),v.displayList=null,v.emit(l.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,v,this.scene)},"removeChildCallback"),start:r(function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},"start"),queueDepthSort:r(function(){this.sortChildrenFlag=!0},"queueDepthSort"),depthSort:r(function(){this.sortChildrenFlag&&(h(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},"depthSort"),sortByDepth:r(function(v,d){return v._depth-d._depth},"sortByDepth"),getChildren:r(function(){return this.list},"getChildren"),shutdown:r(function(){for(var v=this.list,d=v.length;d--;)v[d]&&v[d].destroy(!0);v.length=0,this.events.off(u.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null,this.events=null},"destroy")});c.register("DisplayList",f,"displayList"),n.exports=f},95643:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(53774),c=s(45893),l=s(50792),u=s(51708),h=s(44594),f=new o({Extends:l,initialize:r(function(d,p){l.call(this),this.scene=d,this.displayList=null,this.type=p,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(u.ADDED_TO_SCENE,this.addedToScene,this),this.on(u.REMOVED_FROM_SCENE,this.removedFromScene,this),d.sys.queueDepthSort()},"GameObject"),setActive:r(function(v){return this.active=v,this},"setActive"),setName:r(function(v){return this.name=v,this},"setName"),setState:r(function(v){return this.state=v,this},"setState"),setDataEnabled:r(function(){return this.data||(this.data=new c(this)),this},"setDataEnabled"),setData:r(function(v,d){return this.data||(this.data=new c(this)),this.data.set(v,d),this},"setData"),incData:r(function(v,d){return this.data||(this.data=new c(this)),this.data.inc(v,d),this},"incData"),toggleData:r(function(v){return this.data||(this.data=new c(this)),this.data.toggle(v),this},"toggleData"),getData:r(function(v){return this.data||(this.data=new c(this)),this.data.get(v)},"getData"),setInteractive:r(function(v,d,p){return this.scene.sys.input.enable(this,v,d,p),this},"setInteractive"),disableInteractive:r(function(v){return v===void 0&&(v=!1),this.scene.sys.input.disable(this,v),this},"disableInteractive"),removeInteractive:r(function(v){return v===void 0&&(v=!1),this.scene.sys.input.clear(this),v&&this.scene.sys.input.resetCursor(),this.input=void 0,this},"removeInteractive"),addedToScene:r(function(){},"addedToScene"),removedFromScene:r(function(){},"removedFromScene"),update:r(function(){},"update"),toJSON:r(function(){return T(this)},"toJSON"),willRender:r(function(v){var d=this.displayList&&this.displayList.active?this.displayList.willRender(v):!0;return!(!d||f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},"willRender"),getIndexList:r(function(){for(var v=this,d=this.parentContainer,p=[];d&&(p.unshift(d.getIndex(v)),v=d,d.parentContainer);)d=d.parentContainer;return this.displayList?p.unshift(this.displayList.getIndex(v)):p.unshift(this.scene.sys.displayList.getIndex(v)),p},"getIndexList"),addToDisplayList:r(function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(u.ADDED_TO_SCENE,this,this.scene),v.events.emit(h.ADDED_TO_SCENE,this,this.scene)),this},"addToDisplayList"),addToUpdateList:r(function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},"addToUpdateList"),removeFromDisplayList:r(function(){var v=this.displayList||this.scene.sys.displayList;return v&&v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(u.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(h.REMOVED_FROM_SCENE,this,this.scene)),this},"removeFromDisplayList"),removeFromUpdateList:r(function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},"removeFromUpdateList"),getDisplayList:r(function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},"getDisplayList"),destroy:r(function(v){!this.scene||this.ignoreDestroy||(v===void 0&&(v=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(u.DESTROY,this,v),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)},"destroy")});f.RENDER_MASK=15,n.exports=f},44603:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(37277),c=s(44594),l=new o({initialize:r(function(h){this.scene=h,this.systems=h.sys,this.events=h.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},"GameObjectCreator"),boot:r(function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},"start"),shutdown:r(function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null},"destroy")});l.register=function(u,h){l.prototype.hasOwnProperty(u)||(l.prototype[u]=h)},l.remove=function(u){l.prototype.hasOwnProperty(u)&&delete l.prototype[u]},T.register("GameObjectCreator",l,"make"),n.exports=l},39429:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(37277),c=s(44594),l=new o({initialize:r(function(h){this.scene=h,this.systems=h.sys,this.events=h.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},"GameObjectFactory"),boot:r(function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},"start"),existing:r(function(u){return(u.renderCanvas||u.renderWebGL)&&this.displayList.add(u),u.preUpdate&&this.updateList.add(u),u},"existing"),shutdown:r(function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null},"destroy")});l.register=function(u,h){l.prototype.hasOwnProperty(u)||(l.prototype[u]=h)},l.remove=function(u){l.prototype.hasOwnProperty(u)&&delete l.prototype[u]},T.register("GameObjectFactory",l,"add"),n.exports=l},91296:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61340),T=new o,c=new o,l=new o,u={camera:T,sprite:c,calc:l},h=r(function(f,v,d){var p=T,g=c,m=l;return g.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),p.copyFrom(v.matrix),d?(p.multiplyWithOffset(d,-v.scrollX*f.scrollFactorX,-v.scrollY*f.scrollFactorY),g.e=f.x,g.f=f.y):(g.e-=v.scrollX*f.scrollFactorX,g.f-=v.scrollY*f.scrollFactorY),p.multiply(g,m),u},"GetCalcMatrix");n.exports=h},45027:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(25774),c=s(37277),l=s(44594),u=new o({Extends:T,initialize:r(function(f){T.call(this),this.checkQueue=!0,this.scene=f,this.systems=f.sys,f.sys.events.once(l.BOOT,this.boot,this),f.sys.events.on(l.START,this.start,this)},"UpdateList"),boot:r(function(){this.systems.events.once(l.DESTROY,this.destroy,this)},"boot"),start:r(function(){var h=this.systems.events;h.on(l.PRE_UPDATE,this.update,this),h.on(l.UPDATE,this.sceneUpdate,this),h.once(l.SHUTDOWN,this.shutdown,this)},"start"),sceneUpdate:r(function(h,f){for(var v=this._active,d=v.length,p=0;p<d;p++){var g=v[p];g.active&&g.preUpdate.call(g,h,f)}},"sceneUpdate"),shutdown:r(function(){for(var h=this._active.length;h--;)this._active[h].destroy(!0);for(h=this._pending.length;h--;)this._pending[h].destroy(!0);for(h=this._destroy.length;h--;)this._destroy[h].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var f=this.systems.events;f.off(l.PRE_UPDATE,this.update,this),f.off(l.UPDATE,this.sceneUpdate,this),f.off(l.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.systems.events.off(l.START,this.start,this),this.scene=null,this.systems=null},"destroy")});c.register("UpdateList",u,"updateList"),n.exports=u},3217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l,u,h,f,v,d,p,g,m,x,E){var A=T.x-o.displayOriginX+l,R=T.y-o.displayOriginY+u,P=A+T.w,O=R+T.h,L=h.a,w=h.b,M=h.c,b=h.d,D=h.e,F=h.f,N=A*L+R*M+D,B=A*w+R*b+F,Y=A*L+O*M+D,W=A*w+O*b+F,z=P*L+O*M+D,X=P*w+O*b+F,H=P*L+R*M+D,V=P*w+R*b+F;f&&(N=Math.round(N),B=Math.round(B),Y=Math.round(Y),W=Math.round(W),z=Math.round(z),X=Math.round(X),H=Math.round(H),V=Math.round(V)),s.batchQuad(o,N,B,Y,W,z,X,H,V,c.u0,c.v0,c.u1,c.v1,v,d,p,g,m,x,E)},"BatchChar");n.exports=C},53048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){if(T===void 0&&(T=!1),c===void 0)return c={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},c;var l=s.text,u=l.length,h=s.maxWidth,f=s.wordWrapCharCode,v=Number.MAX_VALUE,d=Number.MAX_VALUE,p=0,g=0,m=s.fontData.chars,x=s.fontData.lineHeight,E=s.letterSpacing,A=s.lineSpacing,R=0,P=0,O=0,L=null,w=s._align,M=0,b=0,D=s.fontSize/s.fontData.size,F=D*s.scaleX,N=D*s.scaleY,B=null,Y=0,W=[],z=Number.MAX_VALUE,X=0,H=0,V=0,G,k,U,I=[],$=[],K=null,Z=r(function(Vt,ne){for(var Ft=0,Wt=0;Wt<Vt.length;Wt++){var Kt=Vt.charCodeAt(Wt),Ce=ne.chars[Kt];Ce&&(Ft+=Ce.xAdvance)}return Ft*F},"measureTextWidth");if(h>0){U=l.split(`
`);var J=[];for(G=0;G<U.length;G++){var Q=U[G],q="",j="",tt="",st="";for(k=0;k<Q.length;k++)if(O=Q.charCodeAt(k),q+=Q[k],O===f||k===Q.length-1){st=tt+q;var _=Z(st,s.fontData);_<=h?tt=st:(j=j.slice(0,-1),j+=(j?`
`:"")+tt,tt=q),q=""}j=j.slice(0,-1),j+=(j?`
`:"")+tt,J.push(j)}l=J.join(`
`),c.wrappedText=l,u=l.length}var ht=0;for(G=0;G<u;G++){if(O=l.charCodeAt(G),O===10){K!==null&&(I.push({word:K.word,i:K.i,x:K.x*F,y:K.y*N,w:K.w*F,h:K.h*N}),K=null),B=null,W[H]=V,V>X&&(X=V),V<z&&(z=V),H++,V=0,R=0,P=(x+A)*H;continue}if(L=m[O],!!L){if(M=R,b=P,B!==null){var ot=L.kerning[Y];M+=ot!==void 0?ot:0}v>M&&(v=M),d>b&&(d=b);var lt=M+L.xAdvance,et=b+x;p<lt&&(p=lt),g<et&&(g=et);var nt=L.xOffset+L.xAdvance+(ot!==void 0?ot:0);O===f?K!==null&&(I.push({word:K.word,i:K.i,x:K.x*F,y:K.y*N,w:K.w*F,h:K.h*N}),K=null):(K===null&&(K={word:"",i:ht,x:R,y:P,w:0,h:x}),K.word=K.word.concat(l[G]),K.w+=nt),$.push({i:ht,idx:G,char:l[G],code:O,x:(L.xOffset+M)*D,y:(L.yOffset+P)*D,w:L.width*D,h:L.height*D,t:P*D,r:lt*D,b:x*D,line:H,glyph:L}),R+=L.xAdvance+E+(ot!==void 0?ot:0),B=L,Y=O,V=lt*D,ht++}}if(K!==null&&I.push({word:K.word,i:K.i,x:K.x*F,y:K.y*N,w:K.w*F,h:K.h*N}),W[H]=V,V>X&&(X=V),V<z&&(z=V),w>0)for(var at=0;at<$.length;at++){var ct=$[at];if(w===1){var Et=(X-W[ct.line])/2;ct.x+=Et,ct.r+=Et}else if(w===2){var bt=X-W[ct.line];ct.x+=bt,ct.r+=bt}}var yt=c.local,St=c.global;return U=c.lines,yt.x=v*D,yt.y=d*D,yt.width=p*D,yt.height=g*D,St.x=s.x-s._displayOriginX+v*F,St.y=s.y-s._displayOriginY+d*N,St.width=p*F,St.height=g*N,U.shortest=z,U.longest=X,U.lengths=W,o&&(yt.x=Math.ceil(yt.x),yt.y=Math.ceil(yt.y),yt.width=Math.ceil(yt.width),yt.height=Math.ceil(yt.height),St.x=Math.ceil(St.x),St.y=Math.ceil(St.y),St.width=Math.ceil(St.width),St.height=Math.ceil(St.height),U.shortest=Math.ceil(z),U.longest=Math.ceil(X)),T&&(s._displayOriginX=s.originX*yt.width,s._displayOriginY=s.originY*yt.height,St.x=s.x-s._displayOriginX*s.scaleX,St.y=s.y-s._displayOriginY*s.scaleY,o&&(St.x=Math.ceil(St.x),St.y=Math.ceil(St.y))),c.words=I,c.characters=$,c.lines.height=x,c.scale=D,c.scaleX=s.scaleX,c.scaleY=s.scaleY,c},"GetBitmapTextSize");n.exports=C},61327:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(21859),T=r(function(c,l,u,h,f,v,d){var p=c.sys.textures.get(u),g=p.get(h),m=c.sys.cache.xml.get(f);if(g&&m){var x=o(m,g,v,d,p);return c.sys.cache.bitmapFont.add(l,{data:x,texture:u,frame:h,fromAtlas:!0}),!0}else return!1},"ParseFromAtlas");n.exports=T},6925:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),T=r(function(c,l){var u=l.width,h=l.height,f=Math.floor(u/2),v=Math.floor(h/2),d=o(l,"chars","");if(d!==""){var p=o(l,"image",""),g=c.sys.textures.getFrame(p),m=g.cutX,x=g.cutY,E=g.source.width,A=g.source.height,R=o(l,"offset.x",0),P=o(l,"offset.y",0),O=o(l,"spacing.x",0),L=o(l,"spacing.y",0),w=o(l,"lineSpacing",0),M=o(l,"charsPerRow",null);M===null&&(M=E/u,M>d.length&&(M=d.length));for(var b=R,D=P,F={retroFont:!0,font:p,size:u,lineHeight:h+w,chars:{}},N=0,B=0;B<d.length;B++){var Y=d.charCodeAt(B),W=(m+b)/E,z=(x+D)/A,X=(m+b+u)/E,H=(x+D+h)/A;F.chars[Y]={x:b,y:D,width:u,height:h,centerX:f,centerY:v,xOffset:0,yOffset:0,xAdvance:u,data:{},kerning:{},u0:W,v0:z,u1:X,v1:H},N++,N===M?(N=0,b=R,D+=h+L):b+=u+O}var V={data:F,frame:null,texture:p};return V}},"ParseRetroFont");n.exports=T},21859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(o,T){return parseInt(o.getAttribute(T),10)}r(C,"getValue");var s=r(function(o,T,c,l,u){c===void 0&&(c=0),l===void 0&&(l=0);var h=T.cutX,f=T.cutY,v=T.source.width,d=T.source.height,p=T.sourceIndex,g={},m=o.getElementsByTagName("info")[0],x=o.getElementsByTagName("common")[0];g.font=m.getAttribute("face"),g.size=C(m,"size"),g.lineHeight=C(x,"lineHeight")+l,g.chars={};var E=o.getElementsByTagName("char"),A=T!==void 0&&T.trimmed;if(A)var R=T.height,P=T.width;for(var O=0;O<E.length;O++){var L=E[O],w=C(L,"id"),M=String.fromCharCode(w),b=C(L,"x"),D=C(L,"y"),F=C(L,"width"),N=C(L,"height");A&&(b<P&&(P=b),D<R&&(R=D)),A&&R!==0&&P!==0&&(b-=T.x,D-=T.y);var B=(h+b)/v,Y=(f+D)/d,W=(h+b+F)/v,z=(f+D+N)/d;if(g.chars[w]={x:b,y:D,width:F,height:N,centerX:Math.floor(F/2),centerY:Math.floor(N/2),xOffset:C(L,"xoffset"),yOffset:C(L,"yoffset"),xAdvance:C(L,"xadvance")+c,data:{},kerning:{},u0:B,v0:Y,u1:W,v1:z},u&&F!==0&&N!==0){var X=u.add(M,p,b,D,F,N);X&&X.setUVs(F,N,B,Y,W,z)}}var H=o.getElementsByTagName("kerning");for(O=0;O<H.length;O++){var V=H[O],G=C(V,"first"),k=C(V,"second"),U=C(V,"amount");g.chars[k].kerning[G]=U}return g},"ParseXMLBitmapFont");n.exports=s},196:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87662),T=s(79291),c={Parse:s(6925)};c=T(!1,c,o),n.exports=c},87662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};n.exports=C},2638:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22186),T=s(83419),c=s(12310),l=new T({Extends:o,Mixins:[c],initialize:r(function(h,f,v,d,p,g,m){o.call(this,h,f,v,d,p,g,m),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},"DynamicBitmapText"),setSize:r(function(u,h){return this.cropWidth=u,this.cropHeight=h,this},"setSize"),setDisplayCallback:r(function(u){return this.displayCallback=u,this},"setDisplayCallback"),setScrollX:r(function(u){return this.scrollX=u,this},"setScrollX"),setScrollY:r(function(u){return this.scrollY=u,this},"setScrollY")});n.exports=l},86741:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20926),T=r(function(c,l,u,h){var f=l._text,v=f.length,d=c.currentContext;if(!(v===0||!o(c,d,l,u,h))){u.addToRenderList(l);var p=l.fromAtlas?l.frame:l.texture.frames.__BASE,g=l.displayCallback,m=l.callbackData,x=l.fontData.chars,E=l.fontData.lineHeight,A=l._letterSpacing,R=0,P=0,O=0,L=null,w=0,M=0,b=0,D=0,F=0,N=0,B=null,Y=0,W=l.frame.source.image,z=p.cutX,X=p.cutY,H=0,V=0,G=l._fontSize/l.fontData.size,k=l._align,U=0,I=0;l.getTextBounds(!1);var $=l._bounds.lines;k===1?I=($.longest-$.lengths[0])/2:k===2&&(I=$.longest-$.lengths[0]),d.translate(-l.displayOriginX,-l.displayOriginY);var K=u.roundPixels;l.cropWidth>0&&l.cropHeight>0&&(d.beginPath(),d.rect(0,0,l.cropWidth,l.cropHeight),d.clip());for(var Z=0;Z<v;Z++){if(V=G,H=0,O=f.charCodeAt(Z),O===10){U++,k===1?I=($.longest-$.lengths[U])/2:k===2&&(I=$.longest-$.lengths[U]),R=0,P+=E,B=null;continue}if(L=x[O],!!L){if(w=z+L.x,M=X+L.y,b=L.width,D=L.height,F=L.xOffset+R-l.scrollX,N=L.yOffset+P-l.scrollY,B!==null){var J=L.kerning[Y];F+=J!==void 0?J:0}if(g){m.index=Z,m.charCode=O,m.x=F,m.y=N,m.scale=V,m.rotation=H,m.data=L.data;var Q=g(m);F=Q.x,N=Q.y,V=Q.scale,H=Q.rotation}F*=V,N*=V,F+=I,R+=L.xAdvance+A+(J!==void 0?J:0),B=L,Y=O,!(b===0||D===0||O===32)&&(K&&(F=Math.round(F),N=Math.round(N)),d.save(),d.translate(F,N),d.rotate(H),d.scale(V,V),d.drawImage(W,w,M,b,D,0,0,b,D),d.restore())}}d.restore()}},"DynamicBitmapTextCanvasRenderer");n.exports=T},11164:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2638),T=s(25305),c=s(44603),l=s(23568);c.register("dynamicBitmapText",function(u,h){u===void 0&&(u={});var f=l(u,"font",""),v=l(u,"text",""),d=l(u,"size",!1),p=new o(this.scene,0,0,f,v,d);return h!==void 0&&(u.add=h),T(this.scene,p,u),p})},72566:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2638),T=s(39429);T.register("dynamicBitmapText",function(c,l,u,h,f){return this.displayList.add(new o(this.scene,c,l,u,h,f))})},12310:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(73482),c=s(86741),n.exports={renderWebGL:T,renderCanvas:c}},73482:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=s(61340),c=s(70554),l=new T,u=r(function(h,f,v,d){var p=f.text,g=p.length;if(g!==0){v.addToRenderList(f);var m=h.pipelines.set(f.pipeline,f),x=o(f,v,d);h.pipelines.preBatch(f);var E=x.sprite,A=x.calc,R=l,P=f.cropWidth>0||f.cropHeight>0;P&&(m.flush(),h.pushScissor(A.tx,A.ty,f.cropWidth*A.scaleX,f.cropHeight*A.scaleY));var O=f.frame,L=O.glTexture,w=f.tintFill,M=c.getTintAppendFloatAlpha(f.tintTopLeft,v.alpha*f._alphaTL),b=c.getTintAppendFloatAlpha(f.tintTopRight,v.alpha*f._alphaTR),D=c.getTintAppendFloatAlpha(f.tintBottomLeft,v.alpha*f._alphaBL),F=c.getTintAppendFloatAlpha(f.tintBottomRight,v.alpha*f._alphaBR),N=m.setGameObject(f),B=0,Y=0,W=0,z=0,X=f.letterSpacing,H,V=0,G=0,k,U=f.scrollX,I=f.scrollY,$=f.fontData,K=$.chars,Z=$.lineHeight,J=f.fontSize/$.size,Q=0,q=f._align,j=0,tt=0,st=f.getTextBounds(!1);f.maxWidth>0&&(p=st.wrappedText,g=p.length);var _=f._bounds.lines;q===1?tt=(_.longest-_.lengths[0])/2:q===2&&(tt=_.longest-_.lengths[0]);for(var ht=v.roundPixels,ot=f.displayCallback,lt=f.callbackData,et=0;et<g;et++){if(W=p.charCodeAt(et),W===10){j++,q===1?tt=(_.longest-_.lengths[j])/2:q===2&&(tt=_.longest-_.lengths[j]),B=0,Y+=Z,k=null;continue}if(H=K[W],!!H){V=H.width,G=H.height;var nt=H.xOffset+B-U,at=H.yOffset+Y-I;if(k!==null){var ct=H.kerning[z]||0;nt+=ct,B+=ct}if(B+=H.xAdvance+X,k=H,z=W,!(V===0||G===0||W===32)){if(J=f.fontSize/f.fontData.size,Q=0,ot){lt.color=0,lt.tint.topLeft=M,lt.tint.topRight=b,lt.tint.bottomLeft=D,lt.tint.bottomRight=F,lt.index=et,lt.charCode=W,lt.x=nt,lt.y=at,lt.scale=J,lt.rotation=Q,lt.data=H.data;var Et=ot(lt);nt=Et.x,at=Et.y,J=Et.scale,Q=Et.rotation,Et.color?(M=Et.color,b=Et.color,D=Et.color,F=Et.color):(M=Et.tint.topLeft,b=Et.tint.topRight,D=Et.tint.bottomLeft,F=Et.tint.bottomRight),M=c.getTintAppendFloatAlpha(M,v.alpha*f._alphaTL),b=c.getTintAppendFloatAlpha(b,v.alpha*f._alphaTR),D=c.getTintAppendFloatAlpha(D,v.alpha*f._alphaBL),F=c.getTintAppendFloatAlpha(F,v.alpha*f._alphaBR)}nt*=J,at*=J,nt-=f.displayOriginX,at-=f.displayOriginY,nt+=tt,R.applyITRS(nt,at,Q,J,J),A.multiply(R,E);var bt=H.u0,yt=H.v0,St=H.u1,Vt=H.v1,ne=V,Ft=G,Wt=E.e,Kt=E.f,Ce=Ft*E.c+E.e,qs=Ft*E.d+E.f,_s=ne*E.a+Ft*E.c+E.e,tr=ne*E.b+Ft*E.d+E.f,er=ne*E.a+E.e,ir=ne*E.b+E.f;ht&&(Wt=Math.round(Wt),Kt=Math.round(Kt),Ce=Math.round(Ce),qs=Math.round(qs),_s=Math.round(_s),tr=Math.round(tr),er=Math.round(er),ir=Math.round(ir)),m.shouldFlush(6)&&(m.flush(),N=m.setGameObject(f)),m.batchQuad(f,Wt,Kt,Ce,qs,_s,tr,er,ir,bt,yt,St,Vt,M,b,D,F,w,L,N)}}}P&&(m.flush(),h.popScissor()),h.pipelines.postBatch(f)}},"DynamicBitmapTextWebGLRenderer");n.exports=u},22186:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(45319),c=s(31401),l=s(95643),u=s(53048),h=s(61327),f=s(21859),v=s(87841),d=s(18658),p=new o({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Tint,c.Transform,c.Visible,d],initialize:r(function(m,x,E,A,R,P,O){R===void 0&&(R=""),O===void 0&&(O=0),l.call(this,m,"BitmapText"),this.font=A;var L=this.scene.sys.cache.bitmapFont.get(A);if(!L)throw new Error("Invalid BitmapText key: "+A);this.fontData=L.data,this._text="",this._fontSize=P||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=O,this._bounds=u(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=L.fromAtlas,this.setTexture(L.texture,L.frame),this.setPosition(x,E),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(R)},"BitmapText"),setLeftAlign:r(function(){return this._align=p.ALIGN_LEFT,this._dirty=!0,this},"setLeftAlign"),setCenterAlign:r(function(){return this._align=p.ALIGN_CENTER,this._dirty=!0,this},"setCenterAlign"),setRightAlign:r(function(){return this._align=p.ALIGN_RIGHT,this._dirty=!0,this},"setRightAlign"),setFontSize:r(function(g){return this._fontSize=g,this._dirty=!0,this},"setFontSize"),setLetterSpacing:r(function(g){return g===void 0&&(g=0),this._letterSpacing=g,this._dirty=!0,this},"setLetterSpacing"),setLineSpacing:r(function(g){return g===void 0&&(g=0),this.lineSpacing=g,this},"setLineSpacing"),setText:r(function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this.text&&(this._text=g.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},"setText"),setDropShadow:r(function(g,m,x,E){return g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),E===void 0&&(E=.5),this.dropShadowX=g,this.dropShadowY=m,this.dropShadowColor=x,this.dropShadowAlpha=E,this},"setDropShadow"),setCharacterTint:r(function(g,m,x,E,A,R,P){g===void 0&&(g=0),m===void 0&&(m=1),x===void 0&&(x=!1),E===void 0&&(E=-1),A===void 0&&(A=E,R=E,P=E);var O=this.text.length;m===-1&&(m=O),g<0&&(g=O+g),g=T(g,0,O-1);for(var L=T(g+m,g,O),w=this.charColors,M=g;M<L;M++){var b=w[M];if(E===-1)w[M]=null;else{var D=x?1:0;b?(b.tintEffect=D,b.tintTL=E,b.tintTR=A,b.tintBL=R,b.tintBR=P):w[M]={tintEffect:D,tintTL:E,tintTR:A,tintBL:R,tintBR:P}}}return this},"setCharacterTint"),setWordTint:r(function(g,m,x,E,A,R,P){m===void 0&&(m=1);for(var O=this.getTextBounds(),L=O.words,w=typeof g=="number",M=0,b=0;b<L.length;b++){var D=L[b];if((w&&b===g||!w&&D.word===g)&&(this.setCharacterTint(D.i,D.word.length,x,E,A,R,P),M++,M===m))return this}return this},"setWordTint"),getTextBounds:r(function(g){var m=this._bounds;return(this._dirty||g||this.scaleX!==m.scaleX||this.scaleY!==m.scaleY)&&(u(this,g,!0,m),this._dirty=!1),m},"getTextBounds"),getCharacterAt:r(function(g,m,x){for(var E=this.getLocalPoint(g,m,null,x),A=this.getTextBounds(),R=A.characters,P=new v,O=0;O<R.length;O++){var L=R[O];if(P.setTo(L.x,L.t,L.r-L.x,L.b),P.contains(E.x,E.y))return L}return null},"getCharacterAt"),updateDisplayOrigin:r(function(){return this._dirty=!0,this.getTextBounds(!1),this},"updateDisplayOrigin"),setFont:r(function(g,m,x){m===void 0&&(m=this._fontSize),x===void 0&&(x=this._align);var E=this.scene.sys.cache.bitmapFont.get(g);return E&&(this.font=g,this.fontData=E.data,this._fontSize=m,this._align=x,this.fromAtlas=E.fromAtlas===!0,this.setTexture(E.texture,E.frame),u(this,!1,!0,this._bounds)),this},"setFont"),setMaxWidth:r(function(g,m){return this._maxWidth=g,this._dirty=!0,m!==void 0&&(this.wordWrapCharCode=m),this},"setMaxWidth"),setDisplaySize:r(function(g,m){this.setScale(1,1),this.getTextBounds(!1);var x=g/this.width,E=m/this.height;return this.setScale(x,E),this},"setDisplaySize"),align:{set:r(function(g){this._align=g,this._dirty=!0},"set"),get:r(function(){return this._align},"get")},text:{set:r(function(g){this.setText(g)},"set"),get:r(function(){return this._text},"get")},fontSize:{set:r(function(g){this._fontSize=g,this._dirty=!0},"set"),get:r(function(){return this._fontSize},"get")},letterSpacing:{set:r(function(g){this._letterSpacing=g,this._dirty=!0},"set"),get:r(function(){return this._letterSpacing},"get")},lineSpacing:{set:r(function(g){this._lineSpacing=g,this._dirty=!0},"set"),get:r(function(){return this._lineSpacing},"get")},maxWidth:{set:r(function(g){this._maxWidth=g,this._dirty=!0},"set"),get:r(function(){return this._maxWidth},"get")},width:{get:r(function(){return this.getTextBounds(!1),this._bounds.global.width},"get")},height:{get:r(function(){return this.getTextBounds(!1),this._bounds.global.height},"get")},displayWidth:{set:r(function(g){this.setScaleX(1),this.getTextBounds(!1);var m=g/this.width;this.setScaleX(m)},"set"),get:r(function(){return this.width},"get")},displayHeight:{set:r(function(g){this.setScaleY(1),this.getTextBounds(!1);var m=g/this.height;this.setScaleY(m)},"set"),get:r(function(){return this.height},"get")},toJSON:r(function(){var g=c.ToJSON(this),m={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return g.data=m,g},"toJSON"),preDestroy:r(function(){this.charColors.length=0,this._bounds=null,this.fontData=null},"preDestroy")});p.ALIGN_LEFT=0,p.ALIGN_CENTER=1,p.ALIGN_RIGHT=2,p.ParseFromAtlas=h,p.ParseXMLBitmapFont=f,n.exports=p},37289:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20926),T=r(function(c,l,u,h){var f=l._text,v=f.length,d=c.currentContext;if(!(v===0||!o(c,d,l,u,h))){u.addToRenderList(l);var p=l.fromAtlas?l.frame:l.texture.frames.__BASE,g=l.fontData.chars,m=l.fontData.lineHeight,x=l._letterSpacing,E=l._lineSpacing,A=0,R=0,P=0,O=null,L=0,w=0,M=0,b=0,D=0,F=0,N=null,B=0,Y=p.source.image,W=p.cutX,z=p.cutY,X=l._fontSize/l.fontData.size,H=l._align,V=0,G=0,k=l.getTextBounds(!1);l.maxWidth>0&&(f=k.wrappedText,v=f.length);var U=l._bounds.lines;H===1?G=(U.longest-U.lengths[0])/2:H===2&&(G=U.longest-U.lengths[0]),d.translate(-l.displayOriginX,-l.displayOriginY);for(var I=u.roundPixels,$=0;$<v;$++){if(P=f.charCodeAt($),P===10){V++,H===1?G=(U.longest-U.lengths[V])/2:H===2&&(G=U.longest-U.lengths[V]),A=0,R+=m+E,N=null;continue}if(O=g[P],!!O){if(L=W+O.x,w=z+O.y,M=O.width,b=O.height,D=O.xOffset+A,F=O.yOffset+R,N!==null){var K=O.kerning[B];D+=K!==void 0?K:0}D*=X,F*=X,D+=G,A+=O.xAdvance+x+(K!==void 0?K:0),N=O,B=P,!(M===0||b===0||P===32)&&(I&&(D=Math.round(D),F=Math.round(F)),d.save(),d.translate(D,F),d.scale(X,X),d.drawImage(Y,L,w,M,b,0,0,M,b),d.restore())}}d.restore()}},"BitmapTextCanvasRenderer");n.exports=T},57336:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22186),T=s(25305),c=s(44603),l=s(23568),u=s(35154);c.register("bitmapText",function(h,f){h===void 0&&(h={});var v=u(h,"font",""),d=l(h,"text",""),p=l(h,"size",!1),g=u(h,"align",0),m=new o(this.scene,0,0,v,d,p,g);return f!==void 0&&(h.add=f),T(this.scene,m,h),m})},34914:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22186),T=s(39429);T.register("bitmapText",function(c,l,u,h,f,v){return this.displayList.add(new o(this.scene,c,l,u,h,f,v))})},18658:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(33590),c=s(37289),n.exports={renderWebGL:T,renderCanvas:c}},33590:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(3217),T=s(91296),c=s(70554),l=r(function(u,h,f,v){var d=h._text,p=d.length;if(p!==0){f.addToRenderList(h);var g=u.pipelines.set(h.pipeline,h),m=T(h,f,v).calc;u.pipelines.preBatch(h);var x=f.roundPixels,E=f.alpha,A=h.charColors,R=h.tintFill,P=c.getTintAppendFloatAlpha,O=P(h.tintTopLeft,E*h._alphaTL),L=P(h.tintTopRight,E*h._alphaTR),w=P(h.tintBottomLeft,E*h._alphaBL),M=P(h.tintBottomRight,E*h._alphaBR),b=h.frame.glTexture,D=g.setGameObject(h),F=h.getTextBounds(!1),N,B,Y,W=F.characters,z=h.dropShadowX,X=h.dropShadowY,H=z!==0||X!==0;if(H){var V=h.dropShadowColor,G=h.dropShadowAlpha,k=P(V,E*G*h._alphaTL),U=P(V,E*G*h._alphaTR),I=P(V,E*G*h._alphaBL),$=P(V,E*G*h._alphaBR);for(N=0;N<W.length;N++)B=W[N],Y=B.glyph,!(B.code===32||Y.width===0||Y.height===0)&&o(g,h,B,Y,z,X,m,x,k,U,I,$,1,b,D)}for(N=0;N<W.length;N++)if(B=W[N],Y=B.glyph,!(B.code===32||Y.width===0||Y.height===0))if(g.shouldFlush(6)&&(g.flush(),D=g.setGameObject(h)),A[B.i]){var K=A[B.i],Z=K.tintEffect,J=P(K.tintTL,E*h._alphaTL),Q=P(K.tintTR,E*h._alphaTR),q=P(K.tintBL,E*h._alphaBL),j=P(K.tintBR,E*h._alphaBR);o(g,h,B,Y,0,0,m,x,J,Q,q,j,Z,b,D)}else o(g,h,B,Y,0,0,m,x,O,L,w,M,R,b,D);u.pipelines.postBatch(h)}},"BitmapTextWebGLRenderer");n.exports=l},6107:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(48011),T=s(46590),c=s(83419),l=s(31401),u=s(4327),h=s(95643),f=s(73162),v=new c({Extends:h,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.Texture,l.Transform,l.Visible,o],initialize:r(function(p,g,m,x,E){h.call(this,p,"Blitter"),this.setTexture(x,E),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(),this.children=new f,this.renderList=[],this.dirty=!1},"Blitter"),create:r(function(d,p,g,m,x){m===void 0&&(m=!0),x===void 0&&(x=this.children.length),g===void 0?g=this.frame:g instanceof u||(g=this.texture.get(g));var E=new T(this,d,p,g,m);return this.children.addAt(E,x,!1),this.dirty=!0,E},"create"),createFromCallback:r(function(d,p,g,m){for(var x=this.createMultiple(p,g,m),E=0;E<x.length;E++){var A=x[E];d.call(this,A,E)}return x},"createFromCallback"),createMultiple:r(function(d,p,g){p===void 0&&(p=this.frame.name),g===void 0&&(g=!0),Array.isArray(p)||(p=[p]);var m=[],x=this;return p.forEach(function(E){for(var A=0;A<d;A++)m.push(x.create(0,0,E,g))}),m},"createMultiple"),childCanRender:r(function(d){return d.visible&&d.alpha>0},"childCanRender"),getRenderList:r(function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},"getRenderList"),clear:r(function(){this.children.removeAll(),this.dirty=!0},"clear"),preDestroy:r(function(){this.children.destroy(),this.renderList=[]},"preDestroy")});n.exports=v},72396:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=o.getRenderList();if(l.length!==0){var u=s.currentContext,h=T.alpha*o.alpha;if(h!==0){T.addToRenderList(o),u.globalCompositeOperation=s.blendModes[o.blendMode],u.imageSmoothingEnabled=!o.frame.source.scaleMode;var f=o.x-T.scrollX*o.scrollFactorX,v=o.y-T.scrollY*o.scrollFactorY;u.save(),c&&c.copyToContext(u);for(var d=T.roundPixels,p=0;p<l.length;p++){var g=l[p],m=g.flipX||g.flipY,x=g.frame,E=x.canvasData,A=x.x,R=x.y,P=1,O=1,L=g.alpha*h;L!==0&&(u.globalAlpha=L,m?(g.flipX&&(P=-1,A-=E.width),g.flipY&&(O=-1,R-=E.height),E.width>0&&E.height>0&&(u.save(),u.translate(g.x+f,g.y+v),u.scale(P,O),u.drawImage(x.source.image,E.x,E.y,E.width,E.height,A,R,E.width,E.height),u.restore())):(d&&(A=Math.round(A),R=Math.round(R)),E.width>0&&E.height>0&&u.drawImage(x.source.image,E.x,E.y,E.width,E.height,A+g.x+f,R+g.y+v,E.width,E.height)))}u.restore()}}},"BlitterCanvasRenderer");n.exports=C},9403:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6107),T=s(25305),c=s(44603),l=s(23568);c.register("blitter",function(u,h){u===void 0&&(u={});var f=l(u,"key",null),v=l(u,"frame",null),d=new o(this.scene,0,0,f,v);return h!==void 0&&(u.add=h),T(this.scene,d,u),d})},12709:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6107),T=s(39429);T.register("blitter",function(c,l,u,h){return this.displayList.add(new o(this.scene,c,l,u,h))})},48011:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(99485),c=s(72396),n.exports={renderWebGL:T,renderCanvas:c}},99485:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61340),T=s(70554),c=new o,l=r(function(u,h,f,v){var d=h.getRenderList(),p=f.alpha*h.alpha;if(!(d.length===0||p===0)){f.addToRenderList(h);var g=u.pipelines.set(this.pipeline,h),m=f.scrollX*h.scrollFactorX,x=f.scrollY*h.scrollFactorY,E=c.copyFrom(f.matrix);v&&(E.multiplyWithOffset(v,-m,-x),m=0,x=0);var A=h.x-m,R=h.y-x,P=-1,O=!1,L=f.roundPixels;u.pipelines.preBatch(h);for(var w=0;w<d.length;w++){var M=d[w],b=M.frame,D=M.alpha*p;if(D!==0){var F=b.width,N=b.height,B=A+M.x+b.x,Y=R+M.y+b.y;M.flipX&&(F*=-1,B+=b.width),M.flipY&&(N*=-1,Y+=b.height);var W=E.setQuad(B,Y,B+F,Y+N,L),z=T.getTintAppendFloatAlpha(M.tint,D);if(b.sourceIndex!==P){var X=g.setGameObject(h,b);P=b.sourceIndex}g.batchQuad(h,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],b.u0,b.v0,b.u1,b.v1,z,z,z,z,O,b.glTexture,X)&&(P=-1)}}u.pipelines.postBatch(h)}},"BlitterWebGLRenderer");n.exports=l},46590:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(4327),c=new o({initialize:r(function(u,h,f,v,d){this.parent=u,this.x=h,this.y=f,this.frame=v,this.data={},this.tint=16777215,this._visible=d,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},"Bob"),setFrame:r(function(l){return l===void 0?this.frame=this.parent.frame:l instanceof T&&l.texture===this.parent.texture?this.frame=l:this.frame=this.parent.texture.get(l),this},"setFrame"),resetFlip:r(function(){return this.flipX=!1,this.flipY=!1,this},"resetFlip"),reset:r(function(l,u,h){return this.x=l,this.y=u,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,h&&this.setFrame(h),this},"reset"),setPosition:r(function(l,u){return this.x=l,this.y=u,this},"setPosition"),setFlipX:r(function(l){return this.flipX=l,this},"setFlipX"),setFlipY:r(function(l){return this.flipY=l,this},"setFlipY"),setFlip:r(function(l,u){return this.flipX=l,this.flipY=u,this},"setFlip"),setVisible:r(function(l){return this.visible=l,this},"setVisible"),setAlpha:r(function(l){return this.alpha=l,this},"setAlpha"),setTint:r(function(l){return this.tint=l,this},"setTint"),destroy:r(function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},"destroy"),visible:{get:r(function(){return this._visible},"get"),set:r(function(l){this.parent.dirty|=this._visible!==l,this._visible=l},"set")},alpha:{get:r(function(){return this._alpha},"get"),set:r(function(l){this.parent.dirty|=this._alpha>0!=l>0,this._alpha=l},"set")}});n.exports=c},16005:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=2,c={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:r(function(){return this.setAlpha(1)},"clearAlpha"),setAlpha:r(function(l,u,h,f){return l===void 0&&(l=1),u===void 0?this.alpha=l:(this._alphaTL=o(l,0,1),this._alphaTR=o(u,0,1),this._alphaBL=o(h,0,1),this._alphaBR=o(f,0,1)),this},"setAlpha"),alpha:{get:r(function(){return this._alpha},"get"),set:r(function(l){var u=o(l,0,1);this._alpha=u,this._alphaTL=u,this._alphaTR=u,this._alphaBL=u,this._alphaBR=u,u===0?this.renderFlags&=~T:this.renderFlags|=T},"set")},alphaTopLeft:{get:r(function(){return this._alphaTL},"get"),set:r(function(l){var u=o(l,0,1);this._alphaTL=u,u!==0&&(this.renderFlags|=T)},"set")},alphaTopRight:{get:r(function(){return this._alphaTR},"get"),set:r(function(l){var u=o(l,0,1);this._alphaTR=u,u!==0&&(this.renderFlags|=T)},"set")},alphaBottomLeft:{get:r(function(){return this._alphaBL},"get"),set:r(function(l){var u=o(l,0,1);this._alphaBL=u,u!==0&&(this.renderFlags|=T)},"set")},alphaBottomRight:{get:r(function(){return this._alphaBR},"get"),set:r(function(l){var u=o(l,0,1);this._alphaBR=u,u!==0&&(this.renderFlags|=T)},"set")}};n.exports=c},88509:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=2,c={_alpha:1,clearAlpha:r(function(){return this.setAlpha(1)},"clearAlpha"),setAlpha:r(function(l){return l===void 0&&(l=1),this.alpha=l,this},"setAlpha"),alpha:{get:r(function(){return this._alpha},"get"),set:r(function(l){var u=o(l,0,1);this._alpha=u,u===0?this.renderFlags&=~T:this.renderFlags|=T},"set")}};n.exports=c},90065:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),T={_blendMode:o.NORMAL,blendMode:{get:r(function(){return this._blendMode},"get"),set:r(function(c){typeof c=="string"&&(c=o[c]),c|=0,c>=-1&&(this._blendMode=c)},"set")},setBlendMode:r(function(c){return this.blendMode=c,this},"setBlendMode")};n.exports=T},94215:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={width:0,height:0,displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(s){this.scaleX=s/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(s){this.scaleY=s/this.height},"set")},setSize:r(function(s,o){return this.width=s,this.height=o,this},"setSize"),setDisplaySize:r(function(s,o){return this.displayWidth=s,this.displayHeight=o,this},"setDisplaySize")};n.exports=C},61683:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={texture:null,frame:null,isCropped:!1,setCrop:r(function(s,o,T,c){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,o,T,c,this.flipX,this.flipY);else{var l=s;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},"setCrop"),resetCropObject:r(function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}},"resetCropObject")};n.exports=C},89272:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37105),T={_depth:0,depth:{get:r(function(){return this._depth},"get"),set:r(function(c){this.displayList&&this.displayList.queueDepthSort(),this._depth=c},"set")},setDepth:r(function(c){return c===void 0&&(c=0),this.depth=c,this},"setDepth"),setToTop:r(function(){var c=this.getDisplayList();return c&&o.BringToTop(c,this),this},"setToTop"),setToBack:r(function(){var c=this.getDisplayList();return c&&o.SendToBack(c,this),this},"setToBack"),setAbove:r(function(c){var l=this.getDisplayList();return l&&c&&o.MoveAbove(l,this,c),this},"setAbove"),setBelow:r(function(c){var l=this.getDisplayList();return l&&c&&o.MoveBelow(l,this,c),this},"setBelow")};n.exports=T},47059:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(66064),c=s(19133),l=new o({initialize:r(function(h,f){this.gameObject=h,this.isPost=f,this.enabled=!1,this.list=[],this.padding=0},"FX"),setPadding:r(function(u){return u===void 0&&(u=0),this.padding=u,this.gameObject},"setPadding"),onFXCopy:r(function(){},"onFXCopy"),onFX:r(function(){},"onFX"),enable:r(function(u){if(!this.isPost){var h=this.gameObject.scene.sys.renderer;h&&h.pipelines?(this.gameObject.pipeline=h.pipelines.FX_PIPELINE,u!==void 0&&(this.padding=u),this.enabled=!0):this.enabled=!1}},"enable"),clear:r(function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var u=this.list,h=0;h<u.length;h++)u[h].destroy();this.list=[]}return this.enabled=!1,this.gameObject},"clear"),remove:r(function(u){var h;if(this.isPost){var f=this.gameObject.getPostPipeline(String(u.type));for(Array.isArray(f)||(f=[f]),h=0;h<f.length;h++){var v=f[h];if(v.controller===u){this.gameObject.removePostPipeline(v),u.destroy();break}}}else{var d=this.list;for(h=0;h<d.length;h++)d[h]===u&&(c(d,h),u.destroy())}return this.gameObject},"remove"),disable:r(function(u){return u===void 0&&(u=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,u&&this.clear(),this.gameObject},"disable"),add:r(function(u,h){if(this.isPost){var f=String(u.type);this.gameObject.setPostPipeline(f,h);var v=this.gameObject.getPostPipeline(f);if(v)return Array.isArray(v)&&(v=v.pop()),v&&(v.controller=u),u}else return this.enabled||this.enable(),this.list.push(u),u},"add"),addGlow:r(function(u,h,f,v,d,p){return this.add(new T.Glow(this.gameObject,u,h,f,v),{quality:d,distance:p})},"addGlow"),addShadow:r(function(u,h,f,v,d,p,g){return this.add(new T.Shadow(this.gameObject,u,h,f,v,d,p,g))},"addShadow"),addPixelate:r(function(u){return this.add(new T.Pixelate(this.gameObject,u))},"addPixelate"),addVignette:r(function(u,h,f,v){return this.add(new T.Vignette(this.gameObject,u,h,f,v))},"addVignette"),addShine:r(function(u,h,f,v){return this.add(new T.Shine(this.gameObject,u,h,f,v))},"addShine"),addBlur:r(function(u,h,f,v,d,p){return this.add(new T.Blur(this.gameObject,u,h,f,v,d,p))},"addBlur"),addGradient:r(function(u,h,f,v,d,p,g,m){return this.add(new T.Gradient(this.gameObject,u,h,f,v,d,p,g,m))},"addGradient"),addBloom:r(function(u,h,f,v,d,p){return this.add(new T.Bloom(this.gameObject,u,h,f,v,d,p))},"addBloom"),addColorMatrix:r(function(){return this.add(new T.ColorMatrix(this.gameObject))},"addColorMatrix"),addCircle:r(function(u,h,f,v,d){return this.add(new T.Circle(this.gameObject,u,h,f,v,d))},"addCircle"),addBarrel:r(function(u){return this.add(new T.Barrel(this.gameObject,u))},"addBarrel"),addDisplacement:r(function(u,h,f){return this.add(new T.Displacement(this.gameObject,u,h,f))},"addDisplacement"),addWipe:r(function(u,h,f){return this.add(new T.Wipe(this.gameObject,u,h,f))},"addWipe"),addReveal:r(function(u,h,f){return this.add(new T.Wipe(this.gameObject,u,h,f,!0))},"addReveal"),addBokeh:r(function(u,h,f){return this.add(new T.Bokeh(this.gameObject,u,h,f))},"addBokeh"),addTiltShift:r(function(u,h,f,v,d,p){return this.add(new T.Bokeh(this.gameObject,u,h,f,!0,v,d,p))},"addTiltShift"),destroy:r(function(){this.clear(),this.gameObject=null},"destroy")});n.exports=l},54434:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={flipX:!1,flipY:!1,toggleFlipX:r(function(){return this.flipX=!this.flipX,this},"toggleFlipX"),toggleFlipY:r(function(){return this.flipY=!this.flipY,this},"toggleFlipY"),setFlipX:r(function(s){return this.flipX=s,this},"setFlipX"),setFlipY:r(function(s){return this.flipY=s,this},"setFlipY"),setFlip:r(function(s,o){return this.flipX=s,this.flipY=o,this},"setFlip"),resetFlip:r(function(){return this.flipX=!1,this.flipY=!1,this},"resetFlip")};n.exports=C},8004:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=s(11520),c=s(26099),l={prepareBoundsOutput:r(function(u,h){if(h===void 0&&(h=!1),this.rotation!==0&&T(u,this.x,this.y,this.rotation),h&&this.parentContainer){var f=this.parentContainer.getBoundsTransformMatrix();f.transformPoint(u.x,u.y,u)}return u},"prepareBoundsOutput"),getCenter:r(function(u,h){return u===void 0&&(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,h)},"getCenter"),getTopLeft:r(function(u,h){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,h)},"getTopLeft"),getTopCenter:r(function(u,h){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,h)},"getTopCenter"),getTopRight:r(function(u,h){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,h)},"getTopRight"),getLeftCenter:r(function(u,h){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,h)},"getLeftCenter"),getRightCenter:r(function(u,h){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,h)},"getRightCenter"),getBottomLeft:r(function(u,h){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,h)},"getBottomLeft"),getBottomCenter:r(function(u,h){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,h)},"getBottomCenter"),getBottomRight:r(function(u,h){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,h)},"getBottomRight"),getBounds:r(function(u){u===void 0&&(u=new o);var h,f,v,d,p,g,m,x;if(this.parentContainer){var E=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(u),E.transformPoint(u.x,u.y,u),h=u.x,f=u.y,this.getTopRight(u),E.transformPoint(u.x,u.y,u),v=u.x,d=u.y,this.getBottomLeft(u),E.transformPoint(u.x,u.y,u),p=u.x,g=u.y,this.getBottomRight(u),E.transformPoint(u.x,u.y,u),m=u.x,x=u.y}else this.getTopLeft(u),h=u.x,f=u.y,this.getTopRight(u),v=u.x,d=u.y,this.getBottomLeft(u),p=u.x,g=u.y,this.getBottomRight(u),m=u.x,x=u.y;return u.x=Math.min(h,v,p,m),u.y=Math.min(f,d,g,x),u.width=Math.max(h,v,p,m)-u.x,u.height=Math.max(f,d,g,x)-u.y,u},"getBounds")};n.exports=l},8573:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6858),T=s(80661),c={mask:null,setMask:r(function(l){return this.mask=l,this},"setMask"),clearMask:r(function(l){return l===void 0&&(l=!1),l&&this.mask&&this.mask.destroy(),this.mask=null,this},"clearMask"),createBitmapMask:r(function(l,u,h,f,v){return l===void 0&&(this.texture||this.shader||this.geom)&&(l=this),new o(this.scene,l,u,h,f,v)},"createBitmapMask"),createGeometryMask:r(function(l){return l===void 0&&(this.type==="Graphics"||this.geom)&&(l=this),new T(this.scene,l)},"createGeometryMask")};n.exports=c},27387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:r(function(){return this._displayOriginX},"get"),set:r(function(s){this._displayOriginX=s,this.originX=s/this.width},"set")},displayOriginY:{get:r(function(){return this._displayOriginY},"get"),set:r(function(s){this._displayOriginY=s,this.originY=s/this.height},"set")},setOrigin:r(function(s,o){return s===void 0&&(s=.5),o===void 0&&(o=s),this.originX=s,this.originY=o,this.updateDisplayOrigin()},"setOrigin"),setOriginFromFrame:r(function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},"setOriginFromFrame"),setDisplayOrigin:r(function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this.displayOriginX=s,this.displayOriginY=o,this},"setDisplayOrigin"),updateDisplayOrigin:r(function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this},"updateDisplayOrigin")};n.exports=C},37640:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39506),T=s(57355),c=s(35154),l=s(86353),u=s(26099),h={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:l.PLAYING_FORWARD,setPath:r(function(f,v){v===void 0&&(v=this.pathConfig);var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this.path=f,v&&this.startFollow(v),this},"setPath"),setRotateToPath:r(function(f,v){return v===void 0&&(v=0),this.rotateToPath=f,this.pathRotationOffset=v,this},"setRotateToPath"),isFollowing:r(function(){var f=this.pathTween;return f&&f.isPlaying()},"isFollowing"),startFollow:r(function(f,v){f===void 0&&(f={}),v===void 0&&(v=0);var d=this.pathTween;d&&d.isPlaying()&&d.stop(),typeof f=="number"&&(f={duration:f}),f.from=c(f,"from",0),f.to=c(f,"to",1);var p=T(f,"positionOnPath",!1);this.rotateToPath=T(f,"rotateToPath",!1),this.pathRotationOffset=c(f,"rotationOffset",0);var g=c(f,"startAt",v);if(g&&(f.onStart=function(x){var E=x.data[0];E.progress=g,E.elapsed=E.duration*g;var A=E.ease(E.progress);E.current=E.start+(E.end-E.start)*A,E.setTargetValue()}),this.pathOffset||(this.pathOffset=new u(this.x,this.y)),this.pathVector||(this.pathVector=new u),this.pathDelta||(this.pathDelta=new u),this.pathDelta.reset(),f.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(f),this.path.getStartPoint(this.pathOffset),p&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=l.PLAYING_FORWARD,this.rotateToPath){var m=this.path.getPoint(.1);this.rotation=Math.atan2(m.y-this.y,m.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=f,this},"startFollow"),pauseFollow:r(function(){var f=this.pathTween;return f&&f.isPlaying()&&f.pause(),this},"pauseFollow"),resumeFollow:r(function(){var f=this.pathTween;return f&&f.isPaused()&&f.resume(),this},"resumeFollow"),stopFollow:r(function(){var f=this.pathTween;return f&&f.isPlaying()&&f.stop(),this},"stopFollow"),pathUpdate:r(function(){var f=this.pathTween;if(f&&f.data){var v=f.data[0],d=this.pathDelta,p=this.pathVector;if(d.copy(p).negate(),v.state===l.COMPLETE){this.path.getPoint(v.end,p),d.add(p),p.add(this.pathOffset),this.setPosition(p.x,p.y);return}else if(v.state!==l.PLAYING_FORWARD&&v.state!==l.PLAYING_BACKWARD)return;this.path.getPoint(f.getValue(),p),d.add(p),p.add(this.pathOffset);var g=this.x,m=this.y;this.setPosition(p.x,p.y);var x=this.x-g,E=this.y-m;if(x===0&&E===0)return;if(v.state!==this._prevDirection){this._prevDirection=v.state;return}this.rotateToPath&&(this.rotation=Math.atan2(E,x)+o(this.pathRotationOffset))}},"pathUpdate")};n.exports=h},72699:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62644),T={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:r(function(c){this.pipelineData={};var l=this.scene.sys.renderer;if(!l)return!1;var u=l.pipelines;if(u){c===void 0&&(c=u.default);var h=u.get(c);if(h)return this.defaultPipeline=h,this.pipeline=h,!0}return!1},"initPipeline"),setPipeline:r(function(c,l,u){var h=this.scene.sys.renderer;if(!h)return this;var f=h.pipelines;if(f){var v=f.get(c);v&&(this.pipeline=v),l&&(this.pipelineData=u?o(l):l)}return this},"setPipeline"),setPipelineData:r(function(c,l){var u=this.pipelineData;return l===void 0?delete u[c]:u[c]=l,this},"setPipelineData"),resetPipeline:r(function(c){return c===void 0&&(c=!1),this.pipeline=this.defaultPipeline,c&&(this.pipelineData={}),this.pipeline!==null},"resetPipeline"),getPipelineName:r(function(){return this.pipeline===null?null:this.pipeline.name},"getPipelineName")};n.exports=T},17581:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62644),T=s(47059),c=s(19133),l={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:r(function(u){this.postPipelines=[],this.postPipelineData={},this.postFX=new T(this,!0),u&&(this.preFX=new T(this,!1))},"initPostPipeline"),setPostPipeline:r(function(u,h,f){var v=this.scene.sys.renderer;if(!v)return this;var d=v.pipelines;if(d){Array.isArray(u)||(u=[u]);for(var p=0;p<u.length;p++){var g=d.getPostPipeline(u[p],this,h);g&&this.postPipelines.push(g)}h&&(this.postPipelineData=f?o(h):h)}return this.hasPostPipeline=this.postPipelines.length>0,this},"setPostPipeline"),setPostPipelineData:r(function(u,h){var f=this.postPipelineData;return h===void 0?delete f[u]:f[u]=h,this},"setPostPipelineData"),getPostPipeline:r(function(u){for(var h=typeof u=="string",f=this.postPipelines,v=[],d=0;d<f.length;d++){var p=f[d];(h&&p.name===u||!h&&p instanceof u)&&v.push(p)}return v.length===1?v[0]:v},"getPostPipeline"),resetPostPipeline:r(function(u){u===void 0&&(u=!1);for(var h=this.postPipelines,f=0;f<h.length;f++)h[f].destroy();this.postPipelines=[],this.hasPostPipeline=!1,u&&(this.postPipelineData={})},"resetPostPipeline"),removePostPipeline:r(function(u){for(var h=typeof u=="string",f=this.postPipelines,v=f.length-1;v>=0;v--){var d=f[v];(h&&d.name===u||!h&&d===u)&&(d.destroy(),c(f,v))}return this.hasPostPipeline=this.postPipelines.length>0,this},"removePostPipeline"),clearFX:r(function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this},"clearFX")};n.exports=l},80227:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={scrollFactorX:1,scrollFactorY:1,setScrollFactor:r(function(s,o){return o===void 0&&(o=s),this.scrollFactorX=s,this.scrollFactorY=o,this},"setScrollFactor")};n.exports=C},16736:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={_sizeComponent:!0,width:0,height:0,displayWidth:{get:r(function(){return Math.abs(this.scaleX*this.frame.realWidth)},"get"),set:r(function(s){this.scaleX=s/this.frame.realWidth},"set")},displayHeight:{get:r(function(){return Math.abs(this.scaleY*this.frame.realHeight)},"get"),set:r(function(s){this.scaleY=s/this.frame.realHeight},"set")},setSizeToFrame:r(function(s){s||(s=this.frame),this.width=s.realWidth,this.height=s.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},"setSizeToFrame"),setSize:r(function(s,o){return this.width=s,this.height=o,this},"setSize"),setDisplaySize:r(function(s,o){return this.displayWidth=s,this.displayHeight=o,this},"setDisplaySize")};n.exports=C},37726:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4327),T=8,c={texture:null,frame:null,isCropped:!1,setTexture:r(function(l,u,h,f){return this.texture=this.scene.sys.textures.get(l),this.setFrame(u,h,f)},"setTexture"),setFrame:r(function(l,u,h){return u===void 0&&(u=!0),h===void 0&&(h=!0),l instanceof o?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~T:this.renderFlags|=T,this._sizeComponent&&u&&this.setSizeToFrame(),this._originComponent&&h&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this},"setFrame")};n.exports=c},79812:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4327),T=8,c={texture:null,frame:null,isCropped:!1,setCrop:r(function(l,u,h,f){if(l===void 0)this.isCropped=!1;else if(this.frame){if(typeof l=="number")this.frame.setCropUVs(this._crop,l,u,h,f,this.flipX,this.flipY);else{var v=l;this.frame.setCropUVs(this._crop,v.x,v.y,v.width,v.height,this.flipX,this.flipY)}this.isCropped=!0}return this},"setCrop"),setTexture:r(function(l,u){return this.texture=this.scene.sys.textures.get(l),this.setFrame(u)},"setTexture"),setFrame:r(function(l,u,h){return u===void 0&&(u=!0),h===void 0&&(h=!0),l instanceof o?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~T:this.renderFlags|=T,this._sizeComponent&&u&&this.setSizeToFrame(),this._originComponent&&h&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},"setFrame"),resetCropObject:r(function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}},"resetCropObject")};n.exports=c},27472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:r(function(){return this.setTint(16777215),this},"clearTint"),setTint:r(function(s,o,T,c){return s===void 0&&(s=16777215),o===void 0&&(o=s,T=s,c=s),this.tintTopLeft=s,this.tintTopRight=o,this.tintBottomLeft=T,this.tintBottomRight=c,this.tintFill=!1,this},"setTint"),setTintFill:r(function(s,o,T,c){return this.setTint(s,o,T,c),this.tintFill=!0,this},"setTintFill"),tint:{get:r(function(){return this.tintTopLeft},"get"),set:r(function(s){this.setTint(s,s,s,s)},"set")},isTinted:{get:r(function(){var s=16777215;return this.tintFill||this.tintTopLeft!==s||this.tintTopRight!==s||this.tintBottomLeft!==s||this.tintBottomRight!==s},"get")}};n.exports=C},53774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o={name:s.name,type:s.type,x:s.x,y:s.y,depth:s.depth,scale:{x:s.scaleX,y:s.scaleY},origin:{x:s.originX,y:s.originY},flipX:s.flipX,flipY:s.flipY,rotation:s.rotation,alpha:s.alpha,visible:s.visible,blendMode:s.blendMode,textureKey:"",frameKey:"",data:{}};return s.texture&&(o.textureKey=s.texture.key,o.frameKey=s.frame.name),o},"ToJSON");n.exports=C},16901:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),T=s(61340),c=s(85955),l=s(86554),u=s(30954),h=s(26099),f=4,v={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:r(function(){return(this._scaleX+this._scaleY)/2},"get"),set:r(function(d){this._scaleX=d,this._scaleY=d,d===0?this.renderFlags&=~f:this.renderFlags|=f},"set")},scaleX:{get:r(function(){return this._scaleX},"get"),set:r(function(d){this._scaleX=d,d===0?this.renderFlags&=~f:this._scaleY!==0&&(this.renderFlags|=f)},"set")},scaleY:{get:r(function(){return this._scaleY},"get"),set:r(function(d){this._scaleY=d,d===0?this.renderFlags&=~f:this._scaleX!==0&&(this.renderFlags|=f)},"set")},angle:{get:r(function(){return u(this._rotation*o.RAD_TO_DEG)},"get"),set:r(function(d){this.rotation=u(d)*o.DEG_TO_RAD},"set")},rotation:{get:r(function(){return this._rotation},"get"),set:r(function(d){this._rotation=l(d)},"set")},setPosition:r(function(d,p,g,m){return d===void 0&&(d=0),p===void 0&&(p=d),g===void 0&&(g=0),m===void 0&&(m=0),this.x=d,this.y=p,this.z=g,this.w=m,this},"setPosition"),copyPosition:r(function(d){return d.x!==void 0&&(this.x=d.x),d.y!==void 0&&(this.y=d.y),d.z!==void 0&&(this.z=d.z),d.w!==void 0&&(this.w=d.w),this},"copyPosition"),setRandomPosition:r(function(d,p,g,m){return d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),this.x=d+Math.random()*g,this.y=p+Math.random()*m,this},"setRandomPosition"),setRotation:r(function(d){return d===void 0&&(d=0),this.rotation=d,this},"setRotation"),setAngle:r(function(d){return d===void 0&&(d=0),this.angle=d,this},"setAngle"),setScale:r(function(d,p){return d===void 0&&(d=1),p===void 0&&(p=d),this.scaleX=d,this.scaleY=p,this},"setScale"),setX:r(function(d){return d===void 0&&(d=0),this.x=d,this},"setX"),setY:r(function(d){return d===void 0&&(d=0),this.y=d,this},"setY"),setZ:r(function(d){return d===void 0&&(d=0),this.z=d,this},"setZ"),setW:r(function(d){return d===void 0&&(d=0),this.w=d,this},"setW"),getLocalTransformMatrix:r(function(d){return d===void 0&&(d=new T),d.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},"getLocalTransformMatrix"),getWorldTransformMatrix:r(function(d,p){d===void 0&&(d=new T);var g=this.parentContainer;if(!g)return this.getLocalTransformMatrix(d);var m=!1;for(p||(p=new T,m=!0),d.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);g;)p.applyITRS(g.x,g.y,g._rotation,g._scaleX,g._scaleY),p.multiply(d,d),g=g.parentContainer;return m&&p.destroy(),d},"getWorldTransformMatrix"),getLocalPoint:r(function(d,p,g,m){g||(g=new h),m||(m=this.scene.sys.cameras.main);var x=m.scrollX,E=m.scrollY,A=d+x*this.scrollFactorX-x,R=p+E*this.scrollFactorY-E;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(A,R,g):c(A,R,this.x,this.y,this.rotation,this.scaleX,this.scaleY,g),this._originComponent&&(g.x+=this._displayOriginX,g.y+=this._displayOriginY),g},"getLocalPoint"),getWorldPoint:r(function(d,p,g){d===void 0&&(d=new h);var m=this.parentContainer;if(!m)return d.x=this.x,d.y=this.y,d;var x=this.getWorldTransformMatrix(p,g);return d.x=x.tx,d.y=x.ty,d},"getWorldPoint"),getParentRotation:r(function(){for(var d=0,p=this.parentContainer;p;)d+=p.rotation,p=p.parentContainer;return d},"getParentRotation")};n.exports=v},61340:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(36383),c=s(26099),l=new o({initialize:r(function(h,f,v,d,p,g){h===void 0&&(h=1),f===void 0&&(f=0),v===void 0&&(v=0),d===void 0&&(d=1),p===void 0&&(p=0),g===void 0&&(g=0),this.matrix=new Float32Array([h,f,v,d,p,g,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},"TransformMatrix"),a:{get:r(function(){return this.matrix[0]},"get"),set:r(function(u){this.matrix[0]=u},"set")},b:{get:r(function(){return this.matrix[1]},"get"),set:r(function(u){this.matrix[1]=u},"set")},c:{get:r(function(){return this.matrix[2]},"get"),set:r(function(u){this.matrix[2]=u},"set")},d:{get:r(function(){return this.matrix[3]},"get"),set:r(function(u){this.matrix[3]=u},"set")},e:{get:r(function(){return this.matrix[4]},"get"),set:r(function(u){this.matrix[4]=u},"set")},f:{get:r(function(){return this.matrix[5]},"get"),set:r(function(u){this.matrix[5]=u},"set")},tx:{get:r(function(){return this.matrix[4]},"get"),set:r(function(u){this.matrix[4]=u},"set")},ty:{get:r(function(){return this.matrix[5]},"get"),set:r(function(u){this.matrix[5]=u},"set")},rotation:{get:r(function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)},"get")},rotationNormalized:{get:r(function(){var u=this.matrix,h=u[0],f=u[1],v=u[2],d=u[3];return h||f?f>0?Math.acos(h/this.scaleX):-Math.acos(h/this.scaleX):v||d?T.TAU-(d>0?Math.acos(-v/this.scaleY):-Math.acos(v/this.scaleY)):0},"get")},scaleX:{get:r(function(){return Math.sqrt(this.a*this.a+this.b*this.b)},"get")},scaleY:{get:r(function(){return Math.sqrt(this.c*this.c+this.d*this.d)},"get")},loadIdentity:r(function(){var u=this.matrix;return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,this},"loadIdentity"),translate:r(function(u,h){var f=this.matrix;return f[4]=f[0]*u+f[2]*h+f[4],f[5]=f[1]*u+f[3]*h+f[5],this},"translate"),scale:r(function(u,h){var f=this.matrix;return f[0]*=u,f[1]*=u,f[2]*=h,f[3]*=h,this},"scale"),rotate:r(function(u){var h=Math.sin(u),f=Math.cos(u),v=this.matrix,d=v[0],p=v[1],g=v[2],m=v[3];return v[0]=d*f+g*h,v[1]=p*f+m*h,v[2]=d*-h+g*f,v[3]=p*-h+m*f,this},"rotate"),multiply:r(function(u,h){var f=this.matrix,v=u.matrix,d=f[0],p=f[1],g=f[2],m=f[3],x=f[4],E=f[5],A=v[0],R=v[1],P=v[2],O=v[3],L=v[4],w=v[5],M=h===void 0?f:h.matrix;return M[0]=A*d+R*g,M[1]=A*p+R*m,M[2]=P*d+O*g,M[3]=P*p+O*m,M[4]=L*d+w*g+x,M[5]=L*p+w*m+E,M},"multiply"),multiplyWithOffset:r(function(u,h,f){var v=this.matrix,d=u.matrix,p=v[0],g=v[1],m=v[2],x=v[3],E=v[4],A=v[5],R=h*p+f*m+E,P=h*g+f*x+A,O=d[0],L=d[1],w=d[2],M=d[3],b=d[4],D=d[5];return v[0]=O*p+L*m,v[1]=O*g+L*x,v[2]=w*p+M*m,v[3]=w*g+M*x,v[4]=b*p+D*m+R,v[5]=b*g+D*x+P,this},"multiplyWithOffset"),transform:r(function(u,h,f,v,d,p){var g=this.matrix,m=g[0],x=g[1],E=g[2],A=g[3],R=g[4],P=g[5];return g[0]=u*m+h*E,g[1]=u*x+h*A,g[2]=f*m+v*E,g[3]=f*x+v*A,g[4]=d*m+p*E+R,g[5]=d*x+p*A+P,this},"transform"),transformPoint:r(function(u,h,f){f===void 0&&(f={x:0,y:0});var v=this.matrix,d=v[0],p=v[1],g=v[2],m=v[3],x=v[4],E=v[5];return f.x=u*d+h*g+x,f.y=u*p+h*m+E,f},"transformPoint"),invert:r(function(){var u=this.matrix,h=u[0],f=u[1],v=u[2],d=u[3],p=u[4],g=u[5],m=h*d-f*v;return u[0]=d/m,u[1]=-f/m,u[2]=-v/m,u[3]=h/m,u[4]=(v*g-d*p)/m,u[5]=-(h*g-f*p)/m,this},"invert"),copyFrom:r(function(u){var h=this.matrix;return h[0]=u.a,h[1]=u.b,h[2]=u.c,h[3]=u.d,h[4]=u.e,h[5]=u.f,this},"copyFrom"),copyFromArray:r(function(u){var h=this.matrix;return h[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],this},"copyFromArray"),copyToContext:r(function(u){var h=this.matrix;return u.transform(h[0],h[1],h[2],h[3],h[4],h[5]),u},"copyToContext"),setToContext:r(function(u){return u.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),u},"setToContext"),copyToArray:r(function(u){var h=this.matrix;return u===void 0?u=[h[0],h[1],h[2],h[3],h[4],h[5]]:(u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5]),u},"copyToArray"),setTransform:r(function(u,h,f,v,d,p){var g=this.matrix;return g[0]=u,g[1]=h,g[2]=f,g[3]=v,g[4]=d,g[5]=p,this},"setTransform"),decomposeMatrix:r(function(){var u=this.decomposedMatrix,h=this.matrix,f=h[0],v=h[1],d=h[2],p=h[3],g=f*p-v*d;if(u.translateX=h[4],u.translateY=h[5],f||v){var m=Math.sqrt(f*f+v*v);u.rotation=v>0?Math.acos(f/m):-Math.acos(f/m),u.scaleX=m,u.scaleY=g/m}else if(d||p){var x=Math.sqrt(d*d+p*p);u.rotation=Math.PI*.5-(p>0?Math.acos(-d/x):-Math.acos(d/x)),u.scaleX=g/x,u.scaleY=x}else u.rotation=0,u.scaleX=0,u.scaleY=0;return u},"decomposeMatrix"),applyITRS:r(function(u,h,f,v,d){var p=this.matrix,g=Math.sin(f),m=Math.cos(f);return p[4]=u,p[5]=h,p[0]=m*v,p[1]=g*v,p[2]=-g*d,p[3]=m*d,this},"applyITRS"),applyInverse:r(function(u,h,f){f===void 0&&(f=new c);var v=this.matrix,d=v[0],p=v[1],g=v[2],m=v[3],x=v[4],E=v[5],A=1/(d*m+g*-p);return f.x=m*A*u+-g*A*h+(E*g-x*m)*A,f.y=d*A*h+-p*A*u+(-E*d+x*p)*A,f},"applyInverse"),setQuad:r(function(u,h,f,v,d,p){d===void 0&&(d=!1),p===void 0&&(p=this.quad);var g=this.matrix,m=g[0],x=g[1],E=g[2],A=g[3],R=g[4],P=g[5],O=u*m+h*E+R,L=u*x+h*A+P,w=u*m+v*E+R,M=u*x+v*A+P,b=f*m+v*E+R,D=f*x+v*A+P,F=f*m+h*E+R,N=f*x+h*A+P;if(d){var B=Math.floor(O+.5),Y=Math.floor(L+.5),W=B-O,z=Y-L;p[0]=B,p[1]=Y,p[2]=w+W,p[3]=M+z,p[4]=b+W,p[5]=D+z,p[6]=F+W,p[7]=N+z}else p[0]=O,p[1]=L,p[2]=w,p[3]=M,p[4]=b,p[5]=D,p[6]=F,p[7]=N;return p},"setQuad"),getX:r(function(u,h){return u*this.a+h*this.c+this.e},"getX"),getY:r(function(u,h){return u*this.b+h*this.d+this.f},"getY"),getXRound:r(function(u,h,f){var v=this.getX(u,h);return f&&(v=Math.floor(v+.5)),v},"getXRound"),getYRound:r(function(u,h,f){var v=this.getY(u,h);return f&&(v=Math.floor(v+.5)),v},"getYRound"),getCSSMatrix:r(function(){var u=this.matrix;return"matrix("+u[0]+","+u[1]+","+u[2]+","+u[3]+","+u[4]+","+u[5]+")"},"getCSSMatrix"),destroy:r(function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null},"destroy")});n.exports=l},59715:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=1,s={_visible:!0,visible:{get:r(function(){return this._visible},"get"),set:r(function(o){o?(this._visible=!0,this.renderFlags|=C):(this._visible=!1,this.renderFlags&=~C)},"set")},setVisible:r(function(o){return this.visible=o,this},"setVisible")};n.exports=s},31401:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Alpha:s(16005),AlphaSingle:s(88509),BlendMode:s(90065),ComputedSize:s(94215),Crop:s(61683),Depth:s(89272),Flip:s(54434),FX:s(47059),GetBounds:s(8004),Mask:s(8573),Origin:s(27387),PathFollower:s(37640),Pipeline:s(72699),PostPipeline:s(17581),ScrollFactor:s(80227),Size:s(16736),Texture:s(37726),TextureCrop:s(79812),Tint:s(27472),ToJSON:s(53774),Transform:s(16901),TransformMatrix:s(61340),Visible:s(59715)}},31559:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37105),T=s(10312),c=s(83419),l=s(31401),u=s(51708),h=s(95643),f=s(87841),v=s(29959),d=s(36899),p=s(26099),g=new l.TransformMatrix,m=new c({Extends:h,Mixins:[l.AlphaSingle,l.BlendMode,l.ComputedSize,l.Depth,l.Mask,l.PostPipeline,l.Transform,l.Visible,v],initialize:r(function(E,A,R,P){h.call(this,E,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new l.TransformMatrix,this._sortKey="",this._sysEvents=E.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(A,R),this.setBlendMode(T.SKIP_CHECK),P&&this.add(P)},"Container"),originX:{get:r(function(){return .5},"get")},originY:{get:r(function(){return .5},"get")},displayOriginX:{get:r(function(){return this.width*.5},"get")},displayOriginY:{get:r(function(){return this.height*.5},"get")},setExclusive:r(function(x){return x===void 0&&(x=!0),this.exclusive=x,this},"setExclusive"),getBounds:r(function(x){if(x===void 0&&(x=new f),x.setTo(this.x,this.y,0,0),this.parentContainer){var E=this.parentContainer.getBoundsTransformMatrix(),A=E.transformPoint(this.x,this.y);x.setTo(A.x,A.y,0,0)}if(this.list.length>0){var R=this.list,P=new f,O=!1;x.setEmpty();for(var L=0;L<R.length;L++){var w=R[L];w.getBounds&&(w.getBounds(P),O?d(P,x,x):(x.setTo(P.x,P.y,P.width,P.height),O=!0))}}return x},"getBounds"),addHandler:r(function(x){x.once(u.DESTROY,this.onChildDestroyed,this),this.exclusive&&(x.parentContainer&&x.parentContainer.remove(x),x.parentContainer=this,x.removeFromDisplayList(),x.addedToScene())},"addHandler"),removeHandler:r(function(x){x.off(u.DESTROY,this.remove,this),this.exclusive&&(x.parentContainer=null,x.removedFromScene(),x.addToDisplayList())},"removeHandler"),pointToContainer:r(function(x,E){E===void 0&&(E=new p),this.parentContainer?this.parentContainer.pointToContainer(x,E):(E.x=x.x,E.y=x.y);var A=g;return A.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),A.invert(),A.transformPoint(x.x,x.y,E),E},"pointToContainer"),getBoundsTransformMatrix:r(function(){return this.getWorldTransformMatrix(g,this.localTransform)},"getBoundsTransformMatrix"),add:r(function(x){return o.Add(this.list,x,this.maxSize,this.addHandler,this),this},"add"),addAt:r(function(x,E){return o.AddAt(this.list,x,E,this.maxSize,this.addHandler,this),this},"addAt"),getAt:r(function(x){return this.list[x]},"getAt"),getIndex:r(function(x){return this.list.indexOf(x)},"getIndex"),sort:r(function(x,E){return x?(E===void 0&&(E=r(function(A,R){return A[x]-R[x]},"handler")),o.StableSort(this.list,E),this):this},"sort"),getByName:r(function(x){return o.GetFirst(this.list,"name",x)},"getByName"),getRandom:r(function(x,E){return o.GetRandom(this.list,x,E)},"getRandom"),getFirst:r(function(x,E,A,R){return o.GetFirst(this.list,x,E,A,R)},"getFirst"),getAll:r(function(x,E,A,R){return o.GetAll(this.list,x,E,A,R)},"getAll"),count:r(function(x,E,A,R){return o.CountAllMatching(this.list,x,E,A,R)},"count"),swap:r(function(x,E){return o.Swap(this.list,x,E),this},"swap"),moveTo:r(function(x,E){return o.MoveTo(this.list,x,E),this},"moveTo"),moveAbove:r(function(x,E){return o.MoveAbove(this.list,x,E),this},"moveAbove"),moveBelow:r(function(x,E){return o.MoveBelow(this.list,x,E),this},"moveBelow"),remove:r(function(x,E){var A=o.Remove(this.list,x,this.removeHandler,this);if(E&&A){Array.isArray(A)||(A=[A]);for(var R=0;R<A.length;R++)A[R].destroy()}return this},"remove"),removeAt:r(function(x,E){var A=o.RemoveAt(this.list,x,this.removeHandler,this);return E&&A&&A.destroy(),this},"removeAt"),removeBetween:r(function(x,E,A){var R=o.RemoveBetween(this.list,x,E,this.removeHandler,this);if(A)for(var P=0;P<R.length;P++)R[P].destroy();return this},"removeBetween"),removeAll:r(function(x){var E=this.list;if(x){for(var A=0;A<E.length;A++)E[A]&&E[A].scene&&(E[A].off(u.DESTROY,this.onChildDestroyed,this),E[A].destroy());this.list=[]}else o.RemoveBetween(E,0,E.length,this.removeHandler,this);return this},"removeAll"),bringToTop:r(function(x){return o.BringToTop(this.list,x),this},"bringToTop"),sendToBack:r(function(x){return o.SendToBack(this.list,x),this},"sendToBack"),moveUp:r(function(x){return o.MoveUp(this.list,x),this},"moveUp"),moveDown:r(function(x){return o.MoveDown(this.list,x),this},"moveDown"),reverse:r(function(){return this.list.reverse(),this},"reverse"),shuffle:r(function(){return o.Shuffle(this.list),this},"shuffle"),replace:r(function(x,E,A){var R=o.Replace(this.list,x,E);return R&&(this.addHandler(E),this.removeHandler(x),A&&x.destroy()),this},"replace"),exists:r(function(x){return this.list.indexOf(x)>-1},"exists"),setAll:r(function(x,E,A,R){return o.SetAll(this.list,x,E,A,R),this},"setAll"),each:r(function(x,E){var A=[null],R,P=this.list.slice(),O=P.length;for(R=2;R<arguments.length;R++)A.push(arguments[R]);for(R=0;R<O;R++)A[0]=P[R],x.apply(E,A);return this},"each"),iterate:r(function(x,E){var A=[null],R;for(R=2;R<arguments.length;R++)A.push(arguments[R]);for(R=0;R<this.list.length;R++)A[0]=this.list[R],x.apply(E,A);return this},"iterate"),setScrollFactor:r(function(x,E,A){return E===void 0&&(E=x),A===void 0&&(A=!1),this.scrollFactorX=x,this.scrollFactorY=E,A&&(o.SetAll(this.list,"scrollFactorX",x),o.SetAll(this.list,"scrollFactorY",E)),this},"setScrollFactor"),length:{get:r(function(){return this.list.length},"get")},first:{get:r(function(){return this.position=0,this.list.length>0?this.list[0]:null},"get")},last:{get:r(function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null},"get")},next:{get:r(function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null},"get")},previous:{get:r(function(){return this.position>0?(this.position--,this.list[this.position]):null},"get")},preDestroy:r(function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},"preDestroy"),onChildDestroyed:r(function(x){o.Remove(this.list,x),this.exclusive&&(x.parentContainer=null,x.removedFromScene())},"onChildDestroyed")});n.exports=m},53584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){T.addToRenderList(o);var l=o.list;if(l.length!==0){var u=o.localTransform;c?(u.loadIdentity(),u.multiply(c),u.translate(o.x,o.y),u.rotate(o.rotation),u.scale(o.scaleX,o.scaleY)):u.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var h=o.blendMode!==-1;h||s.setBlendMode(0);var f=o._alpha,v=o.scrollFactorX,d=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(s,null,T);for(var p=0;p<l.length;p++){var g=l[p];if(g.willRender(T)){var m=g.alpha,x=g.scrollFactorX,E=g.scrollFactorY;!h&&g.blendMode!==s.currentBlendMode&&s.setBlendMode(g.blendMode),g.setScrollFactor(x*v,E*d),g.setAlpha(m*f),g.renderCanvas(s,g,T,u),g.setAlpha(m),g.setScrollFactor(x,E)}}o.mask&&o.mask.postRenderCanvas(s)}},"ContainerCanvasRenderer");n.exports=C},77143:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(31559),c=s(44603),l=s(23568),u=s(95540);c.register("container",function(h,f){h===void 0&&(h={});var v=l(h,"x",0),d=l(h,"y",0),p=u(h,"children",null),g=new T(this.scene,v,d,p);return f!==void 0&&(h.add=f),o(this.scene,g,h),g})},24961:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(31559),T=s(39429);T.register("container",function(c,l,u){return this.displayList.add(new o(this.scene,c,l,u))})},29959:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(72249),c=s(53584),n.exports={renderWebGL:T,renderCanvas:c}},72249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){T.addToRenderList(o);var l=o.list,u=l.length;if(u!==0){var h=o.localTransform;c?(h.loadIdentity(),h.multiply(c),h.translate(o.x,o.y),h.rotate(o.rotation),h.scale(o.scaleX,o.scaleY)):h.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),s.pipelines.preBatch(o);var f=o.blendMode!==-1;f||s.setBlendMode(0);for(var v=o.alpha,d=o.scrollFactorX,p=o.scrollFactorY,g=0;g<u;g++){var m=l[g];if(m.willRender(T)){var x,E,A,R;if(m.alphaTopLeft!==void 0)x=m.alphaTopLeft,E=m.alphaTopRight,A=m.alphaBottomLeft,R=m.alphaBottomRight;else{var P=m.alpha;x=P,E=P,A=P,R=P}var O=m.scrollFactorX,L=m.scrollFactorY;!f&&m.blendMode!==s.currentBlendMode&&s.setBlendMode(m.blendMode);var w=m.mask;w&&w.preRenderWebGL(s,m,T);var M=m.type;M!==s.currentType&&(s.newType=!0,s.currentType=M),s.nextTypeMatch=g<u-1?l[g+1].type===s.currentType:!1,m.setScrollFactor(O*d,L*p),m.setAlpha(x*v,E*v,A*v,R*v),m.renderWebGL(s,m,T,h,o),m.setAlpha(x,E,A,R),m.setScrollFactor(O,L),w&&w.postRenderWebGL(s,T),s.newType=!1}}s.pipelines.postBatch(o)}},"ContainerWebGLRenderer");n.exports=C},47407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(441),l=s(95643),u=s(41212),h=s(35846),f=s(44594),v=s(61369),d=new o({Extends:l,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Origin,T.ScrollFactor,T.Transform,T.Visible,c],initialize:r(function(g,m,x,E,A,R){if(l.call(this,g,"DOMElement"),this.parent=g.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=g.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new v,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(m,x),typeof E=="string"?E[0]==="#"?this.setElement(E.substr(1),A,R):this.createElement(E,A,R):E&&this.setElement(E,A,R),g.sys.events.on(f.SLEEP,this.handleSceneEvent,this),g.sys.events.on(f.WAKE,this.handleSceneEvent,this),g.sys.events.on(f.PRE_RENDER,this.preRender,this)},"DOMElement"),handleSceneEvent:r(function(p){var g=this.node,m=g.style;g&&(m.display=p.settings.visible?"block":"none")},"handleSceneEvent"),setSkew:r(function(p,g){return p===void 0&&(p=0),g===void 0&&(g=p),this.skewX=p,this.skewY=g,this},"setSkew"),setPerspective:r(function(p){return this.parent.style.perspective=p+"px",this},"setPerspective"),perspective:{get:r(function(){return parseFloat(this.parent.style.perspective)},"get"),set:r(function(p){this.parent.style.perspective=p+"px"},"set")},addListener:r(function(p){if(this.node){p=p.split(" ");for(var g=0;g<p.length;g++)this.node.addEventListener(p[g],this.handler,!1)}return this},"addListener"),removeListener:r(function(p){if(this.node){p=p.split(" ");for(var g=0;g<p.length;g++)this.node.removeEventListener(p[g],this.handler)}return this},"removeListener"),dispatchNativeEvent:r(function(p){this.emit(p.type,p)},"dispatchNativeEvent"),createElement:r(function(p,g,m){return this.setElement(document.createElement(p),g,m)},"createElement"),setElement:r(function(p,g,m){this.removeElement();var x;if(typeof p=="string"?(p[0]==="#"&&(p=p.substr(1)),x=document.getElementById(p)):typeof p=="object"&&p.nodeType===1&&(x=p),!x)return this;if(this.node=x,g&&u(g))for(var E in g)x.style[E]=g[E];else typeof g=="string"&&(x.style=g);return x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent.appendChild(x),m&&(x.innerText=m),this.updateSize()},"setElement"),createFromCache:r(function(p,g){var m=this.cache.get(p);return m&&this.createFromHTML(m,g),this},"createFromCache"),createFromHTML:r(function(p,g){g===void 0&&(g="div"),this.removeElement();var m=document.createElement(g);return this.node=m,m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent.appendChild(m),m.innerHTML=p,this.updateSize()},"createFromHTML"),removeElement:r(function(){return this.node&&(h(this.node),this.node=null),this},"removeElement"),updateSize:r(function(){var p=this.node;return this.width=p.clientWidth,this.height=p.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},"updateSize"),getChildByProperty:r(function(p,g){if(this.node){for(var m=this.node.querySelectorAll("*"),x=0;x<m.length;x++)if(m[x][p]===g)return m[x]}return null},"getChildByProperty"),getChildByID:r(function(p){return this.getChildByProperty("id",p)},"getChildByID"),getChildByName:r(function(p){return this.getChildByProperty("name",p)},"getChildByName"),setClassName:r(function(p){return this.node&&(this.node.className=p,this.updateSize()),this},"setClassName"),setText:r(function(p){return this.node&&(this.node.innerText=p,this.updateSize()),this},"setText"),setHTML:r(function(p){return this.node&&(this.node.innerHTML=p,this.updateSize()),this},"setHTML"),preRender:r(function(){var p=this.parentContainer,g=this.node;g&&p&&!p.willRender()&&(g.style.display="none")},"preRender"),willRender:r(function(){return!0},"willRender"),preDestroy:r(function(){this.removeElement(),this.scene.sys.events.off(f.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(f.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(f.PRE_RENDER,this.preRender,this)},"preDestroy")});n.exports=d},49381:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(47407),T=s(95643),c=s(61340),l=new c,u=new c,h=new c,f=r(function(v,d,p,g){if(d.node){var m=d.node.style,x=d.scene.sys.settings;if(!m||!x.visible||T.RENDER_MASK!==d.renderFlags||d.cameraFilter!==0&&d.cameraFilter&p.id||d.parentContainer&&!d.parentContainer.willRender()){m.display="none";return}var E=d.parentContainer,A=p.alpha*d.alpha;E&&(A*=E.alpha);var R=l,P=u,O=h,L=0,w=0,M="0%",b="0%";g?(L=d.width*d.scaleX*d.originX,w=d.height*d.scaleY*d.originY,P.applyITRS(d.x-L,d.y-w,d.rotation,d.scaleX,d.scaleY),R.copyFrom(p.matrix),R.multiplyWithOffset(g,-p.scrollX*d.scrollFactorX,-p.scrollY*d.scrollFactorY),P.e=d.x-L,P.f=d.y-w,R.multiply(P,O)):(L=d.width*d.originX,w=d.height*d.originY,P.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),R.copyFrom(p.matrix),M=100*d.originX+"%",b=100*d.originY+"%",P.e-=p.scrollX*d.scrollFactorX,P.f-=p.scrollY*d.scrollFactorY,R.multiply(P,O),O.e-=L,O.f-=w),d.transformOnly||(m.display="block",m.opacity=A,m.zIndex=d._depth,m.pointerEvents=d.pointerEvents,m.mixBlendMode=o[d._blendMode]),m.transform=O.getCSSMatrix()+" skew("+d.skewX+"rad, "+d.skewY+"rad) rotate3d("+d.rotate3d.x+","+d.rotate3d.y+","+d.rotate3d.z+","+d.rotate3d.w+d.rotate3dAngle+")",m.transformOrigin=M+" "+b}},"DOMElementCSSRenderer");n.exports=f},2611:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(3069),T=s(39429);T.register("dom",function(c,l,u,h,f){var v=new o(this.scene,c,l,u,h,f);return this.displayList.add(v),v})},441:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(49381),c=s(49381),n.exports={renderWebGL:T,renderCanvas:c}},62980:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},41337:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},44947:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},49358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},35163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="created"},97249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="error"},19483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="locked"},56059:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},26772:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="metadata"},64437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="playing"},83411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},75780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeked"},67799:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeking"},63500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stalled"},55541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},53208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="textureready"},4992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},12:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unsupported"},51708:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:s(62980),DESTROY:s(41337),REMOVED_FROM_SCENE:s(44947),VIDEO_COMPLETE:s(49358),VIDEO_CREATED:s(35163),VIDEO_ERROR:s(97249),VIDEO_LOCKED:s(19483),VIDEO_LOOP:s(56059),VIDEO_METADATA:s(26772),VIDEO_PLAY:s(83411),VIDEO_PLAYING:s(64437),VIDEO_SEEKED:s(75780),VIDEO_SEEKING:s(67799),VIDEO_STALLED:s(63500),VIDEO_STOP:s(55541),VIDEO_TEXTURE:s(53208),VIDEO_UNLOCKED:s(4992),VIDEO_UNSUPPORTED:s(12)}},42421:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(95643),l=s(64993),u=new o({Extends:c,Mixins:[T.Alpha,T.BlendMode,T.Depth,T.Flip,T.Origin,T.ScrollFactor,T.Size,T.Texture,T.Tint,T.Transform,T.Visible,l],initialize:r(function(f){c.call(this,f,"Extern")},"Extern"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),preUpdate:r(function(){},"preUpdate"),render:r(function(){},"render")});n.exports=u},70217:()=>{},56315:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42421),T=s(39429);T.register("extern",function(){var c=new o(this.scene);return this.displayList.add(c),c})},64993:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(80287),c=s(70217),n.exports={renderWebGL:T,renderCanvas:c}},80287:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=r(function(c,l,u,h){c.pipelines.clear();var f=o(l,u,h).calc;l.render.call(l,c,u,f),c.pipelines.rebind()},"ExternWebGLRenderer");n.exports=T},85592:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71911),T=s(83419),c=s(85592),l=s(31401),u=s(8497),h=s(95643),f=s(95540),v=s(35154),d=s(36383),p=s(84503),g=new T({Extends:h,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,p],initialize:r(function(x,E){var A=v(E,"x",0),R=v(E,"y",0);h.call(this,x,"Graphics"),this.setPosition(A,R),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(E)},"Graphics"),setDefaultStyles:r(function(m){return v(m,"lineStyle",null)&&(this.defaultStrokeWidth=v(m,"lineStyle.width",1),this.defaultStrokeColor=v(m,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(m,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(m,"fillStyle",null)&&(this.defaultFillColor=v(m,"fillStyle.color",16777215),this.defaultFillAlpha=v(m,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},"setDefaultStyles"),lineStyle:r(function(m,x,E){return E===void 0&&(E=1),this.commandBuffer.push(c.LINE_STYLE,m,x,E),this._lineWidth=m,this},"lineStyle"),fillStyle:r(function(m,x){return x===void 0&&(x=1),this.commandBuffer.push(c.FILL_STYLE,m,x),this},"fillStyle"),fillGradientStyle:r(function(m,x,E,A,R,P,O,L){return R===void 0&&(R=1),P===void 0&&(P=R),O===void 0&&(O=R),L===void 0&&(L=R),this.commandBuffer.push(c.GRADIENT_FILL_STYLE,R,P,O,L,m,x,E,A),this},"fillGradientStyle"),lineGradientStyle:r(function(m,x,E,A,R,P){return P===void 0&&(P=1),this.commandBuffer.push(c.GRADIENT_LINE_STYLE,m,P,x,E,A,R),this},"lineGradientStyle"),beginPath:r(function(){return this.commandBuffer.push(c.BEGIN_PATH),this},"beginPath"),closePath:r(function(){return this.commandBuffer.push(c.CLOSE_PATH),this},"closePath"),fillPath:r(function(){return this.commandBuffer.push(c.FILL_PATH),this},"fillPath"),fill:r(function(){return this.commandBuffer.push(c.FILL_PATH),this},"fill"),strokePath:r(function(){return this.commandBuffer.push(c.STROKE_PATH),this},"strokePath"),stroke:r(function(){return this.commandBuffer.push(c.STROKE_PATH),this},"stroke"),fillCircleShape:r(function(m){return this.fillCircle(m.x,m.y,m.radius)},"fillCircleShape"),strokeCircleShape:r(function(m){return this.strokeCircle(m.x,m.y,m.radius)},"strokeCircleShape"),fillCircle:r(function(m,x,E){return this.beginPath(),this.arc(m,x,E,0,d.PI2),this.fillPath(),this},"fillCircle"),strokeCircle:r(function(m,x,E){return this.beginPath(),this.arc(m,x,E,0,d.PI2),this.strokePath(),this},"strokeCircle"),fillRectShape:r(function(m){return this.fillRect(m.x,m.y,m.width,m.height)},"fillRectShape"),strokeRectShape:r(function(m){return this.strokeRect(m.x,m.y,m.width,m.height)},"strokeRectShape"),fillRect:r(function(m,x,E,A){return this.commandBuffer.push(c.FILL_RECT,m,x,E,A),this},"fillRect"),strokeRect:r(function(m,x,E,A){var R=this._lineWidth/2,P=m-R,O=m+R;return this.beginPath(),this.moveTo(m,x),this.lineTo(m,x+A),this.strokePath(),this.beginPath(),this.moveTo(m+E,x),this.lineTo(m+E,x+A),this.strokePath(),this.beginPath(),this.moveTo(P,x),this.lineTo(O+E,x),this.strokePath(),this.beginPath(),this.moveTo(P,x+A),this.lineTo(O+E,x+A),this.strokePath(),this},"strokeRect"),fillRoundedRect:r(function(m,x,E,A,R){R===void 0&&(R=20);var P=R,O=R,L=R,w=R;typeof R!="number"&&(P=f(R,"tl",20),O=f(R,"tr",20),L=f(R,"bl",20),w=f(R,"br",20));var M=P>=0,b=O>=0,D=L>=0,F=w>=0;return P=Math.abs(P),O=Math.abs(O),L=Math.abs(L),w=Math.abs(w),this.beginPath(),this.moveTo(m+P,x),this.lineTo(m+E-O,x),b?this.arc(m+E-O,x+O,O,-d.TAU,0):this.arc(m+E,x,O,Math.PI,d.TAU,!0),this.lineTo(m+E,x+A-w),F?this.arc(m+E-w,x+A-w,w,0,d.TAU):this.arc(m+E,x+A,w,-d.TAU,Math.PI,!0),this.lineTo(m+L,x+A),D?this.arc(m+L,x+A-L,L,d.TAU,Math.PI):this.arc(m,x+A,L,0,-d.TAU,!0),this.lineTo(m,x+P),M?this.arc(m+P,x+P,P,-Math.PI,-d.TAU):this.arc(m,x,P,d.TAU,0,!0),this.fillPath(),this},"fillRoundedRect"),strokeRoundedRect:r(function(m,x,E,A,R){R===void 0&&(R=20);var P=R,O=R,L=R,w=R,M=Math.min(E,A)/2;typeof R!="number"&&(P=f(R,"tl",20),O=f(R,"tr",20),L=f(R,"bl",20),w=f(R,"br",20));var b=P>=0,D=O>=0,F=L>=0,N=w>=0;return P=Math.min(Math.abs(P),M),O=Math.min(Math.abs(O),M),L=Math.min(Math.abs(L),M),w=Math.min(Math.abs(w),M),this.beginPath(),this.moveTo(m+P,x),this.lineTo(m+E-O,x),this.moveTo(m+E-O,x),D?this.arc(m+E-O,x+O,O,-d.TAU,0):this.arc(m+E,x,O,Math.PI,d.TAU,!0),this.lineTo(m+E,x+A-w),this.moveTo(m+E,x+A-w),N?this.arc(m+E-w,x+A-w,w,0,d.TAU):this.arc(m+E,x+A,w,-d.TAU,Math.PI,!0),this.lineTo(m+L,x+A),this.moveTo(m+L,x+A),F?this.arc(m+L,x+A-L,L,d.TAU,Math.PI):this.arc(m,x+A,L,0,-d.TAU,!0),this.lineTo(m,x+P),this.moveTo(m,x+P),b?this.arc(m+P,x+P,P,-Math.PI,-d.TAU):this.arc(m,x,P,d.TAU,0,!0),this.strokePath(),this},"strokeRoundedRect"),fillPointShape:r(function(m,x){return this.fillPoint(m.x,m.y,x)},"fillPointShape"),fillPoint:r(function(m,x,E){return!E||E<1?E=1:(m-=E/2,x-=E/2),this.commandBuffer.push(c.FILL_RECT,m,x,E,E),this},"fillPoint"),fillTriangleShape:r(function(m){return this.fillTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},"fillTriangleShape"),strokeTriangleShape:r(function(m){return this.strokeTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},"strokeTriangleShape"),fillTriangle:r(function(m,x,E,A,R,P){return this.commandBuffer.push(c.FILL_TRIANGLE,m,x,E,A,R,P),this},"fillTriangle"),strokeTriangle:r(function(m,x,E,A,R,P){return this.commandBuffer.push(c.STROKE_TRIANGLE,m,x,E,A,R,P),this},"strokeTriangle"),strokeLineShape:r(function(m){return this.lineBetween(m.x1,m.y1,m.x2,m.y2)},"strokeLineShape"),lineBetween:r(function(m,x,E,A){return this.beginPath(),this.moveTo(m,x),this.lineTo(E,A),this.strokePath(),this},"lineBetween"),lineTo:r(function(m,x){return this.commandBuffer.push(c.LINE_TO,m,x),this},"lineTo"),moveTo:r(function(m,x){return this.commandBuffer.push(c.MOVE_TO,m,x),this},"moveTo"),strokePoints:r(function(m,x,E,A){x===void 0&&(x=!1),E===void 0&&(E=!1),A===void 0&&(A=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var R=1;R<A;R++)this.lineTo(m[R].x,m[R].y);return x&&this.lineTo(m[0].x,m[0].y),E&&this.closePath(),this.strokePath(),this},"strokePoints"),fillPoints:r(function(m,x,E,A){x===void 0&&(x=!1),E===void 0&&(E=!1),A===void 0&&(A=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var R=1;R<A;R++)this.lineTo(m[R].x,m[R].y);return x&&this.lineTo(m[0].x,m[0].y),E&&this.closePath(),this.fillPath(),this},"fillPoints"),strokeEllipseShape:r(function(m,x){x===void 0&&(x=32);var E=m.getPoints(x);return this.strokePoints(E,!0)},"strokeEllipseShape"),strokeEllipse:r(function(m,x,E,A,R){R===void 0&&(R=32);var P=new u(m,x,E,A),O=P.getPoints(R);return this.strokePoints(O,!0)},"strokeEllipse"),fillEllipseShape:r(function(m,x){x===void 0&&(x=32);var E=m.getPoints(x);return this.fillPoints(E,!0)},"fillEllipseShape"),fillEllipse:r(function(m,x,E,A,R){R===void 0&&(R=32);var P=new u(m,x,E,A),O=P.getPoints(R);return this.fillPoints(O,!0)},"fillEllipse"),arc:r(function(m,x,E,A,R,P,O){return P===void 0&&(P=!1),O===void 0&&(O=0),this.commandBuffer.push(c.ARC,m,x,E,A,R,P,O),this},"arc"),slice:r(function(m,x,E,A,R,P,O){return P===void 0&&(P=!1),O===void 0&&(O=0),this.commandBuffer.push(c.BEGIN_PATH),this.commandBuffer.push(c.MOVE_TO,m,x),this.commandBuffer.push(c.ARC,m,x,E,A,R,P,O),this.commandBuffer.push(c.CLOSE_PATH),this},"slice"),save:r(function(){return this.commandBuffer.push(c.SAVE),this},"save"),restore:r(function(){return this.commandBuffer.push(c.RESTORE),this},"restore"),translateCanvas:r(function(m,x){return this.commandBuffer.push(c.TRANSLATE,m,x),this},"translateCanvas"),scaleCanvas:r(function(m,x){return this.commandBuffer.push(c.SCALE,m,x),this},"scaleCanvas"),rotateCanvas:r(function(m){return this.commandBuffer.push(c.ROTATE,m),this},"rotateCanvas"),clear:r(function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},"clear"),generateTexture:r(function(m,x,E){var A=this.scene.sys,R=A.game.renderer;x===void 0&&(x=A.scale.width),E===void 0&&(E=A.scale.height),g.TargetCamera.setScene(this.scene),g.TargetCamera.setViewport(0,0,x,E),g.TargetCamera.scrollX=this.x,g.TargetCamera.scrollY=this.y;var P,O,L={willReadFrequently:!0};if(typeof m=="string")if(A.textures.exists(m)){P=A.textures.get(m);var w=P.getSourceImage();w instanceof HTMLCanvasElement&&(O=w.getContext("2d",L))}else P=A.textures.createCanvas(m,x,E),O=P.getSourceImage().getContext("2d",L);else m instanceof HTMLCanvasElement&&(O=m.getContext("2d",L));return O&&(this.renderCanvas(R,this,g.TargetCamera,null,O,!1),P&&P.refresh()),this},"generateTexture"),preDestroy:r(function(){this.commandBuffer=[]},"preDestroy")});g.TargetCamera=new o,n.exports=g},32768:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85592),T=s(20926),c=r(function(l,u,h,f,v,d){var p=u.commandBuffer,g=p.length,m=v||l.currentContext;if(!(g===0||!T(l,m,u,h,f))){h.addToRenderList(u);var x=1,E=1,A=0,R=0,P=1,O=0,L=0,w=0;m.beginPath();for(var M=0;M<g;++M){var b=p[M];switch(b){case o.ARC:m.arc(p[M+1],p[M+2],p[M+3],p[M+4],p[M+5],p[M+6]),M+=7;break;case o.LINE_STYLE:P=p[M+1],A=p[M+2],x=p[M+3],O=(A&16711680)>>>16,L=(A&65280)>>>8,w=A&255,m.strokeStyle="rgba("+O+","+L+","+w+","+x+")",m.lineWidth=P,M+=3;break;case o.FILL_STYLE:R=p[M+1],E=p[M+2],O=(R&16711680)>>>16,L=(R&65280)>>>8,w=R&255,m.fillStyle="rgba("+O+","+L+","+w+","+E+")",M+=2;break;case o.BEGIN_PATH:m.beginPath();break;case o.CLOSE_PATH:m.closePath();break;case o.FILL_PATH:d||m.fill();break;case o.STROKE_PATH:d||m.stroke();break;case o.FILL_RECT:d?m.rect(p[M+1],p[M+2],p[M+3],p[M+4]):m.fillRect(p[M+1],p[M+2],p[M+3],p[M+4]),M+=4;break;case o.FILL_TRIANGLE:m.beginPath(),m.moveTo(p[M+1],p[M+2]),m.lineTo(p[M+3],p[M+4]),m.lineTo(p[M+5],p[M+6]),m.closePath(),d||m.fill(),M+=6;break;case o.STROKE_TRIANGLE:m.beginPath(),m.moveTo(p[M+1],p[M+2]),m.lineTo(p[M+3],p[M+4]),m.lineTo(p[M+5],p[M+6]),m.closePath(),d||m.stroke(),M+=6;break;case o.LINE_TO:m.lineTo(p[M+1],p[M+2]),M+=2;break;case o.MOVE_TO:m.moveTo(p[M+1],p[M+2]),M+=2;break;case o.LINE_FX_TO:m.lineTo(p[M+1],p[M+2]),M+=5;break;case o.MOVE_FX_TO:m.moveTo(p[M+1],p[M+2]),M+=5;break;case o.SAVE:m.save();break;case o.RESTORE:m.restore();break;case o.TRANSLATE:m.translate(p[M+1],p[M+2]),M+=2;break;case o.SCALE:m.scale(p[M+1],p[M+2]),M+=2;break;case o.ROTATE:m.rotate(p[M+1]),M+=1;break;case o.GRADIENT_FILL_STYLE:M+=5;break;case o.GRADIENT_LINE_STYLE:M+=6;break}}m.restore()}},"GraphicsCanvasRenderer");n.exports=c},87079:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),T=s(43831);o.register("graphics",function(c,l){c===void 0&&(c={}),l!==void 0&&(c.add=l);var u=new T(this.scene,c);return c.add&&this.scene.sys.displayList.add(u),u})},1201:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43831),T=s(39429);T.register("graphics",function(c){return this.displayList.add(new o(this.scene,c))})},84503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(77545),c=s(32768),c=s(32768),n.exports={renderWebGL:T,renderCanvas:c}},77545:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85592),T=s(91296),c=s(61340),l=s(70554),u=r(function(p,g,m){this.x=p,this.y=g,this.width=m},"Point"),h=r(function(p,g,m){this.points=[],this.pointsLength=1,this.points[0]=new u(p,g,m)},"Path"),f=[],v=new c,d=r(function(p,g,m,x){if(g.commandBuffer.length!==0){m.addToRenderList(g);var E=p.pipelines.set(g.pipeline,g);p.pipelines.preBatch(g);for(var A=T(g,m,x).calc,R=v.loadIdentity(),P=g.commandBuffer,O=m.alpha*g.alpha,L=1,w=E.fillTint,M=E.strokeTint,b=0,D=0,F=0,N=.01,B=Math.PI*2,Y,W=[],z=0,X=!0,H=null,V=l.getTintAppendFloatAlpha,G=0;G<P.length;G++)switch(Y=P[G],Y){case o.BEGIN_PATH:{W.length=0,H=null,X=!0;break}case o.CLOSE_PATH:{X=!1,H&&H.points.length&&H.points.push(H.points[0]);break}case o.FILL_PATH:{for(z=0;z<W.length;z++)E.batchFillPath(W[z].points,R,A);break}case o.STROKE_PATH:{for(z=0;z<W.length;z++)E.batchStrokePath(W[z].points,L,X,R,A);break}case o.LINE_STYLE:{L=P[++G];var k=P[++G],U=P[++G]*O,I=V(k,U);M.TL=I,M.TR=I,M.BL=I,M.BR=I;break}case o.FILL_STYLE:{var $=P[++G],K=P[++G]*O,Z=V($,K);w.TL=Z,w.TR=Z,w.BL=Z,w.BR=Z;break}case o.GRADIENT_FILL_STYLE:{var J=P[++G]*O,Q=P[++G]*O,q=P[++G]*O,j=P[++G]*O;w.TL=V(P[++G],J),w.TR=V(P[++G],Q),w.BL=V(P[++G],q),w.BR=V(P[++G],j);break}case o.GRADIENT_LINE_STYLE:{L=P[++G];var tt=P[++G]*O;M.TL=V(P[++G],tt),M.TR=V(P[++G],tt),M.BL=V(P[++G],tt),M.BR=V(P[++G],tt);break}case o.ARC:{var st=0,_=P[++G],ht=P[++G],ot=P[++G],lt=P[++G],et=P[++G],nt=P[++G],at=P[++G];for(et-=lt,nt?et<-B?et=-B:et>0&&(et=-B+et%B):et>B?et=B:et<0&&(et=B+et%B),H===null&&(H=new h(_+Math.cos(lt)*ot,ht+Math.sin(lt)*ot,L),W.push(H),st+=N);st<1+at;)F=et*st+lt,b=_+Math.cos(F)*ot,D=ht+Math.sin(F)*ot,H.points.push(new u(b,D,L)),st+=N;F=et+lt,b=_+Math.cos(F)*ot,D=ht+Math.sin(F)*ot,H.points.push(new u(b,D,L));break}case o.FILL_RECT:{E.batchFillRect(P[++G],P[++G],P[++G],P[++G],R,A);break}case o.FILL_TRIANGLE:{E.batchFillTriangle(P[++G],P[++G],P[++G],P[++G],P[++G],P[++G],R,A);break}case o.STROKE_TRIANGLE:{E.batchStrokeTriangle(P[++G],P[++G],P[++G],P[++G],P[++G],P[++G],L,R,A);break}case o.LINE_TO:{H!==null?H.points.push(new u(P[++G],P[++G],L)):(H=new h(P[++G],P[++G],L),W.push(H));break}case o.MOVE_TO:{H=new h(P[++G],P[++G],L),W.push(H);break}case o.SAVE:{f.push(R.copyToArray());break}case o.RESTORE:{R.copyFromArray(f.pop());break}case o.TRANSLATE:{_=P[++G],ht=P[++G],R.translate(_,ht);break}case o.SCALE:{_=P[++G],ht=P[++G],R.scale(_,ht);break}case o.ROTATE:{R.rotate(P[++G]);break}}p.pipelines.postBatch(g)}},"GraphicsWebGLRenderer");n.exports=d},26479:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61061),T=s(83419),c=s(51708),l=s(50792),u=s(46710),h=s(95540),f=s(35154),v=s(97022),d=s(41212),p=s(88492),g=s(35072),m=s(68287),x=new T({Extends:l,initialize:r(function(A,R,P){l.call(this),P?R&&!Array.isArray(R)&&(R=[R]):Array.isArray(R)?d(R[0])&&(P=R,R=null):d(R)&&(P=R,R=null),this.scene=A,this.children=new g,this.isParent=!0,this.type="Group",this.classType=h(P,"classType",m),this.name=h(P,"name",""),this.active=h(P,"active",!0),this.maxSize=h(P,"maxSize",-1),this.defaultKey=h(P,"defaultKey",null),this.defaultFrame=h(P,"defaultFrame",null),this.runChildUpdate=h(P,"runChildUpdate",!1),this.createCallback=h(P,"createCallback",null),this.removeCallback=h(P,"removeCallback",null),this.createMultipleCallback=h(P,"createMultipleCallback",null),this.internalCreateCallback=h(P,"internalCreateCallback",null),this.internalRemoveCallback=h(P,"internalRemoveCallback",null),R&&this.addMultiple(R),P&&this.createMultiple(P),this.on(c.ADDED_TO_SCENE,this.addedToScene,this),this.on(c.REMOVED_FROM_SCENE,this.removedFromScene,this)},"Group"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),create:r(function(E,A,R,P,O,L){if(E===void 0&&(E=0),A===void 0&&(A=0),R===void 0&&(R=this.defaultKey),P===void 0&&(P=this.defaultFrame),O===void 0&&(O=!0),L===void 0&&(L=!0),this.isFull())return null;var w=new this.classType(this.scene,E,A,R,P);return w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList(),w.visible=O,w.setActive(L),this.add(w),w},"create"),createMultiple:r(function(E){if(this.isFull())return[];Array.isArray(E)||(E=[E]);var A=[];if(E[0].key)for(var R=0;R<E.length;R++){var P=this.createFromConfig(E[R]);A=A.concat(P)}return A},"createMultiple"),createFromConfig:r(function(E){if(this.isFull())return[];this.classType=h(E,"classType",this.classType);var A=h(E,"key",void 0),R=h(E,"frame",null),P=h(E,"visible",!0),O=h(E,"active",!0),L=[];if(A===void 0)return L;Array.isArray(A)||(A=[A]),Array.isArray(R)||(R=[R]);var w=h(E,"repeat",0),M=h(E,"randomKey",!1),b=h(E,"randomFrame",!1),D=h(E,"yoyo",!1),F=h(E,"quantity",!1),N=h(E,"frameQuantity",1),B=h(E,"max",0),Y=p(A,R,{max:B,qty:F||N,random:M,randomB:b,repeat:w,yoyo:D});E.createCallback&&(this.createCallback=E.createCallback),E.removeCallback&&(this.removeCallback=E.removeCallback),E.internalCreateCallback&&(this.internalCreateCallback=E.internalCreateCallback),E.internalRemoveCallback&&(this.internalRemoveCallback=E.internalRemoveCallback);for(var W=0;W<Y.length;W++){var z=this.create(0,0,Y[W].a,Y[W].b,P,O);if(!z)break;L.push(z)}if(v(E,"setXY")){var X=f(E,"setXY.x",0),H=f(E,"setXY.y",0),V=f(E,"setXY.stepX",0),G=f(E,"setXY.stepY",0);o.SetXY(L,X,H,V,G)}if(v(E,"setRotation")){var k=f(E,"setRotation.value",0),U=f(E,"setRotation.step",0);o.SetRotation(L,k,U)}if(v(E,"setScale")){var I=f(E,"setScale.x",1),$=f(E,"setScale.y",I),K=f(E,"setScale.stepX",0),Z=f(E,"setScale.stepY",0);o.SetScale(L,I,$,K,Z)}if(v(E,"setOrigin")){var J=f(E,"setOrigin.x",.5),Q=f(E,"setOrigin.y",J),q=f(E,"setOrigin.stepX",0),j=f(E,"setOrigin.stepY",0);o.SetOrigin(L,J,Q,q,j)}if(v(E,"setAlpha")){var tt=f(E,"setAlpha.value",1),st=f(E,"setAlpha.step",0);o.SetAlpha(L,tt,st)}if(v(E,"setDepth")){var _=f(E,"setDepth.value",0),ht=f(E,"setDepth.step",0);o.SetDepth(L,_,ht)}if(v(E,"setScrollFactor")){var ot=f(E,"setScrollFactor.x",1),lt=f(E,"setScrollFactor.y",ot),et=f(E,"setScrollFactor.stepX",0),nt=f(E,"setScrollFactor.stepY",0);o.SetScrollFactor(L,ot,lt,et,nt)}var at=h(E,"hitArea",null),ct=h(E,"hitAreaCallback",null);at&&o.SetHitArea(L,at,ct);var Et=h(E,"gridAlign",!1);return Et&&o.GridAlign(L,Et),this.createMultipleCallback&&this.createMultipleCallback.call(this,L),L},"createFromConfig"),preUpdate:r(function(E,A){if(!(!this.runChildUpdate||this.children.size===0))for(var R=this.children.entries.slice(),P=0;P<R.length;P++){var O=R[P];O.active&&O.update(E,A)}},"preUpdate"),add:r(function(E,A){return A===void 0&&(A=!1),this.isFull()?this:(this.children.set(E),this.internalCreateCallback&&this.internalCreateCallback.call(this,E),this.createCallback&&this.createCallback.call(this,E),A&&(E.addToDisplayList(this.scene.sys.displayList),E.addToUpdateList()),E.on(c.DESTROY,this.remove,this),this)},"add"),addMultiple:r(function(E,A){if(A===void 0&&(A=!1),Array.isArray(E))for(var R=0;R<E.length;R++)this.add(E[R],A);return this},"addMultiple"),remove:r(function(E,A,R){return A===void 0&&(A=!1),R===void 0&&(R=!1),this.children.contains(E)?(this.children.delete(E),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,E),this.removeCallback&&this.removeCallback.call(this,E),E.off(c.DESTROY,this.remove,this),R?E.destroy():A&&(E.removeFromDisplayList(),E.removeFromUpdateList()),this):this},"remove"),clear:r(function(E,A){E===void 0&&(E=!1),A===void 0&&(A=!1);for(var R=this.children,P=0;P<R.size;P++){var O=R.entries[P];O.off(c.DESTROY,this.remove,this),A?O.destroy():E&&(O.removeFromDisplayList(),O.removeFromUpdateList())}return this.children.clear(),this},"clear"),contains:r(function(E){return this.children.contains(E)},"contains"),getChildren:r(function(){return this.children.entries},"getChildren"),getLength:r(function(){return this.children.size},"getLength"),getMatching:r(function(E,A,R,P){return u(this.children.entries,E,A,R,P)},"getMatching"),getFirst:r(function(E,A,R,P,O,L,w){return this.getHandler(!0,1,E,A,R,P,O,L,w)},"getFirst"),getFirstNth:r(function(E,A,R,P,O,L,w,M){return this.getHandler(!0,E,A,R,P,O,L,w,M)},"getFirstNth"),getLast:r(function(E,A,R,P,O,L,w){return this.getHandler(!1,1,E,A,R,P,O,L,w)},"getLast"),getLastNth:r(function(E,A,R,P,O,L,w,M){return this.getHandler(!1,E,A,R,P,O,L,w,M)},"getLastNth"),getHandler:r(function(E,A,R,P,O,L,w,M,b){R===void 0&&(R=!1),P===void 0&&(P=!1);var D,F,N=0,B=this.children.entries;if(E)for(F=0;F<B.length;F++)if(D=B[F],D.active===R){if(N++,N===A)break}else D=null;else for(F=B.length-1;F>=0;F--)if(D=B[F],D.active===R){if(N++,N===A)break}else D=null;return D?(typeof O=="number"&&(D.x=O),typeof L=="number"&&(D.y=L),D):P?this.create(O,L,w,M,b):null},"getHandler"),get:r(function(E,A,R,P,O){return this.getFirst(!1,!0,E,A,R,P,O)},"get"),getFirstAlive:r(function(E,A,R,P,O,L){return this.getFirst(!0,E,A,R,P,O,L)},"getFirstAlive"),getFirstDead:r(function(E,A,R,P,O,L){return this.getFirst(!1,E,A,R,P,O,L)},"getFirstDead"),playAnimation:r(function(E,A){return o.PlayAnimation(this.children.entries,E,A),this},"playAnimation"),isFull:r(function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},"isFull"),countActive:r(function(E){E===void 0&&(E=!0);for(var A=0,R=0;R<this.children.size;R++)this.children.entries[R].active===E&&A++;return A},"countActive"),getTotalUsed:r(function(){return this.countActive()},"getTotalUsed"),getTotalFree:r(function(){var E=this.getTotalUsed(),A=this.maxSize===-1?999999999999:this.maxSize;return A-E},"getTotalFree"),setActive:r(function(E){return this.active=E,this},"setActive"),setName:r(function(E){return this.name=E,this},"setName"),propertyValueSet:r(function(E,A,R,P,O){return o.PropertyValueSet(this.children.entries,E,A,R,P,O),this},"propertyValueSet"),propertyValueInc:r(function(E,A,R,P,O){return o.PropertyValueInc(this.children.entries,E,A,R,P,O),this},"propertyValueInc"),setX:r(function(E,A){return o.SetX(this.children.entries,E,A),this},"setX"),setY:r(function(E,A){return o.SetY(this.children.entries,E,A),this},"setY"),setXY:r(function(E,A,R,P){return o.SetXY(this.children.entries,E,A,R,P),this},"setXY"),incX:r(function(E,A){return o.IncX(this.children.entries,E,A),this},"incX"),incY:r(function(E,A){return o.IncY(this.children.entries,E,A),this},"incY"),incXY:r(function(E,A,R,P){return o.IncXY(this.children.entries,E,A,R,P),this},"incXY"),shiftPosition:r(function(E,A,R){return o.ShiftPosition(this.children.entries,E,A,R),this},"shiftPosition"),angle:r(function(E,A){return o.Angle(this.children.entries,E,A),this},"angle"),rotate:r(function(E,A){return o.Rotate(this.children.entries,E,A),this},"rotate"),rotateAround:r(function(E,A){return o.RotateAround(this.children.entries,E,A),this},"rotateAround"),rotateAroundDistance:r(function(E,A,R){return o.RotateAroundDistance(this.children.entries,E,A,R),this},"rotateAroundDistance"),setAlpha:r(function(E,A){return o.SetAlpha(this.children.entries,E,A),this},"setAlpha"),setTint:r(function(E,A,R,P){return o.SetTint(this.children.entries,E,A,R,P),this},"setTint"),setOrigin:r(function(E,A,R,P){return o.SetOrigin(this.children.entries,E,A,R,P),this},"setOrigin"),scaleX:r(function(E,A){return o.ScaleX(this.children.entries,E,A),this},"scaleX"),scaleY:r(function(E,A){return o.ScaleY(this.children.entries,E,A),this},"scaleY"),scaleXY:r(function(E,A,R,P){return o.ScaleXY(this.children.entries,E,A,R,P),this},"scaleXY"),setDepth:r(function(E,A){return o.SetDepth(this.children.entries,E,A),this},"setDepth"),setBlendMode:r(function(E){return o.SetBlendMode(this.children.entries,E),this},"setBlendMode"),setHitArea:r(function(E,A){return o.SetHitArea(this.children.entries,E,A),this},"setHitArea"),shuffle:r(function(){return o.Shuffle(this.children.entries),this},"shuffle"),kill:r(function(E){this.children.contains(E)&&E.setActive(!1)},"kill"),killAndHide:r(function(E){this.children.contains(E)&&(E.setActive(!1),E.setVisible(!1))},"killAndHide"),setVisible:r(function(E,A,R){return o.SetVisible(this.children.entries,E,A,R),this},"setVisible"),toggleVisible:r(function(){return o.ToggleVisible(this.children.entries),this},"toggleVisible"),destroy:r(function(E,A){E===void 0&&(E=!1),A===void 0&&(A=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(c.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(A,E),this.scene=void 0,this.children=void 0)},"destroy")});n.exports=x},94975:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),T=s(26479);o.register("group",function(c){return new T(this.scene,null,c)})},3385:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26479),T=s(39429);T.register("group",function(c,l){return this.updateList.add(new o(this.scene,c,l))})},88571:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(95643),l=s(59819),u=new o({Extends:c,Mixins:[T.Alpha,T.BlendMode,T.Depth,T.Flip,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Size,T.TextureCrop,T.Tint,T.Transform,T.Visible,l],initialize:r(function(f,v,d,p,g){c.call(this,f,"Image"),this._crop=this.resetCropObject(),this.setTexture(p,g),this.setPosition(v,d),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},"Image")});n.exports=u},40652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){T.addToRenderList(o),s.batchSprite(o,o.frame,T,c)},"ImageCanvasRenderer");n.exports=C},82459:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(44603),c=s(23568),l=s(88571);T.register("image",function(u,h){u===void 0&&(u={});var f=c(u,"key",null),v=c(u,"frame",null),d=new l(this.scene,0,0,f,v);return h!==void 0&&(u.add=h),o(this.scene,d,u),d})},2117:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(88571),T=s(39429);T.register("image",function(c,l,u,h){return this.displayList.add(new o(this.scene,c,l,u,h))})},59819:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(99517),c=s(40652),n.exports={renderWebGL:T,renderCanvas:c}},99517:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){T.addToRenderList(o),this.pipeline.batchSprite(o,T,c)},"ImageWebGLRenderer");n.exports=C},77856:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:s(51708),DisplayList:s(8050),GameObjectCreator:s(44603),GameObjectFactory:s(39429),UpdateList:s(45027),Components:s(31401),GetCalcMatrix:s(91296),BuildGameObject:s(25305),BuildGameObjectAnimation:s(13059),GameObject:s(95643),BitmapText:s(22186),Blitter:s(6107),Bob:s(46590),Container:s(31559),DOMElement:s(3069),DynamicBitmapText:s(2638),Extern:s(42421),Graphics:s(43831),Group:s(26479),Image:s(88571),Layer:s(93595),Particles:s(18404),PathFollower:s(1159),RenderTexture:s(591),RetroFont:s(196),Rope:s(77757),Sprite:s(68287),Text:s(50171),GetTextSize:s(14220),MeasureText:s(79557),TextStyle:s(35762),TileSprite:s(20839),Zone:s(41481),Video:s(18471),Shape:s(17803),Arc:s(23629),Curve:s(89),Ellipse:s(19921),Grid:s(30479),IsoBox:s(61475),IsoTriangle:s(16933),Line:s(57847),Polygon:s(24949),Rectangle:s(74561),Star:s(55911),Triangle:s(36931),Factories:{Blitter:s(12709),Container:s(24961),DOMElement:s(2611),DynamicBitmapText:s(72566),Extern:s(56315),Graphics:s(1201),Group:s(3385),Image:s(2117),Layer:s(20005),Particles:s(676),PathFollower:s(90145),RenderTexture:s(60505),Rope:s(96819),Sprite:s(46409),StaticBitmapText:s(34914),Text:s(68005),TileSprite:s(91681),Zone:s(84175),Video:s(89025),Arc:s(42563),Curve:s(40511),Ellipse:s(1543),Grid:s(34137),IsoBox:s(3933),IsoTriangle:s(49803),Line:s(2481),Polygon:s(64827),Rectangle:s(87959),Star:s(93697),Triangle:s(45245)},Creators:{Blitter:s(9403),Container:s(77143),DynamicBitmapText:s(11164),Graphics:s(87079),Group:s(94975),Image:s(82459),Layer:s(25179),Particles:s(92730),RenderTexture:s(34495),Rope:s(26209),Sprite:s(15567),StaticBitmapText:s(57336),Text:s(71259),TileSprite:s(14167),Zone:s(95261),Video:s(11511)}};o.Shader=s(20071),o.Mesh=s(4703),o.NineSlice=s(28103),o.PointLight=s(80321),o.Plane=s(33663),o.Factories.Shader=s(74177),o.Factories.Mesh=s(9225),o.Factories.NineSlice=s(47521),o.Factories.PointLight=s(71255),o.Factories.Plane=s(30985),o.Creators.Shader=s(54935),o.Creators.Mesh=s(20527),o.Creators.NineSlice=s(28279),o.Creators.PointLight=s(39829),o.Creators.Plane=s(56015),o.Light=s(41432),o.LightsManager=s(61356),o.LightsPlugin=s(88992),n.exports=o},93595:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),T=s(83419),c=s(31401),l=s(53774),u=s(45893),h=s(50792),f=s(51708),v=s(73162),d=s(33963),p=s(44594),g=s(19186),m=new T({Extends:v,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.PostPipeline,c.Visible,h,d],initialize:r(function(E,A){v.call(this,E),h.call(this),this.scene=E,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=E.sys,this.events=E.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),A&&this.add(A),E.sys.queueDepthSort()},"Layer"),setActive:r(function(x){return this.active=x,this},"setActive"),setName:r(function(x){return this.name=x,this},"setName"),setState:r(function(x){return this.state=x,this},"setState"),setDataEnabled:r(function(){return this.data||(this.data=new u(this)),this},"setDataEnabled"),setData:r(function(x,E){return this.data||(this.data=new u(this)),this.data.set(x,E),this},"setData"),incData:r(function(x,E){return this.data||(this.data=new u(this)),this.data.inc(x,E),this},"incData"),toggleData:r(function(x){return this.data||(this.data=new u(this)),this.data.toggle(x),this},"toggleData"),getData:r(function(x){return this.data||(this.data=new u(this)),this.data.get(x)},"getData"),setInteractive:r(function(){return this},"setInteractive"),disableInteractive:r(function(){return this},"disableInteractive"),removeInteractive:r(function(){return this},"removeInteractive"),addedToScene:r(function(){},"addedToScene"),removedFromScene:r(function(){},"removedFromScene"),update:r(function(){},"update"),toJSON:r(function(){return l(this)},"toJSON"),willRender:r(function(x){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&x.id)},"willRender"),getIndexList:r(function(){for(var x=this,E=this.parentContainer,A=[];E&&(A.unshift(E.getIndex(x)),x=E,E.parentContainer);)E=E.parentContainer;return A.unshift(this.displayList.getIndex(x)),A},"getIndexList"),addChildCallback:r(function(x){var E=x.displayList;E&&E!==this&&x.removeFromDisplayList(),x.displayList||(this.queueDepthSort(),x.displayList=this,x.emit(f.ADDED_TO_SCENE,x,this.scene),this.events.emit(p.ADDED_TO_SCENE,x,this.scene))},"addChildCallback"),removeChildCallback:r(function(x){this.queueDepthSort(),x.displayList=null,x.emit(f.REMOVED_FROM_SCENE,x,this.scene),this.events.emit(p.REMOVED_FROM_SCENE,x,this.scene)},"removeChildCallback"),queueDepthSort:r(function(){this.sortChildrenFlag=!0},"queueDepthSort"),depthSort:r(function(){this.sortChildrenFlag&&(g(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},"depthSort"),sortByDepth:r(function(x,E){return x._depth-E._depth},"sortByDepth"),getChildren:r(function(){return this.list},"getChildren"),addToDisplayList:r(function(x){return x===void 0&&(x=this.scene.sys.displayList),this.displayList&&this.displayList!==x&&this.removeFromDisplayList(),x.exists(this)||(this.displayList=x,x.add(this,!0),x.queueDepthSort(),this.emit(f.ADDED_TO_SCENE,this,this.scene),x.events.emit(p.ADDED_TO_SCENE,this,this.scene)),this},"addToDisplayList"),removeFromDisplayList:r(function(){var x=this.displayList||this.scene.sys.displayList;return x.exists(this)&&(x.remove(this,!0),x.queueDepthSort(),this.displayList=null,this.emit(f.REMOVED_FROM_SCENE,this,this.scene),x.events.emit(p.REMOVED_FROM_SCENE,this,this.scene)),this},"removeFromDisplayList"),getDisplayList:r(function(){var x=null;return this.parentContainer?x=this.parentContainer.list:this.displayList&&(x=this.displayList.list),x},"getDisplayList"),destroy:r(function(x){if(!(!this.scene||this.ignoreDestroy)){this.emit(f.DESTROY,this);for(var E=this.list;E.length;)E[0].destroy(x);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}},"destroy")});n.exports=m},2956:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=o.list;if(c.length!==0){o.depthSort();var l=o.blendMode!==-1;l||s.setBlendMode(0);var u=o._alpha;o.mask&&o.mask.preRenderCanvas(s,null,T);for(var h=0;h<c.length;h++){var f=c[h];if(f.willRender(T)){var v=f.alpha;!l&&f.blendMode!==s.currentBlendMode&&s.setBlendMode(f.blendMode),f.setAlpha(v*u),f.renderCanvas(s,f,T),f.setAlpha(v)}}o.mask&&o.mask.postRenderCanvas(s)}},"LayerCanvasRenderer");n.exports=C},25179:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(93595),c=s(44603),l=s(23568);c.register("layer",function(u,h){u===void 0&&(u={});var f=l(u,"children",null),v=new T(this.scene,f);return h!==void 0&&(u.add=h),o(this.scene,v,u),v})},20005:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(93595),T=s(39429);T.register("layer",function(c){return this.displayList.add(new o(this.scene,c))})},33963:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(15869),c=s(2956),n.exports={renderWebGL:T,renderCanvas:c}},15869:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=o.list,l=c.length;if(l!==0){o.depthSort(),s.pipelines.preBatch(o);var u=o.blendMode!==-1;u||s.setBlendMode(0);for(var h=o.alpha,f=0;f<l;f++){var v=c[f];if(v.willRender(T)){var d,p,g,m;if(v.alphaTopLeft!==void 0)d=v.alphaTopLeft,p=v.alphaTopRight,g=v.alphaBottomLeft,m=v.alphaBottomRight;else{var x=v.alpha;d=x,p=x,g=x,m=x}!u&&v.blendMode!==s.currentBlendMode&&s.setBlendMode(v.blendMode);var E=v.mask;E&&E.preRenderWebGL(s,v,T);var A=v.type;A!==s.currentType&&(s.newType=!0,s.currentType=A),s.nextTypeMatch=f<l-1?c[f+1].type===s.currentType:!1,v.setAlpha(d*h,p*h,g*h,m*h),v.renderWebGL(s,v,T),v.setAlpha(d,p,g,m),E&&E.postRenderWebGL(s,T),s.newType=!1}}s.pipelines.postBatch(o)}},"LayerWebGLRenderer");n.exports=C},41432:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),T=s(83419),c=s(31401),l=s(51767),u=s(70554),h=new T({Extends:o,Mixins:[c.Origin,c.ScrollFactor,c.Visible],initialize:r(function(v,d,p,g,m,x,E){o.call(this,v,d,p),this.color=new l(g,m,x),this.intensity=E,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(p)},"Light"),displayWidth:{get:r(function(){return this.diameter},"get"),set:r(function(f){this.diameter=f},"set")},displayHeight:{get:r(function(){return this.diameter},"get"),set:r(function(f){this.diameter=f},"set")},width:{get:r(function(){return this.diameter},"get"),set:r(function(f){this.diameter=f},"set")},height:{get:r(function(){return this.diameter},"get"),set:r(function(f){this.diameter=f},"set")},willRender:r(function(f){return!(h.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},"willRender"),setColor:r(function(f){var v=u.getFloatsFromUintRGB(f);return this.color.set(v[0],v[1],v[2]),this},"setColor"),setIntensity:r(function(f){return this.intensity=f,this},"setIntensity"),setRadius:r(function(f){return this.radius=f,this},"setRadius")});h.RENDER_MASK=15,n.exports=h},61356:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81491),T=s(83419),c=s(20339),l=s(41432),u=s(80321),h=s(51767),f=s(19133),v=s(19186),d=s(70554),p=new T({initialize:r(function(){this.lights=[],this.ambientColor=new h(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},"LightsManager"),addPointLight:r(function(g,m,x,E,A,R){return this.systems.displayList.add(new u(this.scene,g,m,x,E,A,R))},"addPointLight"),enable:r(function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},"enable"),disable:r(function(){return this.active=!1,this},"disable"),getLights:r(function(g){for(var m=this.lights,x=g.worldView,E=[],A=0;A<m.length;A++){var R=m[A];R.willRender(g)&&o(R,x)&&E.push({light:R,distance:c(R.x,R.y,x.centerX,x.centerY)})}return E.length>this.maxLights&&(v(E,this.sortByDistance),E=E.slice(0,this.maxLights)),this.visibleLights=E.length,E},"getLights"),sortByDistance:r(function(g,m){return g.distance>=m.distance},"sortByDistance"),setAmbientColor:r(function(g){var m=d.getFloatsFromUintRGB(g);return this.ambientColor.set(m[0],m[1],m[2]),this},"setAmbientColor"),getMaxVisibleLights:r(function(){return this.maxLights},"getMaxVisibleLights"),getLightCount:r(function(){return this.lights.length},"getLightCount"),addLight:r(function(g,m,x,E,A){g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=128),E===void 0&&(E=16777215),A===void 0&&(A=1);var R=d.getFloatsFromUintRGB(E),P=new l(g,m,x,R[0],R[1],R[2],A);return this.lights.push(P),P},"addLight"),removeLight:r(function(g){var m=this.lights.indexOf(g);return m>=0&&f(this.lights,m),this},"removeLight"),shutdown:r(function(){this.lights.length=0},"shutdown"),destroy:r(function(){this.shutdown()},"destroy")});n.exports=p},88992:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(61356),c=s(37277),l=s(44594),u=new o({Extends:T,initialize:r(function(f){this.scene=f,this.systems=f.sys,f.sys.settings.isBooted||f.sys.events.once(l.BOOT,this.boot,this),T.call(this)},"LightsPlugin"),boot:r(function(){var h=this.systems.events;h.on(l.SHUTDOWN,this.shutdown,this),h.on(l.DESTROY,this.destroy,this)},"boot"),destroy:r(function(){this.shutdown(),this.scene=void 0,this.systems=void 0},"destroy")});c.register("LightsPlugin",u,"lights"),n.exports=u},4703:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(39506),l=s(83997),u=s(95643),h=s(34684),f=s(92515),v=s(91296),d=s(37867),p=s(29807),g=s(43396),m=s(19186),x=s(25836),E=s(39318),A=new o({Extends:u,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Size,T.Texture,T.Transform,T.Visible,p],initialize:r(function(P,O,L,w,M,b,D,F,N,B,Y,W){O===void 0&&(O=0),L===void 0&&(L=0),w===void 0&&(w="__WHITE"),u.call(this,P,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new x,this.modelScale=new x(1,1,1),this.modelRotation=new x,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new d,this.viewPosition=new x,this.viewMatrix=new d,this.projectionMatrix=new d,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var z=P.sys.renderer;this.setPosition(O,L),this.setTexture(w,M),this.setSize(z.width,z.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(z.width,z.height),b&&this.addVertices(b,D,F,N,B,Y,W)},"Mesh"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),panX:r(function(R){return this.viewPosition.addScale(x.LEFT,R),this.dirtyCache[10]=1,this},"panX"),panY:r(function(R){return this.viewPosition.y+=x.DOWN.y*R,this.dirtyCache[10]=1,this},"panY"),panZ:r(function(R){return this.viewPosition.z+=R,this.dirtyCache[10]=1,this},"panZ"),setPerspective:r(function(R,P,O,L,w){return O===void 0&&(O=45),L===void 0&&(L=.01),w===void 0&&(w=1e3),this.fov=O,this.projectionMatrix.perspective(c(O),R/P,L,w),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},"setPerspective"),setOrtho:r(function(R,P,O,L){return R===void 0&&(R=this.scene.sys.renderer.getAspectRatio()),P===void 0&&(P=1),O===void 0&&(O=-1e3),L===void 0&&(L=1e3),this.fov=0,this.projectionMatrix.ortho(-R,R,-P,P,O,L),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},"setOrtho"),clear:r(function(){return this.faces.forEach(function(R){R.destroy()}),this.faces=[],this.vertices=[],this},"clear"),addVerticesFromObj:r(function(R,P,O,L,w,M,b,D,F){var N=this.scene.sys.cache.obj.get(R),B;return N&&(B=h(N,this,P,O,L,w,M,b,D,F)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",R),this},"addVerticesFromObj"),sortByDepth:r(function(R,P){return R.depth-P.depth},"sortByDepth"),depthSort:r(function(){return m(this.faces,this.sortByDepth),this},"depthSort"),addVertex:r(function(R,P,O,L,w,M,b){var D=new E(R,P,O,L,w,M,b);return this.vertices.push(D),D},"addVertex"),addFace:r(function(R,P,O){var L=new l(R,P,O);return this.faces.push(L),this.dirtyCache[9]=-1,L},"addFace"),addVertices:r(function(R,P,O,L,w,M,b){var D=f(R,P,O,L,w,M,b);return D?(this.faces=this.faces.concat(D.faces),this.vertices=this.vertices.concat(D.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},"addVertices"),getFaceCount:r(function(){return this.faces.length},"getFaceCount"),getVertexCount:r(function(){return this.vertices.length},"getVertexCount"),getFace:r(function(R){return this.faces[R]},"getFace"),hasFaceAt:r(function(R,P,O){O===void 0&&(O=this.scene.sys.cameras.main);for(var L=v(this,O).calc,w=this.faces,M=0;M<w.length;M++){var b=w[M];if(b.contains(R,P,L))return!0}return!1},"hasFaceAt"),getFaceAt:r(function(R,P,O){O===void 0&&(O=this.scene.sys.cameras.main);for(var L=v(this,O).calc,w=this.faces,M=[],b=0;b<w.length;b++){var D=w[b];D.contains(R,P,L)&&M.push(D)}return m(M,this.sortByDepth)},"getFaceAt"),setDebug:r(function(R,P){return this.debugGraphic=R,!R&&!P?this.debugCallback=null:P?this.debugCallback=P:this.debugCallback=this.renderDebug,this},"setDebug"),isDirty:r(function(){var R=this.modelPosition,P=this.modelRotation,O=this.modelScale,L=this.dirtyCache,w=R.x,M=R.y,b=R.z,D=P.x,F=P.y,N=P.z,B=O.x,Y=O.y,W=O.z,z=this.getFaceCount(),X=L[0],H=L[1],V=L[2],G=L[3],k=L[4],U=L[5],I=L[6],$=L[7],K=L[8],Z=L[9];return L[0]=w,L[1]=M,L[2]=b,L[3]=D,L[4]=F,L[5]=N,L[6]=B,L[7]=Y,L[8]=W,L[9]=z,X!==w||H!==M||V!==b||G!==D||k!==F||U!==N||I!==B||$!==Y||K!==W||Z!==z},"isDirty"),preUpdate:r(function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var R=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!R[10]&&!this.isDirty())){var P=this.width,O=this.height,L=this.viewMatrix,w=this.viewPosition;R[10]&&(L.identity(),L.translate(w),L.invert(),R[10]=0);var M=this.transformMatrix;M.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var b=w.z,D=this.faces,F=0;F<D.length;F++)D[F].transformCoordinatesLocal(M,P,O,b);this.depthSort()}},"preUpdate"),renderDebug:r(function(R,P){for(var O=R.debugGraphic,L=0;L<P.length;L++){var w=P[L],M=w.vertex1.tx,b=w.vertex1.ty,D=w.vertex2.tx,F=w.vertex2.ty,N=w.vertex3.tx,B=w.vertex3.ty;O.strokeTriangle(M,b,D,F,N,B)}},"renderDebug"),preDestroy:r(function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},"preDestroy"),clearTint:r(function(){return this.setTint()},"clearTint"),setInteractive:r(function(R){R===void 0&&(R={});var P=(function(O,L,w){for(var M=this.faces,b=0;b<M.length;b++){var D=M[b];if(D.contains(L,w))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,R,P),this},"setInteractive"),setTint:r(function(R){R===void 0&&(R=16777215);for(var P=this.vertices,O=0;O<P.length;O++)P[O].color=R;return this},"setTint"),uvScroll:r(function(R,P){for(var O=this.faces,L=0;L<O.length;L++)O[L].scrollUV(R,P);return this},"uvScroll"),uvScale:r(function(R,P){for(var O=this.faces,L=0;L<O.length;L++)O[L].scaleUV(R,P);return this},"uvScale"),tint:{set:r(function(R){this.setTint(R)},"set")},rotateX:{get:r(function(){return g(this.modelRotation.x)},"get"),set:r(function(R){this.modelRotation.x=c(R)},"set")},rotateY:{get:r(function(){return g(this.modelRotation.y)},"get"),set:r(function(R){this.modelRotation.y=c(R)},"set")},rotateZ:{get:r(function(){return g(this.modelRotation.z)},"get"),set:r(function(R){this.modelRotation.z=c(R)},"set")}});n.exports=A},36488:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(){},"MeshCanvasRenderer");n.exports=C},20527:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(44603),c=s(23568),l=s(35154),u=s(4703);T.register("mesh",function(h,f){h===void 0&&(h={});var v=c(h,"key",null),d=c(h,"frame",null),p=l(h,"vertices",[]),g=l(h,"uvs",[]),m=l(h,"indicies",[]),x=l(h,"containsZ",!1),E=l(h,"normals",[]),A=l(h,"colors",16777215),R=l(h,"alphas",1),P=new u(this.scene,0,0,v,d,p,g,m,x,E,A,R);return f!==void 0&&(h.add=f),o(this.scene,P,h),P})},9225:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4703),T=s(39429);T.register("mesh",function(c,l,u,h,f,v,d,p,g,m,x){return this.displayList.add(new o(this.scene,c,l,u,h,f,v,d,p,g,m,x))})},29807:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(48833),c=s(36488),n.exports={renderWebGL:T,renderCanvas:c}},48833:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=r(function(c,l,u,h){var f=l.faces,v=f.length;if(v!==0){u.addToRenderList(l);var d=c.pipelines.set(l.pipeline,l),p=o(l,u,h).calc;c.pipelines.preBatch(l);for(var g=d.setGameObject(l),m=d.vertexViewF32,x=d.vertexViewU32,E=d.vertexCount*d.currentShader.vertexComponentCount-1,A=l.tintFill,R=[],P=l.debugCallback,O=p.a,L=p.b,w=p.c,M=p.d,b=p.e,D=p.f,F=l.viewPosition.z,N=l.hideCCW,B=u.roundPixels,Y=u.alpha*l.alpha,W=0,z=0;z<v;z++){var X=f[z];X.isInView(u,N,F,Y,O,L,w,M,b,D,B)&&(d.shouldFlush(3)&&(d.flush(),g=d.setGameObject(l),E=d.vertexCount*d.currentShader.vertexComponentCount-1),E=X.load(m,x,E,g,A),W++,d.vertexCount+=3,d.currentBatch.count=d.vertexCount-d.currentBatch.start,P&&R.push(X))}l.totalFrame+=W,P&&P.call(l,l,R),c.pipelines.postBatch(l)}},"MeshWebGLRenderer");n.exports=T},28103:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(95643),l=s(78023),u=s(39318),h=new o({Extends:c,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Texture,T.Transform,T.Visible,l],initialize:r(function(v,d,p,g,m,x,E,A,R,P,O){c.call(this,v,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var L=v.textures.getFrame(g,m);this.is3Slice=!P&&!O,L&&L.scale9&&(this.is3Slice=L.is3Slice);for(var w=this.is3Slice?18:54,M=0;M<w;M++)this.vertices.push(new u);this.setPosition(d,p),this.setTexture(g,m),this.setSlices(x,E,A,R,P,O,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},"NineSlice"),setSlices:r(function(f,v,d,p,g,m,x){d===void 0&&(d=10),p===void 0&&(p=10),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=!1);var E=this.frame,A=!1;if(this.is3Slice&&x&&g!==0&&m!==0&&(A=!0),A)console.warn("Cannot change 9 slice to 3 slice");else{if(E&&E.scale9&&!x){var R=E.data.scale9Borders,P=R.x,O=R.y;d=P,p=E.width-R.w-P,g=O,m=E.height-R.h-O,f===void 0&&(f=E.width),v===void 0&&(v=E.height)}else f===void 0&&(f=256),v===void 0&&(v=256);this._width=f,this._height=v,this.leftWidth=d,this.rightWidth=p,this.topHeight=g,this.bottomHeight=m,this.is3Slice&&(v=E.height,this._height=v,this.topHeight=v,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},"setSlices"),updateUVs:r(function(){var f=this.leftWidth,v=this.rightWidth,d=this.topHeight,p=this.bottomHeight,g=this.frame.width,m=this.frame.height;this.updateQuadUVs(0,0,0,f/g,d/m),this.updateQuadUVs(6,f/g,0,1-v/g,d/m),this.updateQuadUVs(12,1-v/g,0,1,d/m),this.is3Slice||(this.updateQuadUVs(18,0,d/m,f/g,1-p/m),this.updateQuadUVs(24,f/g,d/m,1-v/g,1-p/m),this.updateQuadUVs(30,1-v/g,d/m,1,1-p/m),this.updateQuadUVs(36,0,1-p/m,f/g,1),this.updateQuadUVs(42,f/g,1-p/m,1-v/g,1),this.updateQuadUVs(48,1-v/g,1-p/m,1,1))},"updateUVs"),updateVertices:r(function(){var f=this.leftWidth,v=this.rightWidth,d=this.topHeight,p=this.bottomHeight,g=this.width,m=this.height;this.updateQuad(0,-.5,.5,-.5+f/g,.5-d/m),this.updateQuad(6,-.5+f/g,.5,.5-v/g,.5-d/m),this.updateQuad(12,.5-v/g,.5,.5,.5-d/m),this.is3Slice||(this.updateQuad(18,-.5,.5-d/m,-.5+f/g,-.5+p/m),this.updateQuad(24,-.5+f/g,.5-d/m,.5-v/g,-.5+p/m),this.updateQuad(30,.5-v/g,.5-d/m,.5,-.5+p/m),this.updateQuad(36,-.5,-.5+p/m,-.5+f/g,-.5),this.updateQuad(42,-.5+f/g,-.5+p/m,.5-v/g,-.5),this.updateQuad(48,.5-v/g,-.5+p/m,.5,-.5))},"updateVertices"),updateQuad:r(function(f,v,d,p,g){var m=this.width,x=this.height,E=this.originX,A=this.originY,R=this.vertices;R[f+0].resize(v,d,m,x,E,A),R[f+1].resize(v,g,m,x,E,A),R[f+2].resize(p,d,m,x,E,A),R[f+3].resize(v,g,m,x,E,A),R[f+4].resize(p,g,m,x,E,A),R[f+5].resize(p,d,m,x,E,A)},"updateQuad"),updateQuadUVs:r(function(f,v,d,p,g){var m=this.vertices,x=this.frame,E=x.u0,A=x.v0,R=x.u1,P=x.v1;if(E!==0||R!==1){var O=R-E;v=E+v*O,p=E+p*O}if(A!==0||P!==1){var L=P-A;d=A+d*L,g=A+g*L}m[f+0].setUVs(v,d),m[f+1].setUVs(v,g),m[f+2].setUVs(p,d),m[f+3].setUVs(v,g),m[f+4].setUVs(p,g),m[f+5].setUVs(p,d)},"updateQuadUVs"),clearTint:r(function(){return this.setTint(16777215),this},"clearTint"),setTint:r(function(f){return f===void 0&&(f=16777215),this.tint=f,this.tintFill=!1,this},"setTint"),setTintFill:r(function(f){return this.setTint(f),this.tintFill=!0,this},"setTintFill"),isTinted:{get:r(function(){return this.tint!==16777215},"get")},width:{get:r(function(){return this._width},"get"),set:r(function(f){this._width=Math.max(f,this.leftWidth+this.rightWidth),this.updateVertices()},"set")},height:{get:r(function(){return this._height},"get"),set:r(function(f){this.is3Slice||(this._height=Math.max(f,this.topHeight+this.bottomHeight),this.updateVertices())},"set")},displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(f){this.scaleX=f/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(f){this.scaleY=f/this.height},"set")},setSize:r(function(f,v){this.width=f,this.height=v,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},"setSize"),setDisplaySize:r(function(f,v){return this.displayWidth=f,this.displayHeight=v,this},"setDisplaySize"),originX:{get:r(function(){return this._originX},"get"),set:r(function(f){this._originX=f,this.updateVertices()},"set")},originY:{get:r(function(){return this._originY},"get"),set:r(function(f){this._originY=f,this.updateVertices()},"set")},setOrigin:r(function(f,v){return f===void 0&&(f=.5),v===void 0&&(v=f),this._originX=f,this._originY=v,this.updateVertices(),this.updateDisplayOrigin()},"setOrigin"),setSizeToFrame:r(function(){if(this.is3Slice){var f=this.frame.height;this._height=f,this.topHeight=f,this.bottomHeight=0}return this.updateUVs(),this},"setSizeToFrame"),preDestroy:r(function(){this.vertices=[]},"preDestroy")});n.exports=h},28279:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(44603),c=s(23568),l=s(35154),u=s(28103);T.register("nineslice",function(h,f){h===void 0&&(h={});var v=c(h,"key",null),d=c(h,"frame",null),p=l(h,"width",256),g=l(h,"height",256),m=l(h,"leftWidth",10),x=l(h,"rightWidth",10),E=l(h,"topHeight",0),A=l(h,"bottomHeight",0),R=new u(this.scene,0,0,v,d,p,g,m,x,E,A);return f!==void 0&&(h.add=f),o(this.scene,R,h),R})},47521:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28103),T=s(39429);T.register("nineslice",function(c,l,u,h,f,v,d,p,g,m){return this.displayList.add(new o(this.scene,c,l,u,h,f,v,d,p,g,m))})},78023:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(52230),n.exports={renderWebGL:T,renderCanvas:c}},52230:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=s(70554),c=r(function(l,u,h,f){var v=u.vertices,d=v.length;if(d!==0){h.addToRenderList(u);var p=l.pipelines.set(u.pipeline,u),g=o(u,h,f,!1).calc;l.pipelines.preBatch(u);var m=p.setGameObject(u),x=p.vertexViewF32,E=p.vertexViewU32,A=p.vertexCount*p.currentShader.vertexComponentCount-1,R=h.roundPixels,P=u.tintFill,O=h.alpha*u.alpha,L=T.getTintAppendFloatAlpha(u.tint,O),w=p.vertexAvailable(),M=-1;w<d&&(M=w);for(var b=0;b<d;b++){var D=v[b];b===M&&(p.flush(),m=p.setGameObject(u),A=0),x[++A]=g.getXRound(D.vx,D.vy,R),x[++A]=g.getYRound(D.vx,D.vy,R),x[++A]=D.u,x[++A]=D.v,x[++A]=m,x[++A]=P,E[++A]=L,p.vertexCount++,p.currentBatch.count=p.vertexCount-p.currentBatch.start}l.pipelines.postBatch(u)}},"NineSliceWebGLRenderer");n.exports=c},76472:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(44777),c=s(37589),l=s(6113),u=s(91389),h=s(90664),f=new o({Extends:T,initialize:r(function(d){T.call(this,d,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},"EmitterColorOp"),getMethod:r(function(){return this.propertyValue===null?0:9},"getMethod"),setMethods:r(function(){var v=this.propertyValue,d=v,p=this.defaultEmit,g=this.defaultUpdate;if(this.method===9){this.start=v[0],this.ease=l("Linear"),this.interpolation=u("linear"),p=this.easedValueEmit,g=this.easeValueUpdate,d=v[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var m=0;m<v.length;m++){var x=h(v[m]);this.r.push(x.r),this.g.push(x.g),this.b.push(x.b)}}return this.onEmit=p,this.onUpdate=g,this.current=d,this},"setMethods"),setEase:r(function(v){this.easeName=v,this.ease=l(v)},"setEase"),easedValueEmit:r(function(){return this.current=this.start,this.start},"easedValueEmit"),easeValueUpdate:r(function(v,d,p){var g=this.ease(p),m=this.interpolation(this.r,g),x=this.interpolation(this.g,g),E=this.interpolation(this.b,g),A=c(m,x,E);return this.current=A,A},"easeValueUpdate")});n.exports=f},44777:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),T=s(45319),c=s(83419),l=s(99472),u=s(6113),h=s(95540),f=s(91389),v=s(77720),d=s(15994),p=new c({initialize:r(function(m,x,E){E===void 0&&(E=!1),this.propertyKey=m,this.propertyValue=x,this.defaultValue=x,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=E,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},"EmitterOp"),loadConfig:r(function(g,m){g===void 0&&(g={}),m&&(this.propertyKey=m),this.propertyValue=h(g,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},"loadConfig"),toJSON:r(function(){return JSON.stringify(this.propertyValue)},"toJSON"),onChange:r(function(g){var m;switch(this.method){case 1:case 3:case 8:m=g;break;case 2:this.propertyValue.indexOf(g)>=0&&(m=g);break;case 4:var x=(this.end-this.start)/this.steps;m=v(g,x),this.counter=m;break;case 5:case 6:case 7:m=T(g,this.start,this.end);break;case 9:m=this.start[0];break}return this.current=m,this},"onChange"),getMethod:r(function(){var g=this.propertyValue;if(g===null)return 0;var m=typeof g;if(m==="number")return 1;if(Array.isArray(g))return 2;if(m==="function")return 3;if(m==="object"){if(this.hasBoth(g,"start","end"))return this.has(g,"steps")?4:5;if(this.hasBoth(g,"min","max"))return 6;if(this.has(g,"random"))return 7;if(this.hasEither(g,"onEmit","onUpdate"))return 8;if(this.hasEither(g,"values","interpolation"))return 9}return 0},"getMethod"),setMethods:r(function(){var g=this.propertyValue,m=g,x=this.defaultEmit,E=this.defaultUpdate;switch(this.method){case 1:x=this.staticValueEmit;break;case 2:x=this.randomStaticValueEmit,m=g[0];break;case 3:this._onEmit=g,x=this.proxyEmit,m=this.defaultValue;break;case 4:this.start=g.start,this.end=g.end,this.steps=g.steps,this.counter=this.start,this.yoyo=this.has(g,"yoyo")?g.yoyo:!1,this.direction=0,x=this.steppedEmit,m=this.start;break;case 5:this.start=g.start,this.end=g.end;var A=this.has(g,"ease")?g.ease:"Linear";this.ease=u(A,g.easeParams),x=this.has(g,"random")&&g.random?this.randomRangedValueEmit:this.easedValueEmit,E=this.easeValueUpdate,m=this.start;break;case 6:this.start=g.min,this.end=g.max,x=this.has(g,"int")&&g.int?this.randomRangedIntEmit:this.randomRangedValueEmit,m=this.start;break;case 7:var R=g.random;Array.isArray(R)&&(this.start=R[0],this.end=R[1]),x=this.randomRangedIntEmit,m=this.start;break;case 8:this._onEmit=this.has(g,"onEmit")?g.onEmit:this.defaultEmit,this._onUpdate=this.has(g,"onUpdate")?g.onUpdate:this.defaultUpdate,x=this.proxyEmit,E=this.proxyUpdate,m=this.defaultValue;break;case 9:this.start=g.values;var P=this.has(g,"ease")?g.ease:"Linear";this.ease=u(P,g.easeParams),this.interpolation=f(g.interpolation),x=this.easedValueEmit,E=this.easeValueUpdate,m=this.start[0];break}return this.onEmit=x,this.onUpdate=E,this.current=m,this},"setMethods"),has:r(function(g,m){return g.hasOwnProperty(m)},"has"),hasBoth:r(function(g,m,x){return g.hasOwnProperty(m)&&g.hasOwnProperty(x)},"hasBoth"),hasEither:r(function(g,m,x){return g.hasOwnProperty(m)||g.hasOwnProperty(x)},"hasEither"),defaultEmit:r(function(){return this.defaultValue},"defaultEmit"),defaultUpdate:r(function(g,m,x,E){return E},"defaultUpdate"),proxyEmit:r(function(g,m,x){var E=this._onEmit(g,m,x);return this.current=E,E},"proxyEmit"),proxyUpdate:r(function(g,m,x,E){var A=this._onUpdate(g,m,x,E);return this.current=A,A},"proxyUpdate"),staticValueEmit:r(function(){return this.current},"staticValueEmit"),staticValueUpdate:r(function(){return this.current},"staticValueUpdate"),randomStaticValueEmit:r(function(){var g=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[g],this.current},"randomStaticValueEmit"),randomRangedValueEmit:r(function(g,m){var x=l(this.start,this.end);return g&&g.data[m]&&(g.data[m].min=x,g.data[m].max=this.end),this.current=x,x},"randomRangedValueEmit"),randomRangedIntEmit:r(function(g,m){var x=o(this.start,this.end);return g&&g.data[m]&&(g.data[m].min=x,g.data[m].max=this.end),this.current=x,x},"randomRangedIntEmit"),steppedEmit:r(function(){var g=this.counter,m=g,x=(this.end-this.start)/this.steps;if(this.yoyo){var E;this.direction===0?(m+=x,m>=this.end&&(E=m-this.end,m=this.end-E,this.direction=1)):(m-=x,m<=this.start&&(E=this.start-m,m=this.start+E,this.direction=0)),this.counter=m}else this.counter=d(m+x,this.start,this.end);return this.current=g,g},"steppedEmit"),easedValueEmit:r(function(g,m){if(g&&g.data[m]){var x=g.data[m];x.min=this.start,x.max=this.end}return this.current=this.start,this.start},"easedValueEmit"),easeValueUpdate:r(function(g,m,x){var E=g.data[m],A,R=this.ease(x);return this.interpolation?A=this.interpolation(this.start,R):A=(E.max-E.min)*R+E.min,this.current=A,A},"easeValueUpdate"),destroy:r(function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null},"destroy")});n.exports=p},24502:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95540),c=s(20286),l=new o({Extends:c,initialize:r(function(h,f,v,d,p){if(typeof h=="object"){var g=h;h=T(g,"x",0),f=T(g,"y",0),v=T(g,"power",0),d=T(g,"epsilon",100),p=T(g,"gravity",50)}else h===void 0&&(h=0),f===void 0&&(f=0),v===void 0&&(v=0),d===void 0&&(d=100),p===void 0&&(p=50);c.call(this,h,f,!0),this._gravity=p,this._power=v*p,this._epsilon=d*d},"GravityWell"),update:r(function(u,h){var f=this.x-u.x,v=this.y-u.y,d=f*f+v*v;if(d!==0){var p=Math.sqrt(d);d<this._epsilon&&(d=this._epsilon);var g=this._power*h/(d*p)*100;u.velocityX+=f*g,u.velocityY+=v*g}},"update"),epsilon:{get:r(function(){return Math.sqrt(this._epsilon)},"get"),set:r(function(u){this._epsilon=u*u},"set")},power:{get:r(function(){return this._power/this._gravity},"get"),set:r(function(u){this._power=u*this._gravity},"set")},gravity:{get:r(function(){return this._gravity},"get"),set:r(function(u){var h=this.power;this._gravity=u,this.power=h},"set")}});n.exports=l},56480:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),T=s(45319),c=s(83419),l=s(39506),u=s(87841),h=s(11520),f=s(26099),v=new c({initialize:r(function(p){this.emitter=p,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new f,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=p.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new o(this)),this.bounds=new u},"Particle"),emit:r(function(d,p,g,m,x,E){return this.emitter.emit(d,p,g,m,x,E)},"emit"),isAlive:r(function(){return this.lifeCurrent>0},"isAlive"),kill:r(function(){this.lifeCurrent=0},"kill"),setPosition:r(function(d,p){d===void 0&&(d=0),p===void 0&&(p=0),this.x=d,this.y=p},"setPosition"),fire:r(function(d,p){var g=this.emitter,m=g.ops,x=g.getAnim();if(x?this.anims.play(x):(this.frame=g.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(g.getEmitZone(this),d===void 0?this.x+=m.x.onEmit(this,"x"):m.x.steps>0?this.x+=d+m.x.onEmit(this,"x"):this.x+=d,p===void 0?this.y+=m.y.onEmit(this,"y"):m.y.steps>0?this.y+=p+m.y.onEmit(this,"y"):this.y+=p,this.life=m.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=m.delay.onEmit(this,"delay"),this.holdCurrent=m.hold.onEmit(this,"hold"),this.scaleX=m.scaleX.onEmit(this,"scaleX"),this.scaleY=m.scaleY.active?m.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=m.rotate.onEmit(this,"rotate"),this.rotation=l(this.angle),g.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&g.getDeathZone(this))return this.lifeCurrent=0,!1;var E=m.speedX.onEmit(this,"speedX"),A=m.speedY.active?m.speedY.onEmit(this,"speedY"):E;if(g.radial){var R=l(m.angle.onEmit(this,"angle"));this.velocityX=Math.cos(R)*Math.abs(E),this.velocityY=Math.sin(R)*Math.abs(A)}else if(g.moveTo){var P=m.moveToX.onEmit(this,"moveToX"),O=m.moveToY.onEmit(this,"moveToY"),L=this.life/1e3;this.velocityX=(P-this.x)/L,this.velocityY=(O-this.y)/L}else this.velocityX=E,this.velocityY=A;return g.acceleration&&(this.accelerationX=m.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=m.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=m.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=m.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=m.bounce.onEmit(this,"bounce"),this.alpha=m.alpha.onEmit(this,"alpha"),m.color.active?this.tint=m.color.onEmit(this,"tint"):this.tint=m.tint.onEmit(this,"tint"),!0},"fire"),update:r(function(d,p,g){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=d,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=d,!1;this.anims&&this.anims.update(0,d);var m=this.emitter,x=m.ops,E=1-this.lifeCurrent/this.life;if(this.lifeT=E,this.x=x.x.onUpdate(this,"x",E,this.x),this.y=x.y.onUpdate(this,"y",E,this.y),m.moveTo){var A=x.moveToX.onUpdate(this,"moveToX",E,m.moveToX),R=x.moveToY.onUpdate(this,"moveToY",E,m.moveToY),P=this.lifeCurrent/1e3;this.velocityX=(A-this.x)/P,this.velocityY=(R-this.y)/P}return this.computeVelocity(m,d,p,g,E),this.scaleX=x.scaleX.onUpdate(this,"scaleX",E,this.scaleX),x.scaleY.active?this.scaleY=x.scaleY.onUpdate(this,"scaleY",E,this.scaleY):this.scaleY=this.scaleX,this.angle=x.rotate.onUpdate(this,"rotate",E,this.angle),this.rotation=l(this.angle),m.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=T(x.alpha.onUpdate(this,"alpha",E,this.alpha),0,1),x.color.active?this.tint=x.color.onUpdate(this,"color",E,this.tint):this.tint=x.tint.onUpdate(this,"tint",E,this.tint),this.lifeCurrent-=d,this.lifeCurrent<=0&&this.holdCurrent<=0)},"update"),computeVelocity:r(function(d,p,g,m,x){var E=d.ops,A=this.velocityX,R=this.velocityY,P=E.accelerationX.onUpdate(this,"accelerationX",x,this.accelerationX),O=E.accelerationY.onUpdate(this,"accelerationY",x,this.accelerationY),L=E.maxVelocityX.onUpdate(this,"maxVelocityX",x,this.maxVelocityX),w=E.maxVelocityY.onUpdate(this,"maxVelocityY",x,this.maxVelocityY);this.bounce=E.bounce.onUpdate(this,"bounce",x,this.bounce),A+=d.gravityX*g+P*g,R+=d.gravityY*g+O*g,A=T(A,-L,L),R=T(R,-w,w),this.velocityX=A,this.velocityY=R,this.x+=A*g,this.y+=R*g,d.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var M=0;M<m.length;M++){var b=m[M];b.active&&b.update(this,p,g,x)}},"computeVelocity"),setSizeToFrame:r(function(){},"setSizeToFrame"),getBounds:r(function(d){d===void 0&&(d=this.emitter.getWorldTransformMatrix());var p=Math.abs(d.scaleX)*this.scaleX,g=Math.abs(d.scaleY)*this.scaleY,m=this.x,x=this.y,E=this.rotation,A=this.frame.width*p/2,R=this.frame.height*g/2,P=this.bounds,O=new f(m-A,x-R),L=new f(m+A,x-R),w=new f(m-A,x+R),M=new f(m+A,x+R);return E!==0&&(h(O,m,x,E),h(L,m,x,E),h(w,m,x,E),h(M,m,x,E)),d.transformPoint(O.x,O.y,O),d.transformPoint(L.x,L.y,L),d.transformPoint(w.x,w.y,w),d.transformPoint(M.x,M.y,M),P.x=Math.min(O.x,L.x,w.x,M.x),P.y=Math.min(O.y,L.y,w.y,M.y),P.width=Math.max(O.x,L.x,w.x,M.x)-P.x,P.height=Math.max(O.y,L.y,w.y,M.y)-P.y,P},"getBounds"),destroy:r(function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null},"destroy")});n.exports=v},69601:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(20286),c=s(87841),l=new o({Extends:T,initialize:r(function(h,f,v,d,p,g,m,x){p===void 0&&(p=!0),g===void 0&&(g=!0),m===void 0&&(m=!0),x===void 0&&(x=!0),T.call(this,h,f,!0),this.bounds=new c(h,f,v,d),this.collideLeft=p,this.collideRight=g,this.collideTop=m,this.collideBottom=x},"ParticleBounds"),update:r(function(u){var h=this.bounds,f=-u.bounce,v=u.worldPosition;v.x<h.x&&this.collideLeft?(u.x+=h.x-v.x,u.velocityX*=f):v.x>h.right&&this.collideRight&&(u.x-=v.x-h.right,u.velocityX*=f),v.y<h.y&&this.collideTop?(u.y+=h.y-v.y,u.velocityY*=f):v.y>h.bottom&&this.collideBottom&&(u.y-=v.y-h.bottom,u.velocityY*=f)},"update")});n.exports=l},31600:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(53774),l=s(43459),u=s(26388),h=s(19909),f=s(76472),v=s(44777),d=s(20696),p=s(95643),g=s(95540),m=s(26546),x=s(24502),E=s(69036),A=s(1985),R=s(97022),P=s(86091),O=s(73162),L=s(20074),w=s(269),M=s(56480),b=s(69601),D=s(68875),F=s(87841),N=s(59996),B=s(72905),Y=s(90668),W=s(19186),z=s(61340),X=s(26099),H=s(15994),V=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],G=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],k=new o({Extends:p,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Texture,T.Transform,T.Visible,Y],initialize:r(function(I,$,K,Z,J){p.call(this,I,"ParticleEmitter"),this.particleClass=M,this.config=null,this.ops={accelerationX:new v("accelerationX",0),accelerationY:new v("accelerationY",0),alpha:new v("alpha",1),angle:new v("angle",{min:0,max:360},!0),bounce:new v("bounce",0),color:new f("color"),delay:new v("delay",0,!0),hold:new v("hold",0,!0),lifespan:new v("lifespan",1e3,!0),maxVelocityX:new v("maxVelocityX",1e4),maxVelocityY:new v("maxVelocityY",1e4),moveToX:new v("moveToX",0),moveToY:new v("moveToY",0),quantity:new v("quantity",1,!0),rotate:new v("rotate",0),scaleX:new v("scaleX",1),scaleY:new v("scaleY",1),speedX:new v("speedX",0,!0),speedY:new v("speedY",0,!0),tint:new v("tint",16777215),x:new v("x",0),y:new v("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new X,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new z,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new O(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition($,K),this.setTexture(Z),J&&this.setConfig(J)},"ParticleEmitter"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),setConfig:r(function(U){if(!U)return this;this.config=U;var I=0,$="",K=this.ops;for(I=0;I<G.length;I++)$=G[I],K[$].loadConfig(U);for(I=0;I<V.length;I++)$=V[I],R(U,$)&&(this[$]=g(U,$));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=E(U,["moveToX","moveToY"]),R(U,"speed")&&(K.speedX.loadConfig(U,"speed"),K.speedY.active=!1),(A(U,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),R(U,"scale")&&(K.scaleX.loadConfig(U,"scale"),K.scaleY.active=!1),R(U,"callbackScope")){var Z=g(U,"callbackScope",null);this.emitCallbackScope=Z,this.deathCallbackScope=Z}if(R(U,"emitZone")&&this.addEmitZone(U.emitZone),R(U,"deathZone")&&this.addDeathZone(U.deathZone),R(U,"bounds")){var J=this.addParticleBounds(U.bounds);J.collideLeft=g(U,"collideLeft",!0),J.collideRight=g(U,"collideRight",!0),J.collideTop=g(U,"collideTop",!0),J.collideBottom=g(U,"collideBottom",!0)}return R(U,"followOffset")&&this.followOffset.setFromObject(g(U,"followOffset",0)),R(U,"texture")&&this.setTexture(U.texture),R(U,"frame")?this.setEmitterFrame(U.frame):R(U,"anim")&&this.setAnim(U.anim),R(U,"reserve")&&this.reserve(U.reserve),R(U,"advance")&&this.fastForward(U.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(d.START,this),this},"setConfig"),updateConfig:r(function(U){return U&&(this.config?this.setConfig(w(this.config,U)):this.setConfig(U)),this},"updateConfig"),toJSON:r(function(){var U=c(this),I=0,$="";for(I=0;I<V.length;I++)$=V[I],U[$]=this[$];var K=this.ops;for(I=0;I<G.length;I++)$=G[I],K[$]&&(U[$]=K[$].toJSON());return K.speedY.active||(delete U.speedX,U.speed=K.speedX.toJSON()),this.scaleX===this.scaleY&&(delete U.scaleX,delete U.scaleY,U.scale=K.scaleX.toJSON()),U},"toJSON"),resetCounters:r(function(U,I){var $=this.counters;$.fill(0),$[0]=U,I&&($[5]=1)},"resetCounters"),startFollow:r(function(U,I,$,K){return I===void 0&&(I=0),$===void 0&&($=0),K===void 0&&(K=!1),this.follow=U,this.followOffset.set(I,$),this.trackVisible=K,this},"startFollow"),stopFollow:r(function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},"stopFollow"),getFrame:r(function(){var U=this.frames,I=U.length,$;return I===1?$=U[0]:this.randomFrame?$=m(U):($=U[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===I&&(this.currentFrame=0))),this.texture.get($)},"getFrame"),setEmitterFrame:r(function(U,I,$){I===void 0&&(I=!0),$===void 0&&($=1),this.randomFrame=I,this.frameQuantity=$,this.currentFrame=0;var K=typeof U;if(this.frames.length=0,Array.isArray(U))this.frames=this.frames.concat(U);else if(K==="string"||K==="number")this.frames.push(U);else if(K==="object"){var Z=U;U=g(Z,"frames",null),U&&(this.frames=this.frames.concat(U));var J=g(Z,"cycle",!1);this.randomFrame=!J,this.frameQuantity=g(Z,"quantity",$)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},"setEmitterFrame"),getAnim:r(function(){var U=this.anims,I=U.length;if(I===0)return null;if(I===1)return U[0];if(this.randomAnim)return m(U);var $=U[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=H(this.currentAnim+1,0,I)),$},"getAnim"),setAnim:r(function(U,I,$){I===void 0&&(I=!0),$===void 0&&($=1),this.randomAnim=I,this.animQuantity=$,this.currentAnim=0;var K=typeof U;if(this.anims.length=0,Array.isArray(U))this.anims=this.anims.concat(U);else if(K==="string")this.anims.push(U);else if(K==="object"){var Z=U;U=g(Z,"anims",null),U&&(this.anims=this.anims.concat(U));var J=g(Z,"cycle",!1);this.randomAnim=!J,this.animQuantity=g(Z,"quantity",$)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},"setAnim"),setRadial:r(function(U){return U===void 0&&(U=!0),this.radial=U,this},"setRadial"),addParticleBounds:r(function(U,I,$,K,Z,J,Q,q){if(typeof U=="object"){var j=U;U=j.x,I=j.y,$=R(j,"w")?j.w:j.width,K=R(j,"h")?j.h:j.height}return this.addParticleProcessor(new b(U,I,$,K,Z,J,Q,q))},"addParticleBounds"),setParticleSpeed:r(function(U,I){return I===void 0&&(I=U),this.ops.speedX.onChange(U),U===I?this.ops.speedY.active=!1:this.ops.speedY.onChange(I),this.radial=!0,this},"setParticleSpeed"),setParticleScale:r(function(U,I){return U===void 0&&(U=1),I===void 0&&(I=U),this.ops.scaleX.onChange(U),this.ops.scaleY.onChange(I),this},"setParticleScale"),setParticleGravity:r(function(U,I){return this.gravityX=U,this.gravityY=I,this},"setParticleGravity"),setParticleAlpha:r(function(U){return this.ops.alpha.onChange(U),this},"setParticleAlpha"),setParticleTint:r(function(U){return this.ops.tint.onChange(U),this},"setParticleTint"),setEmitterAngle:r(function(U){return this.ops.angle.onChange(U),this},"setEmitterAngle"),setParticleLifespan:r(function(U){return this.ops.lifespan.onChange(U),this},"setParticleLifespan"),setQuantity:r(function(U){return this.quantity=U,this},"setQuantity"),setFrequency:r(function(U,I){return this.frequency=U,this.flowCounter=U>0?U:0,I&&(this.quantity=I),this},"setFrequency"),addDeathZone:r(function(U){Array.isArray(U)||(U=[U]);for(var I,$=[],K=0;K<U.length;K++)if(I=U[K],I instanceof u)$.push(I);else if(typeof I.contains=="function")I=new u(I,!0),$.push(I);else{var Z=g(I,"type","onEnter"),J=g(I,"source",null);if(J&&typeof J.contains=="function"){var Q=Z==="onEnter";I=new u(J,Q),$.push(I)}}return this.deathZones=this.deathZones.concat($),$},"addDeathZone"),removeDeathZone:r(function(U){return B(this.deathZones,U),this},"removeDeathZone"),clearDeathZones:r(function(){return this.deathZones.length=0,this},"clearDeathZones"),addEmitZone:r(function(U){Array.isArray(U)||(U=[U]);for(var I,$=[],K=0;K<U.length;K++)if(I=U[K],I instanceof D||I instanceof h)$.push(I);else{var Z=g(I,"source",null);if(Z){var J=g(I,"type","random");if(J==="random"&&typeof Z.getRandomPoint=="function")I=new D(Z),$.push(I);else if(J==="edge"&&typeof Z.getPoints=="function"){var Q=g(I,"quantity",1),q=g(I,"stepRate",0),j=g(I,"yoyo",!1),tt=g(I,"seamless",!0),st=g(I,"total",-1);I=new h(Z,Q,q,j,tt,st),$.push(I)}}}return this.emitZones=this.emitZones.concat($),$},"addEmitZone"),removeEmitZone:r(function(U){return B(this.emitZones,U),this.zoneIndex=0,this},"removeEmitZone"),clearEmitZones:r(function(){return this.emitZones.length=0,this.zoneIndex=0,this},"clearEmitZones"),getEmitZone:r(function(U){var I=this.emitZones,$=I.length;if($!==0){var K=I[this.zoneIndex];K.getPoint(U),K.total>-1&&(this.zoneTotal++,this.zoneTotal===K.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===$&&(this.zoneIndex=0)))}},"getEmitZone"),getDeathZone:r(function(U){for(var I=this.deathZones,$=0;$<I.length;$++){var K=I[$];if(K.willKill(U))return this.emit(d.DEATH_ZONE,this,U,K),!0}return!1},"getDeathZone"),setEmitZone:r(function(U){var I;return isFinite(U)?I=U:I=this.emitZones.indexOf(U),I>=0&&(this.zoneIndex=I),this},"setEmitZone"),addParticleProcessor:r(function(U){return this.processors.exists(U)||(U.emitter&&U.emitter.removeParticleProcessor(U),this.processors.add(U),U.emitter=this),U},"addParticleProcessor"),removeParticleProcessor:r(function(U){return this.processors.exists(U)&&(this.processors.remove(U,!0),U.emitter=null),U},"removeParticleProcessor"),getProcessors:r(function(){return this.processors.getAll("active",!0)},"getProcessors"),createGravityWell:r(function(U){return this.addParticleProcessor(new x(U))},"createGravityWell"),reserve:r(function(U){var I=this.dead;if(this.maxParticles>0){var $=this.getParticleCount();$+U>this.maxParticles&&(U=this.maxParticles-($+U))}for(var K=0;K<U;K++)I.push(new this.particleClass(this));return this},"reserve"),getAliveParticleCount:r(function(){return this.alive.length},"getAliveParticleCount"),getDeadParticleCount:r(function(){return this.dead.length},"getDeadParticleCount"),getParticleCount:r(function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},"getParticleCount"),atLimit:r(function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},"atLimit"),onParticleEmit:r(function(U,I){return U===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof U=="function"&&(this.emitCallback=U,I&&(this.emitCallbackScope=I)),this},"onParticleEmit"),onParticleDeath:r(function(U,I){return U===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof U=="function"&&(this.deathCallback=U,I&&(this.deathCallbackScope=I)),this},"onParticleDeath"),killAll:r(function(){for(var U=this.dead,I=this.alive;I.length>0;)U.push(I.pop());return this},"killAll"),forEachAlive:r(function(U,I){for(var $=this.alive,K=$.length,Z=0;Z<K;Z++)U.call(I,$[Z],this);return this},"forEachAlive"),forEachDead:r(function(U,I){for(var $=this.dead,K=$.length,Z=0;Z<K;Z++)U.call(I,$[Z],this);return this},"forEachDead"),start:r(function(U,I){return U===void 0&&(U=0),this.emitting||(U>0&&this.fastForward(U),this.emitting=!0,this.resetCounters(this.frequency,!0),I!==void 0&&(this.duration=Math.abs(I)),this.emit(d.START,this)),this},"start"),stop:r(function(U){return U===void 0&&(U=!1),this.emitting&&(this.emitting=!1,U&&this.killAll(),this.emit(d.STOP,this)),this},"stop"),pause:r(function(){return this.active=!1,this},"pause"),resume:r(function(){return this.active=!0,this},"resume"),setSortProperty:r(function(U,I){return U===void 0&&(U=""),I===void 0&&(I=this.true),this.sortProperty=U,this.sortOrderAsc=I,this.sortCallback=this.depthSortCallback,this},"setSortProperty"),setSortCallback:r(function(U){return this.sortProperty!==""?U=this.depthSortCallback:U=null,this.sortCallback=U,this},"setSortCallback"),depthSort:r(function(){return W(this.alive,this.sortCallback.bind(this)),this},"depthSort"),depthSortCallback:r(function(U,I){var $=this.sortProperty;return this.sortOrderAsc?U[$]-I[$]:I[$]-U[$]},"depthSortCallback"),flow:r(function(U,I,$){return I===void 0&&(I=1),this.emitting=!1,this.frequency=U,this.quantity=I,$!==void 0&&(this.stopAfter=$),this.start()},"flow"),explode:r(function(U,I,$){this.frequency=-1,this.resetCounters(-1,!0);var K=this.emitParticle(U,I,$);return this.emit(d.EXPLODE,this,K),K},"explode"),emitParticleAt:r(function(U,I,$){return this.emitParticle($,U,I)},"emitParticleAt"),emitParticle:r(function(U,I,$){if(!this.atLimit()){U===void 0&&(U=this.ops.quantity.onEmit());for(var K=this.dead,Z=this.stopAfter,J=this.follow?this.follow.x+this.followOffset.x:I,Q=this.follow?this.follow.y+this.followOffset.y:$,q=0;q<U;q++){var j=K.pop();if(j||(j=new this.particleClass(this)),j.fire(J,Q)?(this.particleBringToTop?this.alive.push(j):this.alive.unshift(j),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,j,this)):this.dead.push(j),Z>0&&(this.stopCounter++,this.stopCounter>=Z)||this.atLimit())break}return j}},"emitParticle"),fastForward:r(function(U,I){I===void 0&&(I=1e3/60);var $=0;for(this.skipping=!0;$<Math.abs(U);)this.preUpdate(0,I),$+=I;return this.skipping=!1,this},"fastForward"),preUpdate:r(function(U,I){I*=this.timeScale;var $=I/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var K=this.getProcessors(),Z=this.alive,J=this.dead,Q=0,q=[],j=Z.length;for(Q=0;Q<j;Q++){var tt=Z[Q];tt.update(I,$,K)&&q.push({index:Q,particle:tt})}if(j=q.length,j>0){var st=this.deathCallback,_=this.deathCallbackScope;for(Q=j-1;Q>=0;Q--){var ht=q[Q];Z.splice(ht.index,1),J.push(ht.particle),st&&st.call(_,ht.particle),ht.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Z.length===0&&(this.completeFlag=0,this.emit(d.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=I;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=I,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},"preUpdate"),overlap:r(function(U){for(var I=this.getWorldTransformMatrix(),$=this.alive,K=$.length,Z=[],J=0;J<K;J++){var Q=$[J];N(U,Q.getBounds(I))&&Z.push(Q)}return Z},"overlap"),getBounds:r(function(U,I,$,K){U===void 0&&(U=0),I===void 0&&(I=0),$===void 0&&($=1e3/60),K===void 0&&(K=new F);var Z=this.getWorldTransformMatrix(),J,Q,q=this.alive,j=!1;if(K.setTo(0,0,0,0),I>0){var tt=0;for(this.skipping=!0;tt<Math.abs(I);){for(this.preUpdate(0,$),J=0;J<q.length;J++)Q=q[J].getBounds(Z),j?L(K,Q):(j=!0,l(Q,K));tt+=$}this.skipping=!1}else for(J=0;J<q.length;J++)Q=q[J].getBounds(Z),j?L(K,Q):(j=!0,l(Q,K));return U>0&&P(K,U,U),K},"getBounds"),createEmitter:r(function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},"createEmitter"),particleX:{get:r(function(){return this.ops.x.current},"get"),set:r(function(U){this.ops.x.onChange(U)},"set")},particleY:{get:r(function(){return this.ops.y.current},"get"),set:r(function(U){this.ops.y.onChange(U)},"set")},accelerationX:{get:r(function(){return this.ops.accelerationX.current},"get"),set:r(function(U){this.ops.accelerationX.onChange(U)},"set")},accelerationY:{get:r(function(){return this.ops.accelerationY.current},"get"),set:r(function(U){this.ops.accelerationY.onChange(U)},"set")},maxVelocityX:{get:r(function(){return this.ops.maxVelocityX.current},"get"),set:r(function(U){this.ops.maxVelocityX.onChange(U)},"set")},maxVelocityY:{get:r(function(){return this.ops.maxVelocityY.current},"get"),set:r(function(U){this.ops.maxVelocityY.onChange(U)},"set")},speed:{get:r(function(){return this.ops.speedX.current},"get"),set:r(function(U){this.ops.speedX.onChange(U),this.ops.speedY.onChange(U)},"set")},speedX:{get:r(function(){return this.ops.speedX.current},"get"),set:r(function(U){this.ops.speedX.onChange(U)},"set")},speedY:{get:r(function(){return this.ops.speedY.current},"get"),set:r(function(U){this.ops.speedY.onChange(U)},"set")},moveToX:{get:r(function(){return this.ops.moveToX.current},"get"),set:r(function(U){this.ops.moveToX.onChange(U)},"set")},moveToY:{get:r(function(){return this.ops.moveToY.current},"get"),set:r(function(U){this.ops.moveToY.onChange(U)},"set")},bounce:{get:r(function(){return this.ops.bounce.current},"get"),set:r(function(U){this.ops.bounce.onChange(U)},"set")},particleScaleX:{get:r(function(){return this.ops.scaleX.current},"get"),set:r(function(U){this.ops.scaleX.onChange(U)},"set")},particleScaleY:{get:r(function(){return this.ops.scaleY.current},"get"),set:r(function(U){this.ops.scaleY.onChange(U)},"set")},particleColor:{get:r(function(){return this.ops.color.current},"get"),set:r(function(U){this.ops.color.onChange(U)},"set")},colorEase:{get:r(function(){return this.ops.color.easeName},"get"),set:r(function(U){this.ops.color.setEase(U)},"set")},particleTint:{get:r(function(){return this.ops.tint.current},"get"),set:r(function(U){this.ops.tint.onChange(U)},"set")},particleAlpha:{get:r(function(){return this.ops.alpha.current},"get"),set:r(function(U){this.ops.alpha.onChange(U)},"set")},lifespan:{get:r(function(){return this.ops.lifespan.current},"get"),set:r(function(U){this.ops.lifespan.onChange(U)},"set")},particleAngle:{get:r(function(){return this.ops.angle.current},"get"),set:r(function(U){this.ops.angle.onChange(U)},"set")},particleRotate:{get:r(function(){return this.ops.rotate.current},"get"),set:r(function(U){this.ops.rotate.onChange(U)},"set")},quantity:{get:r(function(){return this.ops.quantity.current},"get"),set:r(function(U){this.ops.quantity.onChange(U)},"set")},delay:{get:r(function(){return this.ops.delay.current},"get"),set:r(function(U){this.ops.delay.onChange(U)},"set")},hold:{get:r(function(){return this.ops.hold.current},"get"),set:r(function(U){this.ops.hold.onChange(U)},"set")},flowCounter:{get:r(function(){return this.counters[0]},"get"),set:r(function(U){this.counters[0]=U},"set")},frameCounter:{get:r(function(){return this.counters[1]},"get"),set:r(function(U){this.counters[1]=U},"set")},animCounter:{get:r(function(){return this.counters[2]},"get"),set:r(function(U){this.counters[2]=U},"set")},elapsed:{get:r(function(){return this.counters[3]},"get"),set:r(function(U){this.counters[3]=U},"set")},stopCounter:{get:r(function(){return this.counters[4]},"get"),set:r(function(U){this.counters[4]=U},"set")},completeFlag:{get:r(function(){return this.counters[5]},"get"),set:r(function(U){this.counters[5]=U},"set")},zoneIndex:{get:r(function(){return this.counters[6]},"get"),set:r(function(U){this.counters[6]=U},"set")},zoneTotal:{get:r(function(){return this.counters[7]},"get"),set:r(function(U){this.counters[7]=U},"set")},currentFrame:{get:r(function(){return this.counters[8]},"get"),set:r(function(U){this.counters[8]=U},"set")},currentAnim:{get:r(function(){return this.counters[9]},"get"),set:r(function(U){this.counters[9]=U},"set")},preDestroy:r(function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var U,I=this.ops;for(U=0;U<G.length;U++){var $=G[U];I[$].destroy()}for(U=0;U<this.alive.length;U++)this.alive[U].destroy();for(U=0;U<this.dead.length;U++)this.dead[U].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()},"preDestroy")});n.exports=k},9871:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(59996),T=s(61340),c=new T,l=new T,u=new T,h=new T,f=r(function(v,d,p,g){var m=c,x=l,E=u,A=h;g?(A.loadIdentity(),A.multiply(g),A.translate(d.x,d.y),A.rotate(d.rotation),A.scale(d.scaleX,d.scaleY)):A.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var R=v.currentContext,P=p.roundPixels,O=p.alpha,L=d.alpha,w=d.alive,M=w.length,b=d.viewBounds;if(!(!d.visible||M===0||b&&!o(b,p.worldView))){d.sortCallback&&d.depthSort(),p.addToRenderList(d);var D=d.scrollFactorX,F=d.scrollFactorY;R.save(),R.globalCompositeOperation=v.blendModes[d.blendMode];for(var N=0;N<M;N++){var B=w[N],Y=B.alpha*L*O;if(!(Y<=0||B.scaleX===0||B.scaleY===0)){E.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),m.copyFrom(p.matrix),m.multiplyWithOffset(A,-p.scrollX*D,-p.scrollY*F),E.e=B.x,E.f=B.y,m.multiply(E,x);var W=B.frame,z=W.canvasData;if(z.width>0&&z.height>0){var X=-W.halfWidth,H=-W.halfHeight;R.globalAlpha=Y,R.save(),x.setToContext(R),P&&(X=Math.round(X),H=Math.round(H)),R.imageSmoothingEnabled=!W.source.scaleMode,R.drawImage(W.source.image,z.x,z.y,z.width,z.height,X,H,z.width,z.height),R.restore()}}}R.restore()}},"ParticleEmitterCanvasRenderer");n.exports=f},92730:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(44603),c=s(23568),l=s(95540),u=s(31600);T.register("particles",function(h,f){h===void 0&&(h={});var v=c(h,"key",null),d=l(h,"config",null),p=new u(this.scene,0,0,v);return f!==void 0&&(h.add=f),o(this.scene,p,h),d&&p.setConfig(d),p})},676:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(31600);o.register("particles",function(c,l,u,h){return c!==void 0&&typeof c=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new T(this.scene,c,l,u,h))})},90668:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(21188),c=s(9871),n.exports={renderWebGL:T,renderCanvas:c}},21188:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(59996),T=s(61340),c=s(70554),l=new T,u=new T,h=new T,f=new T,v=r(function(d,p,g,m){var x=d.pipelines.set(p.pipeline),E=l,A=u,R=h,P=f;m?(P.loadIdentity(),P.multiply(m),P.translate(p.x,p.y),P.rotate(p.rotation),P.scale(p.scaleX,p.scaleY)):P.applyITRS(p.x,p.y,p.rotation,p.scaleX,p.scaleY);var O=c.getTintAppendFloatAlpha,L=g.alpha,w=p.alpha;d.pipelines.preBatch(p);var M=p.alive,b=M.length,D=p.viewBounds;if(!(b===0||D&&!o(D,g.worldView))){p.sortCallback&&p.depthSort(),g.addToRenderList(p),E.copyFrom(g.matrix),E.multiplyWithOffset(P,-g.scrollX*p.scrollFactorX,-g.scrollY*p.scrollFactorY),d.setBlendMode(p.blendMode),p.mask&&(p.mask.preRenderWebGL(d,p,g),d.pipelines.set(p.pipeline));for(var F=p.tintFill,N,B,Y=0;Y<b;Y++){var W=M[Y],z=W.alpha*w*L;if(!(z<=0||W.scaleX===0||W.scaleY===0)){R.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),R.e=W.x,R.f=W.y,E.multiply(R,A);var X=W.frame;X.glTexture!==B&&(B=X.glTexture,N=x.setGameObject(p,X));var H=-X.halfWidth,V=-X.halfHeight,G=A.setQuad(H,V,H+X.width,V+X.height),k=O(W.tint,z);x.shouldFlush(6)&&(x.flush(),N=x.setGameObject(p,X)),x.batchQuad(p,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],X.u0,X.v0,X.u1,X.v1,k,k,k,k,F,B,N)}}p.mask&&p.mask.postRenderWebGL(d,g),d.pipelines.postBatch(p)}},"ParticleEmitterWebGLRenderer");n.exports=v},20286:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h){l===void 0&&(l=0),u===void 0&&(u=0),h===void 0&&(h=!0),this.emitter,this.x=l,this.y=u,this.active=h},"ParticleProcessor"),update:r(function(){},"update"),destroy:r(function(){this.emitter=null},"destroy")});n.exports=T},9774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},812:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="deathzone"},30522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="explode"},96695:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},18677:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},20696:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:s(9774),DEATH_ZONE:s(812),EXPLODE:s(30522),START:s(96695),STOP:s(18677)}},18404:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EmitterColorOp:s(76472),EmitterOp:s(44777),Events:s(20696),GravityWell:s(24502),Particle:s(56480),ParticleBounds:s(69601),ParticleEmitter:s(31600),ParticleProcessor:s(20286),Zones:s(21024)}},26388:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u){this.source=l,this.killOnEnter=u},"DeathZone"),willKill:r(function(c){var l=c.worldPosition,u=this.source.contains(l.x,l.y);return u&&this.killOnEnter||!u&&!this.killOnEnter},"willKill")});n.exports=T},19909:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h,f,v,d){f===void 0&&(f=!1),v===void 0&&(v=!0),d===void 0&&(d=-1),this.source=l,this.points=[],this.quantity=u,this.stepRate=h,this.yoyo=f,this.counter=-1,this.seamless=v,this._length=0,this._direction=0,this.total=d,this.updateSource()},"EdgeZone"),updateSource:r(function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var c=this.points[0],l=this.points[this.points.length-1];c.x===l.x&&c.y===l.y&&this.points.pop()}var u=this._length;return this._length=this.points.length,this._length<u&&this.counter>this._length&&(this.counter=this._length-1),this},"updateSource"),changeSource:r(function(c){return this.source=c,this.updateSource()},"changeSource"),getPoint:r(function(c){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var l=this.points[this.counter];l&&(c.x=l.x,c.y=l.y)},"getPoint")});n.exports=T},68875:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(26099),c=new o({initialize:r(function(u){this.source=u,this._tempVec=new T,this.total=-1},"RandomZone"),getPoint:r(function(l){var u=this._tempVec;this.source.getRandomPoint(u),l.x=u.x,l.y=u.y},"getPoint")});n.exports=c},21024:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DeathZone:s(26388),EdgeZone:s(19909),RandomZone:s(68875)}},1159:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(68287),l=new o({Extends:c,Mixins:[T.PathFollower],initialize:r(function(h,f,v,d,p,g){c.call(this,h,v,d,p,g),this.path=f},"PathFollower"),preUpdate:r(function(u,h){this.anims.update(u,h),this.pathUpdate(u)},"preUpdate")});n.exports=l},90145:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(1159);o.register("follower",function(c,l,u,h,f){var v=new T(this.scene,c,l,u,h,f);return this.displayList.add(v),this.updateList.add(v),v})},33663:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),T=s(83419),c=s(48803),l=s(90664),u=s(4703),h=s(45650),f=new T({Extends:u,initialize:r(function(d,p,g,m,x,E,A,R){m||(m="__DEFAULT"),u.call(this,d,p,g,m,x),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(E,A,R),this.setSizeToFrame(!1),this.setViewHeight()},"Plane"),originX:{get:r(function(){return .5},"get")},originY:{get:r(function(){return .5},"get")},setGridSize:r(function(v,d,p){v===void 0&&(v=8),d===void 0&&(d=8),p===void 0&&(p=!1);var g=!1;return p&&(g=!0),this.gridWidth=v,this.gridHeight=d,this.isTiled=p,this.clear(),c({mesh:this,widthSegments:v,heightSegments:d,isOrtho:!1,tile:p,flipY:g}),this},"setGridSize"),setSizeToFrame:r(function(v){v===void 0&&(v=!0);var d=this.frame;if(this.setPerspective(this.width/d.width,this.height/d.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!v)return this;var p=this.gridWidth,g=this.gridHeight,m=this.vertices,x=d.u0,E=d.u1,A=d.v0,R=d.v1,P,O,L=0;if(this.isTiled)for(A=d.v1,R=d.v0,O=0;O<g;O++)for(P=0;P<p;P++)m[L++].setUVs(x,R),m[L++].setUVs(x,A),m[L++].setUVs(E,R),m[L++].setUVs(x,A),m[L++].setUVs(E,A),m[L++].setUVs(E,R);else{var w=p+1,M=g+1,b=E-x,D=R-A,F=[];for(O=0;O<M;O++)for(P=0;P<w;P++){var N=x+b*(P/p),B=A+D*(O/g);F.push(N,B)}for(O=0;O<g;O++)for(P=0;P<p;P++){var Y=(P+w*O)*2,W=(P+w*(O+1))*2,z=(P+1+w*(O+1))*2,X=(P+1+w*O)*2;m[L++].setUVs(F[Y],F[Y+1]),m[L++].setUVs(F[W],F[W+1]),m[L++].setUVs(F[X],F[X+1]),m[L++].setUVs(F[W],F[W+1]),m[L++].setUVs(F[z],F[z+1]),m[L++].setUVs(F[X],F[X+1])}}return this},"setSizeToFrame"),setViewHeight:r(function(v){v===void 0&&(v=this.frame.height);var d=this.fov*(Math.PI/180);this.viewPosition.z=this.height/v/Math.tan(d/2),this.dirtyCache[10]=1},"setViewHeight"),createCheckerboard:r(function(v,d,p,g,m){v===void 0&&(v=16777215),d===void 0&&(d=255),p===void 0&&(p=255),g===void 0&&(g=255),m===void 0&&(m=128);for(var x=l(v),E=l(d),A=[],R=0;R<16;R++)for(var P=0;P<16;P++)R<8&&P<8||R>7&&P>7?A.push(x.r,x.g,x.b,p):A.push(E.r,E.g,E.b,g);var O=this.scene.sys.textures.addUint8Array(h(),new Uint8Array(A),16,16);return this.removeCheckerboard(),this.setTexture(O),this.setSizeToFrame(),this.setViewHeight(m),this},"createCheckerboard"),removeCheckerboard:r(function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},"removeCheckerboard"),play:r(function(v,d){return this.anims.play(v,d)},"play"),playReverse:r(function(v,d){return this.anims.playReverse(v,d)},"playReverse"),playAfterDelay:r(function(v,d){return this.anims.playAfterDelay(v,d)},"playAfterDelay"),playAfterRepeat:r(function(v,d){return this.anims.playAfterRepeat(v,d)},"playAfterRepeat"),stop:r(function(){return this.anims.stop()},"stop"),stopAfterDelay:r(function(v){return this.anims.stopAfterDelay(v)},"stopAfterDelay"),stopAfterRepeat:r(function(v){return this.anims.stopAfterRepeat(v)},"stopAfterRepeat"),stopOnFrame:r(function(v){return this.anims.stopOnFrame(v)},"stopOnFrame"),preUpdate:r(function(v,d){u.prototype.preUpdate.call(this,v,d),this.anims.update(v,d)},"preUpdate"),preDestroy:r(function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null},"preDestroy")});n.exports=f},56015:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(13059),c=s(44603),l=s(23568),u=s(35154),h=s(33663);c.register("plane",function(f,v){f===void 0&&(f={});var d=l(f,"key",null),p=l(f,"frame",null),g=u(f,"width",8),m=u(f,"height",8),x=u(f,"tile",!1),E=new h(this.scene,0,0,d,p,g,m,x);v!==void 0&&(f.add=v);var A=u(f,"checkerboard",null);if(A){var R=u(A,"color1",16777215),P=u(A,"color2",255),O=u(A,"alpha1",255),L=u(A,"alpha2",255),w=u(A,"height",128);E.createCheckerboard(R,P,O,L,w)}return o(this.scene,E,f),T(E,f),E})},30985:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33663),T=s(39429);T.register("plane",function(c,l,u,h,f,v,d){return this.displayList.add(new o(this.scene,c,l,u,h,f,v,d))})},80321:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(95643),l=s(30100),u=s(36060),h=s(67277),f=new o({Extends:c,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.Mask,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Transform,T.Visible,h],initialize:r(function(d,p,g,m,x,E,A){m===void 0&&(m=16777215),x===void 0&&(x=128),E===void 0&&(E=1),A===void 0&&(A=.1),c.call(this,d,"PointLight"),this.initPipeline(u.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(p,g),this.color=l(m),this.intensity=E,this.attenuation=A,this.width=x*2,this.height=x*2,this._radius=x},"PointLight"),radius:{get:r(function(){return this._radius},"get"),set:r(function(v){this._radius=v,this.width=v*2,this.height=v*2},"set")},originX:{get:r(function(){return .5},"get")},originY:{get:r(function(){return .5},"get")},displayOriginX:{get:r(function(){return this._radius},"get")},displayOriginY:{get:r(function(){return this._radius},"get")}});n.exports=f},39829:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(44603),c=s(23568),l=s(80321);T.register("pointlight",function(u,h){u===void 0&&(u={});var f=c(u,"color",16777215),v=c(u,"radius",128),d=c(u,"intensity",1),p=c(u,"attenuation",.1),g=new l(this.scene,0,0,f,v,d,p);return h!==void 0&&(u.add=h),o(this.scene,g,u),g})},71255:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(80321);o.register("pointlight",function(c,l,u,h,f,v){return this.displayList.add(new T(this.scene,c,l,u,h,f,v))})},67277:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(57787),n.exports={renderWebGL:T,renderCanvas:c}},57787:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=r(function(c,l,u,h){u.addToRenderList(l);var f=c.pipelines.set(l.pipeline),v=o(l,u,h).calc,d=l.width,p=l.height,g=-l._radius,m=-l._radius,x=g+d,E=m+p,A=v.getX(0,0),R=v.getY(0,0),P=v.getX(g,m),O=v.getY(g,m),L=v.getX(g,E),w=v.getY(g,E),M=v.getX(x,E),b=v.getY(x,E),D=v.getX(x,m),F=v.getY(x,m);c.pipelines.preBatch(l),f.batchPointLight(l,u,P,O,L,w,M,b,D,F,A,R),c.pipelines.postBatch(l)},"PointLightWebGLRenderer");n.exports=T},591:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(81320),c=s(88571),l=new o({Extends:c,initialize:r(function(h,f,v,d,p,g){f===void 0&&(f=0),v===void 0&&(v=0),d===void 0&&(d=32),p===void 0&&(p=32),g===void 0&&(g=!0);var m=new T(h.sys.textures,"",d,p,g);c.call(this,h,f,v,m),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},"RenderTexture"),setSize:r(function(u,h){this.width=u,this.height=h,this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=u,f.hitArea.height=h),this},"setSize"),resize:r(function(u,h,f){return this.texture.setSize(u,h,f),this.setSize(this.texture.width,this.texture.height),this},"resize"),saveTexture:r(function(u){var h=this.texture;return h.key=u,h.manager.addDynamicTexture(h)&&(this._saved=!0),h},"saveTexture"),fill:r(function(u,h,f,v,d,p){return this.texture.fill(u,h,f,v,d,p),this},"fill"),clear:r(function(){return this.texture.clear(),this},"clear"),stamp:r(function(u,h,f,v,d){return this.texture.stamp(u,h,f,v,d),this},"stamp"),erase:r(function(u,h,f){return this.texture.erase(u,h,f),this},"erase"),draw:r(function(u,h,f,v,d){return this.texture.draw(u,h,f,v,d),this},"draw"),drawFrame:r(function(u,h,f,v,d,p){return this.texture.drawFrame(u,h,f,v,d,p),this},"drawFrame"),repeat:r(function(u,h,f,v,d,p,g,m,x){return this.texture.repeat(u,h,f,v,d,p,g,m,x),this},"repeat"),beginDraw:r(function(){return this.texture.beginDraw(),this},"beginDraw"),batchDraw:r(function(u,h,f,v,d){return this.texture.batchDraw(u,h,f,v,d),this},"batchDraw"),batchDrawFrame:r(function(u,h,f,v,d,p){return this.texture.batchDrawFrame(u,h,f,v,d,p),this},"batchDrawFrame"),endDraw:r(function(u){return this.texture.endDraw(u),this},"endDraw"),snapshotArea:r(function(u,h,f,v,d,p,g){return this.texture.snapshotArea(u,h,f,v,d,p,g),this},"snapshotArea"),snapshot:r(function(u,h,f){return this.snapshotArea(0,0,this.width,this.height,u,h,f)},"snapshot"),snapshotPixel:r(function(u,h,f){return this.snapshotArea(u,h,1,1,f,"pixel")},"snapshotPixel"),preDestroy:r(function(){this.camera=null,this._saved||this.texture.destroy()},"preDestroy")});n.exports=l},34495:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(44603),c=s(23568),l=s(591);T.register("renderTexture",function(u,h){u===void 0&&(u={});var f=c(u,"x",0),v=c(u,"y",0),d=c(u,"width",32),p=c(u,"height",32),g=new l(this.scene,f,v,d,p);return h!==void 0&&(u.add=h),o(this.scene,g,u),g})},60505:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(591);o.register("renderTexture",function(c,l,u,h){return this.displayList.add(new T(this.scene,c,l,u,h))})},77757:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),T=s(83419),c=s(31401),l=s(95643),u=s(36060),h=s(38745),f=s(26099),v=new T({Extends:l,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Flip,c.Mask,c.Pipeline,c.PostPipeline,c.Size,c.Texture,c.Transform,c.Visible,c.ScrollFactor,h],initialize:r(function(p,g,m,x,E,A,R,P,O){x===void 0&&(x="__DEFAULT"),A===void 0&&(A=2),R===void 0&&(R=!0),l.call(this,p,"Rope"),this.anims=new o(this),this.points=A,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=x==="__DEFAULT",this.dirty=!1,this.horizontal=R,this._flipX=!1,this._flipY=!1,this._perp=new f,this.debugCallback=null,this.debugGraphic=null,this.setTexture(x,E),this.setPosition(g,m),this.setSizeToFrame(),this.initPipeline(u.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(A)&&this.resizeArrays(A.length),this.setPoints(A,P,O),this.updateVertices()},"Rope"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),preUpdate:r(function(d,p){var g=this.anims.currentFrame;this.anims.update(d,p),this.anims.currentFrame!==g&&(this.updateUVs(),this.updateVertices())},"preUpdate"),play:r(function(d,p,g){return this.anims.play(d,p,g),this},"play"),setDirty:r(function(){return this.dirty=!0,this},"setDirty"),setHorizontal:r(function(d,p,g){return d===void 0&&(d=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(d,p,g))},"setHorizontal"),setVertical:r(function(d,p,g){return d===void 0&&(d=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(d,p,g)):this},"setVertical"),setTintFill:r(function(d){return d===void 0&&(d=!1),this.tintFill=d,this},"setTintFill"),setAlphas:r(function(d,p){var g=this.points.length;if(g<1)return this;var m=this.alphas;d===void 0?d=[1]:!Array.isArray(d)&&p===void 0&&(d=[d]);var x,E=0;if(p!==void 0)for(x=0;x<g;x++)E=x*2,m[E]=d,m[E+1]=p;else if(d.length===g)for(x=0;x<g;x++)E=x*2,m[E]=d[x],m[E+1]=d[x];else{var A=d[0];for(x=0;x<g;x++)E=x*2,d.length>E&&(A=d[E]),m[E]=A,d.length>E+1&&(A=d[E+1]),m[E+1]=A}return this},"setAlphas"),setColors:r(function(d){var p=this.points.length;if(p<1)return this;var g=this.colors;d===void 0?d=[16777215]:Array.isArray(d)||(d=[d]);var m,x=0;if(d.length===p)for(m=0;m<p;m++)x=m*2,g[x]=d[m],g[x+1]=d[m];else{var E=d[0];for(m=0;m<p;m++)x=m*2,d.length>x&&(E=d[x]),g[x]=E,d.length>x+1&&(E=d[x+1]),g[x+1]=E}return this},"setColors"),setPoints:r(function(d,p,g){if(d===void 0&&(d=2),typeof d=="number"){var m=d;m<2&&(m=2),d=[];var x,E,A;if(this.horizontal)for(A=-this.frame.halfWidth,E=this.frame.width/(m-1),x=0;x<m;x++)d.push({x:A+x*E,y:0});else for(A=-this.frame.halfHeight,E=this.frame.height/(m-1),x=0;x<m;x++)d.push({x:0,y:A+x*E})}var R=d.length,P=this.points.length;return R<1?(console.warn("Rope: Not enough points given"),this):(R===1&&(d.unshift({x:0,y:0}),R++),P!==R&&this.resizeArrays(R),this.dirty=!0,this.points=d,this.updateUVs(),p!=null&&this.setColors(p),g!=null&&this.setAlphas(g),this)},"setPoints"),updateUVs:r(function(){for(var d=this.uv,p=this.points.length,g=this.frame.u0,m=this.frame.v0,x=this.frame.u1,E=this.frame.v1,A=(x-g)/(p-1),R=(E-m)/(p-1),P=0;P<p;P++){var O=P*4,L,w,M,b;this.horizontal?(this._flipX?(L=x-P*A,M=x-P*A):(L=g+P*A,M=g+P*A),this._flipY?(w=E,b=m):(w=m,b=E)):(this._flipX?(L=g,M=x):(L=x,M=g),this._flipY?(w=E-P*R,b=E-P*R):(w=m+P*R,b=m+P*R)),d[O+0]=L,d[O+1]=w,d[O+2]=M,d[O+3]=b}return this},"updateUVs"),resizeArrays:r(function(d){var p=this.colors,g=this.alphas;this.vertices=new Float32Array(d*4),this.uv=new Float32Array(d*4),p=new Uint32Array(d*2),g=new Float32Array(d*2);for(var m=0;m<d*2;m++)p[m]=16777215,g[m]=1;return this.colors=p,this.alphas=g,this.dirty=!0,this},"resizeArrays"),updateVertices:r(function(){var d=this._perp,p=this.points,g=this.vertices,m=p.length;if(this.dirty=!1,!(m<1)){for(var x,E=p[0],A=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,R=0;R<m;R++){var P=p[R],O=R*4;R<m-1?x=p[R+1]:x=P,d.x=x.y-E.y,d.y=-(x.x-E.x);var L=d.length();d.x/=L,d.y/=L,d.x*=A,d.y*=A,g[O]=P.x+d.x,g[O+1]=P.y+d.y,g[O+2]=P.x-d.x,g[O+3]=P.y-d.y,E=P}return this}},"updateVertices"),setDebug:r(function(d,p){return this.debugGraphic=d,!d&&!p?this.debugCallback=null:p?this.debugCallback=p:this.debugCallback=this.renderDebugVerts,this},"setDebug"),renderDebugVerts:r(function(d,p,g){var m=d.debugGraphic,x=g[0],E=g[1],A=g[2],R=g[3];m.lineBetween(x,E,A,R);for(var P=4;P<p;P+=4){var O=g[P+0],L=g[P+1],w=g[P+2],M=g[P+3];m.lineBetween(x,E,O,L),m.lineBetween(A,R,w,M),m.lineBetween(A,R,O,L),m.lineBetween(O,L,w,M),x=O,E=L,A=w,R=M}},"renderDebugVerts"),preDestroy:r(function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},"preDestroy"),flipX:{get:r(function(){return this._flipX},"get"),set:r(function(d){return this._flipX=d,this.updateUVs()},"set")},flipY:{get:r(function(){return this._flipY},"get"),set:r(function(d){return this._flipY=d,this.updateUVs()},"set")}});n.exports=v},95262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(){},"RopeCanvasRenderer");n.exports=C},26209:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(44603),c=s(23568),l=s(35154),u=s(77757);T.register("rope",function(h,f){h===void 0&&(h={});var v=c(h,"key",null),d=c(h,"frame",null),p=c(h,"horizontal",!0),g=l(h,"points",void 0),m=l(h,"colors",void 0),x=l(h,"alphas",void 0),E=new u(this.scene,0,0,v,d,g,p,m,x);return f!==void 0&&(h.add=f),o(this.scene,E,h),E})},96819:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(77757),T=s(39429);T.register("rope",function(c,l,u,h,f,v,d,p){return this.displayList.add(new o(this.scene,c,l,u,h,f,v,d,p))})},38745:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(20439),c=s(95262),n.exports={renderWebGL:T,renderCanvas:c}},20439:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=s(70554),c=r(function(l,u,h,f){h.addToRenderList(u);var v=l.pipelines.set(u.pipeline,u),d=o(u,h,f).calc,p=u.vertices,g=u.uv,m=u.colors,x=u.alphas,E=u.alpha,A=T.getTintAppendFloatAlpha,R=h.roundPixels,P=p.length,O=Math.floor(P*.5);v.flush(),l.pipelines.preBatch(u);var L=v.setGameObject(u),w=v.vertexViewF32,M=v.vertexViewU32,b=v.vertexCount*v.currentShader.vertexComponentCount-1,D=0,F=u.tintFill;u.dirty&&u.updateVertices();for(var N=u.debugCallback,B=[],Y=0;Y<P;Y+=2){var W=p[Y+0],z=p[Y+1],X=W*d.a+z*d.c+d.e,H=W*d.b+z*d.d+d.f;R&&(X=Math.round(X),H=Math.round(H)),w[++b]=X,w[++b]=H,w[++b]=g[Y+0],w[++b]=g[Y+1],w[++b]=L,w[++b]=F,M[++b]=A(m[D],h.alpha*(x[D]*E)),D++,N&&(B[Y+0]=X,B[Y+1]=H)}N&&N.call(u,u,P,B),v.vertexCount+=O,v.currentBatch.count=v.vertexCount-v.currentBatch.start,l.pipelines.postBatch(u)},"RopeWebGLRenderer");n.exports=c},20071:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(95643),l=s(95540),u=s(79291),h=s(61622),f=s(25479),v=s(61340),d=s(95428),p=s(92503),g=new o({Extends:c,Mixins:[T.ComputedSize,T.Depth,T.GetBounds,T.Mask,T.Origin,T.ScrollFactor,T.Transform,T.Visible,f],initialize:r(function(x,E,A,R,P,O,L,w){A===void 0&&(A=0),R===void 0&&(R=0),P===void 0&&(P=128),O===void 0&&(O=128),c.call(this,x,"Shader"),this.blendMode=-1,this.shader;var M=x.sys.renderer;this.renderer=M,this.gl=M.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=M.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=M.width,this._rendererHeight=M.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(A,R),this.setSize(P,O),this.setOrigin(.5,.5),this.setShader(E,L,w),this.renderer.on(p.RESTORE_WEBGL,this.onContextRestored,this)},"Shader"),willRender:r(function(m){return this.renderToTexture?!0:!(c.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&m.id)},"willRender"),setRenderToTexture:r(function(m,x){if(!this.renderToTexture){var E=this.width,A=this.height,R=this.renderer;this.glTexture=R.createTextureFromSource(null,E,A,0),this.framebuffer=R.createFramebuffer(E,A,this.glTexture,!1),this._rendererWidth=E,this._rendererHeight=A,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),m&&(this.texture=this.scene.sys.textures.addGLTexture(m,this.glTexture))}return this.shader&&(R.pipelines.clear(),this.load(),this.flush(),R.pipelines.rebind()),this},"setRenderToTexture"),setShader:r(function(m,x,E){if(this.renderer.contextLost)return this._deferSetShader={key:m,textures:x,textureData:E},this;if(x===void 0&&(x=[]),typeof m=="string"){var A=this.scene.sys.cache.shader;if(!A.has(m))return console.warn("Shader missing: "+m),this;this.shader=A.get(m)}else this.shader=m;var R=this.gl,P=this.renderer;this.program&&P.deleteProgram(this.program);var O=P.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);R.uniformMatrix4fv(R.getUniformLocation(O.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),R.uniformMatrix4fv(R.getUniformLocation(O.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),R.uniform2f(R.getUniformLocation(O.webGLProgram,"uResolution"),this.width,this.height),this.program=O;var L=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[L.getFullYear(),L.getMonth(),L.getDate(),L.getHours()*60*60+L.getMinutes()*60+L.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=u(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var M=0;M<4;M++)x[M]&&this.setSampler2D("iChannel"+M,x[M],M,E);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},"setShader"),setPointer:r(function(m){return this.pointer=m,this},"setPointer"),projOrtho:r(function(m,x,E,A){if(this.renderer.contextLost){this._deferProjOrtho={left:m,right:x,bottom:E,top:A};return}var R=-1e3,P=1e3,O=1/(m-x),L=1/(E-A),w=1/(R-P),M=this.projectionMatrix;M[0]=-2*O,M[5]=-2*L,M[10]=2*w,M[12]=(m+x)*O,M[13]=(A+E)*L,M[14]=(P+R)*w;var b=this.program,D=this.gl,F=this.renderer;F.setProgram(b),D.uniformMatrix4fv(D.getUniformLocation(b.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=x,this._rendererHeight=E},"projOrtho"),initUniforms:r(function(){var m=this.renderer.glFuncMap,x=this.program;this._textureCount=0;for(var E in this.uniforms){var A=this.uniforms[E],R=A.type,P=m[R];A.uniformLocation=this.renderer.createUniformLocation(x,E),R!=="sampler2D"&&(A.glMatrix=P.matrix,A.glValueLength=P.length,A.glFunc=P.func)}},"initUniforms"),setSampler2DBuffer:r(function(m,x,E,A,R,P){R===void 0&&(R=0),P===void 0&&(P={});var O=this.uniforms[m];return O.value=x,P.width=E,P.height=A,O.textureData=P,this._textureCount=R,this.initSampler2D(O),this},"setSampler2DBuffer"),setSampler2D:r(function(m,x,E,A){E===void 0&&(E=0);var R=this.scene.sys.textures;if(R.exists(x)){var P=R.getFrame(x);if(P.glTexture&&P.glTexture.isRenderTexture)return this.setSampler2DBuffer(m,P.glTexture,P.width,P.height,E,A);var O=this.uniforms[m],L=P.source;O.textureKey=x,O.source=L.image,O.value=P.glTexture,L.isGLTexture&&(A||(A={}),A.width=L.width,A.height=L.height),A&&(O.textureData=A),this._textureCount=E,this.initSampler2D(O)}return this},"setSampler2D"),setUniform:r(function(m,x){return h(this.uniforms,m,x),this},"setUniform"),getUniform:r(function(m){return l(this.uniforms,m,null)},"getUniform"),setChannel0:r(function(m,x){return this.setSampler2D("iChannel0",m,0,x)},"setChannel0"),setChannel1:r(function(m,x){return this.setSampler2D("iChannel1",m,1,x)},"setChannel1"),setChannel2:r(function(m,x){return this.setSampler2D("iChannel2",m,2,x)},"setChannel2"),setChannel3:r(function(m,x){return this.setSampler2D("iChannel3",m,3,x)},"setChannel3"),initSampler2D:r(function(m){if(m.value){var x=m.textureData;if(x&&!m.value.isRenderTexture){var E=this.gl,A=m.value,R=E[l(x,"magFilter","linear").toUpperCase()],P=E[l(x,"minFilter","linear").toUpperCase()],O=E[l(x,"wrapS","repeat").toUpperCase()],L=E[l(x,"wrapT","repeat").toUpperCase()],w=E[l(x,"format","rgba").toUpperCase()],M=l(x,"flipY",!1),b=l(x,"width",A.width),D=l(x,"height",A.height),F=l(x,"source",A.pixels);x.repeat&&(O=E.REPEAT,L=E.REPEAT),x.width&&(F=null),A.update(F,b,D,M,O,L,P,R,w)}this.renderer.setProgram(this.program),this._textureCount++}},"initSampler2D"),syncUniforms:r(function(){var m=this.gl,x=this.uniforms,E,A,R,P,O,L=0;for(var w in x)E=x[w],R=E.glFunc,A=E.glValueLength,P=E.uniformLocation,O=E.value,O!==null&&(A===1?E.glMatrix?R.call(m,P.webGLUniformLocation,E.transpose,O):R.call(m,P.webGLUniformLocation,O):A===2?R.call(m,P.webGLUniformLocation,O.x,O.y):A===3?R.call(m,P.webGLUniformLocation,O.x,O.y,O.z):A===4?R.call(m,P.webGLUniformLocation,O.x,O.y,O.z,O.w):E.type==="sampler2D"&&(m.activeTexture(m.TEXTURE0+L),m.bindTexture(m.TEXTURE_2D,O.webGLTexture),m.uniform1i(P.webGLUniformLocation,L),L++))},"syncUniforms"),load:r(function(m){var x=this.gl,E=this.width,A=this.height,R=this.renderer,P=this.program,O=this.viewMatrix;if(!this.renderToTexture){var L=-this._displayOriginX,w=-this._displayOriginY;O[0]=m[0],O[1]=m[1],O[4]=m[2],O[5]=m[3],O[8]=m[4],O[9]=m[5],O[12]=O[0]*L+O[4]*w,O[13]=O[1]*L+O[5]*w}x.useProgram(P.webGLProgram),x.uniformMatrix4fv(x.getUniformLocation(P.webGLProgram,"uViewMatrix"),!1,O),x.uniformMatrix4fv(x.getUniformLocation(P.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(P.webGLProgram,"uResolution"),this.width,this.height);var M=this.uniforms,b=M.resolution;b.value.x=E,b.value.y=A,M.time.value=R.game.loop.getDuration();var D=this.pointer;if(D){var F=M.mouse,N=D.x/E,B=1-D.y/A;F.value.x=N.toFixed(2),F.value.y=B.toFixed(2)}this.syncUniforms()},"load"),flush:r(function(){var m=this.width,x=this.height,E=this.program,A=this.gl,R=this.vertexBuffer,P=this.renderer,O=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(P.setFramebuffer(this.framebuffer),A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT)),A.bindBuffer(A.ARRAY_BUFFER,R.webGLBuffer);var L=A.getAttribLocation(E.webGLProgram,"inPosition");L!==-1&&(A.enableVertexAttribArray(L),A.vertexAttribPointer(L,2,A.FLOAT,!1,O,0));var w=this.vertexViewF32;w[3]=x,w[4]=m,w[5]=x,w[8]=m,w[9]=x,w[10]=m;var M=6;A.bufferSubData(A.ARRAY_BUFFER,0,this.bytes.subarray(0,M*O)),A.drawArrays(A.TRIANGLES,0,M),this.renderToTexture&&P.setFramebuffer(null,!1)},"flush"),setAlpha:r(function(){},"setAlpha"),setBlendMode:r(function(){},"setBlendMode"),onContextRestored:r(function(){if(this._deferSetShader!==null){var m=this._deferSetShader.key,x=this._deferSetShader.textures,E=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(m,x,E)}if(this._deferProjOrtho!==null){var A=this._deferProjOrtho.left,R=this._deferProjOrtho.right,P=this._deferProjOrtho.bottom,O=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(A,R,P,O)}},"onContextRestored"),preDestroy:r(function(){var m=this.renderer;m.off(p.RESTORE_WEBGL,this.onContextRestored,this),m.deleteProgram(this.program),m.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(m.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),d(this.uniforms,function(x){m.deleteUniformLocation(x.uniformLocation),x.uniformLocation=null})},"preDestroy")});n.exports=g},80464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(){},"ShaderCanvasRenderer");n.exports=C},54935:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(44603),c=s(23568),l=s(20071);T.register("shader",function(u,h){u===void 0&&(u={});var f=c(u,"key",null),v=c(u,"x",0),d=c(u,"y",0),p=c(u,"width",128),g=c(u,"height",128),m=new l(this.scene,f,v,d,p,g);return h!==void 0&&(u.add=h),o(this.scene,m,u),m})},74177:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20071),T=s(39429);T.register("shader",function(c,l,u,h,f,v,d){return this.displayList.add(new o(this.scene,c,l,u,h,f,v,d))})},25479:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(19257),c=s(80464),n.exports={renderWebGL:T,renderCanvas:c}},19257:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=r(function(c,l,u,h){if(l.shader){if(u.addToRenderList(l),c.pipelines.clear(),l.renderToTexture)l.load(),l.flush();else{var f=o(l,u,h).calc;(c.width!==l._rendererWidth||c.height!==l._rendererHeight)&&l.projOrtho(0,c.width,c.height,0),l.load(f.matrix),l.flush()}c.pipelines.rebind()}},"ShaderWebGLRenderer");n.exports=T},10441:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),T=r(function(c,l,u,h,f,v){for(var d=o.getTintAppendFloatAlpha(u.fillColor,u.fillAlpha*h),p=u.pathData,g=u.pathIndexes,m=0;m<g.length;m+=3){var x=g[m]*2,E=g[m+1]*2,A=g[m+2]*2,R=p[x+0]-f,P=p[x+1]-v,O=p[E+0]-f,L=p[E+1]-v,w=p[A+0]-f,M=p[A+1]-v,b=l.getX(R,P),D=l.getY(R,P),F=l.getX(O,L),N=l.getY(O,L),B=l.getX(w,M),Y=l.getY(w,M);c.batchTri(u,b,D,F,N,B,Y,0,0,1,1,d,d,d,2)}},"FillPathWebGL");n.exports=T},65960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=T||o.fillColor,u=c||o.fillAlpha,h=(l&16711680)>>>16,f=(l&65280)>>>8,v=l&255;s.fillStyle="rgba("+h+","+f+","+v+","+u+")"},"FillStyleCanvas");n.exports=C},75177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=T||o.strokeColor,u=c||o.strokeAlpha,h=(l&16711680)>>>16,f=(l&65280)>>>8,v=l&255;s.strokeStyle="rgba("+h+","+f+","+v+","+u+")",s.lineWidth=o.lineWidth},"LineStyleCanvas");n.exports=C},17803:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(95643),l=s(23031),u=new o({Extends:c,Mixins:[T.AlphaSingle,T.BlendMode,T.Depth,T.GetBounds,T.Mask,T.Origin,T.Pipeline,T.PostPipeline,T.ScrollFactor,T.Transform,T.Visible],initialize:r(function(f,v,d){v===void 0&&(v="Shape"),c.call(this,f,v),this.geom=d,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new l,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},"Shape"),setFillStyle:r(function(h,f){return f===void 0&&(f=1),h===void 0?this.isFilled=!1:(this.fillColor=h,this.fillAlpha=f,this.isFilled=!0),this},"setFillStyle"),setStrokeStyle:r(function(h,f,v){return v===void 0&&(v=1),h===void 0?this.isStroked=!1:(this.lineWidth=h,this.strokeColor=f,this.strokeAlpha=v,this.isStroked=!0),this},"setStrokeStyle"),setClosePath:r(function(h){return this.closePath=h,this},"setClosePath"),setSize:r(function(h,f){return this.width=h,this.height=f,this},"setSize"),setDisplaySize:r(function(h,f){return this.displayWidth=h,this.displayHeight=f,this},"setDisplaySize"),preDestroy:r(function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},"preDestroy"),displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(h){this.scaleX=h/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(h){this.scaleY=h/this.height},"set")}});n.exports=u},34682:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),T=r(function(c,l,u,h,f){var v=c.strokeTint,d=o.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*u);v.TL=d,v.TR=d,v.BL=d,v.BR=d;var p=l.pathData,g=p.length-1,m=l.lineWidth,x=m/2,E=p[0]-h,A=p[1]-f;l.closePath||(g-=2);for(var R=2;R<g;R+=2){var P=p[R]-h,O=p[R+1]-f;c.batchLine(E,A,P,O,x,x,m,R-2,l.closePath?R===g-1:!1),E=P,A=O}},"StrokePathWebGL");n.exports=T},23629:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13609),T=s(83419),c=s(39506),l=s(94811),u=s(96503),h=s(36383),f=s(17803),v=new T({Extends:f,Mixins:[o],initialize:r(function(p,g,m,x,E,A,R,P,O){g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=128),E===void 0&&(E=0),A===void 0&&(A=360),R===void 0&&(R=!1),f.call(this,p,"Arc",new u(0,0,x)),this._startAngle=E,this._endAngle=A,this._anticlockwise=R,this._iterations=.01,this.setPosition(g,m);var L=this.geom.radius*2;this.setSize(L,L),P!==void 0&&this.setFillStyle(P,O),this.updateDisplayOrigin(),this.updateData()},"Arc"),iterations:{get:r(function(){return this._iterations},"get"),set:r(function(d){this._iterations=d,this.updateData()},"set")},radius:{get:r(function(){return this.geom.radius},"get"),set:r(function(d){this.geom.radius=d;var p=d*2;this.setSize(p,p),this.updateDisplayOrigin(),this.updateData()},"set")},startAngle:{get:r(function(){return this._startAngle},"get"),set:r(function(d){this._startAngle=d,this.updateData()},"set")},endAngle:{get:r(function(){return this._endAngle},"get"),set:r(function(d){this._endAngle=d,this.updateData()},"set")},anticlockwise:{get:r(function(){return this._anticlockwise},"get"),set:r(function(d){this._anticlockwise=d,this.updateData()},"set")},setRadius:r(function(d){return this.radius=d,this},"setRadius"),setIterations:r(function(d){return d===void 0&&(d=.01),this.iterations=d,this},"setIterations"),setStartAngle:r(function(d,p){return this._startAngle=d,p!==void 0&&(this._anticlockwise=p),this.updateData()},"setStartAngle"),setEndAngle:r(function(d,p){return this._endAngle=d,p!==void 0&&(this._anticlockwise=p),this.updateData()},"setEndAngle"),updateData:r(function(){var d=this._iterations,p=d,g=this.geom.radius,m=c(this._startAngle),x=c(this._endAngle),E=this._anticlockwise,A=g,R=g;x-=m,E?x<-h.PI2?x=-h.PI2:x>0&&(x=-h.PI2+x%h.PI2):x>h.PI2?x=h.PI2:x<0&&(x=h.PI2+x%h.PI2);for(var P=[A+Math.cos(m)*g,R+Math.sin(m)*g],O;p<1;)O=x*p+m,P.push(A+Math.cos(O)*g,R+Math.sin(O)*g),p+=d;return O=x+m,P.push(A+Math.cos(O)*g,R+Math.sin(O)*g),P.push(A+Math.cos(m)*g,R+Math.sin(m)*g),this.pathIndexes=l(P),this.pathData=P,this},"updateData")});n.exports=v},42542:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39506),T=s(65960),c=s(75177),l=s(20926),u=r(function(h,f,v,d){v.addToRenderList(f);var p=h.currentContext;if(l(h,p,f,v,d)){var g=f.radius;p.beginPath(),p.arc(g-f.originX*(g*2),g-f.originY*(g*2),g,o(f._startAngle),o(f._endAngle),f.anticlockwise),f.closePath&&p.closePath(),f.isFilled&&(T(p,f),p.fill()),f.isStroked&&(c(p,f),p.stroke()),p.restore()}},"ArcCanvasRenderer");n.exports=u},42563:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23629),T=s(39429);T.register("arc",function(c,l,u,h,f,v,d,p){return this.displayList.add(new o(this.scene,c,l,u,h,f,v,d,p))}),T.register("circle",function(c,l,u,h,f){return this.displayList.add(new o(this.scene,c,l,u,0,360,!1,h,f))})},13609:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(41447),c=s(42542),n.exports={renderWebGL:T,renderCanvas:c}},41447:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=s(10441),c=s(34682),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.pipelines.set(h.pipeline),p=o(h,f,v),g=d.calcMatrix.copyFrom(p.calc),m=h._displayOriginX,x=h._displayOriginY,E=f.alpha*h.alpha;u.pipelines.preBatch(h),h.isFilled&&T(d,g,h,E,m,x),h.isStroked&&c(d,h,E,m,x),u.pipelines.postBatch(h)},"ArcWebGLRenderer");n.exports=l},89:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(33141),c=s(94811),l=s(87841),u=s(17803),h=new o({Extends:u,Mixins:[T],initialize:r(function(v,d,p,g,m,x){d===void 0&&(d=0),p===void 0&&(p=0),u.call(this,v,"Curve",g),this._smoothness=32,this._curveBounds=new l,this.closePath=!1,this.setPosition(d,p),m!==void 0&&this.setFillStyle(m,x),this.updateData()},"Curve"),smoothness:{get:r(function(){return this._smoothness},"get"),set:r(function(f){this._smoothness=f,this.updateData()},"set")},setSmoothness:r(function(f){return this._smoothness=f,this.updateData()},"setSmoothness"),updateData:r(function(){var f=this._curveBounds,v=this._smoothness;this.geom.getBounds(f,v),this.setSize(f.width,f.height),this.updateDisplayOrigin();for(var d=[],p=this.geom.getPoints(v),g=0;g<p.length;g++)d.push(p[g].x,p[g].y);return d.push(p[0].x,p[0].y),this.pathIndexes=c(d),this.pathData=d,this},"updateData")});n.exports=h},3170:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),T=s(75177),c=s(20926),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.currentContext;if(c(u,d,h,f,v)){var p=h._displayOriginX+h._curveBounds.x,g=h._displayOriginY+h._curveBounds.y,m=h.pathData,x=m.length-1,E=m[0]-p,A=m[1]-g;d.beginPath(),d.moveTo(E,A),h.closePath||(x-=2);for(var R=2;R<x;R+=2){var P=m[R]-p,O=m[R+1]-g;d.lineTo(P,O)}h.closePath&&d.closePath(),h.isFilled&&(o(d,h),d.fill()),h.isStroked&&(T(d,h),d.stroke()),d.restore()}},"CurveCanvasRenderer");n.exports=l},40511:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(89);o.register("curve",function(c,l,u,h,f){return this.displayList.add(new T(this.scene,c,l,u,h,f))})},33141:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(53987),c=s(3170),n.exports={renderWebGL:T,renderCanvas:c}},53987:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),T=s(91296),c=s(34682),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.pipelines.set(h.pipeline),p=T(h,f,v),g=d.calcMatrix.copyFrom(p.calc),m=h._displayOriginX+h._curveBounds.x,x=h._displayOriginY+h._curveBounds.y,E=f.alpha*h.alpha;u.pipelines.preBatch(h),h.isFilled&&o(d,g,h,E,m,x),h.isStroked&&c(d,h,E,m,x),u.pipelines.postBatch(h)},"CurveWebGLRenderer");n.exports=l},19921:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(94811),c=s(54205),l=s(8497),u=s(17803),h=new o({Extends:u,Mixins:[c],initialize:r(function(v,d,p,g,m,x,E){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=128),m===void 0&&(m=128),u.call(this,v,"Ellipse",new l(g/2,m/2,g,m)),this._smoothness=64,this.setPosition(d,p),this.width=g,this.height=m,x!==void 0&&this.setFillStyle(x,E),this.updateDisplayOrigin(),this.updateData()},"Ellipse"),smoothness:{get:r(function(){return this._smoothness},"get"),set:r(function(f){this._smoothness=f,this.updateData()},"set")},setSize:r(function(f,v){return this.width=f,this.height=v,this.geom.setPosition(f/2,v/2),this.geom.setSize(f,v),this.updateDisplayOrigin(),this.updateData()},"setSize"),setSmoothness:r(function(f){return this._smoothness=f,this.updateData()},"setSmoothness"),updateData:r(function(){for(var f=[],v=this.geom.getPoints(this._smoothness),d=0;d<v.length;d++)f.push(v[d].x,v[d].y);return f.push(v[0].x,v[0].y),this.pathIndexes=T(f),this.pathData=f,this},"updateData")});n.exports=h},7930:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),T=s(75177),c=s(20926),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.currentContext;if(c(u,d,h,f,v)){var p=h._displayOriginX,g=h._displayOriginY,m=h.pathData,x=m.length-1,E=m[0]-p,A=m[1]-g;d.beginPath(),d.moveTo(E,A),h.closePath||(x-=2);for(var R=2;R<x;R+=2){var P=m[R]-p,O=m[R+1]-g;d.lineTo(P,O)}d.closePath(),h.isFilled&&(o(d,h),d.fill()),h.isStroked&&(T(d,h),d.stroke()),d.restore()}},"EllipseCanvasRenderer");n.exports=l},1543:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19921),T=s(39429);T.register("ellipse",function(c,l,u,h,f,v){return this.displayList.add(new o(this.scene,c,l,u,h,f,v))})},54205:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(19467),c=s(7930),n.exports={renderWebGL:T,renderCanvas:c}},19467:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),T=s(91296),c=s(34682),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.pipelines.set(h.pipeline),p=T(h,f,v),g=d.calcMatrix.copyFrom(p.calc),m=h._displayOriginX,x=h._displayOriginY,E=f.alpha*h.alpha;u.pipelines.preBatch(h),h.isFilled&&o(d,g,h,E,m,x),h.isStroked&&c(d,h,E,m,x),u.pipelines.postBatch(h)},"EllipseWebGLRenderer");n.exports=l},30479:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(17803),c=s(26015),l=new o({Extends:T,Mixins:[c],initialize:r(function(h,f,v,d,p,g,m,x,E,A,R){f===void 0&&(f=0),v===void 0&&(v=0),d===void 0&&(d=128),p===void 0&&(p=128),g===void 0&&(g=32),m===void 0&&(m=32),T.call(this,h,"Grid",null),this.cellWidth=g,this.cellHeight=m,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(f,v),this.setSize(d,p),this.setFillStyle(x,E),A!==void 0&&this.setOutlineStyle(A,R),this.updateDisplayOrigin()},"Grid"),setFillStyle:r(function(u,h){return h===void 0&&(h=1),u===void 0?this.showCells=!1:(this.fillColor=u,this.fillAlpha=h,this.showCells=!0),this},"setFillStyle"),setAltFillStyle:r(function(u,h){return h===void 0&&(h=1),u===void 0?this.showAltCells=!1:(this.altFillColor=u,this.altFillAlpha=h,this.showAltCells=!0),this},"setAltFillStyle"),setOutlineStyle:r(function(u,h){return h===void 0&&(h=1),u===void 0?this.showOutline=!1:(this.outlineFillColor=u,this.outlineFillAlpha=h,this.showOutline=!0),this},"setOutlineStyle")});n.exports=l},49912:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),T=s(75177),c=s(20926),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.currentContext;if(c(u,d,h,f,v)){var p=-h._displayOriginX,g=-h._displayOriginY,m=f.alpha*h.alpha,x=h.width,E=h.height,A=h.cellWidth,R=h.cellHeight,P=Math.ceil(x/A),O=Math.ceil(E/R),L=A,w=R,M=A-(P*A-x),b=R-(O*R-E),D=h.showCells,F=h.showAltCells,N=h.showOutline,B=0,Y=0,W=0,z=0,X=0;if(N&&(L--,w--,M===A&&M--,b===R&&b--),D&&h.fillAlpha>0)for(o(d,h),Y=0;Y<O;Y++)for(F&&(W=Y%2),B=0;B<P;B++){if(F&&W){W=0;continue}W++,z=B<P-1?L:M,X=Y<O-1?w:b,d.fillRect(p+B*A,g+Y*R,z,X)}if(F&&h.altFillAlpha>0)for(o(d,h,h.altFillColor,h.altFillAlpha*m),Y=0;Y<O;Y++)for(F&&(W=Y%2),B=0;B<P;B++){if(F&&!W){W=1;continue}W=0,z=B<P-1?L:M,X=Y<O-1?w:b,d.fillRect(p+B*A,g+Y*R,z,X)}if(N&&h.outlineFillAlpha>0){for(T(d,h,h.outlineFillColor,h.outlineFillAlpha*m),B=1;B<P;B++){var H=B*A;d.beginPath(),d.moveTo(H+p,g),d.lineTo(H+p,E+g),d.stroke()}for(Y=1;Y<O;Y++){var V=Y*R;d.beginPath(),d.moveTo(p,V+g),d.lineTo(p+x,V+g),d.stroke()}}d.restore()}},"GridCanvasRenderer");n.exports=l},34137:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(30479);o.register("grid",function(c,l,u,h,f,v,d,p,g,m){return this.displayList.add(new T(this.scene,c,l,u,h,f,v,d,p,g,m))})},26015:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(46161),c=s(49912),n.exports={renderWebGL:T,renderCanvas:c}},46161:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=s(70554),c=r(function(l,u,h,f){h.addToRenderList(u);var v=l.pipelines.set(u.pipeline),d=o(u,h,f),p=v.calcMatrix.copyFrom(d.calc);p.translate(-u._displayOriginX,-u._displayOriginY);var g=h.alpha*u.alpha,m=u.width,x=u.height,E=u.cellWidth,A=u.cellHeight,R=Math.ceil(m/E),P=Math.ceil(x/A),O=E,L=A,w=E-(R*E-m),M=A-(P*A-x),b,D,F=u.showCells,N=u.showAltCells,B=u.showOutline,Y=0,W=0,z=0,X=0,H=0;if(B&&(O--,L--,w===E&&w--,M===A&&M--),l.pipelines.preBatch(u),F&&u.fillAlpha>0)for(b=v.fillTint,D=T.getTintAppendFloatAlpha(u.fillColor,u.fillAlpha*g),b.TL=D,b.TR=D,b.BL=D,b.BR=D,W=0;W<P;W++)for(N&&(z=W%2),Y=0;Y<R;Y++){if(N&&z){z=0;continue}z++,X=Y<R-1?O:w,H=W<P-1?L:M,v.batchFillRect(Y*E,W*A,X,H)}if(N&&u.altFillAlpha>0)for(b=v.fillTint,D=T.getTintAppendFloatAlpha(u.altFillColor,u.altFillAlpha*g),b.TL=D,b.TR=D,b.BL=D,b.BR=D,W=0;W<P;W++)for(N&&(z=W%2),Y=0;Y<R;Y++){if(N&&!z){z=1;continue}z=0,X=Y<R-1?O:w,H=W<P-1?L:M,v.batchFillRect(Y*E,W*A,X,H)}if(B&&u.outlineFillAlpha>0){var V=v.strokeTint,G=T.getTintAppendFloatAlpha(u.outlineFillColor,u.outlineFillAlpha*g);for(V.TL=G,V.TR=G,V.BL=G,V.BR=G,Y=1;Y<R;Y++){var k=Y*E;v.batchLine(k,0,k,x,u.lineWidth,u.lineWidth,1,0,!1)}for(W=1;W<P;W++){var U=W*A;v.batchLine(0,U,m,U,u.lineWidth,u.lineWidth,1,0,!1)}}l.pipelines.postBatch(u)},"GridWebGLRenderer");n.exports=c},61475:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99651),T=s(83419),c=s(17803),l=new T({Extends:c,Mixins:[o],initialize:r(function(h,f,v,d,p,g,m,x){f===void 0&&(f=0),v===void 0&&(v=0),d===void 0&&(d=48),p===void 0&&(p=32),g===void 0&&(g=15658734),m===void 0&&(m=10066329),x===void 0&&(x=13421772),c.call(this,h,"IsoBox",null),this.projection=4,this.fillTop=g,this.fillLeft=m,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(f,v),this.setSize(d,p),this.updateDisplayOrigin()},"IsoBox"),setProjection:r(function(u){return this.projection=u,this},"setProjection"),setFaces:r(function(u,h,f){return u===void 0&&(u=!0),h===void 0&&(h=!0),f===void 0&&(f=!0),this.showTop=u,this.showLeft=h,this.showRight=f,this},"setFaces"),setFillStyle:r(function(u,h,f){return this.fillTop=u,this.fillLeft=h,this.fillRight=f,this.isFilled=!0,this},"setFillStyle")});n.exports=l},11508:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),T=s(20926),c=r(function(l,u,h,f){h.addToRenderList(u);var v=l.currentContext;if(T(l,v,u,h,f)&&u.isFilled){var d=u.width,p=u.height,g=d/2,m=d/u.projection;u.showTop&&(o(v,u,u.fillTop),v.beginPath(),v.moveTo(-g,-p),v.lineTo(0,-m-p),v.lineTo(g,-p),v.lineTo(g,-1),v.lineTo(0,m-1),v.lineTo(-g,-1),v.lineTo(-g,-p),v.fill()),u.showLeft&&(o(v,u,u.fillLeft),v.beginPath(),v.moveTo(-g,0),v.lineTo(0,m),v.lineTo(0,m-p),v.lineTo(-g,-p),v.lineTo(-g,0),v.fill()),u.showRight&&(o(v,u,u.fillRight),v.beginPath(),v.moveTo(g,0),v.lineTo(0,m),v.lineTo(0,m-p),v.lineTo(g,-p),v.lineTo(g,0),v.fill()),v.restore()}},"IsoBoxCanvasRenderer");n.exports=c},3933:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(61475);o.register("isobox",function(c,l,u,h,f,v,d){return this.displayList.add(new T(this.scene,c,l,u,h,f,v,d))})},99651:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(68149),c=s(11508),n.exports={renderWebGL:T,renderCanvas:c}},68149:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=s(70554),c=r(function(l,u,h,f){h.addToRenderList(u);var v=l.pipelines.set(u.pipeline),d=o(u,h,f),p=v.calcMatrix.copyFrom(d.calc),g=u.width,m=u.height,x=g/2,E=g/u.projection,A=h.alpha*u.alpha;if(u.isFilled){var R,P,O,L,w,M,b,D,F;l.pipelines.preBatch(u),u.showTop&&(R=T.getTintAppendFloatAlpha(u.fillTop,A),P=p.getX(-x,-m),O=p.getY(-x,-m),L=p.getX(0,-E-m),w=p.getY(0,-E-m),M=p.getX(x,-m),b=p.getY(x,-m),D=p.getX(0,E-m),F=p.getY(0,E-m),v.batchQuad(u,P,O,L,w,M,b,D,F,0,0,1,1,R,R,R,R,2)),u.showLeft&&(R=T.getTintAppendFloatAlpha(u.fillLeft,A),P=p.getX(-x,0),O=p.getY(-x,0),L=p.getX(0,E),w=p.getY(0,E),M=p.getX(0,E-m),b=p.getY(0,E-m),D=p.getX(-x,-m),F=p.getY(-x,-m),v.batchQuad(u,P,O,L,w,M,b,D,F,0,0,1,1,R,R,R,R,2)),u.showRight&&(R=T.getTintAppendFloatAlpha(u.fillRight,A),P=p.getX(x,0),O=p.getY(x,0),L=p.getX(0,E),w=p.getY(0,E),M=p.getX(0,E-m),b=p.getY(0,E-m),D=p.getX(x,-m),F=p.getY(x,-m),v.batchQuad(u,P,O,L,w,M,b,D,F,0,0,1,1,R,R,R,R,2)),l.pipelines.postBatch(u)}},"IsoBoxWebGLRenderer");n.exports=c},16933:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(60561),c=s(17803),l=new o({Extends:c,Mixins:[T],initialize:r(function(h,f,v,d,p,g,m,x,E){f===void 0&&(f=0),v===void 0&&(v=0),d===void 0&&(d=48),p===void 0&&(p=32),g===void 0&&(g=!1),m===void 0&&(m=15658734),x===void 0&&(x=10066329),E===void 0&&(E=13421772),c.call(this,h,"IsoTriangle",null),this.projection=4,this.fillTop=m,this.fillLeft=x,this.fillRight=E,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=g,this.isFilled=!0,this.setPosition(f,v),this.setSize(d,p),this.updateDisplayOrigin()},"IsoTriangle"),setProjection:r(function(u){return this.projection=u,this},"setProjection"),setReversed:r(function(u){return this.isReversed=u,this},"setReversed"),setFaces:r(function(u,h,f){return u===void 0&&(u=!0),h===void 0&&(h=!0),f===void 0&&(f=!0),this.showTop=u,this.showLeft=h,this.showRight=f,this},"setFaces"),setFillStyle:r(function(u,h,f){return this.fillTop=u,this.fillLeft=h,this.fillRight=f,this.isFilled=!0,this},"setFillStyle")});n.exports=l},79590:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),T=s(20926),c=r(function(l,u,h,f){h.addToRenderList(u);var v=l.currentContext;if(T(l,v,u,h,f)&&u.isFilled){var d=u.width,p=u.height,g=d/2,m=d/u.projection,x=u.isReversed;u.showTop&&x&&(o(v,u,u.fillTop),v.beginPath(),v.moveTo(-g,-p),v.lineTo(0,-m-p),v.lineTo(g,-p),v.lineTo(0,m-p),v.fill()),u.showLeft&&(o(v,u,u.fillLeft),v.beginPath(),x?(v.moveTo(-g,-p),v.lineTo(0,m),v.lineTo(0,m-p)):(v.moveTo(-g,0),v.lineTo(0,m),v.lineTo(0,m-p)),v.fill()),u.showRight&&(o(v,u,u.fillRight),v.beginPath(),x?(v.moveTo(g,-p),v.lineTo(0,m),v.lineTo(0,m-p)):(v.moveTo(g,0),v.lineTo(0,m),v.lineTo(0,m-p)),v.fill()),v.restore()}},"IsoTriangleCanvasRenderer");n.exports=c},49803:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(16933);o.register("isotriangle",function(c,l,u,h,f,v,d,p){return this.displayList.add(new T(this.scene,c,l,u,h,f,v,d,p))})},60561:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(51503),c=s(79590),n.exports={renderWebGL:T,renderCanvas:c}},51503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=s(70554),c=r(function(l,u,h,f){h.addToRenderList(u);var v=l.pipelines.set(u.pipeline),d=o(u,h,f),p=v.calcMatrix.copyFrom(d.calc),g=u.width,m=u.height,x=g/2,E=g/u.projection,A=u.isReversed,R=h.alpha*u.alpha;if(u.isFilled){l.pipelines.preBatch(u);var P,O,L,w,M,b,D;if(u.showTop&&A){P=T.getTintAppendFloatAlpha(u.fillTop,R),O=p.getX(-x,-m),L=p.getY(-x,-m),w=p.getX(0,-E-m),M=p.getY(0,-E-m),b=p.getX(x,-m),D=p.getY(x,-m);var F=p.getX(0,E-m),N=p.getY(0,E-m);v.batchQuad(u,O,L,w,M,b,D,F,N,0,0,1,1,P,P,P,P,2)}u.showLeft&&(P=T.getTintAppendFloatAlpha(u.fillLeft,R),A?(O=p.getX(-x,-m),L=p.getY(-x,-m),w=p.getX(0,E),M=p.getY(0,E),b=p.getX(0,E-m),D=p.getY(0,E-m)):(O=p.getX(-x,0),L=p.getY(-x,0),w=p.getX(0,E),M=p.getY(0,E),b=p.getX(0,E-m),D=p.getY(0,E-m)),v.batchTri(u,O,L,w,M,b,D,0,0,1,1,P,P,P,2)),u.showRight&&(P=T.getTintAppendFloatAlpha(u.fillRight,R),A?(O=p.getX(x,-m),L=p.getY(x,-m),w=p.getX(0,E),M=p.getY(0,E),b=p.getX(0,E-m),D=p.getY(0,E-m)):(O=p.getX(x,0),L=p.getY(x,0),w=p.getX(0,E),M=p.getY(0,E),b=p.getX(0,E-m),D=p.getY(0,E-m)),v.batchTri(u,O,L,w,M,b,D,0,0,1,1,P,P,P,2)),l.pipelines.postBatch(u)}},"IsoTriangleWebGLRenderer");n.exports=c},57847:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(17803),c=s(23031),l=s(36823),u=new o({Extends:T,Mixins:[l],initialize:r(function(f,v,d,p,g,m,x,E,A){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=128),x===void 0&&(x=0),T.call(this,f,"Line",new c(p,g,m,x));var R=Math.max(1,this.geom.right-this.geom.left),P=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(v,d),this.setSize(R,P),E!==void 0&&this.setStrokeStyle(1,E,A),this.updateDisplayOrigin()},"Line"),setLineWidth:r(function(h,f){return f===void 0&&(f=h),this._startWidth=h,this._endWidth=f,this.lineWidth=h,this},"setLineWidth"),setTo:r(function(h,f,v,d){return this.geom.setTo(h,f,v,d),this},"setTo")});n.exports=u},17440:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(75177),T=s(20926),c=r(function(l,u,h,f){h.addToRenderList(u);var v=l.currentContext;if(T(l,v,u,h,f)){var d=u._displayOriginX,p=u._displayOriginY;u.isStroked&&(o(v,u),v.beginPath(),v.moveTo(u.geom.x1-d,u.geom.y1-p),v.lineTo(u.geom.x2-d,u.geom.y2-p),v.stroke()),v.restore()}},"LineCanvasRenderer");n.exports=c},2481:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(57847);o.register("line",function(c,l,u,h,f,v,d,p){return this.displayList.add(new T(this.scene,c,l,u,h,f,v,d,p))})},36823:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(77385),c=s(17440),n.exports={renderWebGL:T,renderCanvas:c}},77385:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=s(70554),c=r(function(l,u,h,f){h.addToRenderList(u);var v=l.pipelines.set(u.pipeline),d=o(u,h,f);v.calcMatrix.copyFrom(d.calc);var p=u._displayOriginX,g=u._displayOriginY,m=h.alpha*u.alpha;if(l.pipelines.preBatch(u),u.isStroked){var x=v.strokeTint,E=T.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*m);x.TL=E,x.TR=E,x.BL=E,x.BR=E,v.batchLine(u.geom.x1-p,u.geom.y1-g,u.geom.x2-p,u.geom.y2-g,u._startWidth/2,u._endWidth/2,1,0,!1,d.sprite,d.camera)}l.pipelines.postBatch(u)},"LineWebGLRenderer");n.exports=c},24949:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(90273),T=s(83419),c=s(94811),l=s(13829),u=s(25717),h=s(17803),f=s(5469),v=new T({Extends:h,Mixins:[o],initialize:r(function(p,g,m,x,E,A){g===void 0&&(g=0),m===void 0&&(m=0),h.call(this,p,"Polygon",new u(x));var R=l(this.geom);this.setPosition(g,m),this.setSize(R.width,R.height),E!==void 0&&this.setFillStyle(E,A),this.updateDisplayOrigin(),this.updateData()},"Polygon"),smooth:r(function(d){d===void 0&&(d=1);for(var p=0;p<d;p++)f(this.geom);return this.updateData()},"smooth"),setTo:r(function(d){this.geom.setTo(d);var p=l(this.geom);return this.setSize(p.width,p.height),this.updateDisplayOrigin(),this.updateData()},"setTo"),updateData:r(function(){for(var d=[],p=this.geom.points,g=0;g<p.length;g++)d.push(p[g].x,p[g].y);return d.push(p[0].x,p[0].y),this.pathIndexes=c(d),this.pathData=d,this},"updateData")});n.exports=v},38710:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),T=s(75177),c=s(20926),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.currentContext;if(c(u,d,h,f,v)){var p=h._displayOriginX,g=h._displayOriginY,m=h.pathData,x=m.length-1,E=m[0]-p,A=m[1]-g;d.beginPath(),d.moveTo(E,A),h.closePath||(x-=2);for(var R=2;R<x;R+=2){var P=m[R]-p,O=m[R+1]-g;d.lineTo(P,O)}h.closePath&&d.closePath(),h.isFilled&&(o(d,h),d.fill()),h.isStroked&&(T(d,h),d.stroke()),d.restore()}},"PolygonCanvasRenderer");n.exports=l},64827:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(24949);o.register("polygon",function(c,l,u,h,f){return this.displayList.add(new T(this.scene,c,l,u,h,f))})},90273:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(73695),c=s(38710),n.exports={renderWebGL:T,renderCanvas:c}},73695:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),T=s(91296),c=s(34682),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.pipelines.set(h.pipeline),p=T(h,f,v),g=d.calcMatrix.copyFrom(p.calc),m=h._displayOriginX,x=h._displayOriginY,E=f.alpha*h.alpha;u.pipelines.preBatch(h),h.isFilled&&o(d,g,h,E,m,x),h.isStroked&&c(d,h,E,m,x),u.pipelines.postBatch(h)},"PolygonWebGLRenderer");n.exports=l},74561:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(94811),c=s(87841),l=s(17803),u=s(95597),h=new o({Extends:l,Mixins:[u],initialize:r(function(v,d,p,g,m,x,E){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=128),m===void 0&&(m=128),l.call(this,v,"Rectangle",new c(0,0,g,m)),this.radius=20,this.isRounded=!1,this.setPosition(d,p),this.setSize(g,m),x!==void 0&&this.setFillStyle(x,E),this.updateDisplayOrigin(),this.updateData()},"Rectangle"),setRounded:r(function(f){return f===void 0&&(f=16),this.radius=f,this.isRounded=f>0,this.updateRoundedData()},"setRounded"),setSize:r(function(f,v){this.width=f,this.height=v,this.geom.setSize(f,v),this.updateData(),this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=f,d.hitArea.height=v),this},"setSize"),updateData:r(function(){if(this.isRounded)return this.updateRoundedData();var f=[],v=this.geom,d=this._tempLine;return v.getLineA(d),f.push(d.x1,d.y1,d.x2,d.y2),v.getLineB(d),f.push(d.x2,d.y2),v.getLineC(d),f.push(d.x2,d.y2),v.getLineD(d),f.push(d.x2,d.y2),this.pathData=f,this},"updateData"),updateRoundedData:r(function(){var f=[],v=this.width/2,d=this.height/2,p=Math.min(v,d),g=Math.min(this.radius,p),m=v,x=d,E=Math.max(1,Math.floor(g/5));return this.arcTo(f,m-v+g,x-d+g,g,Math.PI,Math.PI*1.5,E),f.push(m+v-g,x-d),this.arcTo(f,m+v-g,x-d+g,g,Math.PI*1.5,Math.PI*2,E),f.push(m+v,x+d-g),this.arcTo(f,m+v-g,x+d-g,g,0,Math.PI*.5,E),f.push(m-v+g,x+d),this.arcTo(f,m-v+g,x+d-g,g,Math.PI*.5,Math.PI,E),f.push(m-v,x-d+g),this.pathIndexes=T(f),this.pathData=f,this},"updateRoundedData"),arcTo:r(function(f,v,d,p,g,m,x){for(var E=(m-g)/x,A=0;A<=x;A++){var R=g+E*A;f.push(v+Math.cos(R)*p,d+Math.sin(R)*p)}},"arcTo")});n.exports=h},48682:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),T=s(75177),c=s(20926),l=r(function(h,f,v,d,p,g){var m=Math.min(d/2,p/2),x=Math.min(g,m);if(x===0){h.rect(f,v,d,p);return}h.moveTo(f+x,v),h.lineTo(f+d-x,v),h.arcTo(f+d,v,f+d,v+x,x),h.lineTo(f+d,v+p-x),h.arcTo(f+d,v+p,f+d-x,v+p,x),h.lineTo(f+x,v+p),h.arcTo(f,v+p,f,v+p-x,x),h.lineTo(f,v+x),h.arcTo(f,v,f+x,v,x),h.closePath()},"DrawRoundedRect"),u=r(function(h,f,v,d){v.addToRenderList(f);var p=h.currentContext;if(c(h,p,f,v,d)){var g=f._displayOriginX,m=f._displayOriginY;f.isFilled&&(o(p,f),f.isRounded?(p.beginPath(),l(p,-g,-m,f.width,f.height,f.radius),p.fill()):p.fillRect(-g,-m,f.width,f.height)),f.isStroked&&(T(p,f),p.beginPath(),f.isRounded?l(p,-g,-m,f.width,f.height,f.radius):p.rect(-g,-m,f.width,f.height),p.stroke()),p.restore()}},"RectangleCanvasRenderer");n.exports=u},87959:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(74561);o.register("rectangle",function(c,l,u,h,f,v){return this.displayList.add(new T(this.scene,c,l,u,h,f,v))})},95597:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(52059),c=s(48682),n.exports={renderWebGL:T,renderCanvas:c}},52059:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),T=s(91296),c=s(34682),l=s(70554),u=r(function(h,f,v,d){v.addToRenderList(f);var p=h.pipelines.set(f.pipeline),g=T(f,v,d);p.calcMatrix.copyFrom(g.calc);var m=f._displayOriginX,x=f._displayOriginY,E=v.alpha*f.alpha;if(h.pipelines.preBatch(f),f.isRounded&&f.isFilled)o(p,g.calc,f,E,m,x);else if(f.isFilled){var A=p.fillTint,R=l.getTintAppendFloatAlpha(f.fillColor,f.fillAlpha*E);A.TL=R,A.TR=R,A.BL=R,A.BR=R,p.batchFillRect(-m,-x,f.width,f.height)}f.isStroked&&c(p,f,E,m,x),h.pipelines.postBatch(f)},"RectangleWebGLRenderer");n.exports=u},55911:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81991),T=s(83419),c=s(94811),l=s(17803),u=new T({Extends:l,Mixins:[o],initialize:r(function(f,v,d,p,g,m,x,E){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=5),g===void 0&&(g=32),m===void 0&&(m=64),l.call(this,f,"Star",null),this._points=p,this._innerRadius=g,this._outerRadius=m,this.setPosition(v,d),this.setSize(m*2,m*2),x!==void 0&&this.setFillStyle(x,E),this.updateDisplayOrigin(),this.updateData()},"Star"),setPoints:r(function(h){return this._points=h,this.updateData()},"setPoints"),setInnerRadius:r(function(h){return this._innerRadius=h,this.updateData()},"setInnerRadius"),setOuterRadius:r(function(h){return this._outerRadius=h,this.updateData()},"setOuterRadius"),points:{get:r(function(){return this._points},"get"),set:r(function(h){this._points=h,this.updateData()},"set")},innerRadius:{get:r(function(){return this._innerRadius},"get"),set:r(function(h){this._innerRadius=h,this.updateData()},"set")},outerRadius:{get:r(function(){return this._outerRadius},"get"),set:r(function(h){this._outerRadius=h,this.updateData()},"set")},updateData:r(function(){var h=[],f=this._points,v=this._innerRadius,d=this._outerRadius,p=Math.PI/2*3,g=Math.PI/f,m=d,x=d;h.push(m,x+-d);for(var E=0;E<f;E++)h.push(m+Math.cos(p)*d,x+Math.sin(p)*d),p+=g,h.push(m+Math.cos(p)*v,x+Math.sin(p)*v),p+=g;return h.push(m,x+-d),this.pathIndexes=c(h),this.pathData=h,this},"updateData")});n.exports=u},64272:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),T=s(75177),c=s(20926),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.currentContext;if(c(u,d,h,f,v)){var p=h._displayOriginX,g=h._displayOriginY,m=h.pathData,x=m.length-1,E=m[0]-p,A=m[1]-g;d.beginPath(),d.moveTo(E,A),h.closePath||(x-=2);for(var R=2;R<x;R+=2){var P=m[R]-p,O=m[R+1]-g;d.lineTo(P,O)}d.closePath(),h.isFilled&&(o(d,h),d.fill()),h.isStroked&&(T(d,h),d.stroke()),d.restore()}},"StarCanvasRenderer");n.exports=l},93697:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(55911),T=s(39429);T.register("star",function(c,l,u,h,f,v,d){return this.displayList.add(new o(this.scene,c,l,u,h,f,v,d))})},81991:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(57017),c=s(64272),n.exports={renderWebGL:T,renderCanvas:c}},57017:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),T=s(91296),c=s(34682),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.pipelines.set(h.pipeline),p=T(h,f,v),g=d.calcMatrix.copyFrom(p.calc),m=h._displayOriginX,x=h._displayOriginY,E=f.alpha*h.alpha;u.pipelines.preBatch(h),h.isFilled&&o(d,g,h,E,m,x),h.isStroked&&c(d,h,E,m,x),u.pipelines.postBatch(h)},"StarWebGLRenderer");n.exports=l},36931:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(17803),c=s(16483),l=s(96195),u=new o({Extends:T,Mixins:[l],initialize:r(function(f,v,d,p,g,m,x,E,A,R,P){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=128),m===void 0&&(m=64),x===void 0&&(x=0),E===void 0&&(E=128),A===void 0&&(A=128),T.call(this,f,"Triangle",new c(p,g,m,x,E,A));var O=this.geom.right-this.geom.left,L=this.geom.bottom-this.geom.top;this.setPosition(v,d),this.setSize(O,L),R!==void 0&&this.setFillStyle(R,P),this.updateDisplayOrigin(),this.updateData()},"Triangle"),setTo:r(function(h,f,v,d,p,g){return this.geom.setTo(h,f,v,d,p,g),this.updateData()},"setTo"),updateData:r(function(){var h=[],f=this.geom,v=this._tempLine;return f.getLineA(v),h.push(v.x1,v.y1,v.x2,v.y2),f.getLineB(v),h.push(v.x2,v.y2),f.getLineC(v),h.push(v.x2,v.y2),this.pathData=h,this},"updateData")});n.exports=u},85172:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),T=s(75177),c=s(20926),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.currentContext;if(c(u,d,h,f,v)){var p=h._displayOriginX,g=h._displayOriginY,m=h.geom.x1-p,x=h.geom.y1-g,E=h.geom.x2-p,A=h.geom.y2-g,R=h.geom.x3-p,P=h.geom.y3-g;d.beginPath(),d.moveTo(m,x),d.lineTo(E,A),d.lineTo(R,P),d.closePath(),h.isFilled&&(o(d,h),d.fill()),h.isStroked&&(T(d,h),d.stroke()),d.restore()}},"TriangleCanvasRenderer");n.exports=l},45245:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(36931);o.register("triangle",function(c,l,u,h,f,v,d,p,g,m){return this.displayList.add(new T(this.scene,c,l,u,h,f,v,d,p,g,m))})},96195:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(83253),c=s(85172),n.exports={renderWebGL:T,renderCanvas:c}},83253:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=s(34682),c=s(70554),l=r(function(u,h,f,v){f.addToRenderList(h);var d=u.pipelines.set(h.pipeline),p=o(h,f,v);d.calcMatrix.copyFrom(p.calc);var g=h._displayOriginX,m=h._displayOriginY,x=f.alpha*h.alpha;if(u.pipelines.preBatch(h),h.isFilled){var E=d.fillTint,A=c.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*x);E.TL=A,E.TR=A,E.BL=A,E.BR=A;var R=h.geom.x1-g,P=h.geom.y1-m,O=h.geom.x2-g,L=h.geom.y2-m,w=h.geom.x3-g,M=h.geom.y3-m;d.batchFillTriangle(R,P,O,L,w,M,p.sprite,p.camera)}h.isStroked&&T(d,h,x,g,m),u.pipelines.postBatch(h)},"TriangleWebGLRenderer");n.exports=l},68287:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),T=s(83419),c=s(31401),l=s(95643),u=s(92751),h=new T({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,u],initialize:r(function(v,d,p,g,m){l.call(this,v,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(g,m),this.setPosition(d,p),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},"Sprite"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),preUpdate:r(function(f,v){this.anims.update(f,v)},"preUpdate"),play:r(function(f,v){return this.anims.play(f,v)},"play"),playReverse:r(function(f,v){return this.anims.playReverse(f,v)},"playReverse"),playAfterDelay:r(function(f,v){return this.anims.playAfterDelay(f,v)},"playAfterDelay"),playAfterRepeat:r(function(f,v){return this.anims.playAfterRepeat(f,v)},"playAfterRepeat"),chain:r(function(f){return this.anims.chain(f)},"chain"),stop:r(function(){return this.anims.stop()},"stop"),stopAfterDelay:r(function(f){return this.anims.stopAfterDelay(f)},"stopAfterDelay"),stopAfterRepeat:r(function(f){return this.anims.stopAfterRepeat(f)},"stopAfterRepeat"),stopOnFrame:r(function(f){return this.anims.stopOnFrame(f)},"stopOnFrame"),toJSON:r(function(){return c.ToJSON(this)},"toJSON"),preDestroy:r(function(){this.anims.destroy(),this.anims=void 0},"preDestroy")});n.exports=h},76552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){T.addToRenderList(o),s.batchSprite(o,o.frame,T,c)},"SpriteCanvasRenderer");n.exports=C},15567:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(13059),c=s(44603),l=s(23568),u=s(68287);c.register("sprite",function(h,f){h===void 0&&(h={});var v=l(h,"key",null),d=l(h,"frame",null),p=new u(this.scene,0,0,v,d);return f!==void 0&&(h.add=f),o(this.scene,p,h),T(p,h),p})},46409:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(68287);o.register("sprite",function(c,l,u,h){return this.displayList.add(new T(this.scene,c,l,u,h))})},92751:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(9409),c=s(76552),n.exports={renderWebGL:T,renderCanvas:c}},9409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){T.addToRenderList(o),o.pipeline.batchSprite(o,T,c)},"SpriteWebGLRenderer");n.exports=C},14220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=s.canvas,l=s.context,u=s.style,h=[],f=0,v=T.length;u.maxLines>0&&u.maxLines<T.length&&(v=u.maxLines),u.syncFont(c,l);for(var d=s.letterSpacing,p=0;p<v;p++){var g=u.strokeThickness;if(d===0)g+=l.measureText(T[p]).width;else{for(var m=T[p],x=0;x<m.length;x++)g+=l.measureText(m[x]).width;m.length>1&&(g+=d*(m.length-1))}u.wordWrap&&(g-=l.measureText(" ").width),h[p]=Math.ceil(g),f=Math.max(f,h[p])}var E=o.fontSize+u.strokeThickness,A=E*v,R=s.lineSpacing;return v>1&&(A+=R*(v-1)),{width:f,height:A,lines:v,lineWidths:h,lineSpacing:R,lineHeight:E}},"GetTextSize");n.exports=C},79557:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),T=r(function(c){var l=o.create(this),u=l.getContext("2d",{willReadFrequently:!0});c.syncFont(l,u);var h=u.measureText(c.testString);if("actualBoundingBoxAscent"in h){var f=h.actualBoundingBoxAscent,v=h.actualBoundingBoxDescent;return o.remove(l),{ascent:f,descent:v,fontSize:f+v}}var d=Math.ceil(h.width*c.baselineX),p=d,g=2*p;p=p*c.baselineY|0,l.width=d,l.height=g,u.fillStyle="#f00",u.fillRect(0,0,d,g),u.font=c._font,u.textBaseline="alphabetic",u.fillStyle="#000",u.fillText(c.testString,0,p);var m={ascent:0,descent:0,fontSize:0},x=u.getImageData(0,0,d,g);if(!x)return m.ascent=p,m.descent=p+6,m.fontSize=m.ascent+m.descent,o.remove(l),m;var E=x.data,A=E.length,R=d*4,P,O,L=0,w=!1;for(P=0;P<p;P++){for(O=0;O<R;O+=4)if(E[L+O]!==255){w=!0;break}if(!w)L+=R;else break}for(m.ascent=p-P,L=A-R,w=!1,P=g;P>p;P--){for(O=0;O<R;O+=4)if(E[L+O]!==255){w=!0;break}if(!w)L-=R;else break}return m.descent=P-p,m.fontSize=m.ascent+m.descent,o.remove(l),m},"MeasureText");n.exports=T},50171:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40366),T=s(27919),c=s(83419),l=s(31401),u=s(95643),h=s(14220),f=s(35154),v=s(35846),d=s(61771),p=s(35762),g=s(45650),m=new c({Extends:u,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,d],initialize:r(function(E,A,R,P,O){A===void 0&&(A=0),R===void 0&&(R=0),u.call(this,E,"Text"),this.renderer=E.sys.renderer,this.setPosition(A,R),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=T.create(this),this.context,this.style=new p(this,O),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=g(),this.texture=E.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(P),O&&O.padding&&this.setPadding(O.padding),O&&O.lineSpacing&&this.setLineSpacing(O.lineSpacing),O&&O.letterSpacing&&this.setLetterSpacing(O.letterSpacing)},"Text"),initRTL:r(function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1},"initRTL"),runWordWrap:r(function(x){var E=this.style;if(E.wordWrapCallback){var A=E.wordWrapCallback.call(E.wordWrapCallbackScope,x,this);return Array.isArray(A)&&(A=A.join(`
`)),A}else return E.wordWrapWidth?E.wordWrapUseAdvanced?this.advancedWordWrap(x,this.context,this.style.wordWrapWidth):this.basicWordWrap(x,this.context,this.style.wordWrapWidth):x},"runWordWrap"),advancedWordWrap:r(function(x,E,A){for(var R="",P=x.replace(/ +/gi," ").split(this.splitRegExp),O=P.length,L=0;L<O;L++){var w=P[L],M="";w=w.replace(/^ *|\s*$/gi,"");var b=w.length*this.letterSpacing,D=E.measureText(w).width+b;if(D<A){R+=w+`
`;continue}for(var F=A,N=w.split(" "),B=0;B<N.length;B++){var Y=N[B],W=Y+" ",z=W.length*this.letterSpacing,X=E.measureText(W).width+z;if(X>F){if(B===0){for(var H=W;H.length;){H=H.slice(0,-1);var V=H.length*this.letterSpacing;if(X=E.measureText(H).width+V,X<=F)break}if(!H.length)throw new Error("wordWrapWidth < a single character");var G=Y.substr(H.length);N[B]=G,M+=H}var k=N[B].length?B:B+1,U=N.slice(k).join(" ").replace(/[ \n]*$/gi,"");P.splice(L+1,0,U),O=P.length;break}else M+=W,F-=X}R+=M.replace(/[ \n]*$/gi,"")+`
`}return R=R.replace(/[\s|\n]*$/gi,""),R},"advancedWordWrap"),basicWordWrap:r(function(x,E,A){for(var R="",P=x.split(this.splitRegExp),O=P.length-1,L=E.measureText(" ").width,w=0;w<=O;w++){for(var M=A,b=P[w].split(" "),D=b.length-1,F=0;F<=D;F++){var N=b[F],B=N.length*this.letterSpacing,Y=E.measureText(N).width+B,W=Y;F<D&&(W+=L),W>M&&F>0&&(R+=`
`,M=A),R+=N,F<D?(R+=" ",M-=W):M-=Y}w<O&&(R+=`
`)}return R},"basicWordWrap"),getWrappedText:r(function(x){x===void 0&&(x=this._text),this.style.syncFont(this.canvas,this.context);var E=this.runWordWrap(x);return E.split(this.splitRegExp)},"getWrappedText"),setText:r(function(x){return!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x!==this._text&&(this._text=x.toString(),this.updateText()),this},"setText"),appendText:r(function(x,E){E===void 0&&(E=!0),!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x=x.toString();var A=this._text.concat(E?`
`+x:x);return A!==this._text&&(this._text=A,this.updateText()),this},"appendText"),setStyle:r(function(x){return this.style.setStyle(x)},"setStyle"),setFont:r(function(x){return this.style.setFont(x)},"setFont"),setFontFamily:r(function(x){return this.style.setFontFamily(x)},"setFontFamily"),setFontSize:r(function(x){return this.style.setFontSize(x)},"setFontSize"),setFontStyle:r(function(x){return this.style.setFontStyle(x)},"setFontStyle"),setFixedSize:r(function(x,E){return this.style.setFixedSize(x,E)},"setFixedSize"),setBackgroundColor:r(function(x){return this.style.setBackgroundColor(x)},"setBackgroundColor"),setFill:r(function(x){return this.style.setFill(x)},"setFill"),setColor:r(function(x){return this.style.setColor(x)},"setColor"),setStroke:r(function(x,E){return this.style.setStroke(x,E)},"setStroke"),setShadow:r(function(x,E,A,R,P,O){return this.style.setShadow(x,E,A,R,P,O)},"setShadow"),setShadowOffset:r(function(x,E){return this.style.setShadowOffset(x,E)},"setShadowOffset"),setShadowColor:r(function(x){return this.style.setShadowColor(x)},"setShadowColor"),setShadowBlur:r(function(x){return this.style.setShadowBlur(x)},"setShadowBlur"),setShadowStroke:r(function(x){return this.style.setShadowStroke(x)},"setShadowStroke"),setShadowFill:r(function(x){return this.style.setShadowFill(x)},"setShadowFill"),setWordWrapWidth:r(function(x,E){return this.style.setWordWrapWidth(x,E)},"setWordWrapWidth"),setWordWrapCallback:r(function(x,E){return this.style.setWordWrapCallback(x,E)},"setWordWrapCallback"),setAlign:r(function(x){return this.style.setAlign(x)},"setAlign"),setResolution:r(function(x){return this.style.setResolution(x)},"setResolution"),setLineSpacing:r(function(x){return this.lineSpacing=x,this.updateText()},"setLineSpacing"),setLetterSpacing:r(function(x){return this.letterSpacing=x,this.updateText()},"setLetterSpacing"),setPadding:r(function(x,E,A,R){if(typeof x=="object"){var P=x,O=f(P,"x",null);O!==null?(x=O,A=O):(x=f(P,"left",0),A=f(P,"right",x));var L=f(P,"y",null);L!==null?(E=L,R=L):(E=f(P,"top",0),R=f(P,"bottom",E))}else x===void 0&&(x=0),E===void 0&&(E=x),A===void 0&&(A=x),R===void 0&&(R=E);return this.padding.left=x,this.padding.top=E,this.padding.right=A,this.padding.bottom=R,this.updateText()},"setPadding"),setMaxLines:r(function(x){return this.style.setMaxLines(x)},"setMaxLines"),setRTL:r(function(x){x===void 0&&(x=!0);var E=this.style;return E.rtl===x?this:(E.rtl=x,x?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),E.align==="left"?E.align="right":E.align==="right"&&(E.align="left"),this)},"setRTL"),updateText:r(function(){var x=this.canvas,E=this.context,A=this.style,R=A.resolution,P=A.metrics;A.syncFont(x,E);var O=this._text;(A.wordWrapWidth||A.wordWrapCallback)&&(O=this.runWordWrap(this._text));var L=O.split(this.splitRegExp),w=h(this,P,L),M=this.padding,b;A.fixedWidth===0?(this.width=w.width+M.left+M.right,b=w.width):(this.width=A.fixedWidth,b=this.width-M.left-M.right,b<w.width&&(b=w.width)),A.fixedHeight===0?this.height=w.height+M.top+M.bottom:this.height=A.fixedHeight;var D=this.width,F=this.height;this.updateDisplayOrigin(),D*=R,F*=R,D=Math.max(D,1),F=Math.max(F,1),x.width!==D||x.height!==F?(x.width=D,x.height=F,this.frame.setSize(D,F),A.syncFont(x,E),A.rtl&&(E.direction="rtl")):E.clearRect(0,0,D,F),E.save(),E.scale(R,R),A.backgroundColor&&(E.fillStyle=A.backgroundColor,E.fillRect(0,0,D,F)),A.syncStyle(x,E),E.translate(M.left,M.top);for(var N,B,Y=0;Y<w.lines;Y++){if(N=A.strokeThickness/2,B=A.strokeThickness/2+Y*w.lineHeight+P.ascent,Y>0&&(B+=w.lineSpacing*Y),A.rtl)N=D-N-M.left-M.right;else if(A.align==="right")N+=b-w.lineWidths[Y];else if(A.align==="center")N+=(b-w.lineWidths[Y])/2;else if(A.align==="justify"){var W=.85;if(w.lineWidths[Y]/w.width>=W){var z=w.width-w.lineWidths[Y],X=E.measureText(" ").width,H=L[Y].trim(),V=H.split(" ");z+=(L[Y].length-H.length)*X;for(var G=Math.floor(z/X),k=0;G>0;)V[k]+=" ",k=(k+1)%(V.length-1||1),--G;L[Y]=V.join(" ")}}this.autoRound&&(N=Math.round(N),B=Math.round(B));var U=this.letterSpacing;if(A.strokeThickness&&U===0&&(A.syncShadow(E,A.shadowStroke),E.strokeText(L[Y],N,B)),A.color)if(A.syncShadow(E,A.shadowFill),U!==0)for(var I=0,$=L[Y].split(""),K=0;K<$.length;K++)A.strokeThickness&&(A.syncShadow(E,A.shadowStroke),E.strokeText($[K],N+I,B),A.syncShadow(E,A.shadowFill)),E.fillText($[K],N+I,B),I+=E.measureText($[K]).width+U;else E.fillText(L[Y],N,B)}E.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(x,this.frame.source.glTexture,!0));var Z=this.input;return Z&&!Z.customHitArea&&(Z.hitArea.width=this.width,Z.hitArea.height=this.height),this},"updateText"),getTextMetrics:r(function(){return this.style.getTextMetrics()},"getTextMetrics"),text:{get:r(function(){return this._text},"get"),set:r(function(x){this.setText(x)},"set")},toJSON:r(function(){var x=l.ToJSON(this),E={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return x.data=E,x},"toJSON"),preDestroy:r(function(){v(this.canvas),T.remove(this.canvas);var x=this.texture;x&&x.destroy()},"preDestroy")});n.exports=m},79724:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){o.width===0||o.height===0||(T.addToRenderList(o),s.batchSprite(o,o.frame,T,c))},"TextCanvasRenderer");n.exports=C},71259:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(44603),c=s(23568),l=s(50171);T.register("text",function(u,h){u===void 0&&(u={});var f=c(u,"text",""),v=c(u,"style",null),d=c(u,"padding",null);d!==null&&(v.padding=d);var p=new l(this.scene,0,0,f,v);return h!==void 0&&(u.add=h),o(this.scene,p,u),p.autoRound=c(u,"autoRound",!0),p.resolution=c(u,"resolution",1),p})},68005:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(50171),T=s(39429);T.register("text",function(c,l,u,h){return this.displayList.add(new o(this.scene,c,l,u,h))})},61771:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(34397),c=s(79724),n.exports={renderWebGL:T,renderCanvas:c}},35762:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23568),c=s(35154),l=s(79557),u={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},h=new o({initialize:r(function(v,d){this.parent=v,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(d,!1,!0)},"TextStyle"),setStyle:r(function(f,v,d){v===void 0&&(v=!0),d===void 0&&(d=!1);for(var p in u){var g=d?u[p][1]:this[p];p==="wordWrapCallback"||p==="wordWrapCallbackScope"?this[p]=c(f,u[p][0],g):f&&p==="fontSize"&&typeof f.fontSize=="number"?this[p]=f.fontSize.toString()+"px":this[p]=T(f,u[p][0],g)}var m=c(f,"font",null);m!==null&&this.setFont(m,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var x=c(f,"fill",null);x!==null&&(this.color=x);var E=c(f,"metrics",!1);return E?this.metrics={ascent:c(E,"ascent",0),descent:c(E,"descent",0),fontSize:c(E,"fontSize",0)}:(v||!this.metrics)&&(this.metrics=l(this)),v?this.parent.updateText():this.parent},"setStyle"),syncFont:r(function(f,v){v.font=this._font},"syncFont"),syncStyle:r(function(f,v){v.textBaseline="alphabetic",v.fillStyle=this.color,v.strokeStyle=this.stroke,v.lineWidth=this.strokeThickness,v.lineCap="round",v.lineJoin="round"},"syncStyle"),syncShadow:r(function(f,v){v?(f.shadowOffsetX=this.shadowOffsetX,f.shadowOffsetY=this.shadowOffsetY,f.shadowColor=this.shadowColor,f.shadowBlur=this.shadowBlur):(f.shadowOffsetX=0,f.shadowOffsetY=0,f.shadowColor=0,f.shadowBlur=0)},"syncShadow"),update:r(function(f){return f&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=l(this)),this.parent.updateText()},"update"),setFont:r(function(f,v){v===void 0&&(v=!0);var d=f,p="",g="";if(typeof f!="string")d=c(f,"fontFamily","Courier"),p=c(f,"fontSize","16px"),g=c(f,"fontStyle","");else{var m=f.split(" "),x=0;g=m.length>2?m[x++]:"",p=m[x++]||"16px",d=m[x++]||"Courier"}return(d!==this.fontFamily||p!==this.fontSize||g!==this.fontStyle)&&(this.fontFamily=d,this.fontSize=p,this.fontStyle=g,v&&this.update(!0)),this.parent},"setFont"),setFontFamily:r(function(f){return this.fontFamily!==f&&(this.fontFamily=f,this.update(!0)),this.parent},"setFontFamily"),setFontStyle:r(function(f){return this.fontStyle!==f&&(this.fontStyle=f,this.update(!0)),this.parent},"setFontStyle"),setFontSize:r(function(f){return typeof f=="number"&&(f=f.toString()+"px"),this.fontSize!==f&&(this.fontSize=f,this.update(!0)),this.parent},"setFontSize"),setTestString:r(function(f){return this.testString=f,this.update(!0)},"setTestString"),setFixedSize:r(function(f,v){return this.fixedWidth=f,this.fixedHeight=v,f&&(this.parent.width=f),v&&(this.parent.height=v),this.update(!1)},"setFixedSize"),setBackgroundColor:r(function(f){return this.backgroundColor=f,this.update(!1)},"setBackgroundColor"),setFill:r(function(f){return this.color=f,this.update(!1)},"setFill"),setColor:r(function(f){return this.color=f,this.update(!1)},"setColor"),setResolution:r(function(f){return this.resolution=f,this.update(!1)},"setResolution"),setStroke:r(function(f,v){return v===void 0&&(v=this.strokeThickness),f===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==f||this.strokeThickness!==v)&&(this.stroke=f,this.strokeThickness=v,this.update(!0)),this.parent},"setStroke"),setShadow:r(function(f,v,d,p,g,m){return f===void 0&&(f=0),v===void 0&&(v=0),d===void 0&&(d="#000"),p===void 0&&(p=0),g===void 0&&(g=!1),m===void 0&&(m=!0),this.shadowOffsetX=f,this.shadowOffsetY=v,this.shadowColor=d,this.shadowBlur=p,this.shadowStroke=g,this.shadowFill=m,this.update(!1)},"setShadow"),setShadowOffset:r(function(f,v){return f===void 0&&(f=0),v===void 0&&(v=f),this.shadowOffsetX=f,this.shadowOffsetY=v,this.update(!1)},"setShadowOffset"),setShadowColor:r(function(f){return f===void 0&&(f="#000"),this.shadowColor=f,this.update(!1)},"setShadowColor"),setShadowBlur:r(function(f){return f===void 0&&(f=0),this.shadowBlur=f,this.update(!1)},"setShadowBlur"),setShadowStroke:r(function(f){return this.shadowStroke=f,this.update(!1)},"setShadowStroke"),setShadowFill:r(function(f){return this.shadowFill=f,this.update(!1)},"setShadowFill"),setWordWrapWidth:r(function(f,v){return v===void 0&&(v=!1),this.wordWrapWidth=f,this.wordWrapUseAdvanced=v,this.update(!1)},"setWordWrapWidth"),setWordWrapCallback:r(function(f,v){return v===void 0&&(v=null),this.wordWrapCallback=f,this.wordWrapCallbackScope=v,this.update(!1)},"setWordWrapCallback"),setAlign:r(function(f){return f===void 0&&(f="left"),this.align=f,this.update(!1)},"setAlign"),setMaxLines:r(function(f){return f===void 0&&(f=0),this.maxLines=f,this.update(!1)},"setMaxLines"),getTextMetrics:r(function(){var f=this.metrics;return{ascent:f.ascent,descent:f.descent,fontSize:f.fontSize}},"getTextMetrics"),toJSON:r(function(){var f={};for(var v in u)f[v]=this[v];return f.metrics=this.getTextMetrics(),f},"toJSON"),destroy:r(function(){this.parent=void 0},"destroy")});n.exports=h},34397:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),T=r(function(c,l,u,h){if(!(l.width===0||l.height===0)){u.addToRenderList(l);var f=l.frame,v=f.width,d=f.height,p=o.getTintAppendFloatAlpha,g=c.pipelines.set(l.pipeline,l),m=g.setTexture2D(f.glTexture,l);g.batchTexture(l,f.glTexture,v,d,l.x,l.y,v/l.style.resolution,d/l.style.resolution,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.displayOriginX,l.displayOriginY,0,0,v,d,p(l.tintTopLeft,u.alpha*l._alphaTL),p(l.tintTopRight,u.alpha*l._alphaTR),p(l.tintBottomLeft,u.alpha*l._alphaBL),p(l.tintBottomRight,u.alpha*l._alphaBR),l.tintFill,0,0,u,h,!1,m)}},"TextWebGLRenderer");n.exports=T},20839:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),T=s(83419),c=s(31401),l=s(95643),u=s(98439),h=s(68703),f=s(56295),v=s(45650),d=s(26099),p=8,g=new T({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Crop,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Tint,c.Transform,c.Visible,f],initialize:r(function(x,E,A,R,P,O,L){var w=x.sys.renderer;l.call(this,x,"TileSprite");var M=x.sys.textures.get(O),b=M.get(L);b.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),M=x.sys.textures.get("__MISSING"),b=M.get()),M.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),M=x.sys.textures.get("__MISSING"),b=M.get()),!R||!P?(R=R||b.width,P=P||b.height):(R=Math.floor(R),P=Math.floor(P)),this._tilePosition=new d,this._tileScale=new d(1,1),this.dirty=!1,this.renderer=w,this.canvas=o.create(this,R,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=M,this.displayFrame=b,this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=x.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=u(b.width),this.potHeight=u(b.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(E,A),this.setSize(R,P),this.setFrame(L),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},"TileSprite"),setTexture:r(function(m,x){return this.displayTexture=this.scene.sys.textures.get(m),this.setFrame(x)},"setTexture"),setFrame:r(function(m){var x=this.displayTexture.get(m);return this.potWidth=u(x.width),this.potHeight=u(x.height),this.canvas.width=0,!x.cutWidth||!x.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this.displayFrame=x,this.dirty=!0,this.updateTileTexture(),this},"setFrame"),setTilePosition:r(function(m,x){return m!==void 0&&(this.tilePositionX=m),x!==void 0&&(this.tilePositionY=x),this},"setTilePosition"),setTileScale:r(function(m,x){return m===void 0&&(m=this.tileScaleX),x===void 0&&(x=m),this.tileScaleX=m,this.tileScaleY=x,this},"setTileScale"),updateTileTexture:r(function(){if(!(!this.dirty||!this.renderer)){var m=this.displayFrame;if(m.source.isRenderTexture||m.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var x=this.fillContext,E=this.fillCanvas,A=this.potWidth,R=this.potHeight;(!this.renderer||!this.renderer.gl)&&(A=m.cutWidth,R=m.cutHeight),x.clearRect(0,0,A,R),E.width=A,E.height=R,x.drawImage(m.source.image,m.cutX,m.cutY,m.cutWidth,m.cutHeight,0,0,A,R),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(E,this.fillPattern):this.fillPattern=x.createPattern(E,"repeat"),this.updateCanvas(),this.dirty=!1}},"updateTileTexture"),updateCanvas:r(function(){var m=this.canvas;if((m.width!==this.width||m.height!==this.height)&&(m.width=this.width,m.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var x=this.context;this.scene.sys.game.config.antialias||h.disable(x);var E=this._tileScale.x,A=this._tileScale.y,R=this._tilePosition.x,P=this._tilePosition.y;x.clearRect(0,0,this.width,this.height),x.save(),x.scale(E,A),x.translate(-R,-P),x.fillStyle=this.fillPattern,x.fillRect(R,P,this.width/E,this.height/A),x.restore(),this.dirty=!1},"updateCanvas"),preDestroy:r(function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var m=this.texture;m&&m.destroy(),this.renderer=null},"preDestroy"),tilePositionX:{get:r(function(){return this._tilePosition.x},"get"),set:r(function(m){this._tilePosition.x=m,this.dirty=!0},"set")},tilePositionY:{get:r(function(){return this._tilePosition.y},"get"),set:r(function(m){this._tilePosition.y=m,this.dirty=!0},"set")},tileScaleX:{get:r(function(){return this._tileScale.x},"get"),set:r(function(m){this._tileScale.x=m,this.dirty=!0},"set")},tileScaleY:{get:r(function(){return this._tileScale.y},"get"),set:r(function(m){this._tileScale.y=m,this.dirty=!0},"set")}});n.exports=g},46992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){o.updateCanvas(),T.addToRenderList(o),s.batchSprite(o,o.frame,T,c)},"TileSpriteCanvasRenderer");n.exports=C},14167:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(44603),c=s(23568),l=s(20839);T.register("tileSprite",function(u,h){u===void 0&&(u={});var f=c(u,"x",0),v=c(u,"y",0),d=c(u,"width",512),p=c(u,"height",512),g=c(u,"key",""),m=c(u,"frame",""),x=new l(this.scene,f,v,d,p,g,m);return h!==void 0&&(u.add=h),o(this.scene,x,u),x})},91681:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20839),T=s(39429);T.register("tileSprite",function(c,l,u,h,f,v){return this.displayList.add(new o(this.scene,c,l,u,h,f,v))})},56295:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(18553),c=s(46992),n.exports={renderWebGL:T,renderCanvas:c}},18553:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),T=r(function(c,l,u,h){l.updateCanvas();var f=l.width,v=l.height;if(!(f===0||v===0)){u.addToRenderList(l);var d=o.getTintAppendFloatAlpha,p=c.pipelines.set(l.pipeline,l),g=p.setTexture2D(l.fillPattern,l);p.batchTexture(l,l.fillPattern,l.displayFrame.width*l.tileScaleX,l.displayFrame.height*l.tileScaleY,l.x,l.y,f,v,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.originX*f,l.originY*v,0,0,f,v,d(l.tintTopLeft,u.alpha*l._alphaTL),d(l.tintTopRight,u.alpha*l._alphaTR),d(l.tintBottomLeft,u.alpha*l._alphaBL),d(l.tintBottomRight,u.alpha*l._alphaBR),l.tintFill,l.tilePositionX%l.displayFrame.width/l.displayFrame.width,l.tilePositionY%l.displayFrame.height/l.displayFrame.height,u,h,!1,g)}},"TileSpriteWebGLRenderer");n.exports=T},18471:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=s(83419),c=s(31401),l=s(51708),u=s(8443),h=s(95643),f=s(36383),v=s(14463),d=s(45650),p=s(10247),g=new T({Extends:h,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.TextureCrop,c.Tint,c.Transform,c.Visible,p],initialize:r(function(x,E,A,R){h.call(this,x,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=d(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var P=x.sys.game;this._device=P.device.video,this.setPosition(E,A),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),P.events.on(u.PAUSE,this.globalPause,this),P.events.on(u.RESUME,this.globalResume,this);var O=x.sys.sound;O&&O.on(v.GLOBAL_MUTE,this.globalMute,this),R&&this.load(R)},"Video"),addedToScene:r(function(){this.scene.sys.updateList.add(this)},"addedToScene"),removedFromScene:r(function(){this.scene.sys.updateList.remove(this)},"removedFromScene"),load:r(function(m){var x=this.scene.sys.cache.video.get(m);return x?(this.cacheKey=m,this.loadHandler(x.url,x.noAudio,x.crossOrigin)):console.warn("No video in cache for key: "+m),this},"load"),changeSource:r(function(m,x,E,A,R){x===void 0&&(x=!0),E===void 0&&(E=!1),this.cacheKey!==m&&(this.load(m),x&&this.play(E,A,R))},"changeSource"),getVideoKey:r(function(){return this.cacheKey},"getVideoKey"),loadURL:r(function(m,x,E){x===void 0&&(x=!1);var A=this._device.getVideoURL(m);return A?(this.cacheKey="",this.loadHandler(A.url,x,E)):console.warn("No supported video format found for "+m),this},"loadURL"),loadMediaStream:r(function(m,x,E){return this.loadHandler(null,x,E,m)},"loadMediaStream"),loadHandler:r(function(m,x,E,A){x||(x=!1);var R=this.video;if(R?(this.removeLoadEventHandlers(),this.stop()):(R=document.createElement("video"),R.controls=!1,R.setAttribute("playsinline","playsinline"),R.setAttribute("preload","auto"),R.setAttribute("disablePictureInPicture","true")),x?(R.muted=!0,R.defaultMuted=!0,R.setAttribute("autoplay","autoplay")):(R.muted=!1,R.defaultMuted=!1,R.removeAttribute("autoplay")),E?R.setAttribute("crossorigin",E):R.removeAttribute("crossorigin"),A)if("srcObject"in R)try{R.srcObject=A}catch(O){if(O.name!=="TypeError")throw O;R.src=URL.createObjectURL(A)}else R.src=URL.createObjectURL(A);else R.src=m;this.retry=0,this.video=R,this._playCalled=!1,R.load(),this.addLoadEventHandlers();var P=this.scene.sys.textures.get(this._key);return this.setTexture(P),this},"loadHandler"),requestVideoFrame:r(function(m,x){var E=this.video;if(E){var A=x.width,R=x.height,P=this.videoTexture,O=this.videoTextureSource,L=!P||O.source!==E;L?(this._codePaused=E.paused,this._codeMuted=E.muted,P?(O.source=E,O.width=A,O.height=R,P.get().setSize(A,R)):(P=this.scene.sys.textures.create(this._key,E,A,R),P.add("__BASE",0,0,0,A,R),this.setTexture(P),this.videoTexture=P,this.videoTextureSource=P.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(l.VIDEO_TEXTURE,this,P)),this.setSizeToFrame(),this.updateDisplayOrigin()):O.update(),this.isStalled=!1,this.metadata=x;var w=x.mediaTime;L&&(this._lastUpdate=w,this.emit(l.VIDEO_CREATED,this,A,R),this.frameReady||(this.frameReady=!0,this.emit(l.VIDEO_PLAY,this))),this._playingMarker?w>=this._markerOut&&(E.loop?(E.currentTime=this._markerIn,this.emit(l.VIDEO_LOOP,this)):(this.stop(!1),this.emit(l.VIDEO_COMPLETE,this))):w<this._lastUpdate&&this.emit(l.VIDEO_LOOP,this),this._lastUpdate=w,this._getFrame?(this.removeEventHandlers(),E.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},"requestVideoFrame"),play:r(function(m,x,E){x===void 0&&(x=-1),E===void 0&&(E=f.MAX_SAFE_INTEGER);var A=this.video;return!A||this.isPlaying()?(A||console.warn("Video not loaded"),this):(m===void 0&&(m=A.loop),A.loop=m,this._markerIn=x,this._markerOut=E,this._playingMarker=x>-1&&E>x&&E<f.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=A.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},"play"),getFirstFrame:r(function(){var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},"getFirstFrame"),addLoadEventHandlers:r(function(){var m=this.video;m&&(m.addEventListener("error",this._loadCallbackHandler),m.addEventListener("abort",this._loadCallbackHandler),m.addEventListener("loadedmetadata",this._metadataCallbackHandler))},"addLoadEventHandlers"),removeLoadEventHandlers:r(function(){var m=this.video;m&&(m.removeEventListener("error",this._loadCallbackHandler),m.removeEventListener("abort",this._loadCallbackHandler))},"removeLoadEventHandlers"),addEventHandlers:r(function(){var m=this.video;if(m){var x=this._callbacks;for(var E in x)m.addEventListener(E,x[E])}},"addEventHandlers"),removeEventHandlers:r(function(){var m=this.video;if(m){var x=this._callbacks;for(var E in x)m.removeEventListener(E,x[E])}},"removeEventHandlers"),createPlayPromise:r(function(m){m===void 0&&(m=!0);var x=this.video,E=x.play();if(E!==void 0){var A=this.playSuccess.bind(this),R=this.playError.bind(this);if(!m){var P=this;R=r(function(){P.failedPlayAttempts++},"error")}E.then(A).catch(R)}else x.addEventListener("playing",this._callbacks.legacy),m||this.failedPlayAttempts++},"createPlayPromise"),addMarker:r(function(m,x,E){return!isNaN(x)&&x>=0&&!isNaN(E)&&E>x&&(this.markers[m]=[x,E]),this},"addMarker"),playMarker:r(function(m,x){var E=this.markers[m];return E&&this.play(x,E[0],E[1]),this},"playMarker"),removeMarker:r(function(m){return delete this.markers[m],this},"removeMarker"),snapshot:r(function(m,x){return m===void 0&&(m=this.width),x===void 0&&(x=this.height),this.snapshotArea(0,0,this.width,this.height,m,x)},"snapshot"),snapshotArea:r(function(m,x,E,A,R,P){m===void 0&&(m=0),x===void 0&&(x=0),E===void 0&&(E=this.width),A===void 0&&(A=this.height),R===void 0&&(R=E),P===void 0&&(P=A);var O=this.video,L=this.snapshotTexture;return L?(L.setSize(R,P),O&&L.context.drawImage(O,m,x,E,A,0,0,R,P)):(L=this.scene.sys.textures.createCanvas(d(),R,P),this.snapshotTexture=L,O&&L.context.drawImage(O,m,x,E,A,0,0,R,P)),L.update()},"snapshotArea"),saveSnapshotTexture:r(function(m){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,m):this.snapshotTexture=this.scene.sys.textures.createCanvas(m,this.width,this.height),this.snapshotTexture},"saveSnapshotTexture"),playSuccess:r(function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(l.VIDEO_UNLOCKED,this));var m=this.scene.sys.sound;m&&m.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},"playSuccess"),playError:r(function(m){var x=m.name;x==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(l.VIDEO_LOCKED,this)):x==="NotSupportedError"?(this.stop(!1),this.emit(l.VIDEO_UNSUPPORTED,this,m)):(this.stop(!1),this.emit(l.VIDEO_ERROR,this,m))},"playError"),legacyPlayHandler:r(function(){var m=this.video;m&&(this.playSuccess(),m.removeEventListener("playing",this._callbacks.legacy))},"legacyPlayHandler"),playingHandler:r(function(){this.isStalled=!1,this.emit(l.VIDEO_PLAYING,this)},"playingHandler"),loadErrorHandler:r(function(m){this.stop(!1),this.emit(l.VIDEO_ERROR,this,m)},"loadErrorHandler"),metadataHandler:r(function(m){this.emit(l.VIDEO_METADATA,this,m)},"metadataHandler"),setSizeToFrame:r(function(m){m||(m=this.frame),this.width=m.realWidth,this.height=m.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var x=this.input;return x&&!x.customHitArea&&(x.hitArea.width=this.width,x.hitArea.height=this.height),this},"setSizeToFrame"),stalledHandler:r(function(m){this.isStalled=!0,this.emit(l.VIDEO_STALLED,this,m)},"stalledHandler"),completeHandler:r(function(){this._playCalled=!1,this.emit(l.VIDEO_COMPLETE,this)},"completeHandler"),preUpdate:r(function(m,x){var E=this.video;!E||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=x,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},"preUpdate"),seekTo:r(function(m){var x=this.video;if(x){var E=x.duration;if(E!==1/0&&!isNaN(E)){var A=E*m;this.setCurrentTime(A)}}return this},"seekTo"),getCurrentTime:r(function(){return this.video?this.video.currentTime:0},"getCurrentTime"),setCurrentTime:r(function(m){var x=this.video;if(x){if(typeof m=="string"){var E=m[0],A=parseFloat(m.substr(1));E==="+"?m=x.currentTime+A:E==="-"&&(m=x.currentTime-A)}x.currentTime=m}return this},"setCurrentTime"),seekingHandler:r(function(){this.isSeeking=!0,this.emit(l.VIDEO_SEEKING,this)},"seekingHandler"),seekedHandler:r(function(){this.isSeeking=!1,this.emit(l.VIDEO_SEEKED,this)},"seekedHandler"),getProgress:r(function(){var m=this.video;if(m){var x=m.duration;if(x!==1/0&&!isNaN(x))return m.currentTime/x}return-1},"getProgress"),getDuration:r(function(){return this.video?this.video.duration:0},"getDuration"),setMute:r(function(m){m===void 0&&(m=!0),this._codeMuted=m;var x=this.video;return x&&(x.muted=this._systemMuted?!0:m),this},"setMute"),isMuted:r(function(){return this._codeMuted},"isMuted"),globalMute:r(function(m,x){this._systemMuted=x;var E=this.video;E&&(E.muted=this._codeMuted?!0:x)},"globalMute"),globalPause:r(function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},"globalPause"),globalResume:r(function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},"globalResume"),setPaused:r(function(m){m===void 0&&(m=!0);var x=this.video;return this._codePaused=m,x&&!x.ended&&(m?x.paused||(this.removeEventHandlers(),x.pause()):m||(this._playCalled?x.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},"setPaused"),pause:r(function(){return this.setPaused(!0)},"pause"),resume:r(function(){return this.setPaused(!1)},"resume"),getVolume:r(function(){return this.video?this.video.volume:1},"getVolume"),setVolume:r(function(m){return m===void 0&&(m=1),this.video&&(this.video.volume=o(m,0,1)),this},"setVolume"),getPlaybackRate:r(function(){return this.video?this.video.playbackRate:1},"getPlaybackRate"),setPlaybackRate:r(function(m){return this.video&&(this.video.playbackRate=m),this},"setPlaybackRate"),getLoop:r(function(){return this.video?this.video.loop:!1},"getLoop"),setLoop:r(function(m){return m===void 0&&(m=!0),this.video&&(this.video.loop=m),this},"setLoop"),isPlaying:r(function(){return this.video?!(this.video.paused||this.video.ended):!1},"isPlaying"),isPaused:r(function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},"isPaused"),saveTexture:r(function(m,x){return x===void 0&&(x=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,m),this.videoTextureSource.setFlipY(x)),this._key=m,this.flipY=x,!!this.videoTexture},"saveTexture"),stop:r(function(m){m===void 0&&(m=!0);var x=this.video;return x&&(this.removeEventHandlers(),x.cancelVideoFrameCallback(this._rfvCallbackId),x.pause()),this.retry=0,this._playCalled=!1,m&&this.emit(l.VIDEO_STOP,this),this},"stop"),removeVideoElement:r(function(){var m=this.video;if(m){for(m.parentNode&&m.parentNode.removeChild(m);m.hasChildNodes();)m.removeChild(m.firstChild);m.removeAttribute("autoplay"),m.removeAttribute("src"),this.video=null}},"removeVideoElement"),preDestroy:r(function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var m=this.scene.sys.game.events;m.off(u.PAUSE,this.globalPause,this),m.off(u.RESUME,this.globalResume,this);var x=this.scene.sys.sound;x&&x.off(v.GLOBAL_MUTE,this.globalMute,this)},"preDestroy")});n.exports=g},58352:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){o.videoTexture&&(T.addToRenderList(o),s.batchSprite(o,o.frame,T,c))},"VideoCanvasRenderer");n.exports=C},11511:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),T=s(44603),c=s(23568),l=s(18471);T.register("video",function(u,h){u===void 0&&(u={});var f=c(u,"key",null),v=new l(this.scene,0,0,f);return h!==void 0&&(u.add=h),o(this.scene,v,u),v})},89025:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(18471),T=s(39429);T.register("video",function(c,l,u){return this.displayList.add(new o(this.scene,c,l,u))})},10247:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(29849),c=s(58352),n.exports={renderWebGL:T,renderCanvas:c}},29849:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){o.videoTexture&&(T.addToRenderList(o),o.pipeline.batchSprite(o,T,c))},"VideoWebGLRenderer");n.exports=C},41481:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),T=s(96503),c=s(87902),l=s(83419),u=s(31401),h=s(95643),f=s(87841),v=s(37303),d=new l({Extends:h,Mixins:[u.Depth,u.GetBounds,u.Origin,u.Transform,u.ScrollFactor,u.Visible],initialize:r(function(g,m,x,E,A){E===void 0&&(E=1),A===void 0&&(A=E),h.call(this,g,"Zone"),this.setPosition(m,x),this.width=E,this.height=A,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},"Zone"),displayWidth:{get:r(function(){return this.scaleX*this.width},"get"),set:r(function(p){this.scaleX=p/this.width},"set")},displayHeight:{get:r(function(){return this.scaleY*this.height},"get"),set:r(function(p){this.scaleY=p/this.height},"set")},setSize:r(function(p,g,m){m===void 0&&(m=!0),this.width=p,this.height=g,this.updateDisplayOrigin();var x=this.input;return m&&x&&!x.customHitArea&&(x.hitArea.width=p,x.hitArea.height=g),this},"setSize"),setDisplaySize:r(function(p,g){return this.displayWidth=p,this.displayHeight=g,this},"setDisplaySize"),setCircleDropZone:r(function(p){return this.setDropZone(new T(0,0,p),c)},"setCircleDropZone"),setRectangleDropZone:r(function(p,g){return this.setDropZone(new f(0,0,p,g),v)},"setRectangleDropZone"),setDropZone:r(function(p,g){return this.input||this.setInteractive(p,g,!0),this},"setDropZone"),setAlpha:r(function(){},"setAlpha"),setBlendMode:r(function(){},"setBlendMode"),renderCanvas:r(function(p,g,m){m.addToRenderList(g)},"renderCanvas"),renderWebGL:r(function(p,g,m){m.addToRenderList(g)},"renderWebGL")});n.exports=d},95261:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),T=s(23568),c=s(41481);o.register("zone",function(l){var u=T(l,"x",0),h=T(l,"y",0),f=T(l,"width",1),v=T(l,"height",f);return new c(this.scene,u,h,f,v)})},84175:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41481),T=s(39429);T.register("zone",function(c,l,u,h){return this.displayList.add(new o(this.scene,c,l,u,h))})},95166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.radius>0?Math.PI*s.radius*s.radius:0},"Area");n.exports=C},96503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(87902),c=s(26241),l=s(79124),u=s(23777),h=s(28176),f=new o({initialize:r(function(d,p,g){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=u.CIRCLE,this.x=d,this.y=p,this._radius=g,this._diameter=g*2},"Circle"),contains:r(function(v,d){return T(this,v,d)},"contains"),getPoint:r(function(v,d){return c(this,v,d)},"getPoint"),getPoints:r(function(v,d,p){return l(this,v,d,p)},"getPoints"),getRandomPoint:r(function(v){return h(this,v)},"getRandomPoint"),setTo:r(function(v,d,p){return this.x=v,this.y=d,this._radius=p,this._diameter=p*2,this},"setTo"),setEmpty:r(function(){return this._radius=0,this._diameter=0,this},"setEmpty"),setPosition:r(function(v,d){return d===void 0&&(d=v),this.x=v,this.y=d,this},"setPosition"),isEmpty:r(function(){return this._radius<=0},"isEmpty"),radius:{get:r(function(){return this._radius},"get"),set:r(function(v){this._radius=v,this._diameter=v*2},"set")},diameter:{get:r(function(){return this._diameter},"get"),set:r(function(v){this._diameter=v,this._radius=v*.5},"set")},left:{get:r(function(){return this.x-this._radius},"get"),set:r(function(v){this.x=v+this._radius},"set")},right:{get:r(function(){return this.x+this._radius},"get"),set:r(function(v){this.x=v-this._radius},"set")},top:{get:r(function(){return this.y-this._radius},"get"),set:r(function(v){this.y=v+this._radius},"set")},bottom:{get:r(function(){return this.y+this._radius},"get"),set:r(function(v){this.y=v-this._radius},"set")}});n.exports=f},71562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return 2*(Math.PI*s.radius)},"Circumference");n.exports=C},92110:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l,u){return u===void 0&&(u=new o),u.x=c.x+c.radius*Math.cos(l),u.y=c.y+c.radius*Math.sin(l),u},"CircumferencePoint");n.exports=T},42250:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),T=r(function(c){return new o(c.x,c.y,c.radius)},"Clone");n.exports=T},87902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){if(s.radius>0&&o>=s.left&&o<=s.right&&T>=s.top&&T<=s.bottom){var c=(s.x-o)*(s.x-o),l=(s.y-T)*(s.y-T);return c+l<=s.radius*s.radius}else return!1},"Contains");n.exports=C},5698:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),T=r(function(c,l){return o(c,l.x,l.y)},"ContainsPoint");n.exports=T},70588:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),T=r(function(c,l){return o(c,l.x,l.y)&&o(c,l.right,l.y)&&o(c,l.x,l.bottom)&&o(c,l.right,l.bottom)},"ContainsRect");n.exports=T},26394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o.setTo(s.x,s.y,s.radius)},"CopyFrom");n.exports=C},76278:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x===o.x&&s.y===o.y&&s.radius===o.radius},"Equals");n.exports=C},2074:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=r(function(c,l){return l===void 0&&(l=new o),l.x=c.left,l.y=c.top,l.width=c.diameter,l.height=c.diameter,l},"GetBounds");n.exports=T},26241:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(92110),T=s(62945),c=s(36383),l=s(2141),u=r(function(h,f,v){v===void 0&&(v=new l);var d=T(f,0,c.PI2);return o(h,d,v)},"GetPoint");n.exports=u},79124:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71562),T=s(92110),c=s(62945),l=s(36383),u=r(function(h,f,v,d){d===void 0&&(d=[]),!f&&v>0&&(f=o(h)/v);for(var p=0;p<f;p++){var g=c(p/f,0,l.PI2);d.push(T(h,g))}return d},"GetPoints");n.exports=u},50884:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s.x+=o,s.y+=T,s},"Offset");n.exports=C},39212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x+=o.x,s.y+=o.y,s},"OffsetPoint");n.exports=C},28176:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l){l===void 0&&(l=new o);var u=2*Math.PI*Math.random(),h=Math.random()+Math.random(),f=h>1?2-h:h,v=f*Math.cos(u),d=f*Math.sin(u);return l.x=c.x+v*c.radius,l.y=c.y+d*c.radius,l},"Random");n.exports=T},88911:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503);o.Area=s(95166),o.Circumference=s(71562),o.CircumferencePoint=s(92110),o.Clone=s(42250),o.Contains=s(87902),o.ContainsPoint=s(5698),o.ContainsRect=s(70588),o.CopyFrom=s(26394),o.Equals=s(76278),o.GetBounds=s(2074),o.GetPoint=s(26241),o.GetPoints=s(79124),o.Offset=s(50884),o.OffsetPoint=s(39212),o.Random=s(28176),n.exports=o},23777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};n.exports=C},78874:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.isEmpty()?0:s.getMajorRadius()*s.getMinorRadius()*Math.PI},"Area");n.exports=C},92990:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o=s.width/2,T=s.height/2,c=Math.pow(o-T,2)/Math.pow(o+T,2);return Math.PI*(o+T)*(1+3*c/(10+Math.sqrt(4-3*c)))},"Circumference");n.exports=C},79522:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l,u){u===void 0&&(u=new o);var h=c.width/2,f=c.height/2;return u.x=c.x+h*Math.cos(l),u.y=c.y+f*Math.sin(l),u},"CircumferencePoint");n.exports=T},58102:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8497),T=r(function(c){return new o(c.x,c.y,c.width,c.height)},"Clone");n.exports=T},81154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){if(s.width<=0||s.height<=0)return!1;var c=(o-s.x)/s.width,l=(T-s.y)/s.height;return c*=c,l*=l,c+l<.25},"Contains");n.exports=C},46662:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81154),T=r(function(c,l){return o(c,l.x,l.y)},"ContainsPoint");n.exports=T},1632:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81154),T=r(function(c,l){return o(c,l.x,l.y)&&o(c,l.right,l.y)&&o(c,l.x,l.bottom)&&o(c,l.right,l.bottom)},"ContainsRect");n.exports=T},65534:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o.setTo(s.x,s.y,s.width,s.height)},"CopyFrom");n.exports=C},8497:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(81154),c=s(90549),l=s(48320),u=s(23777),h=s(24820),f=new o({initialize:r(function(d,p,g,m){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=u.ELLIPSE,this.x=d,this.y=p,this.width=g,this.height=m},"Ellipse"),contains:r(function(v,d){return T(this,v,d)},"contains"),getPoint:r(function(v,d){return c(this,v,d)},"getPoint"),getPoints:r(function(v,d,p){return l(this,v,d,p)},"getPoints"),getRandomPoint:r(function(v){return h(this,v)},"getRandomPoint"),setTo:r(function(v,d,p,g){return this.x=v,this.y=d,this.width=p,this.height=g,this},"setTo"),setEmpty:r(function(){return this.width=0,this.height=0,this},"setEmpty"),setPosition:r(function(v,d){return d===void 0&&(d=v),this.x=v,this.y=d,this},"setPosition"),setSize:r(function(v,d){return d===void 0&&(d=v),this.width=v,this.height=d,this},"setSize"),isEmpty:r(function(){return this.width<=0||this.height<=0},"isEmpty"),getMinorRadius:r(function(){return Math.min(this.width,this.height)/2},"getMinorRadius"),getMajorRadius:r(function(){return Math.max(this.width,this.height)/2},"getMajorRadius"),left:{get:r(function(){return this.x-this.width/2},"get"),set:r(function(v){this.x=v+this.width/2},"set")},right:{get:r(function(){return this.x+this.width/2},"get"),set:r(function(v){this.x=v-this.width/2},"set")},top:{get:r(function(){return this.y-this.height/2},"get"),set:r(function(v){this.y=v+this.height/2},"set")},bottom:{get:r(function(){return this.y+this.height/2},"get"),set:r(function(v){this.y=v-this.height/2},"set")}});n.exports=f},36146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x===o.x&&s.y===o.y&&s.width===o.width&&s.height===o.height},"Equals");n.exports=C},23694:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=r(function(c,l){return l===void 0&&(l=new o),l.x=c.left,l.y=c.top,l.width=c.width,l.height=c.height,l},"GetBounds");n.exports=T},90549:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79522),T=s(62945),c=s(36383),l=s(2141),u=r(function(h,f,v){v===void 0&&(v=new l);var d=T(f,0,c.PI2);return o(h,d,v)},"GetPoint");n.exports=u},48320:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(92990),T=s(79522),c=s(62945),l=s(36383),u=r(function(h,f,v,d){d===void 0&&(d=[]),!f&&v>0&&(f=o(h)/v);for(var p=0;p<f;p++){var g=c(p/f,0,l.PI2);d.push(T(h,g))}return d},"GetPoints");n.exports=u},73424:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s.x+=o,s.y+=T,s},"Offset");n.exports=C},44808:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x+=o.x,s.y+=o.y,s},"OffsetPoint");n.exports=C},24820:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l){l===void 0&&(l=new o);var u=Math.random()*Math.PI*2,h=Math.sqrt(Math.random());return l.x=c.x+h*Math.cos(u)*c.width/2,l.y=c.y+h*Math.sin(u)*c.height/2,l},"Random");n.exports=T},49203:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8497);o.Area=s(78874),o.Circumference=s(92990),o.CircumferencePoint=s(79522),o.Clone=s(58102),o.Contains=s(81154),o.ContainsPoint=s(46662),o.ContainsRect=s(1632),o.CopyFrom=s(65534),o.Equals=s(36146),o.GetBounds=s(23694),o.GetPoint=s(90549),o.GetPoints=s(48320),o.Offset=s(73424),o.OffsetPoint=s(44808),o.Random=s(24820),n.exports=o},55738:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23777),T=s(79291),c={Circle:s(88911),Ellipse:s(49203),Intersects:s(91865),Line:s(2529),Mesh:s(73090),Point:s(43711),Polygon:s(58423),Rectangle:s(93232),Triangle:s(84435)};c=T(!1,c,o),n.exports=c},2044:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20339),T=r(function(c,l){return o(c.x,c.y,l.x,l.y)<=c.radius+l.radius},"CircleToCircle");n.exports=T},81491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=o.width/2,c=o.height/2,l=Math.abs(s.x-o.x-T),u=Math.abs(s.y-o.y-c),h=T+s.radius,f=c+s.radius;if(l>h||u>f)return!1;if(l<=T||u<=c)return!0;var v=l-T,d=u-c,p=v*v,g=d*d,m=s.radius*s.radius;return p+g<=m},"CircleToRectangle");n.exports=C},63376:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=s(2044),c=r(function(l,u,h){if(h===void 0&&(h=[]),T(l,u)){var f=l.x,v=l.y,d=l.radius,p=u.x,g=u.y,m=u.radius,x,E,A,R,P;if(v===g)P=(m*m-d*d-p*p+f*f)/(2*(f-p)),x=1,E=-2*g,A=p*p+P*P-2*p*P+g*g-m*m,R=E*E-4*x*A,R===0?h.push(new o(P,-E/(2*x))):R>0&&(h.push(new o(P,(-E+Math.sqrt(R))/(2*x))),h.push(new o(P,(-E-Math.sqrt(R))/(2*x))));else{var O=(f-p)/(v-g),L=(m*m-d*d-p*p+f*f-g*g+v*v)/(2*(v-g));x=O*O+1,E=2*v*O-2*L*O-2*f,A=f*f+v*v+L*L-d*d-2*v*L,R=E*E-4*x*A,R===0?(P=-E/(2*x),h.push(new o(P,L-P*O))):R>0&&(P=(-E+Math.sqrt(R))/(2*x),h.push(new o(P,L-P*O)),P=(-E-Math.sqrt(R))/(2*x),h.push(new o(P,L-P*O)))}}return h},"GetCircleToCircle");n.exports=c},97439:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4042),T=s(81491),c=r(function(l,u,h){if(h===void 0&&(h=[]),T(l,u)){var f=u.getLineA(),v=u.getLineB(),d=u.getLineC(),p=u.getLineD();o(f,l,h),o(v,l,h),o(d,l,h),o(p,l,h)}return h},"GetCircleToRectangle");n.exports=c},4042:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=s(80462),c=r(function(l,u,h){if(h===void 0&&(h=[]),T(l,u)){var f=l.x1,v=l.y1,d=l.x2,p=l.y2,g=u.x,m=u.y,x=u.radius,E=d-f,A=p-v,R=f-g,P=v-m,O=E*E+A*A,L=2*(E*R+A*P),w=R*R+P*P-x*x,M=L*L-4*O*w,b,D;if(M===0){var F=-L/(2*O);b=f+F*E,D=v+F*A,F>=0&&F<=1&&h.push(new o(b,D))}else if(M>0){var N=(-L-Math.sqrt(M))/(2*O);b=f+N*E,D=v+N*A,N>=0&&N<=1&&h.push(new o(b,D));var B=(-L+Math.sqrt(M))/(2*O);b=f+B*E,D=v+B*A,B>=0&&B<=1&&h.push(new o(b,D))}}return h},"GetLineToCircle");n.exports=c},36100:(n,C,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25836),T=r(function(c,l,u,h){u===void 0&&(u=!1);var f=c.x1,v=c.y1,d=c.x2,p=c.y2,g=l.x1,m=l.y1,x=l.x2,E=l.y2,A=d-f,R=p-v,P=x-g,O=E-m,L=A*O-R*P;if(L===0)return null;var w,M,b;if(u){if(w=(A*(m-v)+R*(f-g))/(P*R-O*A),A!==0)M=(g+P*w-f)/A;else if(R!==0)M=(m+O*w-v)/R;else return null;if(M<0||w<0||w>1)return null;b=M}else{if(w=((g-f)*O-(m-v)*P)/L,M=((v-m)*A-(f-g)*R)/L,w<0||w>1||M<0||M>1)return null;b=w}return h===void 0&&(h=new o),h.set(f+A*b,v+R*b,b)},"GetLineToLine");n.exports=T},3073:(n,C,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36100),T=s(23031),c=s(25836),l=new T,u=new c,h=r(function(f,v,d,p){d===void 0&&(d=!1),p===void 0&&(p=new c);var g=!1;p.set(),u.set();for(var m=v[v.length-1],x=0;x<v.length;x++){var E=v[x];l.setTo(m.x,m.y,E.x,E.y),m=E,o(f,l,d,u)&&(!g||u.z<p.z)&&(p.copy(u),g=!0)}return g?p:null},"GetLineToPoints");n.exports=h},56362:(n,C,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25836),T=s(61369),c=s(3073),l=new o,u=r(function(h,f,v,d){d===void 0&&(d=new T),Array.isArray(f)||(f=[f]);var p=!1;d.set(),l.set();for(var g=0;g<f.length;g++)c(h,f[g].points,v,l)&&(!p||l.z<d.z)&&(d.set(l.x,l.y,l.z,g),p=!0);return p?d:null},"GetLineToPolygon");n.exports=u},60646:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=s(76112),c=s(92773),l=r(function(u,h,f){if(f===void 0&&(f=[]),c(u,h))for(var v=h.getLineA(),d=h.getLineB(),p=h.getLineC(),g=h.getLineD(),m=[new o,new o,new o,new o],x=[T(v,u,m[0]),T(d,u,m[1]),T(p,u,m[2]),T(g,u,m[3])],E=0;E<4;E++)x[E]&&f.push(m[E]);return f},"GetLineToRectangle");n.exports=l},71147:(n,C,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61369),T=s(56362),c=s(23031),l=new c;function u(v,d,p,g,m){var x=Math.cos(v),E=Math.sin(v);l.setTo(d,p,d+x,p+E);var A=T(l,g,!0);A&&m.push(new o(A.x,A.y,v,A.w))}r(u,"CheckIntersects");function h(v,d){return v.z-d.z}r(h,"SortIntersects");var f=r(function(v,d,p){Array.isArray(p)||(p=[p]);for(var g=[],m=[],x=0;x<p.length;x++)for(var E=p[x].points,A=0;A<E.length;A++){var R=Math.atan2(E[A].y-d,E[A].x-v);m.indexOf(R)===-1&&(u(R,v,d,p,g),u(R-1e-5,v,d,p,g),u(R+1e-5,v,d,p,g),m.push(R))}return g.sort(h)},"GetRaysFromPointToPolygon");n.exports=f},68389:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=s(59996),c=r(function(l,u,h){return h===void 0&&(h=new o),T(l,u)&&(h.x=Math.max(l.x,u.x),h.y=Math.max(l.y,u.y),h.width=Math.min(l.right,u.right)-h.x,h.height=Math.min(l.bottom,u.bottom)-h.y),h},"GetRectangleIntersection");n.exports=c},52784:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60646),T=s(59996),c=r(function(l,u,h){if(h===void 0&&(h=[]),T(l,u)){var f=l.getLineA(),v=l.getLineB(),d=l.getLineC(),p=l.getLineD();o(f,u,h),o(v,u,h),o(d,u,h),o(p,u,h)}return h},"GetRectangleToRectangle");n.exports=c},26341:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89265),T=s(60646),c=r(function(l,u,h){if(h===void 0&&(h=[]),o(l,u)){var f=u.getLineA(),v=u.getLineB(),d=u.getLineC();T(f,l,h),T(v,l,h),T(d,l,h)}return h},"GetRectangleToTriangle");n.exports=c},38720:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4042),T=s(67636),c=r(function(l,u,h){if(h===void 0&&(h=[]),T(l,u)){var f=l.getLineA(),v=l.getLineB(),d=l.getLineC();o(f,u,h),o(v,u,h),o(d,u,h)}return h},"GetTriangleToCircle");n.exports=c},13882:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=s(2822),c=s(76112),l=r(function(u,h,f){if(f===void 0&&(f=[]),T(u,h))for(var v=u.getLineA(),d=u.getLineB(),p=u.getLineC(),g=[new o,new o,new o],m=[c(v,h,g[0]),c(d,h,g[1]),c(p,h,g[2])],x=0;x<3;x++)m[x]&&f.push(g[x]);return f},"GetTriangleToLine");n.exports=l},75636:(n,C,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82944),T=s(13882),c=r(function(l,u,h){if(h===void 0&&(h=[]),o(l,u)){var f=u.getLineA(),v=u.getLineB(),d=u.getLineC();T(l,f,h),T(l,v,h),T(l,d,h)}return h},"GetTriangleToTriangle");n.exports=c},80462:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),T=s(2141),c=new T,l=r(function(u,h,f){if(f===void 0&&(f=c),o(h,u.x1,u.y1))return f.x=u.x1,f.y=u.y1,!0;if(o(h,u.x2,u.y2))return f.x=u.x2,f.y=u.y2,!0;var v=u.x2-u.x1,d=u.y2-u.y1,p=h.x-u.x1,g=h.y-u.y1,m=v*v+d*d,x=v,E=d;if(m>0){var A=(p*v+g*d)/m;x*=A,E*=A}f.x=u.x1+x,f.y=u.y1+E;var R=x*x+E*E;return R<=m&&x*v+E*d>=0&&o(h,f.x,f.y)},"LineToCircle");n.exports=l},76112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=s.x1,l=s.y1,u=s.x2,h=s.y2,f=o.x1,v=o.y1,d=o.x2,p=o.y2;if(c===u&&l===h||f===d&&v===p)return!1;var g=(p-v)*(u-c)-(d-f)*(h-l);if(g===0)return!1;var m=((d-f)*(l-v)-(p-v)*(c-f))/g,x=((u-c)*(l-v)-(h-l)*(c-f))/g;return m<0||m>1||x<0||x>1?!1:(T&&(T.x=c+m*(u-c),T.y=l+m*(h-l)),!0)},"LineToLine");n.exports=C},92773:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.x1,c=s.y1,l=s.x2,u=s.y2,h=o.x,f=o.y,v=o.right,d=o.bottom,p=0;if(T>=h&&T<=v&&c>=f&&c<=d||l>=h&&l<=v&&u>=f&&u<=d)return!0;if(T<h&&l>=h){if(p=c+(u-c)*(h-T)/(l-T),p>f&&p<=d)return!0}else if(T>v&&l<=v&&(p=c+(u-c)*(v-T)/(l-T),p>=f&&p<=d))return!0;if(c<f&&u>=f){if(p=T+(l-T)*(f-c)/(u-c),p>=h&&p<=v)return!0}else if(c>d&&u<=d&&(p=T+(l-T)*(d-c)/(u-c),p>=h&&p<=v))return!0;return!1},"LineToRectangle");n.exports=C},16204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){T===void 0&&(T=1);var c=o.x1,l=o.y1,u=o.x2,h=o.y2,f=s.x,v=s.y,d=(u-c)*(u-c)+(h-l)*(h-l);if(d===0)return!1;var p=((f-c)*(u-c)+(v-l)*(h-l))/d;if(p<0)return Math.sqrt((c-f)*(c-f)+(l-v)*(l-v))<=T;if(p>=0&&p<=1){var g=((l-v)*(u-c)-(c-f)*(h-l))/d;return Math.abs(g)*Math.sqrt(d)<=T}else return Math.sqrt((u-f)*(u-f)+(h-v)*(h-v))<=T},"PointToLine");n.exports=C},14199:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16204),T=r(function(c,l){if(!o(c,l))return!1;var u=Math.min(l.x1,l.x2),h=Math.max(l.x1,l.x2),f=Math.min(l.y1,l.y2),v=Math.max(l.y1,l.y2);return c.x>=u&&c.x<=h&&c.y>=f&&c.y<=v},"PointToLineSegment");n.exports=T},59996:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.width<=0||s.height<=0||o.width<=0||o.height<=0?!1:!(s.right<o.x||s.bottom<o.y||s.x>o.right||s.y>o.bottom)},"RectangleToRectangle");n.exports=C},89265:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(76112),T=s(37303),c=s(48653),l=s(77493),u=r(function(h,f){if(f.left>h.right||f.right<h.left||f.top>h.bottom||f.bottom<h.top)return!1;var v=f.getLineA(),d=f.getLineB(),p=f.getLineC();if(T(h,v.x1,v.y1)||T(h,v.x2,v.y2)||T(h,d.x1,d.y1)||T(h,d.x2,d.y2)||T(h,p.x1,p.y1)||T(h,p.x2,p.y2))return!0;var g=h.getLineA(),m=h.getLineB(),x=h.getLineC(),E=h.getLineD();if(o(v,g)||o(v,m)||o(v,x)||o(v,E)||o(d,g)||o(d,m)||o(d,x)||o(d,E)||o(p,g)||o(p,m)||o(p,x)||o(p,E))return!0;var A=l(h),R=c(f,A,!0);return R.length>0},"RectangleToTriangle");n.exports=u},84411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l,u){return u===void 0&&(u=0),!(o>s.right+u||T<s.left-u||c>s.bottom+u||l<s.top-u)},"RectangleToValues");n.exports=C},67636:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80462),T=s(10690),c=r(function(l,u){return l.left>u.right||l.right<u.left||l.top>u.bottom||l.bottom<u.top?!1:!!(T(l,u.x,u.y)||o(l.getLineA(),u)||o(l.getLineB(),u)||o(l.getLineC(),u))},"TriangleToCircle");n.exports=c},2822:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(76112),T=r(function(c,l){return!!(c.contains(l.x1,l.y1)||c.contains(l.x2,l.y2)||o(c.getLineA(),l)||o(c.getLineB(),l)||o(c.getLineC(),l))},"TriangleToLine");n.exports=T},82944:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(48653),T=s(71694),c=s(76112),l=r(function(u,h){if(u.left>h.right||u.right<h.left||u.top>h.bottom||u.bottom<h.top)return!1;var f=u.getLineA(),v=u.getLineB(),d=u.getLineC(),p=h.getLineA(),g=h.getLineB(),m=h.getLineC();if(c(f,p)||c(f,g)||c(f,m)||c(v,p)||c(v,g)||c(v,m)||c(d,p)||c(d,g)||c(d,m))return!0;var x=T(u),E=o(h,x,!0);return E.length>0||(x=T(h),E=o(u,x,!0),E.length>0)},"TriangleToTriangle");n.exports=l},91865:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CircleToCircle:s(2044),CircleToRectangle:s(81491),GetCircleToCircle:s(63376),GetCircleToRectangle:s(97439),GetLineToCircle:s(4042),GetLineToLine:s(36100),GetLineToPoints:s(3073),GetLineToPolygon:s(56362),GetLineToRectangle:s(60646),GetRaysFromPointToPolygon:s(71147),GetRectangleIntersection:s(68389),GetRectangleToRectangle:s(52784),GetRectangleToTriangle:s(26341),GetTriangleToCircle:s(38720),GetTriangleToLine:s(13882),GetTriangleToTriangle:s(75636),LineToCircle:s(80462),LineToLine:s(76112),LineToRectangle:s(92773),PointToLine:s(16204),PointToLineSegment:s(14199),RectangleToRectangle:s(59996),RectangleToTriangle:s(89265),RectangleToValues:s(84411),TriangleToCircle:s(67636),TriangleToLine:s(2822),TriangleToTriangle:s(82944)}},91938:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return Math.atan2(s.y2-s.y1,s.x2-s.x1)},"Angle");n.exports=C},84993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){o===void 0&&(o=1),T===void 0&&(T=[]);var c=Math.round(s.x1),l=Math.round(s.y1),u=Math.round(s.x2),h=Math.round(s.y2),f=Math.abs(u-c),v=Math.abs(h-l),d=c<u?1:-1,p=l<h?1:-1,g=f-v;T.push({x:c,y:l});for(var m=1;!(c===u&&l===h);){var x=g<<1;x>-v&&(g-=v,c+=d),x<f&&(g+=f,l+=p),m%o===0&&T.push({x:c,y:l}),m++}return T},"BresenhamPoints");n.exports=C},36469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=o-(s.x1+s.x2)/2,l=T-(s.y1+s.y2)/2;return s.x1+=c,s.y1+=l,s.x2+=c,s.y2+=l,s},"CenterOn");n.exports=C},31116:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23031),T=r(function(c){return new o(c.x1,c.y1,c.x2,c.y2)},"Clone");n.exports=T},59944:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o.setTo(s.x1,s.y1,s.x2,s.y2)},"CopyFrom");n.exports=C},59220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x1===o.x1&&s.y1===o.y1&&s.x2===o.x2&&s.y2===o.y2},"Equals");n.exports=C},78177:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),T=r(function(c,l,u){u===void 0&&(u=l);var h=o(c),f=c.x2-c.x1,v=c.y2-c.y1;return l&&(c.x1=c.x1-f/h*l,c.y1=c.y1-v/h*l),u&&(c.x2=c.x2+f/h*u,c.y2=c.y2+v/h*u),c},"Extend");n.exports=T},26708:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(52816),T=s(6113),c=s(2141),l=r(function(u,h,f,v,d){v===void 0&&(v=0),d===void 0&&(d=[]);var p=[],g=u.x1,m=u.y1,x=u.x2-g,E=u.y2-m,A=T(h,d),R,P,O=f-1;for(R=0;R<O;R++)P=A(R/O),p.push(new c(g+x*P,m+E*P));if(P=A(1),p.push(new c(g+x*P,m+E*P)),v>0){var L=p[0],w=[L];for(R=1;R<p.length-1;R++){var M=p[R];o(L,M)>=v&&(w.push(M),L=M)}var b=p[p.length-1];return o(L,b)<v&&w.pop(),w.push(b),w}else return p},"GetEasedPoints");n.exports=l},32125:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l){return l===void 0&&(l=new o),l.x=(c.x1+c.x2)/2,l.y=(c.y1+c.y2)/2,l},"GetMidPoint");n.exports=T},99569:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l,u){u===void 0&&(u=new o);var h=c.x1,f=c.y1,v=c.x2,d=c.y2,p=(v-h)*(v-h)+(d-f)*(d-f);if(p===0)return u;var g=((l.x-h)*(v-h)+(l.y-f)*(d-f))/p;return u.x=h+g*(v-h),u.y=f+g*(d-f),u},"GetNearestPoint");n.exports=T},34638:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),T=s(91938),c=s(2141),l=r(function(u,h){h===void 0&&(h=new c);var f=T(u)-o.TAU;return h.x=Math.cos(f),h.y=Math.sin(f),h},"GetNormal");n.exports=l},13151:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l,u){return u===void 0&&(u=new o),u.x=c.x1+(c.x2-c.x1)*l,u.y=c.y1+(c.y2-c.y1)*l,u},"GetPoint");n.exports=T},15258:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),T=s(2141),c=r(function(l,u,h,f){f===void 0&&(f=[]),!u&&h>0&&(u=o(l)/h);for(var v=l.x1,d=l.y1,p=l.x2,g=l.y2,m=0;m<u;m++){var x=m/u,E=v+(p-v)*x,A=d+(g-d)*x;f.push(new T(E,A))}return f},"GetPoints");n.exports=c},26408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.x1,c=s.y1,l=s.x2,u=s.y2,h=(l-T)*(l-T)+(u-c)*(u-c);if(h===0)return!1;var f=((c-o.y)*(l-T)-(T-o.x)*(u-c))/h;return Math.abs(f)*Math.sqrt(h)},"GetShortestDistance");n.exports=C},98770:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return Math.abs(s.y1-s.y2)},"Height");n.exports=C},35001:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return Math.sqrt((s.x2-s.x1)*(s.x2-s.x1)+(s.y2-s.y1)*(s.y2-s.y1))},"Length");n.exports=C},23031:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(13151),c=s(15258),l=s(23777),u=s(65822),h=s(26099),f=new o({initialize:r(function(d,p,g,m){d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=l.LINE,this.x1=d,this.y1=p,this.x2=g,this.y2=m},"Line"),getPoint:r(function(v,d){return T(this,v,d)},"getPoint"),getPoints:r(function(v,d,p){return c(this,v,d,p)},"getPoints"),getRandomPoint:r(function(v){return u(this,v)},"getRandomPoint"),setTo:r(function(v,d,p,g){return v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),this.x1=v,this.y1=d,this.x2=p,this.y2=g,this},"setTo"),setFromObjects:r(function(v,d){return this.x1=v.x,this.y1=v.y,this.x2=d.x,this.y2=d.y,this},"setFromObjects"),getPointA:r(function(v){return v===void 0&&(v=new h),v.set(this.x1,this.y1),v},"getPointA"),getPointB:r(function(v){return v===void 0&&(v=new h),v.set(this.x2,this.y2),v},"getPointB"),left:{get:r(function(){return Math.min(this.x1,this.x2)},"get"),set:r(function(v){this.x1<=this.x2?this.x1=v:this.x2=v},"set")},right:{get:r(function(){return Math.max(this.x1,this.x2)},"get"),set:r(function(v){this.x1>this.x2?this.x1=v:this.x2=v},"set")},top:{get:r(function(){return Math.min(this.y1,this.y2)},"get"),set:r(function(v){this.y1<=this.y2?this.y1=v:this.y2=v},"set")},bottom:{get:r(function(){return Math.max(this.y1,this.y2)},"get"),set:r(function(v){this.y1>this.y2?this.y1=v:this.y2=v},"set")}});n.exports=f},64795:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),T=s(15994),c=s(91938),l=r(function(u){var h=c(u)-o.TAU;return T(h,-Math.PI,Math.PI)},"NormalAngle");n.exports=l},52616:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),T=s(91938),c=r(function(l){return Math.cos(T(l)-o.TAU)},"NormalX");n.exports=c},87231:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),T=s(91938),c=r(function(l){return Math.sin(T(l)-o.TAU)},"NormalY");n.exports=c},89662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s.x1+=o,s.y1+=T,s.x2+=o,s.y2+=T,s},"Offset");n.exports=C},71165:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return-((s.x2-s.x1)/(s.y2-s.y1))},"PerpSlope");n.exports=C},65822:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l){l===void 0&&(l=new o);var u=Math.random();return l.x=c.x1+u*(c.x2-c.x1),l.y=c.y1+u*(c.y2-c.y1),l},"Random");n.exports=T},69777:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91938),T=s(64795),c=r(function(l,u){return 2*T(u)-Math.PI-o(l)},"ReflectAngle");n.exports=c},39706:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(64400),T=r(function(c,l){var u=(c.x1+c.x2)/2,h=(c.y1+c.y2)/2;return o(c,u,h,l)},"Rotate");n.exports=T},82585:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(64400),T=r(function(c,l,u){return o(c,l.x,l.y,u)},"RotateAroundPoint");n.exports=T},64400:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=Math.cos(c),u=Math.sin(c),h=s.x1-o,f=s.y1-T;return s.x1=h*l-f*u+o,s.y1=h*u+f*l+T,h=s.x2-o,f=s.y2-T,s.x2=h*l-f*u+o,s.y2=h*u+f*l+T,s},"RotateAroundXY");n.exports=C},62377:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l){return s.x1=o,s.y1=T,s.x2=o+Math.cos(c)*l,s.y2=T+Math.sin(c)*l,s},"SetToAngle");n.exports=C},71366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return(s.y2-s.y1)/(s.x2-s.x1)},"Slope");n.exports=C},10809:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return Math.abs(s.x1-s.x2)},"Width");n.exports=C},2529:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23031);o.Angle=s(91938),o.BresenhamPoints=s(84993),o.CenterOn=s(36469),o.Clone=s(31116),o.CopyFrom=s(59944),o.Equals=s(59220),o.Extend=s(78177),o.GetEasedPoints=s(26708),o.GetMidPoint=s(32125),o.GetNearestPoint=s(99569),o.GetNormal=s(34638),o.GetPoint=s(13151),o.GetPoints=s(15258),o.GetShortestDistance=s(26408),o.Height=s(98770),o.Length=s(35001),o.NormalAngle=s(64795),o.NormalX=s(52616),o.NormalY=s(87231),o.Offset=s(89662),o.PerpSlope=s(71165),o.Random=s(65822),o.ReflectAngle=s(69777),o.Rotate=s(39706),o.RotateAroundPoint=s(82585),o.RotateAroundXY=s(64400),o.SetToAngle=s(62377),o.Slope=s(71366),o.Width=s(10809),n.exports=o},83997:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(87841),c=s(26099);function l(h,f,v,d){var p=h-v,g=f-d,m=p*p+g*g;return Math.sqrt(m)}r(l,"GetLength");var u=new o({initialize:r(function(f,v,d){this.vertex1=f,this.vertex2=v,this.vertex3=d,this.bounds=new T,this._inCenter=new c},"Face"),getInCenter:r(function(h){h===void 0&&(h=!0);var f=this.vertex1,v=this.vertex2,d=this.vertex3,p,g,m,x,E,A;h?(p=f.x,g=f.y,m=v.x,x=v.y,E=d.x,A=d.y):(p=f.vx,g=f.vy,m=v.vx,x=v.vy,E=d.vx,A=d.vy);var R=l(E,A,m,x),P=l(p,g,E,A),O=l(m,x,p,g),L=R+P+O;return this._inCenter.set((p*R+m*P+E*O)/L,(g*R+x*P+A*O)/L)},"getInCenter"),contains:r(function(h,f,v){var d=this.vertex1,p=this.vertex2,g=this.vertex3,m=d.vx,x=d.vy,E=p.vx,A=p.vy,R=g.vx,P=g.vy;if(v){var O=v.a,L=v.b,w=v.c,M=v.d,b=v.e,D=v.f;m=d.vx*O+d.vy*w+b,x=d.vx*L+d.vy*M+D,E=p.vx*O+p.vy*w+b,A=p.vx*L+p.vy*M+D,R=g.vx*O+g.vy*w+b,P=g.vx*L+g.vy*M+D}var F=R-m,N=P-x,B=E-m,Y=A-x,W=h-m,z=f-x,X=F*F+N*N,H=F*B+N*Y,V=F*W+N*z,G=B*B+Y*Y,k=B*W+Y*z,U=X*G-H*H,I=U===0?0:1/U,$=(G*V-H*k)*I,K=(X*k-H*V)*I;return $>=0&&K>=0&&$+K<1},"contains"),isCounterClockwise:r(function(h){var f=this.vertex1,v=this.vertex2,d=this.vertex3,p=(v.vx-f.vx)*(d.vy-f.vy)-(v.vy-f.vy)*(d.vx-f.vx);return h<=0?p>=0:p<0},"isCounterClockwise"),load:r(function(h,f,v,d,p){return v=this.vertex1.load(h,f,v,d,p),v=this.vertex2.load(h,f,v,d,p),v=this.vertex3.load(h,f,v,d,p),v},"load"),transformCoordinatesLocal:r(function(h,f,v,d){return this.vertex1.transformCoordinatesLocal(h,f,v,d),this.vertex2.transformCoordinatesLocal(h,f,v,d),this.vertex3.transformCoordinatesLocal(h,f,v,d),this},"transformCoordinatesLocal"),updateBounds:r(function(){var h=this.vertex1,f=this.vertex2,v=this.vertex3,d=this.bounds;return d.x=Math.min(h.vx,f.vx,v.vx),d.y=Math.min(h.vy,f.vy,v.vy),d.width=Math.max(h.vx,f.vx,v.vx)-d.x,d.height=Math.max(h.vy,f.vy,v.vy)-d.y,this},"updateBounds"),isInView:r(function(h,f,v,d,p,g,m,x,E,A,R){this.update(d,p,g,m,x,E,A,R);var P=this.vertex1,O=this.vertex2,L=this.vertex3;if(P.ta<=0&&O.ta<=0&&L.ta<=0||f&&!this.isCounterClockwise(v))return!1;var w=this.bounds;w.x=Math.min(P.tx,O.tx,L.tx),w.y=Math.min(P.ty,O.ty,L.ty),w.width=Math.max(P.tx,O.tx,L.tx)-w.x,w.height=Math.max(P.ty,O.ty,L.ty)-w.y;var M=h.x+h.width,b=h.y+h.height;return w.width<=0||w.height<=0||h.width<=0||h.height<=0?!1:!(w.right<h.x||w.bottom<h.y||w.x>M||w.y>b)},"isInView"),scrollUV:r(function(h,f){return this.vertex1.scrollUV(h,f),this.vertex2.scrollUV(h,f),this.vertex3.scrollUV(h,f),this},"scrollUV"),scaleUV:r(function(h,f){return this.vertex1.scaleUV(h,f),this.vertex2.scaleUV(h,f),this.vertex3.scaleUV(h,f),this},"scaleUV"),setColor:r(function(h){return this.vertex1.color=h,this.vertex2.color=h,this.vertex3.color=h,this},"setColor"),update:r(function(h,f,v,d,p,g,m,x){return this.vertex1.update(f,v,d,p,g,m,x,h),this.vertex2.update(f,v,d,p,g,m,x,h),this.vertex3.update(f,v,d,p,g,m,x,h),this},"update"),translate:r(function(h,f){f===void 0&&(f=0);var v=this.vertex1,d=this.vertex2,p=this.vertex3;return v.x+=h,v.y+=f,d.x+=h,d.y+=f,p.x+=h,p.y+=f,this},"translate"),x:{get:r(function(){return this.getInCenter().x},"get"),set:r(function(h){var f=this.getInCenter();this.translate(h-f.x,0)},"set")},y:{get:r(function(){return this.getInCenter().y},"get"),set:r(function(h){var f=this.getInCenter();this.translate(0,h-f.y)},"set")},alpha:{get:r(function(){var h=this.vertex1,f=this.vertex2,v=this.vertex3;return(h.alpha+f.alpha+v.alpha)/3},"get"),set:r(function(h){this.vertex1.alpha=h,this.vertex2.alpha=h,this.vertex3.alpha=h},"set")},depth:{get:r(function(){var h=this.vertex1,f=this.vertex2,v=this.vertex3;return(h.vz+f.vz+v.vz)/3},"get")},destroy:r(function(){this.vertex1=null,this.vertex2=null,this.vertex3=null},"destroy")});n.exports=u},48803:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83997),T=s(95540),c=s(37867),l=s(25836),u=s(39318),h=new l,f=new l,v=new c,d=r(function(p){var g=T(p,"mesh"),m=T(p,"texture",null),x=T(p,"frame"),E=T(p,"width",1),A=T(p,"height",E),R=T(p,"widthSegments",1),P=T(p,"heightSegments",R),O=T(p,"x",0),L=T(p,"y",0),w=T(p,"z",0),M=T(p,"rotateX",0),b=T(p,"rotateY",0),D=T(p,"rotateZ",0),F=T(p,"zIsUp",!0),N=T(p,"isOrtho",g?g.dirtyCache[11]:!1),B=T(p,"colors",[16777215]),Y=T(p,"alphas",[1]),W=T(p,"tile",!1),z=T(p,"flipY",!1),X=T(p,"width",null),H={faces:[],verts:[]};h.set(O,L,w),f.set(M,b,D),v.fromRotationXYTranslation(f,h,F);var V;if(!m&&g)m=g.texture,x||(V=g.frame);else if(g&&typeof m=="string")m=g.scene.sys.textures.get(m);else if(!m)return H;V||(V=m.get(x)),!X&&N&&m&&g&&(E=V.width/g.height,A=V.height/g.height);var G=E/2,k=A/2,U=Math.floor(R),I=Math.floor(P),$=U+1,K=I+1,Z=E/U,J=A/I,Q=[],q=[],j,tt,st=0,_=1,ht=0,ot=1;V&&(st=V.u0,_=V.u1,z?(ht=V.v1,ot=V.v0):(ht=V.v0,ot=V.v1));var lt=_-st,et=ot-ht;for(tt=0;tt<K;tt++){var nt=tt*J-k;for(j=0;j<$;j++){var at=j*Z-G;q.push(at,-nt);var ct=st+lt*(j/U),Et=ht+et*(tt/I);Q.push(ct,Et)}}Array.isArray(B)||(B=[B]),Array.isArray(Y)||(Y=[Y]);var bt=0,yt=0;for(tt=0;tt<I;tt++)for(j=0;j<U;j++){var St=(j+$*tt)*2,Vt=(j+$*(tt+1))*2,ne=(j+1+$*(tt+1))*2,Ft=(j+1+$*tt)*2,Wt=B[yt],Kt=Y[bt],Ce=new u(q[St],q[St+1],0,Q[St],Q[St+1],Wt,Kt).transformMat4(v),qs=new u(q[Vt],q[Vt+1],0,Q[Vt],Q[Vt+1],Wt,Kt).transformMat4(v),_s=new u(q[Ft],q[Ft+1],0,Q[Ft],Q[Ft+1],Wt,Kt).transformMat4(v),tr=new u(q[Vt],q[Vt+1],0,Q[Vt],Q[Vt+1],Wt,Kt).transformMat4(v),er=new u(q[ne],q[ne+1],0,Q[ne],Q[ne+1],Wt,Kt).transformMat4(v),ir=new u(q[Ft],q[Ft+1],0,Q[Ft],Q[Ft+1],Wt,Kt).transformMat4(v);W&&(Ce.setUVs(st,ot),qs.setUVs(st,ht),_s.setUVs(_,ot),tr.setUVs(st,ht),er.setUVs(_,ht),ir.setUVs(_,ot)),yt++,yt===B.length&&(yt=0),bt++,bt===Y.length&&(bt=0),H.verts.push(Ce,qs,_s,tr,er,ir),H.faces.push(new o(Ce,qs,_s),new o(tr,er,ir))}return g&&(g.faces=g.faces.concat(H.faces),g.vertices=g.vertices.concat(H.verts)),H},"GenerateGridVerts");n.exports=d},34684:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83997),T=s(37867),c=s(25836),l=s(39318),u=new c,h=new c,f=new T,v=r(function(d,p,g,m,x,E,A,R,P,O){g===void 0&&(g=1),m===void 0&&(m=0),x===void 0&&(x=0),E===void 0&&(E=0),A===void 0&&(A=0),R===void 0&&(R=0),P===void 0&&(P=0),O===void 0&&(O=!0);var L={faces:[],verts:[]},w=d.materials;u.set(m,x,E),h.set(A,R,P),f.fromRotationXYTranslation(h,u,O);for(var M=0;M<d.models.length;M++)for(var b=d.models[M],D=b.vertices,F=b.textureCoords,N=b.faces,B=0;B<N.length;B++){var Y=N[B],W=Y.vertices[0],z=Y.vertices[1],X=Y.vertices[2],H=D[W.vertexIndex],V=D[z.vertexIndex],G=D[X.vertexIndex],k=W.textureCoordsIndex,U=z.textureCoordsIndex,I=X.textureCoordsIndex,$=k===-1?{u:0,v:1}:F[k],K=U===-1?{u:0,v:0}:F[U],Z=I===-1?{u:1,v:1}:F[I],J=16777215;Y.material!==""&&w[Y.material]&&(J=w[Y.material]);var Q=new l(H.x*g,H.y*g,H.z*g,$.u,$.v,J).transformMat4(f),q=new l(V.x*g,V.y*g,V.z*g,K.u,K.v,J).transformMat4(f),j=new l(G.x*g,G.y*g,G.z*g,Z.u,Z.v,J).transformMat4(f);L.verts.push(Q,q,j),L.faces.push(new o(Q,q,j))}return p&&(p.faces=p.faces.concat(L.faces),p.vertices=p.vertices.concat(L.verts)),L},"GenerateObjVerts");n.exports=v},92515:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83997),T=s(39318),c=r(function(l,u,h,f,v,d,p,g){if(f===void 0&&(f=!1),d===void 0&&(d=16777215),p===void 0&&(p=1),g===void 0&&(g=!1),l.length!==u.length&&!f){console.warn("GenerateVerts: vertices and uvs count not equal");return}var m={faces:[],vertices:[]},x,E,A,R,P,O,L,w,M,b,D,F=f?3:2,N=Array.isArray(d),B=Array.isArray(p);if(Array.isArray(h)&&h.length>0)for(x=0;x<h.length;x++){var Y=h[x],W=h[x]*2,z=h[x]*F;E=l[z],A=l[z+1],R=f?l[z+2]:0,P=u[W],O=u[W+1],g&&(O=1-O),L=N?d[Y]:d,w=B?p[Y]:p,M=0,b=0,D=0,v&&(M=v[z],b=v[z+1],D=f?v[z+2]:0),m.vertices.push(new T(E,A,R,P,O,L,w,M,b,D))}else{var X=0,H=0;for(x=0;x<l.length;x+=F)E=l[x],A=l[x+1],R=f?l[x+2]:0,P=u[X],O=u[X+1],L=N?d[H]:d,w=B?p[H]:p,M=0,b=0,D=0,v&&(M=v[x],b=v[x+1],D=f?v[x+2]:0),m.vertices.push(new T(E,A,R,P,O,L,w,M,b,D)),X+=2,H++}for(x=0;x<m.vertices.length;x+=3){var V=m.vertices[x],G=m.vertices[x+1],k=m.vertices[x+2];m.faces.push(new o(V,G,k))}return m},"GenerateVerts");n.exports=c},85048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=!0,s="untitled",o="",T="";function c(E){var A=E.indexOf("#");return A>-1?E.substring(0,A):E}r(c,"stripComments");function l(E){return E.models.length===0&&E.models.push({faces:[],name:s,textureCoords:[],vertexNormals:[],vertices:[]}),o="",E.models[E.models.length-1]}r(l,"currentModel");function u(E,A){var R=E.length>=2?E[1]:s;A.models.push({faces:[],name:R,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}r(u,"parseObject");function h(E){E.length===2&&(o=E[1])}r(h,"parseGroup");function f(E,A){var R=E.length,P=R>=2?parseFloat(E[1]):0,O=R>=3?parseFloat(E[2]):0,L=R>=4?parseFloat(E[3]):0;l(A).vertices.push({x:P,y:O,z:L})}r(f,"parseVertexCoords");function v(E,A){var R=E.length,P=R>=2?parseFloat(E[1]):0,O=R>=3?parseFloat(E[2]):0,L=R>=4?parseFloat(E[3]):0;isNaN(P)&&(P=0),isNaN(O)&&(O=0),isNaN(L)&&(L=0),C&&(O=1-O),l(A).textureCoords.push({u:P,v:O,w:L})}r(v,"parseTextureCoords");function d(E,A){var R=E.length,P=R>=2?parseFloat(E[1]):0,O=R>=3?parseFloat(E[2]):0,L=R>=4?parseFloat(E[3]):0;l(A).vertexNormals.push({x:P,y:O,z:L})}r(d,"parseVertexNormal");function p(E,A){var R=E.length-1;if(!(R<3)){for(var P={group:o,material:T,vertices:[]},O=0;O<R;O++){var L=E[O+1],w=L.split("/"),M=w.length;if(!(M<1||M>3)){var b=0,D=0,F=0;b=parseInt(w[0],10),M>1&&w[1]!==""&&(D=parseInt(w[1],10)),M>2&&(F=parseInt(w[2],10)),b!==0&&(b<0&&(b=l(A).vertices.length+1+b),D-=1,b-=1,F-=1,P.vertices.push({textureCoordsIndex:D,vertexIndex:b,vertexNormalIndex:F}))}}l(A).faces.push(P)}}r(p,"parsePolygon");function g(E,A){E.length>=2&&A.materialLibraries.push(E[1])}r(g,"parseMtlLib");function m(E){E.length>=2&&(T=E[1])}r(m,"parseUseMtl");var x=r(function(E,A){A===void 0&&(A=!0),C=A;var R={materials:{},materialLibraries:[],models:[]};o="",T="";for(var P=E.split(`
`),O=0;O<P.length;O++){var L=c(P[O]),w=L.replace(/\s\s+/g," ").trim().split(" ");switch(w[0].toLowerCase()){case"o":u(w,R);break;case"g":h(w);break;case"v":f(w,R);break;case"vt":v(w,R);break;case"vn":d(w,R);break;case"f":p(w,R);break;case"mtllib":g(w,R);break;case"usemtl":m(w);break}}return R},"ParseObj");n.exports=x},61485:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37589),T=r(function(c){for(var l={},u=c.split(`
`),h="",f=0;f<u.length;f++){var v=u[f].trim();if(!(v.indexOf("#")===0||v==="")){var d=v.replace(/\s\s+/g," ").trim().split(" ");switch(d[0].toLowerCase()){case"newmtl":{h=d[1];break}case"kd":{var p=Math.floor(d[1]*255),g=d.length>=2?Math.floor(d[2]*255):p,m=d.length>=3?Math.floor(d[3]*255):p;l[h]=o(p,g,m);break}}}}return l},"ParseObjMaterial");n.exports=T},92570:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l,u;if(T===void 0&&c===void 0){var h=s.getInCenter();l=h.x,u=h.y}var f=Math.cos(o),v=Math.sin(o),d=s.vertex1,p=s.vertex2,g=s.vertex3,m=d.x-l,x=d.y-u;d.set(m*f-x*v+l,m*v+x*f+u),m=p.x-l,x=p.y-u,p.set(m*f-x*v+l,m*v+x*f+u),m=g.x-l,x=g.y-u,g.set(m*f-x*v+l,m*v+x*f+u)},"RotateFace");n.exports=C},39318:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(70554),c=s(25836),l=new o({Extends:c,initialize:r(function(h,f,v,d,p,g,m,x,E,A){g===void 0&&(g=16777215),m===void 0&&(m=1),x===void 0&&(x=0),E===void 0&&(E=0),A===void 0&&(A=0),c.call(this,h,f,v),this.vx=0,this.vy=0,this.vz=0,this.nx=x,this.ny=E,this.nz=A,this.u=d,this.v=p,this.color=g,this.alpha=m,this.tx=0,this.ty=0,this.ta=0,this.tu=d,this.tv=p},"Vertex"),setUVs:r(function(u,h){return this.u=u,this.v=h,this.tu=u,this.tv=h,this},"setUVs"),scrollUV:r(function(u,h){return this.tu+=u,this.tv+=h,this},"scrollUV"),scaleUV:r(function(u,h){return this.tu=this.u*u,this.tv=this.v*h,this},"scaleUV"),transformCoordinatesLocal:r(function(u,h,f,v){var d=this.x,p=this.y,g=this.z,m=u.val,x=d*m[0]+p*m[4]+g*m[8]+m[12],E=d*m[1]+p*m[5]+g*m[9]+m[13],A=d*m[2]+p*m[6]+g*m[10]+m[14],R=d*m[3]+p*m[7]+g*m[11]+m[15];this.vx=x/R*h,this.vy=-(E/R)*f,v<=0?this.vz=A/R:this.vz=-(A/R)},"transformCoordinatesLocal"),resize:r(function(u,h,f,v,d,p){return this.x=u,this.y=h,this.vx=this.x*f,this.vy=-this.y*v,this.vz=0,d<.5?this.vx+=f*(.5-d):d>.5&&(this.vx-=f*(d-.5)),p<.5?this.vy+=v*(.5-p):p>.5&&(this.vy-=v*(p-.5)),this},"resize"),update:r(function(u,h,f,v,d,p,g,m){var x=this.vx*u+this.vy*f+d,E=this.vx*h+this.vy*v+p;return g&&(x=Math.round(x),E=Math.round(E)),this.tx=x,this.ty=E,this.ta=this.alpha*m,this},"update"),load:r(function(u,h,f,v,d){return u[++f]=this.tx,u[++f]=this.ty,u[++f]=this.tu,u[++f]=this.tv,u[++f]=v,u[++f]=d,h[++f]=T.getTintAppendFloatAlpha(this.color,this.ta),f},"load")});n.exports=l},73090:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:s(83997),GenerateGridVerts:s(48803),GenerateObjVerts:s(34684),GenerateVerts:s(92515),ParseObj:s(85048),ParseObjMaterial:s(61485),RotateFace:s(92570),Vertex:s(39318)};n.exports=o},96550:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.setTo(Math.ceil(s.x),Math.ceil(s.y))},"Ceil");n.exports=C},99706:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c){return new o(c.x,c.y)},"Clone");n.exports=T},68010:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o.setTo(s.x,s.y)},"CopyFrom");n.exports=C},27814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x===o.x&&s.y===o.y},"Equals");n.exports=C},73565:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.setTo(Math.floor(s.x),Math.floor(s.y))},"Floor");n.exports=C},87555:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l){if(l===void 0&&(l=new o),!Array.isArray(c))throw new Error("GetCentroid points argument must be an array");var u=c.length;if(u<1)throw new Error("GetCentroid points array must not be empty");if(u===1)l.x=c[0].x,l.y=c[0].y;else{for(var h=0;h<u;h++)l.x+=c[h].x,l.y+=c[h].y;l.x/=u,l.y/=u}return l},"GetCentroid");n.exports=T},28793:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},"GetMagnitude");n.exports=C},44405:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.x*s.x+s.y*s.y},"GetMagnitudeSq");n.exports=C},20873:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=r(function(c,l){l===void 0&&(l=new o);for(var u=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,d=0;d<c.length;d++){var p=c[d];p.x>u&&(u=p.x),p.x<h&&(h=p.x),p.y>f&&(f=p.y),p.y<v&&(v=p.y)}return l.x=h,l.y=v,l.width=u-h,l.height=f-v,l},"GetRectangleFromPoints");n.exports=T},26152:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l,u,h){return u===void 0&&(u=0),h===void 0&&(h=new o),h.x=c.x+(l.x-c.x)*u,h.y=c.y+(l.y-c.y)*u,h},"Interpolate");n.exports=T},55767:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.setTo(s.y,s.x)},"Invert");n.exports=C},79432:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l){return l===void 0&&(l=new o),l.setTo(-c.x,-c.y)},"Negative");n.exports=T},2141:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23777),c=new o({initialize:r(function(u,h){u===void 0&&(u=0),h===void 0&&(h=u),this.type=T.POINT,this.x=u,this.y=h},"Point"),setTo:r(function(l,u){return l===void 0&&(l=0),u===void 0&&(u=l),this.x=l,this.y=u,this},"setTo")});n.exports=c},72930:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=s(44405),c=r(function(l,u,h){h===void 0&&(h=new o);var f=l.x*u.x+l.y*u.y,v=f/T(u);return v!==0&&(h.x=v*u.x,h.y=v*u.y),h},"Project");n.exports=c},62880:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l,u){u===void 0&&(u=new o);var h=c.x*l.x+c.y*l.y;return h!==0&&(u.x=h*l.x,u.y=h*l.y),u},"ProjectUnit");n.exports=T},15093:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28793),T=r(function(c,l){if(c.x!==0||c.y!==0){var u=o(c);c.x/=u,c.y/=u}return c.x*=l,c.y*=l,c},"SetMagnitude");n.exports=T},43711:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141);o.Ceil=s(96550),o.Clone=s(99706),o.CopyFrom=s(68010),o.Equals=s(27814),o.Floor=s(73565),o.GetCentroid=s(87555),o.GetMagnitude=s(28793),o.GetMagnitudeSq=s(44405),o.GetRectangleFromPoints=s(20873),o.Interpolate=s(26152),o.Invert=s(55767),o.Negative=s(79432),o.Project=s(72930),o.ProjectUnit=s(62880),o.SetMagnitude=s(15093),n.exports=o},12306:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25717),T=r(function(c){return new o(c.points)},"Clone");n.exports=T},63814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){for(var c=!1,l=-1,u=s.points.length-1;++l<s.points.length;u=l){var h=s.points[l].x,f=s.points[l].y,v=s.points[u].x,d=s.points[u].y;(f<=T&&T<d||d<=T&&T<f)&&o<(v-h)*(T-f)/(d-f)+h&&(c=!c)}return c},"Contains");n.exports=C},99338:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63814),T=r(function(c,l){return o(c,l.x,l.y)},"ContainsPoint");n.exports=T},94811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(H,V,G){G=G||2;var k=V&&V.length,U=k?V[0]*G:H.length,I=s(H,0,U,G,!0),$=[];if(!I||I.next===I.prev)return $;var K,Z,J,Q,q,j,tt;if(k&&(I=f(H,V,I,G)),H.length>80*G){K=J=H[0],Z=Q=H[1];for(var st=G;st<U;st+=G)q=H[st],j=H[st+1],q<K&&(K=q),j<Z&&(Z=j),q>J&&(J=q),j>Q&&(Q=j);tt=Math.max(J-K,Q-Z),tt=tt!==0?32767/tt:0}return T(I,$,G,K,Z,tt,0),$}r(C,"earcut");function s(H,V,G,k,U){var I,$;if(U===X(H,V,G,k)>0)for(I=V;I<G;I+=k)$=Y(I,H[I],H[I+1],$);else for(I=G-k;I>=V;I-=k)$=Y(I,H[I],H[I+1],$);return $&&L($,$.next)&&(W($),$=$.next),$}r(s,"linkedList");function o(H,V){if(!H)return H;V||(V=H);var G=H,k;do if(k=!1,!G.steiner&&(L(G,G.next)||O(G.prev,G,G.next)===0)){if(W(G),G=V=G.prev,G===G.next)break;k=!0}else G=G.next;while(k||G!==V);return V}r(o,"filterPoints");function T(H,V,G,k,U,I,$){if(H){!$&&I&&m(H,k,U,I);for(var K=H,Z,J;H.prev!==H.next;){if(Z=H.prev,J=H.next,I?l(H,k,U,I):c(H)){V.push(Z.i/G|0),V.push(H.i/G|0),V.push(J.i/G|0),W(H),H=J.next,K=J.next;continue}if(H=J,H===K){$?$===1?(H=u(o(H),V,G),T(H,V,G,k,U,I,2)):$===2&&h(H,V,G,k,U,I):T(o(H),V,G,k,U,I,1);break}}}}r(T,"earcutLinked");function c(H){var V=H.prev,G=H,k=H.next;if(O(V,G,k)>=0)return!1;for(var U=V.x,I=G.x,$=k.x,K=V.y,Z=G.y,J=k.y,Q=U<I?U<$?U:$:I<$?I:$,q=K<Z?K<J?K:J:Z<J?Z:J,j=U>I?U>$?U:$:I>$?I:$,tt=K>Z?K>J?K:J:Z>J?Z:J,st=k.next;st!==V;){if(st.x>=Q&&st.x<=j&&st.y>=q&&st.y<=tt&&R(U,K,I,Z,$,J,st.x,st.y)&&O(st.prev,st,st.next)>=0)return!1;st=st.next}return!0}r(c,"isEar");function l(H,V,G,k){var U=H.prev,I=H,$=H.next;if(O(U,I,$)>=0)return!1;for(var K=U.x,Z=I.x,J=$.x,Q=U.y,q=I.y,j=$.y,tt=K<Z?K<J?K:J:Z<J?Z:J,st=Q<q?Q<j?Q:j:q<j?q:j,_=K>Z?K>J?K:J:Z>J?Z:J,ht=Q>q?Q>j?Q:j:q>j?q:j,ot=E(tt,st,V,G,k),lt=E(_,ht,V,G,k),et=H.prevZ,nt=H.nextZ;et&&et.z>=ot&&nt&&nt.z<=lt;){if(et.x>=tt&&et.x<=_&&et.y>=st&&et.y<=ht&&et!==U&&et!==$&&R(K,Q,Z,q,J,j,et.x,et.y)&&O(et.prev,et,et.next)>=0||(et=et.prevZ,nt.x>=tt&&nt.x<=_&&nt.y>=st&&nt.y<=ht&&nt!==U&&nt!==$&&R(K,Q,Z,q,J,j,nt.x,nt.y)&&O(nt.prev,nt,nt.next)>=0))return!1;nt=nt.nextZ}for(;et&&et.z>=ot;){if(et.x>=tt&&et.x<=_&&et.y>=st&&et.y<=ht&&et!==U&&et!==$&&R(K,Q,Z,q,J,j,et.x,et.y)&&O(et.prev,et,et.next)>=0)return!1;et=et.prevZ}for(;nt&&nt.z<=lt;){if(nt.x>=tt&&nt.x<=_&&nt.y>=st&&nt.y<=ht&&nt!==U&&nt!==$&&R(K,Q,Z,q,J,j,nt.x,nt.y)&&O(nt.prev,nt,nt.next)>=0)return!1;nt=nt.nextZ}return!0}r(l,"isEarHashed");function u(H,V,G){var k=H;do{var U=k.prev,I=k.next.next;!L(U,I)&&w(U,k,k.next,I)&&F(U,I)&&F(I,U)&&(V.push(U.i/G|0),V.push(k.i/G|0),V.push(I.i/G|0),W(k),W(k.next),k=H=I),k=k.next}while(k!==H);return o(k)}r(u,"cureLocalIntersections");function h(H,V,G,k,U,I){var $=H;do{for(var K=$.next.next;K!==$.prev;){if($.i!==K.i&&P($,K)){var Z=B($,K);$=o($,$.next),Z=o(Z,Z.next),T($,V,G,k,U,I,0),T(Z,V,G,k,U,I,0);return}K=K.next}$=$.next}while($!==H)}r(h,"splitEarcut");function f(H,V,G,k){var U=[],I,$,K,Z,J;for(I=0,$=V.length;I<$;I++)K=V[I]*k,Z=I<$-1?V[I+1]*k:H.length,J=s(H,K,Z,k,!1),J===J.next&&(J.steiner=!0),U.push(A(J));for(U.sort(v),I=0;I<U.length;I++)G=d(U[I],G);return G}r(f,"eliminateHoles");function v(H,V){return H.x-V.x}r(v,"compareX");function d(H,V){var G=p(H,V);if(!G)return V;var k=B(G,H);return o(k,k.next),o(G,G.next)}r(d,"eliminateHole");function p(H,V){var G=V,k=H.x,U=H.y,I=-1/0,$;do{if(U<=G.y&&U>=G.next.y&&G.next.y!==G.y){var K=G.x+(U-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(K<=k&&K>I&&(I=K,$=G.x<G.next.x?G:G.next,K===k))return $}G=G.next}while(G!==V);if(!$)return null;var Z=$,J=$.x,Q=$.y,q=1/0,j;G=$;do k>=G.x&&G.x>=J&&k!==G.x&&R(U<Q?k:I,U,J,Q,U<Q?I:k,U,G.x,G.y)&&(j=Math.abs(U-G.y)/(k-G.x),F(G,H)&&(j<q||j===q&&(G.x>$.x||G.x===$.x&&g($,G)))&&($=G,q=j)),G=G.next;while(G!==Z);return $}r(p,"findHoleBridge");function g(H,V){return O(H.prev,H,V.prev)<0&&O(V.next,H,H.next)<0}r(g,"sectorContainsSector");function m(H,V,G,k){var U=H;do U.z===0&&(U.z=E(U.x,U.y,V,G,k)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==H);U.prevZ.nextZ=null,U.prevZ=null,x(U)}r(m,"indexCurve");function x(H){var V,G,k,U,I,$,K,Z,J=1;do{for(G=H,H=null,I=null,$=0;G;){for($++,k=G,K=0,V=0;V<J&&(K++,k=k.nextZ,!!k);V++);for(Z=J;K>0||Z>0&&k;)K!==0&&(Z===0||!k||G.z<=k.z)?(U=G,G=G.nextZ,K--):(U=k,k=k.nextZ,Z--),I?I.nextZ=U:H=U,U.prevZ=I,I=U;G=k}I.nextZ=null,J*=2}while($>1);return H}r(x,"sortLinked");function E(H,V,G,k,U){return H=(H-G)*U|0,V=(V-k)*U|0,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,H|V<<1}r(E,"zOrder");function A(H){var V=H,G=H;do(V.x<G.x||V.x===G.x&&V.y<G.y)&&(G=V),V=V.next;while(V!==H);return G}r(A,"getLeftmost");function R(H,V,G,k,U,I,$,K){return(U-$)*(V-K)>=(H-$)*(I-K)&&(H-$)*(k-K)>=(G-$)*(V-K)&&(G-$)*(I-K)>=(U-$)*(k-K)}r(R,"pointInTriangle");function P(H,V){return H.next.i!==V.i&&H.prev.i!==V.i&&!D(H,V)&&(F(H,V)&&F(V,H)&&N(H,V)&&(O(H.prev,H,V.prev)||O(H,V.prev,V))||L(H,V)&&O(H.prev,H,H.next)>0&&O(V.prev,V,V.next)>0)}r(P,"isValidDiagonal");function O(H,V,G){return(V.y-H.y)*(G.x-V.x)-(V.x-H.x)*(G.y-V.y)}r(O,"area");function L(H,V){return H.x===V.x&&H.y===V.y}r(L,"equals");function w(H,V,G,k){var U=b(O(H,V,G)),I=b(O(H,V,k)),$=b(O(G,k,H)),K=b(O(G,k,V));return!!(U!==I&&$!==K||U===0&&M(H,G,V)||I===0&&M(H,k,V)||$===0&&M(G,H,k)||K===0&&M(G,V,k))}r(w,"intersects");function M(H,V,G){return V.x<=Math.max(H.x,G.x)&&V.x>=Math.min(H.x,G.x)&&V.y<=Math.max(H.y,G.y)&&V.y>=Math.min(H.y,G.y)}r(M,"onSegment");function b(H){return H>0?1:H<0?-1:0}r(b,"sign");function D(H,V){var G=H;do{if(G.i!==H.i&&G.next.i!==H.i&&G.i!==V.i&&G.next.i!==V.i&&w(G,G.next,H,V))return!0;G=G.next}while(G!==H);return!1}r(D,"intersectsPolygon");function F(H,V){return O(H.prev,H,H.next)<0?O(H,V,H.next)>=0&&O(H,H.prev,V)>=0:O(H,V,H.prev)<0||O(H,H.next,V)<0}r(F,"locallyInside");function N(H,V){var G=H,k=!1,U=(H.x+V.x)/2,I=(H.y+V.y)/2;do G.y>I!=G.next.y>I&&G.next.y!==G.y&&U<(G.next.x-G.x)*(I-G.y)/(G.next.y-G.y)+G.x&&(k=!k),G=G.next;while(G!==H);return k}r(N,"middleInside");function B(H,V){var G=new z(H.i,H.x,H.y),k=new z(V.i,V.x,V.y),U=H.next,I=V.prev;return H.next=V,V.prev=H,G.next=U,U.prev=G,k.next=G,G.prev=k,I.next=k,k.prev=I,k}r(B,"splitPolygon");function Y(H,V,G,k){var U=new z(H,V,G);return k?(U.next=k.next,U.prev=k,k.next.prev=U,k.next=U):(U.prev=U,U.next=U),U}r(Y,"insertNode");function W(H){H.next.prev=H.prev,H.prev.next=H.next,H.prevZ&&(H.prevZ.nextZ=H.nextZ),H.nextZ&&(H.nextZ.prevZ=H.prevZ)}r(W,"removeNode");function z(H,V,G){this.i=H,this.x=V,this.y=G,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}r(z,"Node"),C.deviation=function(H,V,G,k){var U=V&&V.length,I=U?V[0]*G:H.length,$=Math.abs(X(H,0,I,G));if(U)for(var K=0,Z=V.length;K<Z;K++){var J=V[K]*G,Q=K<Z-1?V[K+1]*G:H.length;$-=Math.abs(X(H,J,Q,G))}var q=0;for(K=0;K<k.length;K+=3){var j=k[K]*G,tt=k[K+1]*G,st=k[K+2]*G;q+=Math.abs((H[j]-H[st])*(H[tt+1]-H[j+1])-(H[j]-H[tt])*(H[st+1]-H[j+1]))}return $===0&&q===0?0:Math.abs((q-$)/$)};function X(H,V,G,k){for(var U=0,I=V,$=G-k;I<G;I+=k)U+=(H[$]-H[I])*(H[I+1]+H[$+1]),$=I;return U}r(X,"signedArea"),C.flatten=function(H){for(var V=H[0][0].length,G={vertices:[],holes:[],dimensions:V},k=0,U=0;U<H.length;U++){for(var I=0;I<H[U].length;I++)for(var $=0;$<V;$++)G.vertices.push(H[U][I][$]);U>0&&(k+=H[U-1].length,G.holes.push(k))}return G},n.exports=C},13829:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=r(function(c,l){l===void 0&&(l=new o);for(var u=1/0,h=1/0,f=-u,v=-h,d,p=0;p<c.points.length;p++)d=c.points[p],u=Math.min(u,d.x),h=Math.min(h,d.y),f=Math.max(f,d.x),v=Math.max(v,d.y);return l.x=u,l.y=h,l.width=f-u,l.height=v-h,l},"GetAABB");n.exports=T},26173:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o===void 0&&(o=[]);for(var T=0;T<s.points.length;T++)o.push(s.points[T].x),o.push(s.points[T].y);return o},"GetNumberArray");n.exports=C},9564:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),T=s(23031),c=s(30052),l=r(function(u,h,f,v){v===void 0&&(v=[]);var d=u.points,p=c(u);!h&&f>0&&(h=p/f);for(var g=0;g<h;g++)for(var m=p*(g/h),x=0,E=0;E<d.length;E++){var A=d[E],R=d[(E+1)%d.length],P=new T(A.x,A.y,R.x,R.y),O=o(P);if(m<x||m>x+O){x+=O;continue}var L=P.getPoint((m-x)/O);v.push(L);break}return v},"GetPoints");n.exports=l},30052:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),T=s(23031),c=r(function(l){for(var u=l.points,h=0,f=0;f<u.length;f++){var v=u[f],d=u[(f+1)%u.length],p=new T(v.x,v.y,d.x,d.y);h+=o(p)}return h},"Perimeter");n.exports=c},25717:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(63814),c=s(9564),l=s(23777),u=new o({initialize:r(function(f){this.type=l.POLYGON,this.area=0,this.points=[],f&&this.setTo(f)},"Polygon"),contains:r(function(h,f){return T(this,h,f)},"contains"),setTo:r(function(h){if(this.area=0,this.points=[],typeof h=="string"&&(h=h.split(" ")),!Array.isArray(h))return this;for(var f,v=0;v<h.length;v++)f={x:0,y:0},typeof h[v]=="number"||typeof h[v]=="string"?(f.x=parseFloat(h[v]),f.y=parseFloat(h[v+1]),v++):Array.isArray(h[v])?(f.x=h[v][0],f.y=h[v][1]):(f.x=h[v].x,f.y=h[v].y),this.points.push(f);return this.calculateArea(),this},"setTo"),calculateArea:r(function(){if(this.points.length<3)return this.area=0,this.area;for(var h=0,f,v,d=0;d<this.points.length-1;d++)f=this.points[d],v=this.points[d+1],h+=(v.x-f.x)*(f.y+v.y);return f=this.points[0],v=this.points[this.points.length-1],h+=(f.x-v.x)*(v.y+f.y),this.area=-h*.5,this.area},"calculateArea"),getPoints:r(function(h,f,v){return c(this,h,f,v)},"getPoints")});n.exports=u},8133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.points.reverse(),s},"Reverse");n.exports=C},29524:n=>{function C(u,h){var f=u.x-h.x,v=u.y-h.y;return f*f+v*v}r(C,"getSqDist");function s(u,h,f){var v=h.x,d=h.y,p=f.x-v,g=f.y-d;if(p!==0||g!==0){var m=((u.x-v)*p+(u.y-d)*g)/(p*p+g*g);m>1?(v=f.x,d=f.y):m>0&&(v+=p*m,d+=g*m)}return p=u.x-v,g=u.y-d,p*p+g*g}r(s,"getSqSegDist");function o(u,h){for(var f=u[0],v=[f],d,p=1,g=u.length;p<g;p++)d=u[p],C(d,f)>h&&(v.push(d),f=d);return f!==d&&v.push(d),v}r(o,"simplifyRadialDist");function T(u,h,f,v,d){for(var p=v,g,m=h+1;m<f;m++){var x=s(u[m],u[h],u[f]);x>p&&(g=m,p=x)}p>v&&(g-h>1&&T(u,h,g,v,d),d.push(u[g]),f-g>1&&T(u,g,f,v,d))}r(T,"simplifyDPStep");function c(u,h){var f=u.length-1,v=[u[0]];return T(u,0,f,h,v),v.push(u[f]),v}r(c,"simplifyDouglasPeucker");var l=r(function(u,h,f){h===void 0&&(h=1),f===void 0&&(f=!1);var v=u.points;if(v.length>2){var d=h*h;f||(v=o(v,d)),u.setTo(c(v,d))}return u},"Simplify");n.exports=l},5469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(o,T){return o[0]=T[0],o[1]=T[1],o},"copy"),s=r(function(o){var T,c=[],l=o.points;for(T=0;T<l.length;T++)c.push([l[T].x,l[T].y]);var u=[];for(c.length>0&&u.push(C([0,0],c[0])),T=0;T<c.length-1;T++){var h=c[T],f=c[T+1],v=h[0],d=h[1],p=f[0],g=f[1];u.push([.85*v+.15*p,.85*d+.15*g]),u.push([.15*v+.85*p,.15*d+.85*g])}return c.length>1&&u.push(C([0,0],c[c.length-1])),o.setTo(u)},"Smooth");n.exports=s},24709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){for(var c=s.points,l=0;l<c.length;l++)c[l].x+=o,c[l].y+=T;return s},"Translate");n.exports=C},58423:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25717);o.Clone=s(12306),o.Contains=s(63814),o.ContainsPoint=s(99338),o.Earcut=s(94811),o.GetAABB=s(13829),o.GetNumberArray=s(26173),o.GetPoints=s(9564),o.Perimeter=s(30052),o.Reverse=s(8133),o.Simplify=s(29524),o.Smooth=s(5469),o.Translate=s(24709),n.exports=o},62224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.width*s.height},"Area");n.exports=C},98615:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s},"Ceil");n.exports=C},31688:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s.width=Math.ceil(s.width),s.height=Math.ceil(s.height),s},"CeilAll");n.exports=C},67502:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s.x=o-s.width/2,s.y=T-s.height/2,s},"CenterOn");n.exports=C},65085:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=r(function(c){return new o(c.x,c.y,c.width,c.height)},"Clone");n.exports=T},37303:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s.width<=0||s.height<=0?!1:s.x<=o&&s.x+s.width>=o&&s.y<=T&&s.y+s.height>=T},"Contains");n.exports=C},96553:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37303),T=r(function(c,l){return o(c,l.x,l.y)},"ContainsPoint");n.exports=T},70273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o.width*o.height>s.width*s.height?!1:o.x>s.x&&o.x<s.right&&o.right>s.x&&o.right<s.right&&o.y>s.y&&o.y<s.bottom&&o.bottom>s.y&&o.bottom<s.bottom},"ContainsRect");n.exports=C},43459:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o.setTo(s.x,s.y,s.width,s.height)},"CopyFrom");n.exports=C},77493:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o===void 0&&(o=[]),o.push({x:s.x,y:s.y}),o.push({x:s.right,y:s.y}),o.push({x:s.right,y:s.bottom}),o.push({x:s.x,y:s.bottom}),o},"Decompose");n.exports=C},9219:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x===o.x&&s.y===o.y&&s.width===o.width&&s.height===o.height},"Equals");n.exports=C},53751:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8249),T=r(function(c,l){var u=o(c);return u<o(l)?c.setSize(l.height*u,l.height):c.setSize(l.width,l.width/u),c.setPosition(l.centerX-c.width/2,l.centerY-c.height/2)},"FitInside");n.exports=T},16088:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8249),T=r(function(c,l){var u=o(c);return u>o(l)?c.setSize(l.height*u,l.height):c.setSize(l.width,l.width/u),c.setPosition(l.centerX-c.width/2,l.centerY-c.height/2)},"FitOutside");n.exports=T},80774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s},"Floor");n.exports=C},83859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s.width=Math.floor(s.width),s.height=Math.floor(s.height),s},"FloorAll");n.exports=C},19217:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=s(36383),c=r(function(l,u){if(u===void 0&&(u=new o),l.length===0)return u;for(var h=Number.MAX_VALUE,f=Number.MAX_VALUE,v=T.MIN_SAFE_INTEGER,d=T.MIN_SAFE_INTEGER,p,g,m,x=0;x<l.length;x++)p=l[x],Array.isArray(p)?(g=p[0],m=p[1]):(g=p.x,m=p.y),h=Math.min(h,g),f=Math.min(f,m),v=Math.max(v,g),d=Math.max(d,m);return u.x=h,u.y=f,u.width=v-h,u.height=d-f,u},"FromPoints");n.exports=c},9477:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=r(function(c,l,u,h,f){return f===void 0&&(f=new o),f.setTo(Math.min(c,u),Math.min(l,h),Math.abs(c-u),Math.abs(l-h))},"FromXY");n.exports=T},8249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.height===0?NaN:s.width/s.height},"GetAspectRatio");n.exports=C},27165:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l){return l===void 0&&(l=new o),l.x=c.centerX,l.y=c.centerY,l},"GetCenter");n.exports=T},20812:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13019),T=s(2141),c=r(function(l,u,h){if(h===void 0&&(h=new T),u<=0||u>=1)return h.x=l.x,h.y=l.y,h;var f=o(l)*u;return u>.5?(f-=l.width+l.height,f<=l.width?(h.x=l.right-f,h.y=l.bottom):(h.x=l.x,h.y=l.bottom-(f-l.width))):f<=l.width?(h.x=l.x+f,h.y=l.y):(h.x=l.right,h.y=l.y+(f-l.width)),h},"GetPoint");n.exports=c},34819:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20812),T=s(13019),c=r(function(l,u,h,f){f===void 0&&(f=[]),!u&&h>0&&(u=T(l)/h);for(var v=0;v<u;v++){var d=v/u;f.push(o(l,d))}return f},"GetPoints");n.exports=c},51313:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l){return l===void 0&&(l=new o),l.x=c.width,l.y=c.height,l},"GetSize");n.exports=T},86091:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(67502),T=r(function(c,l,u){var h=c.centerX,f=c.centerY;return c.setSize(c.width+l*2,c.height+u*2),o(c,h,f)},"Inflate");n.exports=T},53951:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=s(59996),c=r(function(l,u,h){return h===void 0&&(h=new o),T(l,u)?(h.x=Math.max(l.x,u.x),h.y=Math.max(l.y,u.y),h.width=Math.min(l.right,u.right)-h.x,h.height=Math.min(l.bottom,u.bottom)-h.y):h.setEmpty(),h},"Intersection");n.exports=c},14649:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13019),T=s(2141),c=r(function(l,u,h,f){if(f===void 0&&(f=[]),!u&&!h)return f;u?h=Math.round(o(l)/u):u=o(l)/h;for(var v=l.x,d=l.y,p=0,g=0;g<h;g++)switch(f.push(new T(v,d)),p){case 0:v+=u,v>=l.right&&(p=1,d+=v-l.right,v=l.right);break;case 1:d+=u,d>=l.bottom&&(p=2,v-=d-l.bottom,d=l.bottom);break;case 2:v-=u,v<=l.left&&(p=3,d-=l.left-v,v=l.left);break;case 3:d-=u,d<=l.top&&(p=0,d=l.top);break}return f},"MarchingAnts");n.exports=c},33595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){for(var T=s.x,c=s.right,l=s.y,u=s.bottom,h=0;h<o.length;h++)T=Math.min(T,o[h].x),c=Math.max(c,o[h].x),l=Math.min(l,o[h].y),u=Math.max(u,o[h].y);return s.x=T,s.y=l,s.width=c-T,s.height=u-l,s},"MergePoints");n.exports=C},20074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=Math.min(s.x,o.x),c=Math.max(s.right,o.right);s.x=T,s.width=c-T;var l=Math.min(s.y,o.y),u=Math.max(s.bottom,o.bottom);return s.y=l,s.height=u-l,s},"MergeRect");n.exports=C},92171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=Math.min(s.x,o),l=Math.max(s.right,o);s.x=c,s.width=l-c;var u=Math.min(s.y,T),h=Math.max(s.bottom,T);return s.y=u,s.height=h-u,s},"MergeXY");n.exports=C},42981:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s.x+=o,s.y+=T,s},"Offset");n.exports=C},46907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x+=o.x,s.y+=o.y,s},"OffsetPoint");n.exports=C},60170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x<o.right&&s.right>o.x&&s.y<o.bottom&&s.bottom>o.y},"Overlaps");n.exports=C},13019:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return 2*(s.width+s.height)},"Perimeter");n.exports=C},85133:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=s(39506),c=r(function(l,u,h){h===void 0&&(h=new o),u=T(u);var f=Math.sin(u),v=Math.cos(u),d=v>0?l.width/2:l.width/-2,p=f>0?l.height/2:l.height/-2;return Math.abs(d*f)<Math.abs(p*v)?p=d*f/v:d=p*v/f,h.x=d+l.centerX,h.y=p+l.centerY,h},"PerimeterPoint");n.exports=c},26597:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l){return l===void 0&&(l=new o),l.x=c.x+Math.random()*c.width,l.y=c.y+Math.random()*c.height,l},"Random");n.exports=T},86470:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),T=s(70273),c=s(2141),l=r(function(u,h,f){if(f===void 0&&(f=new c),T(u,h))switch(o(0,3)){case 0:f.x=u.x+Math.random()*(h.right-u.x),f.y=u.y+Math.random()*(h.top-u.y);break;case 1:f.x=h.x+Math.random()*(u.right-h.x),f.y=h.bottom+Math.random()*(u.bottom-h.bottom);break;case 2:f.x=u.x+Math.random()*(h.x-u.x),f.y=h.y+Math.random()*(u.bottom-h.y);break;case 3:f.x=h.right+Math.random()*(u.right-h.right),f.y=u.y+Math.random()*(h.bottom-u.y);break}return f},"RandomOutside");n.exports=l},87841:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(37303),c=s(20812),l=s(34819),u=s(23777),h=s(23031),f=s(26597),v=new o({initialize:r(function(p,g,m,x){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),this.type=u.RECTANGLE,this.x=p,this.y=g,this.width=m,this.height=x},"Rectangle"),contains:r(function(d,p){return T(this,d,p)},"contains"),getPoint:r(function(d,p){return c(this,d,p)},"getPoint"),getPoints:r(function(d,p,g){return l(this,d,p,g)},"getPoints"),getRandomPoint:r(function(d){return f(this,d)},"getRandomPoint"),setTo:r(function(d,p,g,m){return this.x=d,this.y=p,this.width=g,this.height=m,this},"setTo"),setEmpty:r(function(){return this.setTo(0,0,0,0)},"setEmpty"),setPosition:r(function(d,p){return p===void 0&&(p=d),this.x=d,this.y=p,this},"setPosition"),setSize:r(function(d,p){return p===void 0&&(p=d),this.width=d,this.height=p,this},"setSize"),isEmpty:r(function(){return this.width<=0||this.height<=0},"isEmpty"),getLineA:r(function(d){return d===void 0&&(d=new h),d.setTo(this.x,this.y,this.right,this.y),d},"getLineA"),getLineB:r(function(d){return d===void 0&&(d=new h),d.setTo(this.right,this.y,this.right,this.bottom),d},"getLineB"),getLineC:r(function(d){return d===void 0&&(d=new h),d.setTo(this.right,this.bottom,this.x,this.bottom),d},"getLineC"),getLineD:r(function(d){return d===void 0&&(d=new h),d.setTo(this.x,this.bottom,this.x,this.y),d},"getLineD"),left:{get:r(function(){return this.x},"get"),set:r(function(d){d>=this.right?this.width=0:this.width=this.right-d,this.x=d},"set")},right:{get:r(function(){return this.x+this.width},"get"),set:r(function(d){d<=this.x?this.width=0:this.width=d-this.x},"set")},top:{get:r(function(){return this.y},"get"),set:r(function(d){d>=this.bottom?this.height=0:this.height=this.bottom-d,this.y=d},"set")},bottom:{get:r(function(){return this.y+this.height},"get"),set:r(function(d){d<=this.y?this.height=0:this.height=d-this.y},"set")},centerX:{get:r(function(){return this.x+this.width/2},"get"),set:r(function(d){this.x=d-this.width/2},"set")},centerY:{get:r(function(){return this.y+this.height/2},"get"),set:r(function(d){this.y=d-this.height/2},"set")}});n.exports=v},94845:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.width===o.width&&s.height===o.height},"SameDimensions");n.exports=C},31730:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return T===void 0&&(T=o),s.width*=o,s.height*=T,s},"Scale");n.exports=C},36899:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=r(function(c,l,u){u===void 0&&(u=new o);var h=Math.min(c.x,l.x),f=Math.min(c.y,l.y),v=Math.max(c.right,l.right)-h,d=Math.max(c.bottom,l.bottom)-f;return u.setTo(h,f,v,d)},"Union");n.exports=T},93232:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841);o.Area=s(62224),o.Ceil=s(98615),o.CeilAll=s(31688),o.CenterOn=s(67502),o.Clone=s(65085),o.Contains=s(37303),o.ContainsPoint=s(96553),o.ContainsRect=s(70273),o.CopyFrom=s(43459),o.Decompose=s(77493),o.Equals=s(9219),o.FitInside=s(53751),o.FitOutside=s(16088),o.Floor=s(80774),o.FloorAll=s(83859),o.FromPoints=s(19217),o.FromXY=s(9477),o.GetAspectRatio=s(8249),o.GetCenter=s(27165),o.GetPoint=s(20812),o.GetPoints=s(34819),o.GetSize=s(51313),o.Inflate=s(86091),o.Intersection=s(53951),o.MarchingAnts=s(14649),o.MergePoints=s(33595),o.MergeRect=s(20074),o.MergeXY=s(92171),o.Offset=s(42981),o.OffsetPoint=s(46907),o.Overlaps=s(60170),o.Perimeter=s(13019),o.PerimeterPoint=s(85133),o.Random=s(26597),o.RandomOutside=s(86470),o.SameDimensions=s(94845),o.Scale=s(31730),o.Union=s(36899),n.exports=o},41658:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o=s.x1,T=s.y1,c=s.x2,l=s.y2,u=s.x3,h=s.y3;return Math.abs(((u-o)*(l-T)-(c-o)*(h-T))/2)},"Area");n.exports=C},39208:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483),T=r(function(c,l,u){var h=u*(Math.sqrt(3)/2),f=c,v=l,d=c+u/2,p=l+h,g=c-u/2,m=l+h;return new o(f,v,d,p,g,m)},"BuildEquilateral");n.exports=T},39545:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(94811),T=s(16483),c=r(function(l,u,h,f,v){u===void 0&&(u=null),h===void 0&&(h=1),f===void 0&&(f=1),v===void 0&&(v=[]);for(var d=o(l,u),p,g,m,x,E,A,R,P,O,L=0;L<d.length;L+=3)p=d[L],g=d[L+1],m=d[L+2],x=l[p*2]*h,E=l[p*2+1]*f,A=l[g*2]*h,R=l[g*2+1]*f,P=l[m*2]*h,O=l[m*2+1]*f,v.push(new T(x,E,A,R,P,O));return v},"BuildFromPolygon");n.exports=c},90301:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483),T=r(function(c,l,u,h){h===void 0&&(h=u);var f=c,v=l,d=c,p=l-h,g=c+u,m=l;return new o(f,v,d,p,g,m)},"BuildRight");n.exports=T},23707:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97523),T=s(13584),c=r(function(l,u,h,f){f===void 0&&(f=o);var v=f(l),d=u-v.x,p=h-v.y;return T(l,d,p)},"CenterOn");n.exports=c},97523:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l){return l===void 0&&(l=new o),l.x=(c.x1+c.x2+c.x3)/3,l.y=(c.y1+c.y2+c.y3)/3,l},"Centroid");n.exports=T},24951:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099);function T(l,u,h,f){return l*f-u*h}r(T,"det");var c=r(function(l,u){u===void 0&&(u=new o);var h=l.x3,f=l.y3,v=l.x1-h,d=l.y1-f,p=l.x2-h,g=l.y2-f,m=2*T(v,d,p,g),x=T(d,v*v+d*d,g,p*p+g*g),E=T(v,v*v+d*d,p,p*p+g*g);return u.x=h-x/m,u.y=f+E/m,u},"CircumCenter");n.exports=c},85614:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),T=r(function(c,l){l===void 0&&(l=new o);var u=c.x1,h=c.y1,f=c.x2,v=c.y2,d=c.x3,p=c.y3,g=f-u,m=v-h,x=d-u,E=p-h,A=g*(u+f)+m*(h+v),R=x*(u+d)+E*(h+p),P=2*(g*(p-v)-m*(d-f)),O,L;if(Math.abs(P)<1e-6){var w=Math.min(u,f,d),M=Math.min(h,v,p);O=(Math.max(u,f,d)-w)*.5,L=(Math.max(h,v,p)-M)*.5,l.x=w+O,l.y=M+L,l.radius=Math.sqrt(O*O+L*L)}else l.x=(E*A-m*R)/P,l.y=(g*R-x*A)/P,O=l.x-u,L=l.y-h,l.radius=Math.sqrt(O*O+L*L);return l},"CircumCircle");n.exports=T},74422:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483),T=r(function(c){return new o(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},"Clone");n.exports=T},10690:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=s.x3-s.x1,l=s.y3-s.y1,u=s.x2-s.x1,h=s.y2-s.y1,f=o-s.x1,v=T-s.y1,d=c*c+l*l,p=c*u+l*h,g=c*f+l*v,m=u*u+h*h,x=u*f+h*v,E=d*m-p*p,A=E===0?0:1/E,R=(m*g-p*x)*A,P=(d*x-p*g)*A;return R>=0&&P>=0&&R+P<1},"Contains");n.exports=C},48653:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){T===void 0&&(T=!1),c===void 0&&(c=[]);for(var l=s.x3-s.x1,u=s.y3-s.y1,h=s.x2-s.x1,f=s.y2-s.y1,v=l*l+u*u,d=l*h+u*f,p=h*h+f*f,g=v*p-d*d,m=g===0?0:1/g,x,E,A,R,P,O,L=s.x1,w=s.y1,M=0;M<o.length&&(A=o[M].x-L,R=o[M].y-w,P=l*A+u*R,O=h*A+f*R,x=(p*P-d*O)*m,E=(v*O-d*P)*m,!(x>=0&&E>=0&&x+E<1&&(c.push({x:o[M].x,y:o[M].y}),T)));M++);return c},"ContainsArray");n.exports=C},96006:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10690),T=r(function(c,l){return o(c,l.x,l.y)},"ContainsPoint");n.exports=T},71326:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o.setTo(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)},"CopyFrom");n.exports=C},71694:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o===void 0&&(o=[]),o.push({x:s.x1,y:s.y1}),o.push({x:s.x2,y:s.y2}),o.push({x:s.x3,y:s.y3}),o},"Decompose");n.exports=C},33522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.x1===o.x1&&s.y1===o.y1&&s.x2===o.x2&&s.y2===o.y2&&s.x3===o.x3&&s.y3===o.y3},"Equals");n.exports=C},20437:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=s(35001),c=r(function(l,u,h){h===void 0&&(h=new o);var f=l.getLineA(),v=l.getLineB(),d=l.getLineC();if(u<=0||u>=1)return h.x=f.x1,h.y=f.y1,h;var p=T(f),g=T(v),m=T(d),x=p+g+m,E=x*u,A=0;return E<p?(A=E/p,h.x=f.x1+(f.x2-f.x1)*A,h.y=f.y1+(f.y2-f.y1)*A):E>p+g?(E-=p+g,A=E/m,h.x=d.x1+(d.x2-d.x1)*A,h.y=d.y1+(d.y2-d.y1)*A):(E-=p,A=E/g,h.x=v.x1+(v.x2-v.x1)*A,h.y=v.y1+(v.y2-v.y1)*A),h},"GetPoint");n.exports=c},80672:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),T=s(2141),c=r(function(l,u,h,f){f===void 0&&(f=[]);var v=l.getLineA(),d=l.getLineB(),p=l.getLineC(),g=o(v),m=o(d),x=o(p),E=g+m+x;!u&&h>0&&(u=E/h);for(var A=0;A<u;A++){var R=E*(A/u),P=0,O=new T;R<g?(P=R/g,O.x=v.x1+(v.x2-v.x1)*P,O.y=v.y1+(v.y2-v.y1)*P):R>g+m?(R-=g+m,P=R/x,O.x=p.x1+(p.x2-p.x1)*P,O.y=p.y1+(p.y2-p.y1)*P):(R-=g,P=R/m,O.x=d.x1+(d.x2-d.x1)*P,O.y=d.y1+(d.y2-d.y1)*P),f.push(O)}return f},"GetPoints");n.exports=c},39757:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141);function T(l,u,h,f){var v=l-h,d=u-f,p=v*v+d*d;return Math.sqrt(p)}r(T,"getLength");var c=r(function(l,u){u===void 0&&(u=new o);var h=l.x1,f=l.y1,v=l.x2,d=l.y2,p=l.x3,g=l.y3,m=T(p,g,v,d),x=T(h,f,p,g),E=T(v,d,h,f),A=m+x+E;return u.x=(h*m+v*x+p*E)/A,u.y=(f*m+d*x+g*E)/A,u},"InCenter");n.exports=c},13584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s.x1+=o,s.y1+=T,s.x2+=o,s.y2+=T,s.x3+=o,s.y3+=T,s},"Offset");n.exports=C},1376:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),T=r(function(c){var l=c.getLineA(),u=c.getLineB(),h=c.getLineC();return o(l)+o(u)+o(h)},"Perimeter");n.exports=T},90260:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),T=r(function(c,l){l===void 0&&(l=new o);var u=c.x2-c.x1,h=c.y2-c.y1,f=c.x3-c.x1,v=c.y3-c.y1,d=Math.random(),p=Math.random();return d+p>=1&&(d=1-d,p=1-p),l.x=c.x1+(u*d+f*p),l.y=c.y1+(h*d+v*p),l},"Random");n.exports=T},52172:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99614),T=s(39757),c=r(function(l,u){var h=T(l);return o(l,h.x,h.y,u)},"Rotate");n.exports=c},49907:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99614),T=r(function(c,l,u){return o(c,l.x,l.y,u)},"RotateAroundPoint");n.exports=T},99614:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=Math.cos(c),u=Math.sin(c),h=s.x1-o,f=s.y1-T;return s.x1=h*l-f*u+o,s.y1=h*u+f*l+T,h=s.x2-o,f=s.y2-T,s.x2=h*l-f*u+o,s.y2=h*u+f*l+T,h=s.x3-o,f=s.y3-T,s.x3=h*l-f*u+o,s.y3=h*u+f*l+T,s},"RotateAroundXY");n.exports=C},16483:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(10690),c=s(20437),l=s(80672),u=s(23777),h=s(23031),f=s(90260),v=new o({initialize:r(function(p,g,m,x,E,A){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),E===void 0&&(E=0),A===void 0&&(A=0),this.type=u.TRIANGLE,this.x1=p,this.y1=g,this.x2=m,this.y2=x,this.x3=E,this.y3=A},"Triangle"),contains:r(function(d,p){return T(this,d,p)},"contains"),getPoint:r(function(d,p){return c(this,d,p)},"getPoint"),getPoints:r(function(d,p,g){return l(this,d,p,g)},"getPoints"),getRandomPoint:r(function(d){return f(this,d)},"getRandomPoint"),setTo:r(function(d,p,g,m,x,E){return d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),E===void 0&&(E=0),this.x1=d,this.y1=p,this.x2=g,this.y2=m,this.x3=x,this.y3=E,this},"setTo"),getLineA:r(function(d){return d===void 0&&(d=new h),d.setTo(this.x1,this.y1,this.x2,this.y2),d},"getLineA"),getLineB:r(function(d){return d===void 0&&(d=new h),d.setTo(this.x2,this.y2,this.x3,this.y3),d},"getLineB"),getLineC:r(function(d){return d===void 0&&(d=new h),d.setTo(this.x3,this.y3,this.x1,this.y1),d},"getLineC"),left:{get:r(function(){return Math.min(this.x1,this.x2,this.x3)},"get"),set:r(function(d){var p=0;this.x1<=this.x2&&this.x1<=this.x3?p=this.x1-d:this.x2<=this.x1&&this.x2<=this.x3?p=this.x2-d:p=this.x3-d,this.x1-=p,this.x2-=p,this.x3-=p},"set")},right:{get:r(function(){return Math.max(this.x1,this.x2,this.x3)},"get"),set:r(function(d){var p=0;this.x1>=this.x2&&this.x1>=this.x3?p=this.x1-d:this.x2>=this.x1&&this.x2>=this.x3?p=this.x2-d:p=this.x3-d,this.x1-=p,this.x2-=p,this.x3-=p},"set")},top:{get:r(function(){return Math.min(this.y1,this.y2,this.y3)},"get"),set:r(function(d){var p=0;this.y1<=this.y2&&this.y1<=this.y3?p=this.y1-d:this.y2<=this.y1&&this.y2<=this.y3?p=this.y2-d:p=this.y3-d,this.y1-=p,this.y2-=p,this.y3-=p},"set")},bottom:{get:r(function(){return Math.max(this.y1,this.y2,this.y3)},"get"),set:r(function(d){var p=0;this.y1>=this.y2&&this.y1>=this.y3?p=this.y1-d:this.y2>=this.y1&&this.y2>=this.y3?p=this.y2-d:p=this.y3-d,this.y1-=p,this.y2-=p,this.y3-=p},"set")}});n.exports=v},84435:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483);o.Area=s(41658),o.BuildEquilateral=s(39208),o.BuildFromPolygon=s(39545),o.BuildRight=s(90301),o.CenterOn=s(23707),o.Centroid=s(97523),o.CircumCenter=s(24951),o.CircumCircle=s(85614),o.Clone=s(74422),o.Contains=s(10690),o.ContainsArray=s(48653),o.ContainsPoint=s(96006),o.CopyFrom=s(71326),o.Decompose=s(71694),o.Equals=s(33522),o.GetPoint=s(20437),o.GetPoints=s(80672),o.InCenter=s(39757),o.Perimeter=s(1376),o.Offset=s(13584),o.Random=s(90260),o.Rotate=s(52172),o.RotateAroundPoint=s(49907),o.RotateAroundXY=s(99614),n.exports=o},74457:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return{gameObject:s,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:T,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}},"CreateInteractiveObject");n.exports=C},84409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return function(T,c,l,u){var h=s.getPixelAlpha(c,l,u.texture.key,u.frame.name);return h&&h>=o}},"CreatePixelPerfectHandler");n.exports=C},7003:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(93301),c=s(50792),l=s(8214),u=s(8443),h=s(78970),f=s(85098),v=s(42515),d=s(36210),p=s(61340),g=s(85955),m=new o({initialize:r(function(E,A){this.game=E,this.scaleManager,this.canvas,this.config=A,this.enabled=!0,this.events=new c,this.isOver=!0,this.defaultCursor="",this.keyboard=A.inputKeyboard?new h(this):null,this.mouse=A.inputMouse?new f(this):null,this.touch=A.inputTouch?new d(this):null,this.pointers=[],this.pointersTotal=A.inputActivePointers;for(var R=0;R<=this.pointersTotal;R++){var P=new v(this,R);P.smoothFactor=A.inputSmoothFactor,this.pointers.push(P)}this.mousePointer=A.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new p,this._tempMatrix2=new p,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],E.events.once(u.BOOT,this.boot,this)},"InputManager"),boot:r(function(){var x=this.game,E=x.events;this.canvas=x.canvas,this.scaleManager=x.scale,this.events.emit(l.MANAGER_BOOT),E.on(u.PRE_RENDER,this.preRender,this),E.once(u.DESTROY,this.destroy,this)},"boot"),setCanvasOver:r(function(x){this.isOver=!0,this.events.emit(l.GAME_OVER,x)},"setCanvasOver"),setCanvasOut:r(function(x){this.isOver=!1,this.events.emit(l.GAME_OUT,x)},"setCanvasOut"),preRender:r(function(){var x=this.game.loop.now,E=this.game.loop.delta,A=this.game.scene.getScenes(!0,!0);this.time=x,this.events.emit(l.MANAGER_UPDATE);for(var R=0;R<A.length;R++){var P=A[R];if(P.sys.input&&P.sys.input.updatePoll(x,E)&&this.globalTopOnly)return}},"preRender"),setDefaultCursor:r(function(x){this.defaultCursor=x,this.canvas.style.cursor!==x&&(this.canvas.style.cursor=x)},"setDefaultCursor"),setCursor:r(function(x){x.cursor&&(this.canvas.style.cursor=x.cursor)},"setCursor"),resetCursor:r(function(x,E){(E||x&&x.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},"resetCursor"),addPointer:r(function(x){x===void 0&&(x=1);var E=[];this.pointersTotal+x>10&&(x=10-this.pointersTotal);for(var A=0;A<x;A++){var R=this.pointers.length,P=new v(this,R);P.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(P),this.pointersTotal++,E.push(P)}return E},"addPointer"),updateInputPlugins:r(function(x,E){var A=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var R=0;R<A.length;R++){var P=A[R];if(P.sys.input){var O=P.sys.input.update(x,E);if(O&&this.globalTopOnly||this._tempSkip)return}}},"updateInputPlugins"),onTouchStart:r(function(x){for(var E=this.pointers,A=[],R=0;R<x.changedTouches.length;R++)for(var P=x.changedTouches[R],O=1;O<E.length;O++){var L=E[O];if(!L.active){L.touchstart(P,x),this.activePointer=L,A.push(L);break}}this.updateInputPlugins(T.TOUCH_START,A)},"onTouchStart"),onTouchMove:r(function(x){for(var E=this.pointers,A=[],R=0;R<x.changedTouches.length;R++)for(var P=x.changedTouches[R],O=1;O<E.length;O++){var L=E[O];if(L.active&&L.identifier===P.identifier){var w=document.elementFromPoint(P.clientX,P.clientY),M=w===this.canvas;!this.isOver&&M?this.setCanvasOver(x):this.isOver&&!M&&this.setCanvasOut(x),this.isOver&&(L.touchmove(P,x),this.activePointer=L,A.push(L));break}}this.updateInputPlugins(T.TOUCH_MOVE,A)},"onTouchMove"),onTouchEnd:r(function(x){for(var E=this.pointers,A=[],R=0;R<x.changedTouches.length;R++)for(var P=x.changedTouches[R],O=1;O<E.length;O++){var L=E[O];if(L.active&&L.identifier===P.identifier){L.touchend(P,x),A.push(L);break}}this.updateInputPlugins(T.TOUCH_END,A)},"onTouchEnd"),onTouchCancel:r(function(x){for(var E=this.pointers,A=[],R=0;R<x.changedTouches.length;R++)for(var P=x.changedTouches[R],O=1;O<E.length;O++){var L=E[O];if(L.active&&L.identifier===P.identifier){L.touchcancel(P,x),A.push(L);break}}this.updateInputPlugins(T.TOUCH_CANCEL,A)},"onTouchCancel"),onMouseDown:r(function(x){var E=this.mousePointer;E.down(x),E.updateMotion(),this.activePointer=E,this.updateInputPlugins(T.MOUSE_DOWN,this.mousePointerContainer)},"onMouseDown"),onMouseMove:r(function(x){var E=this.mousePointer;E.move(x),E.updateMotion(),this.activePointer=E,this.updateInputPlugins(T.MOUSE_MOVE,this.mousePointerContainer)},"onMouseMove"),onMouseUp:r(function(x){var E=this.mousePointer;E.up(x),E.updateMotion(),this.activePointer=E,this.updateInputPlugins(T.MOUSE_UP,this.mousePointerContainer)},"onMouseUp"),onMouseWheel:r(function(x){var E=this.mousePointer;E.wheel(x),this.activePointer=E,this.updateInputPlugins(T.MOUSE_WHEEL,this.mousePointerContainer)},"onMouseWheel"),onPointerLockChange:r(function(x){var E=this.mouse.locked;this.mousePointer.locked=E,this.events.emit(l.POINTERLOCK_CHANGE,x,E)},"onPointerLockChange"),inputCandidate:r(function(x,E){var A=x.input;if(!A||!A.enabled||!x.willRender(E))return!1;var R=!0,P=x.parentContainer;if(P)do{if(!P.willRender(E)){R=!1;break}P=P.parentContainer}while(P);return R},"inputCandidate"),hitTest:r(function(x,E,A,R){R===void 0&&(R=this._tempHitTest);var P=this._tempPoint,O=A.scrollX,L=A.scrollY;R.length=0;var w=x.x,M=x.y;A.getWorldPoint(w,M,P),x.worldX=P.x,x.worldY=P.y;for(var b={x:0,y:0},D=this._tempMatrix,F=this._tempMatrix2,N=0;N<E.length;N++){var B=E[N];if(this.inputCandidate(B,A)){var Y=P.x+O*B.scrollFactorX-O,W=P.y+L*B.scrollFactorY-L;B.parentContainer?(B.getWorldTransformMatrix(D,F),D.applyInverse(Y,W,b)):g(Y,W,B.x,B.y,B.rotation,B.scaleX,B.scaleY,b),this.pointWithinHitArea(B,b.x,b.y)&&R.push(B)}}return R},"hitTest"),pointWithinHitArea:r(function(x,E,A){E+=x.displayOriginX,A+=x.displayOriginY;var R=x.input;return R&&R.hitAreaCallback(R.hitArea,E,A,x)?(R.localX=E,R.localY=A,!0):!1},"pointWithinHitArea"),pointWithinInteractiveObject:r(function(x,E,A){return x.hitArea?(E+=x.gameObject.displayOriginX,A+=x.gameObject.displayOriginY,x.localX=E,x.localY=A,x.hitAreaCallback(x.hitArea,E,A,x)):!1},"pointWithinInteractiveObject"),transformPointer:r(function(x,E,A,R){var P=x.position,O=x.prevPosition;O.x=P.x,O.y=P.y;var L=this.scaleManager.transformX(E),w=this.scaleManager.transformY(A),M=x.smoothFactor;!R||M===0?(P.x=L,P.y=w):(P.x=L*M+O.x*(1-M),P.y=w*M+O.y*(1-M))},"transformPointer"),destroy:r(function(){this.events.removeAllListeners(),this.game.events.off(u.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var x=0;x<this.pointers.length;x++)this.pointers[x].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null},"destroy")});n.exports=m},48205:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),T=s(87902),c=s(83419),l=s(93301),u=s(74457),h=s(84409),f=s(20339),v=s(8497),d=s(81154),p=s(8214),g=s(50792),m=s(95540),x=s(23777),E=s(89639),A=s(41212),R=s(37277),P=s(87841),O=s(37303),L=s(44594),w=s(16483),M=s(10690),b=new c({Extends:g,initialize:r(function(F){g.call(this),this.scene=F,this.systems=F.sys,this.settings=F.sys.settings,this.manager=F.sys.game.input,this.pluginEvents=new g,this.enabled=!0,this.displayList,this.cameras,E.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var N={cancelled:!1};this._eventContainer={stopPropagation:r(function(){N.cancelled=!0},"stopPropagation")},this._eventData=N,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,F.sys.events.once(L.BOOT,this.boot,this),F.sys.events.on(L.START,this.start,this)},"InputPlugin"),boot:r(function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(L.DESTROY,this.destroy,this),this.pluginEvents.emit(p.BOOT)},"boot"),start:r(function(){var D=this.systems.events;D.on(L.TRANSITION_START,this.transitionIn,this),D.on(L.TRANSITION_OUT,this.transitionOut,this),D.on(L.TRANSITION_COMPLETE,this.transitionComplete,this),D.on(L.PRE_UPDATE,this.preUpdate,this),D.once(L.SHUTDOWN,this.shutdown,this),this.manager.events.on(p.GAME_OUT,this.onGameOut,this),this.manager.events.on(p.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(p.START)},"start"),onGameOver:r(function(D){this.isActive()&&this.emit(p.GAME_OVER,D.timeStamp,D)},"onGameOver"),onGameOut:r(function(D){this.isActive()&&this.emit(p.GAME_OUT,D.timeStamp,D)},"onGameOut"),preUpdate:r(function(){this.pluginEvents.emit(p.PRE_UPDATE);var D=this._pendingRemoval,F=this._pendingInsertion,N=D.length,B=F.length;if(!(N===0&&B===0)){for(var Y=this._list,W=0;W<N;W++){var z=D[W],X=Y.indexOf(z);X>-1&&(Y.splice(X,1),this.clear(z,!0))}this._pendingRemoval.length=0,this._list=Y.concat(F.splice(0))}},"preUpdate"),isActive:r(function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},"isActive"),setCursor:r(function(D){this.manager&&this.manager.setCursor(D)},"setCursor"),resetCursor:r(function(){this.manager&&this.manager.resetCursor(null,!0)},"resetCursor"),updatePoll:r(function(D,F){if(!this.isActive())return!1;if(this.pluginEvents.emit(p.UPDATE,D,F),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var N,B=this.manager,Y=B.pointers;for(N=0;N<Y.length;N++)Y[N].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=F,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var z=!1;for(N=0;N<Y.length;N++){var X=0,H=Y[N];this._tempZones=[],this._temp=this.hitTestPointer(H),this.sortGameObjects(this._temp,H),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),X+=this.processOverOutEvents(H),this.getDragState(H)===2&&this.processDragThresholdEvent(H,D),X>0&&(z=!0)}return z},"updatePoll"),update:r(function(D,F){if(!this.isActive())return!1;for(var N=!1,B=0;B<F.length;B++){var Y=0,W=F[B];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),D){case l.MOUSE_DOWN:Y+=this.processDragDownEvent(W),Y+=this.processDownEvents(W),Y+=this.processOverOutEvents(W);break;case l.MOUSE_UP:Y+=this.processDragUpEvent(W),Y+=this.processUpEvents(W),Y+=this.processOverOutEvents(W);break;case l.TOUCH_START:Y+=this.processDragDownEvent(W),Y+=this.processDownEvents(W),Y+=this.processOverEvents(W);break;case l.TOUCH_END:case l.TOUCH_CANCEL:Y+=this.processDragUpEvent(W),Y+=this.processUpEvents(W),Y+=this.processOutEvents(W);break;case l.MOUSE_MOVE:case l.TOUCH_MOVE:Y+=this.processDragMoveEvent(W),Y+=this.processMoveEvents(W),Y+=this.processOverOutEvents(W);break;case l.MOUSE_WHEEL:Y+=this.processWheelEvent(W);break}Y>0&&(N=!0)}return this._updatedThisFrame=!0,N},"update"),clear:r(function(D,F){F===void 0&&(F=!1),this.disable(D);var N=D.input;N&&(this.removeDebug(D),this.manager.resetCursor(N),N.gameObject=void 0,N.target=void 0,N.hitArea=void 0,N.hitAreaCallback=void 0,N.callbackContext=void 0,D.input=null),F||this.queueForRemoval(D);var B=this._draggable.indexOf(D);return B>-1&&this._draggable.splice(B,1),D},"clear"),disable:r(function(D,F){F===void 0&&(F=!1);var N=D.input;N&&(N.enabled=!1,N.dragState=0);for(var B=this._drag,Y=this._over,W=this.manager,z=0,X;z<W.pointers.length;z++)X=B[z].indexOf(D),X>-1&&B[z].splice(X,1),X=Y[z].indexOf(D),X>-1&&Y[z].splice(X,1);return F&&this.resetCursor(),this},"disable"),enable:r(function(D,F,N,B){return B===void 0&&(B=!1),D.input?D.input.enabled=!0:this.setHitArea(D,F,N),D.input&&B&&!D.input.dropZone&&(D.input.dropZone=B),this},"enable"),hitTestPointer:r(function(D){for(var F=this.cameras.getCamerasBelowPointer(D),N=0;N<F.length;N++){for(var B=F[N],Y=this.manager.hitTest(D,this._list,B),W=0;W<Y.length;W++){var z=Y[W];z.input.dropZone&&this._tempZones.push(z)}if(Y.length>0)return D.camera=B,Y}return D.camera=F[0],[]},"hitTestPointer"),processDownEvents:r(function(D){var F=0,N=this._temp,B=this._eventData,Y=this._eventContainer;B.cancelled=!1;for(var W=0;W<N.length;W++){var z=N[W];if(!(!z.input||!z.input.enabled)&&(F++,z.emit(p.GAMEOBJECT_POINTER_DOWN,D,z.input.localX,z.input.localY,Y),B.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(p.GAMEOBJECT_DOWN,D,z,Y),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&(D.downElement===this.manager.game.canvas?this.emit(p.POINTER_DOWN,D,N):this.emit(p.POINTER_DOWN_OUTSIDE,D)),F},"processDownEvents"),getDragState:r(function(D){return this._dragState[D.id]},"getDragState"),setDragState:r(function(D,F){this._dragState[D.id]=F},"setDragState"),processDragThresholdEvent:r(function(D,F){var N=!1,B=this.dragTimeThreshold,Y=this.dragDistanceThreshold;if((Y>0&&f(D.x,D.y,D.downX,D.downY)>=Y||B>0&&F>=D.downTime+B)&&(N=!0),N)return this.setDragState(D,3),this.processDragStartList(D)},"processDragThresholdEvent"),processDragStartList:r(function(D){if(this.getDragState(D)!==3)return 0;var F=this._drag[D.id];F.length>1&&(F=F.slice(0));for(var N=0;N<F.length;N++){var B=F[N],Y=B.input;Y.dragState=2,Y.dragStartX=B.x,Y.dragStartY=B.y,Y.dragStartXGlobal=D.worldX,Y.dragStartYGlobal=D.worldY,Y.dragStartCamera=D.camera,Y.dragX=Y.dragStartXGlobal-Y.dragStartX,Y.dragY=Y.dragStartYGlobal-Y.dragStartY,B.emit(p.GAMEOBJECT_DRAG_START,D,Y.dragX,Y.dragY),this.emit(p.DRAG_START,D,B)}return this.setDragState(D,4),F.length},"processDragStartList"),processDragDownEvent:r(function(D){var F=this._temp;if(this._draggable.length===0||F.length===0||!D.primaryDown||this.getDragState(D)!==0)return 0;this.setDragState(D,1);for(var N=[],B=0;B<F.length;B++){var Y=F[B];Y.input.draggable&&Y.input.dragState===0&&N.push(Y)}return N.length===0?(this.setDragState(D,0),0):(N.length>1&&(this.sortGameObjects(N,D),this.topOnly&&N.splice(1)),this._drag[D.id]=N,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(D,3),this.processDragStartList(D)):(this.setDragState(D,2),0))},"processDragDownEvent"),processDragMoveEvent:r(function(D){if(this.getDragState(D)===2&&this.processDragThresholdEvent(D,this.manager.game.loop.now),this.getDragState(D)!==4)return 0;var F=this._tempZones,N=this._drag[D.id];N.length>1&&(N=N.slice(0));for(var B=0;B<N.length;B++){var Y=N[B],W=Y.input,z=W.target;if(z){var X=F.indexOf(z);X===0?(Y.emit(p.GAMEOBJECT_DRAG_OVER,D,z),this.emit(p.DRAG_OVER,D,Y,z)):X>0?(Y.emit(p.GAMEOBJECT_DRAG_LEAVE,D,z),this.emit(p.DRAG_LEAVE,D,Y,z),W.target=F[0],z=W.target,Y.emit(p.GAMEOBJECT_DRAG_ENTER,D,z),this.emit(p.DRAG_ENTER,D,Y,z)):(Y.emit(p.GAMEOBJECT_DRAG_LEAVE,D,z),this.emit(p.DRAG_LEAVE,D,Y,z),F[0]?(W.target=F[0],z=W.target,Y.emit(p.GAMEOBJECT_DRAG_ENTER,D,z),this.emit(p.DRAG_ENTER,D,Y,z)):W.target=null)}else!z&&F[0]&&(W.target=F[0],z=W.target,Y.emit(p.GAMEOBJECT_DRAG_ENTER,D,z),this.emit(p.DRAG_ENTER,D,Y,z));var H,V,G=D.positionToCamera(W.dragStartCamera);if(!Y.parentContainer)H=G.x-W.dragX,V=G.y-W.dragY;else{var k=G.x-W.dragStartXGlobal,U=G.y-W.dragStartYGlobal,I=Y.getParentRotation(),$=k*Math.cos(I)+U*Math.sin(I),K=U*Math.cos(I)-k*Math.sin(I);$*=1/Y.parentContainer.scaleX,K*=1/Y.parentContainer.scaleY,H=$+W.dragStartX,V=K+W.dragStartY}Y.emit(p.GAMEOBJECT_DRAG,D,H,V),this.emit(p.DRAG,D,Y,H,V)}return N.length},"processDragMoveEvent"),processDragUpEvent:r(function(D){var F=this._drag[D.id];F.length>1&&(F=F.slice(0));for(var N=0;N<F.length;N++){var B=F[N],Y=B.input;if(Y&&Y.dragState===2){Y.dragState=0,Y.dragX=Y.localX-B.displayOriginX,Y.dragY=Y.localY-B.displayOriginY,Y.dragStartCamera=null;var W=!1,z=Y.target;z&&(B.emit(p.GAMEOBJECT_DROP,D,z),this.emit(p.DROP,D,B,z),Y.target=null,W=!0),B.input&&B.input.enabled&&(B.emit(p.GAMEOBJECT_DRAG_END,D,Y.dragX,Y.dragY,W),this.emit(p.DRAG_END,D,B,W))}}return this.setDragState(D,0),F.splice(0),0},"processDragUpEvent"),processMoveEvents:r(function(D){var F=0,N=this._temp,B=this._eventData,Y=this._eventContainer;B.cancelled=!1;for(var W=0;W<N.length;W++){var z=N[W];if(!(!z.input||!z.input.enabled)&&(F++,z.emit(p.GAMEOBJECT_POINTER_MOVE,D,z.input.localX,z.input.localY,Y),B.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(p.GAMEOBJECT_MOVE,D,z,Y),B.cancelled||!this.isActive()||this.topOnly)))break}return!B.cancelled&&this.isActive()&&this.emit(p.POINTER_MOVE,D,N),F},"processMoveEvents"),processWheelEvent:r(function(D){var F=0,N=this._temp,B=this._eventData,Y=this._eventContainer;B.cancelled=!1;for(var W=D.deltaX,z=D.deltaY,X=D.deltaZ,H=0;H<N.length;H++){var V=N[H];if(!(!V.input||!V.input.enabled)&&(F++,V.emit(p.GAMEOBJECT_POINTER_WHEEL,D,W,z,X,Y),B.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(p.GAMEOBJECT_WHEEL,D,V,W,z,X,Y),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&this.emit(p.POINTER_WHEEL,D,N,W,z,X),F},"processWheelEvent"),processOverEvents:r(function(D){var F=this._temp,N=0,B=F.length,Y=[];if(B>0){var W=this.manager,z=this._eventData,X=this._eventContainer;z.cancelled=!1;for(var H=0;H<B;H++){var V=F[H];if(!(!V.input||!V.input.enabled)&&(Y.push(V),W.setCursor(V.input),V.emit(p.GAMEOBJECT_POINTER_OVER,D,V.input.localX,V.input.localY,X),N++,z.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(p.GAMEOBJECT_OVER,D,V,X),z.cancelled||!this.isActive())))break}!z.cancelled&&this.isActive()&&this.emit(p.POINTER_OVER,D,Y)}return this._over[D.id]=Y,N},"processOverEvents"),processOutEvents:r(function(D){var F=this._over[D.id],N=0,B=F.length;if(B>0){var Y=this.manager,W=this._eventData,z=this._eventContainer;W.cancelled=!1,this.sortGameObjects(F,D);for(var X=0;X<B;X++){var H=F[X];if(H=F[X],!(!H.input||!H.input.enabled)&&(Y.resetCursor(H.input),H.emit(p.GAMEOBJECT_POINTER_OUT,D,z),N++,W.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(p.GAMEOBJECT_OUT,D,H,z),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(p.POINTER_OUT,D,F),this._over[D.id]=[]}return N},"processOutEvents"),processOverOutEvents:r(function(D){var F=this._temp,N,B,Y=[],W=[],z=[],X=this._over[D.id],H=this._drag[D.id],V=this.manager;for(N=0;N<X.length;N++)B=X[N],F.indexOf(B)===-1&&H.indexOf(B)===-1?Y.push(B):z.push(B);for(N=0;N<F.length;N++)B=F[N],X.indexOf(B)===-1&&W.push(B);var G=Y.length,k=0,U=this._eventData,I=this._eventContainer;if(U.cancelled=!1,G>0){for(this.sortGameObjects(Y,D),N=0;N<G&&(B=Y[N],!(!(!B.input||!B.input.enabled)&&(V.resetCursor(B.input),B.emit(p.GAMEOBJECT_POINTER_OUT,D,I),k++,U.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(p.GAMEOBJECT_OUT,D,B,I),U.cancelled||!this.isActive()))));N++);(!U.cancelled||this.isActive())&&this.emit(p.POINTER_OUT,D,Y)}if(G=W.length,U.cancelled=!1,G>0){for(this.sortGameObjects(W,D),N=0;N<G&&(B=W[N],!(!(!B.input||!B.input.enabled)&&(V.setCursor(B.input),B.emit(p.GAMEOBJECT_POINTER_OVER,D,B.input.localX,B.input.localY,I),k++,U.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(p.GAMEOBJECT_OVER,D,B,I),U.cancelled||!this.isActive()))));N++);!U.cancelled&&this.isActive()&&this.emit(p.POINTER_OVER,D,W)}return X=z.concat(W),this._over[D.id]=this.sortGameObjects(X,D),k},"processOverOutEvents"),processUpEvents:r(function(D){var F=this._temp,N=this._eventData,B=this._eventContainer;N.cancelled=!1;for(var Y=0;Y<F.length;Y++){var W=F[Y];if(!(!W.input||!W.input.enabled)&&(W.emit(p.GAMEOBJECT_POINTER_UP,D,W.input.localX,W.input.localY,B),N.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(p.GAMEOBJECT_UP,D,W,B),N.cancelled||!this.isActive())))break}return!N.cancelled&&this.isActive()&&(D.upElement===this.manager.game.canvas?this.emit(p.POINTER_UP,D,F):this.emit(p.POINTER_UP_OUTSIDE,D)),F.length},"processUpEvents"),forceDownState:r(function(D,F){this.forceState(D,F,p.GAMEOBJECT_POINTER_DOWN,p.GAMEOBJECT_DOWN,!1)},"forceDownState"),forceUpState:r(function(D,F){this.forceState(D,F,p.GAMEOBJECT_POINTER_UP,p.GAMEOBJECT_UP,!1)},"forceUpState"),forceOverState:r(function(D,F){this.forceState(D,F,p.GAMEOBJECT_POINTER_OVER,p.GAMEOBJECT_OVER,!0)},"forceOverState"),forceOutState:r(function(D,F){this.forceState(D,F,p.GAMEOBJECT_POINTER_OUT,p.GAMEOBJECT_OUT,!1)},"forceOutState"),forceState:r(function(D,F,N,B,Y){var W=this._eventData,z=this._eventContainer;W.cancelled=!1,F.input&&F.input.enabled&&(F.emit(N,D,F.input.localX,F.input.localY,z),Y&&this.setCursor(F.input),!W.cancelled&&this.isActive()&&F.input&&F.input.enabled&&this.emit(B,D,F,z))},"forceState"),queueForInsertion:r(function(D){return this._pendingInsertion.indexOf(D)===-1&&this._list.indexOf(D)===-1&&this._pendingInsertion.push(D),this},"queueForInsertion"),queueForRemoval:r(function(D){return this._pendingRemoval.push(D),this},"queueForRemoval"),setDraggable:r(function(D,F){F===void 0&&(F=!0),Array.isArray(D)||(D=[D]);for(var N=0;N<D.length;N++){var B=D[N];B.input.draggable=F;var Y=this._draggable.indexOf(B);F&&Y===-1?this._draggable.push(B):!F&&Y>-1&&this._draggable.splice(Y,1)}return this},"setDraggable"),makePixelPerfect:r(function(D){D===void 0&&(D=1);var F=this.systems.textures;return h(F,D)},"makePixelPerfect"),setHitArea:r(function(D,F,N){if(F===void 0)return this.setHitAreaFromTexture(D);Array.isArray(D)||(D=[D]);var B=!1,Y=!1,W=!1,z=!1,X=!1,H=!0;if(A(F)&&Object.keys(F).length){var V=F,G=D.some(function(K){return K.hasOwnProperty("faces")});if(!G){F=m(V,"hitArea",null),N=m(V,"hitAreaCallback",null),X=m(V,"pixelPerfect",!1);var k=m(V,"alphaTolerance",1);X&&(F={},N=this.makePixelPerfect(k))}B=m(V,"draggable",!1),Y=m(V,"dropZone",!1),W=m(V,"cursor",!1),z=m(V,"useHandCursor",!1),(!F||!N)&&(this.setHitAreaFromTexture(D),H=!1)}else typeof F=="function"&&!N&&(N=F,F={});for(var U=0;U<D.length;U++){var I=D[U];if(X&&I.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var $=I.input?I.input:u(I,F,N);$.customHitArea=H,$.dropZone=Y,$.cursor=z?"pointer":W,I.input=$,B&&this.setDraggable(I),this.queueForInsertion(I)}return this},"setHitArea"),setHitAreaCircle:r(function(D,F,N,B,Y){Y===void 0&&(Y=T);var W=new o(F,N,B);return this.setHitArea(D,W,Y)},"setHitAreaCircle"),setHitAreaEllipse:r(function(D,F,N,B,Y,W){W===void 0&&(W=d);var z=new v(F,N,B,Y);return this.setHitArea(D,z,W)},"setHitAreaEllipse"),setHitAreaFromTexture:r(function(D,F){F===void 0&&(F=O),Array.isArray(D)||(D=[D]);for(var N=0;N<D.length;N++){var B=D[N],Y=B.frame,W=0,z=0;if(B.width?(W=B.width,z=B.height):Y&&(W=Y.realWidth,z=Y.realHeight),B.type==="Container"&&(W===0||z===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&z!==0&&(B.input=u(B,new P(0,0,W,z),F),this.queueForInsertion(B))}return this},"setHitAreaFromTexture"),setHitAreaRectangle:r(function(D,F,N,B,Y,W){W===void 0&&(W=O);var z=new P(F,N,B,Y);return this.setHitArea(D,z,W)},"setHitAreaRectangle"),setHitAreaTriangle:r(function(D,F,N,B,Y,W,z,X){X===void 0&&(X=M);var H=new w(F,N,B,Y,W,z);return this.setHitArea(D,H,X)},"setHitAreaTriangle"),enableDebug:r(function(D,F){F===void 0&&(F=65280);var N=D.input;if(!N||!N.hitArea)return this;var B=N.hitArea,Y=B.type,W=N.hitAreaDebug,z=this.systems.add,X=this.systems.updateList;W&&(X.remove(W),W.destroy(),W=null);var H=0,V=0;switch(Y){case x.CIRCLE:W=z.arc(0,0,B.radius),H=B.x-B.radius,V=B.y-B.radius;break;case x.ELLIPSE:W=z.ellipse(0,0,B.width,B.height),H=B.x-B.width/2,V=B.y-B.height/2;break;case x.LINE:W=z.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case x.POLYGON:W=z.polygon(0,0,B.points);break;case x.RECTANGLE:W=z.rectangle(0,0,B.width,B.height),H=B.x,V=B.y;break;case x.TRIANGLE:W=z.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return W&&(W.isFilled=!1,W.strokeColor=F,W.preUpdate=function(){W.setVisible(D.visible),W.setStrokeStyle(1/D.scale,W.strokeColor),W.setDisplayOrigin(D.displayOriginX,D.displayOriginY);var G=D.x,k=D.y,U=D.rotation,I=D.scaleX,$=D.scaleY;if(D.parentContainer){var K=D.getWorldTransformMatrix();G=K.tx,k=K.ty,U=K.rotation,I=K.scaleX,$=K.scaleY}W.setRotation(U),W.setScale(I,$),W.setPosition(G+H*I,k+V*$),W.setScrollFactor(D.scrollFactorX,D.scrollFactorY),W.setDepth(D.depth)},X.add(W),N.hitAreaDebug=W),this},"enableDebug"),removeDebug:r(function(D){var F=D.input;if(F&&F.hitAreaDebug){var N=F.hitAreaDebug;N.destroy(),F.hitAreaDebug=null}return this},"removeDebug"),setPollAlways:r(function(){return this.setPollRate(0)},"setPollAlways"),setPollOnMove:r(function(){return this.setPollRate(-1)},"setPollOnMove"),setPollRate:r(function(D){return this.pollRate=D,this._pollTimer=0,this},"setPollRate"),setGlobalTopOnly:r(function(D){return this.manager.globalTopOnly=D,this},"setGlobalTopOnly"),setTopOnly:r(function(D){return this.topOnly=D,this},"setTopOnly"),sortGameObjects:r(function(D,F){if(D.length<2||!F.camera)return D;var N=F.camera.renderList;return D.sort(function(B,Y){var W=Math.max(N.indexOf(B),0),z=Math.max(N.indexOf(Y),0);return z-W})},"sortGameObjects"),sortDropZones:r(function(D){return D.length<2?D:(this.scene.sys.depthSort(),D.sort(this.sortDropZoneHandler.bind(this)))},"sortDropZones"),sortDropZoneHandler:r(function(D,F){if(!D.parentContainer&&!F.parentContainer)return this.displayList.getIndex(F)-this.displayList.getIndex(D);if(D.parentContainer===F.parentContainer)return F.parentContainer.getIndex(F)-D.parentContainer.getIndex(D);if(D.parentContainer===F)return-1;if(F.parentContainer===D)return 1;for(var N=D.getIndexList(),B=F.getIndexList(),Y=Math.min(N.length,B.length),W=0;W<Y;W++){var z=N[W],X=B[W];if(z!==X)return X-z}return B.length-N.length},"sortDropZoneHandler"),stopPropagation:r(function(){return this.manager._tempSkip=!0,this},"stopPropagation"),addPointer:r(function(D){return this.manager.addPointer(D)},"addPointer"),setDefaultCursor:r(function(D){return this.manager.setDefaultCursor(D),this},"setDefaultCursor"),transitionIn:r(function(){this.enabled=this.settings.transitionAllowInput},"transitionIn"),transitionComplete:r(function(){this.settings.transitionAllowInput||(this.enabled=!0)},"transitionComplete"),transitionOut:r(function(){this.enabled=this.settings.transitionAllowInput},"transitionOut"),shutdown:r(function(){this.pluginEvents.emit(p.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var D=0;D<10;D++)this._drag[D]=[],this._over[D]=[];this.removeAllListeners();var F=this.manager;F.canvas.style.cursor=F.defaultCursor;var N=this.systems.events;N.off(L.TRANSITION_START,this.transitionIn,this),N.off(L.TRANSITION_OUT,this.transitionOut,this),N.off(L.TRANSITION_COMPLETE,this.transitionComplete,this),N.off(L.PRE_UPDATE,this.preUpdate,this),F.events.off(p.GAME_OUT,this.onGameOut,this),F.events.off(p.GAME_OVER,this.onGameOver,this),N.off(L.SHUTDOWN,this.shutdown,this)},"shutdown"),resetPointers:r(function(){for(var D=this.manager.pointers,F=0;F<D.length;F++)D[F].reset()},"resetPointers"),destroy:r(function(){this.shutdown(),this.pluginEvents.emit(p.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},"destroy"),x:{get:r(function(){return this.manager.activePointer.x},"get")},y:{get:r(function(){return this.manager.activePointer.y},"get")},isOver:{get:r(function(){return this.manager.isOver},"get")},mousePointer:{get:r(function(){return this.manager.mousePointer},"get")},activePointer:{get:r(function(){return this.manager.activePointer},"get")},pointer1:{get:r(function(){return this.manager.pointers[1]},"get")},pointer2:{get:r(function(){return this.manager.pointers[2]},"get")},pointer3:{get:r(function(){return this.manager.pointers[3]},"get")},pointer4:{get:r(function(){return this.manager.pointers[4]},"get")},pointer5:{get:r(function(){return this.manager.pointers[5]},"get")},pointer6:{get:r(function(){return this.manager.pointers[6]},"get")},pointer7:{get:r(function(){return this.manager.pointers[7]},"get")},pointer8:{get:r(function(){return this.manager.pointers[8]},"get")},pointer9:{get:r(function(){return this.manager.pointers[9]},"get")},pointer10:{get:r(function(){return this.manager.pointers[10]},"get")}});R.register("InputPlugin",b,"input"),n.exports=b},89639:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),T={},c={};c.register=function(l,u,h,f,v){T[l]={plugin:u,mapping:h,settingsKey:f,configKey:v}},c.getPlugin=function(l){return T[l]},c.install=function(l){var u=l.scene.sys,h=u.settings.input,f=u.game.config;for(var v in T){var d=T[v].plugin,p=T[v].mapping,g=T[v].settingsKey,m=T[v].configKey;o(h,g,f[m])&&(l[p]=new d(l))}},c.remove=function(l){T.hasOwnProperty(l)&&delete T[l]},n.exports=c},42515:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(31040),T=s(83419),c=s(20339),l=s(43855),u=s(47235),h=s(26099),f=s(25892),v=new T({initialize:r(function(p,g){this.manager=p,this.id=g,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new h,this.prevPosition=new h,this.midPoint=new h(-1,-1),this.velocity=new h,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=g===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},"Pointer"),updateWorldPoint:r(function(d){var p=d.getWorldPoint(this.x,this.y);return this.worldX=p.x,this.worldY=p.y,this},"updateWorldPoint"),positionToCamera:r(function(d,p){return d.getWorldPoint(this.x,this.y,p)},"positionToCamera"),updateMotion:r(function(){var d=this.position.x,p=this.position.y,g=this.midPoint.x,m=this.midPoint.y;if(!(d===g&&p===m)){var x=u(this.motionFactor,g,d),E=u(this.motionFactor,m,p);l(x,d,.1)&&(x=d),l(E,p,.1)&&(E=p),this.midPoint.set(x,E);var A=d-x,R=p-E;this.velocity.set(A,R),this.angle=o(x,E,d,p),this.distance=Math.sqrt(A*A+R*R)}},"updateMotion"),up:r(function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.button=d.button,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),d.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=d.timeStamp,this.wasTouch=!1)},"up"),down:r(function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.button=d.button,this.downElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),d.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),f.macOS&&d.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=d.timeStamp),this.wasTouch=!1},"down"),move:r(function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.manager.transformPointer(this,d.pageX,d.pageY,!0),this.locked&&(this.movementX=d.movementX||d.mozMovementX||d.webkitMovementX||0,this.movementY=d.movementY||d.mozMovementY||d.webkitMovementY||0),this.moveTime=d.timeStamp,this.wasTouch=!1},"move"),wheel:r(function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.deltaX=d.deltaX,this.deltaY=d.deltaY,this.deltaZ=d.deltaZ,this.wasTouch=!1},"wheel"),touchstart:r(function(d,p){d.pointerId&&(this.pointerId=d.pointerId),this.identifier=d.identifier,this.target=d.target,this.active=!0,this.buttons=1,this.event=p,this.downElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=p.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},"touchstart"),touchmove:r(function(d,p){this.event=p,this.manager.transformPointer(this,d.pageX,d.pageY,!0),this.moveTime=p.timeStamp,this.wasTouch=!0,this.updateMotion()},"touchmove"),touchend:r(function(d,p){this.buttons=0,this.event=p,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},"touchend"),touchcancel:r(function(d,p){this.buttons=0,this.event=p,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},"touchcancel"),noButtonDown:r(function(){return this.buttons===0},"noButtonDown"),leftButtonDown:r(function(){return!!(this.buttons&1)},"leftButtonDown"),rightButtonDown:r(function(){return!!(this.buttons&2)},"rightButtonDown"),middleButtonDown:r(function(){return!!(this.buttons&4)},"middleButtonDown"),backButtonDown:r(function(){return!!(this.buttons&8)},"backButtonDown"),forwardButtonDown:r(function(){return!!(this.buttons&16)},"forwardButtonDown"),leftButtonReleased:r(function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},"leftButtonReleased"),rightButtonReleased:r(function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},"rightButtonReleased"),middleButtonReleased:r(function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},"middleButtonReleased"),backButtonReleased:r(function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},"backButtonReleased"),forwardButtonReleased:r(function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},"forwardButtonReleased"),getDistance:r(function(){return this.isDown?c(this.downX,this.downY,this.x,this.y):c(this.downX,this.downY,this.upX,this.upY)},"getDistance"),getDistanceX:r(function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},"getDistanceX"),getDistanceY:r(function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},"getDistanceY"),getDuration:r(function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},"getDuration"),getAngle:r(function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},"getAngle"),getInterpolatedPosition:r(function(d,p){d===void 0&&(d=10),p===void 0&&(p=[]);for(var g=this.prevPosition.x,m=this.prevPosition.y,x=this.position.x,E=this.position.y,A=0;A<d;A++){var R=1/d*A;p[A]={x:u(R,g,x),y:u(R,m,E)}}return p},"getInterpolatedPosition"),reset:r(function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},"reset"),destroy:r(function(){this.camera=null,this.manager=null,this.position=null},"destroy"),x:{get:r(function(){return this.position.x},"get"),set:r(function(d){this.position.x=d},"set")},y:{get:r(function(){return this.position.y},"get"),set:r(function(d){this.position.y=d},"set")},time:{get:r(function(){return this.event?this.event.timeStamp:0},"get")}});n.exports=v},93301:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};n.exports=C},7179:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},85375:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},39843:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},23388:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},16133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},27829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},53904:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},56058:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},2642:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},88171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectdown"},36147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},71692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},96149:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},81285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},74048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},21322:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},49378:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},86754:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectmove"},86433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectout"},60709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectover"},24081:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},11172:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},18907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},95579:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},35368:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},26972:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},47078:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectup"},73802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectwheel"},56718:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameout"},25936:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameover"},27503:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},50852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="process"},96438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},59152:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerlockchange"},47777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},27957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdownoutside"},19444:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},54251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},18667:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},27192:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},24652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerupoutside"},45132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},44512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},15757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},41637:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},93802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},8214:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BOOT:s(7179),DESTROY:s(85375),DRAG_END:s(39843),DRAG_ENTER:s(23388),DRAG:s(16133),DRAG_LEAVE:s(27829),DRAG_OVER:s(53904),DRAG_START:s(56058),DROP:s(2642),GAME_OUT:s(56718),GAME_OVER:s(25936),GAMEOBJECT_DOWN:s(88171),GAMEOBJECT_DRAG_END:s(36147),GAMEOBJECT_DRAG_ENTER:s(71692),GAMEOBJECT_DRAG:s(96149),GAMEOBJECT_DRAG_LEAVE:s(81285),GAMEOBJECT_DRAG_OVER:s(74048),GAMEOBJECT_DRAG_START:s(21322),GAMEOBJECT_DROP:s(49378),GAMEOBJECT_MOVE:s(86754),GAMEOBJECT_OUT:s(86433),GAMEOBJECT_OVER:s(60709),GAMEOBJECT_POINTER_DOWN:s(24081),GAMEOBJECT_POINTER_MOVE:s(11172),GAMEOBJECT_POINTER_OUT:s(18907),GAMEOBJECT_POINTER_OVER:s(95579),GAMEOBJECT_POINTER_UP:s(35368),GAMEOBJECT_POINTER_WHEEL:s(26972),GAMEOBJECT_UP:s(47078),GAMEOBJECT_WHEEL:s(73802),MANAGER_BOOT:s(27503),MANAGER_PROCESS:s(50852),MANAGER_UPDATE:s(96438),POINTER_DOWN:s(47777),POINTER_DOWN_OUTSIDE:s(27957),POINTER_MOVE:s(19444),POINTER_OUT:s(54251),POINTER_OVER:s(18667),POINTER_UP:s(27192),POINTER_UP_OUTSIDE:s(24652),POINTER_WHEEL:s(45132),POINTERLOCK_CHANGE:s(59152),PRE_UPDATE:s(44512),SHUTDOWN:s(15757),START:s(41637),UPDATE:s(93802)}},97421:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u){this.pad=l,this.events=l.events,this.index=u,this.value=0,this.threshold=.1},"Axis"),update:r(function(c){this.value=c},"update"),getValue:r(function(){return Math.abs(this.value)<this.threshold?0:this.value},"getValue"),destroy:r(function(){this.pad=null,this.events=null},"destroy")});n.exports=T},28884:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(92734),c=new o({initialize:r(function(u,h){this.pad=u,this.events=u.manager,this.index=h,this.value=0,this.threshold=1,this.pressed=!1},"Button"),update:r(function(l){this.value=l;var u=this.pad,h=this.index;l>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(T.BUTTON_DOWN,u,this,l),this.pad.emit(T.GAMEPAD_BUTTON_DOWN,h,l,this)):this.pressed&&(this.pressed=!1,this.events.emit(T.BUTTON_UP,u,this,l),this.pad.emit(T.GAMEPAD_BUTTON_UP,h,l,this))},"update"),destroy:r(function(){this.pad=null,this.events=null},"destroy")});n.exports=c},99125:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97421),T=s(28884),c=s(83419),l=s(50792),u=s(26099),h=new c({Extends:l,initialize:r(function(v,d){l.call(this),this.manager=v,this.pad=d,this.id=d.id,this.index=d.index;for(var p=[],g=0;g<d.buttons.length;g++)p.push(new T(this,g));this.buttons=p;var m=[];for(g=0;g<d.axes.length;g++)m.push(new o(this,g));this.axes=m,this.vibration=d.vibrationActuator;var x={value:0,pressed:!1};this._LCLeft=p[14]?p[14]:x,this._LCRight=p[15]?p[15]:x,this._LCTop=p[12]?p[12]:x,this._LCBottom=p[13]?p[13]:x,this._RCLeft=p[2]?p[2]:x,this._RCRight=p[1]?p[1]:x,this._RCTop=p[3]?p[3]:x,this._RCBottom=p[0]?p[0]:x,this._FBLeftTop=p[4]?p[4]:x,this._FBLeftBottom=p[6]?p[6]:x,this._FBRightTop=p[5]?p[5]:x,this._FBRightBottom=p[7]?p[7]:x;var E={value:0};this._HAxisLeft=m[0]?m[0]:E,this._VAxisLeft=m[1]?m[1]:E,this._HAxisRight=m[2]?m[2]:E,this._VAxisRight=m[3]?m[3]:E,this.leftStick=new u,this.rightStick=new u,this._created=performance.now()},"Gamepad"),getAxisTotal:r(function(){return this.axes.length},"getAxisTotal"),getAxisValue:r(function(f){return this.axes[f].getValue()},"getAxisValue"),setAxisThreshold:r(function(f){for(var v=0;v<this.axes.length;v++)this.axes[v].threshold=f},"setAxisThreshold"),getButtonTotal:r(function(){return this.buttons.length},"getButtonTotal"),getButtonValue:r(function(f){return this.buttons[f].value},"getButtonValue"),isButtonDown:r(function(f){return this.buttons[f].pressed},"isButtonDown"),update:r(function(f){if(!(f.timestamp<this._created)){var v,d=this.buttons,p=f.buttons,g=d.length;for(v=0;v<g;v++)d[v].update(p[v].value);var m=this.axes,x=f.axes;for(g=m.length,v=0;v<g;v++)m[v].update(x[v]);g>=2&&(this.leftStick.set(m[0].getValue(),m[1].getValue()),g>=4&&this.rightStick.set(m[2].getValue(),m[3].getValue()))}},"update"),destroy:r(function(){this.removeAllListeners(),this.manager=null,this.pad=null;var f;for(f=0;f<this.buttons.length;f++)this.buttons[f].destroy();for(f=0;f<this.axes.length;f++)this.axes[f].destroy();this.buttons=[],this.axes=[]},"destroy"),connected:{get:r(function(){return this.pad.connected},"get")},timestamp:{get:r(function(){return this.pad.timestamp},"get")},left:{get:r(function(){return this._LCLeft.pressed},"get")},right:{get:r(function(){return this._LCRight.pressed},"get")},up:{get:r(function(){return this._LCTop.pressed},"get")},down:{get:r(function(){return this._LCBottom.pressed},"get")},A:{get:r(function(){return this._RCBottom.pressed},"get")},Y:{get:r(function(){return this._RCTop.pressed},"get")},X:{get:r(function(){return this._RCLeft.pressed},"get")},B:{get:r(function(){return this._RCRight.pressed},"get")},L1:{get:r(function(){return this._FBLeftTop.value},"get")},L2:{get:r(function(){return this._FBLeftBottom.value},"get")},R1:{get:r(function(){return this._FBRightTop.value},"get")},R2:{get:r(function(){return this._FBRightBottom.value},"get")}});n.exports=h},56654:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(50792),c=s(92734),l=s(99125),u=s(35154),h=s(89639),f=s(8214),v=new o({Extends:T,initialize:r(function(p){T.call(this),this.scene=p.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=p,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,p.pluginEvents.once(f.BOOT,this.boot,this),p.pluginEvents.on(f.START,this.start,this)},"GamepadPlugin"),boot:r(function(){var d=this.scene.sys.game,p=this.settings.input,g=d.config;this.enabled=u(p,"gamepad",g.inputGamepad)&&d.device.input.gamepads,this.target=u(p,"gamepad.target",g.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(f.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(f.SHUTDOWN,this.shutdown,this)},"start"),isActive:r(function(){return this.enabled&&this.scene.sys.isActive()},"isActive"),startListeners:r(function(){var d=this,p=this.target,g=r(function(m){m.defaultPrevented||!d.isActive()||(d.refreshPads(),d.queue.push(m))},"handler");this.onGamepadHandler=g,p.addEventListener("gamepadconnected",g,!1),p.addEventListener("gamepaddisconnected",g,!1),this.sceneInputPlugin.pluginEvents.on(f.UPDATE,this.update,this)},"startListeners"),stopListeners:r(function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(f.UPDATE,this.update);for(var d=0;d<this.gamepads.length;d++)this.gamepads[d].removeAllListeners()},"stopListeners"),disconnectAll:r(function(){for(var d=0;d<this.gamepads.length;d++)this.gamepads[d].pad.connected=!1},"disconnectAll"),refreshPads:r(function(){var d=navigator.getGamepads();if(!d)this.disconnectAll();else for(var p=this.gamepads,g=0;g<d.length;g++){var m=d[g];if(m){var x=m.id,E=m.index,A=p[E];if(A)A.id!==x?(A.destroy(),p[E]=new l(this,m)):A.update(m);else{var R=new l(this,m);p[E]=R,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=R):this._pad3=R:this._pad2=R:this._pad1=R}}}},"refreshPads"),getAll:r(function(){for(var d=[],p=this.gamepads,g=0;g<p.length;g++)p[g]&&d.push(p[g]);return d},"getAll"),getPad:r(function(d){for(var p=this.gamepads,g=0;g<p.length;g++)if(p[g]&&p[g].index===d)return p[g]},"getPad"),update:r(function(){if(this.enabled){this.refreshPads();var d=this.queue.length;if(d!==0)for(var p=this.queue.splice(0,d),g=0;g<d;g++){var m=p[g],x=this.getPad(m.gamepad.index);m.type==="gamepadconnected"?this.emit(c.CONNECTED,x,m):m.type==="gamepaddisconnected"&&this.emit(c.DISCONNECTED,x,m)}}},"update"),shutdown:r(function(){this.stopListeners(),this.removeAllListeners()},"shutdown"),destroy:r(function(){this.shutdown();for(var d=0;d<this.gamepads.length;d++)this.gamepads[d]&&this.gamepads[d].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},"destroy"),total:{get:r(function(){return this.gamepads.length},"get")},pad1:{get:r(function(){return this._pad1},"get")},pad2:{get:r(function(){return this._pad2},"get")},pad3:{get:r(function(){return this._pad3},"get")},pad4:{get:r(function(){return this._pad4},"get")}});h.register("GamepadPlugin",v,"gamepad","gamepad","inputGamepad"),n.exports=v},89651:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DUALSHOCK_4:s(65294),SNES_USB:s(89651),XBOX_360:s(90089)}},46008:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},7629:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},42206:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="connected"},86544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="disconnected"},94784:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},14325:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},92734:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BUTTON_DOWN:s(46008),BUTTON_UP:s(7629),CONNECTED:s(42206),DISCONNECTED:s(86544),GAMEPAD_BUTTON_DOWN:s(94784),GAMEPAD_BUTTON_UP:s(14325)}},48646:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Axis:s(97421),Button:s(28884),Events:s(92734),Gamepad:s(99125),GamepadPlugin:s(56654),Configs:s(64894)}},14350:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(93301),T=s(79291),c={CreatePixelPerfectHandler:s(84409),CreateInteractiveObject:s(74457),Events:s(8214),Gamepad:s(48646),InputManager:s(7003),InputPlugin:s(48205),InputPluginCache:s(89639),Keyboard:s(51442),Mouse:s(87078),Pointer:s(42515),Touch:s(95618)};c=T(!1,c,o),n.exports=c},78970:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(72905),T=s(83419),c=s(8443),l=s(8214),u=s(46032),h=s(29747),f=new T({initialize:r(function(d){this.manager=d,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=h,this.onKeyUp=h,d.events.once(l.MANAGER_BOOT,this.boot,this)},"KeyboardManager"),boot:r(function(){var v=this.manager.config;this.enabled=v.inputKeyboard,this.target=v.inputKeyboardEventTarget,this.addCapture(v.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(c.POST_STEP,this.postUpdate,this)},"boot"),startListeners:r(function(){var v=this;this.onKeyDown=function(p){if(!(p.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(p),v.manager.events.emit(l.MANAGER_PROCESS);var g=p.altKey||p.ctrlKey||p.shiftKey||p.metaKey;v.preventDefault&&!g&&v.captures.indexOf(p.keyCode)>-1&&p.preventDefault()}},this.onKeyUp=function(p){if(!(p.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(p),v.manager.events.emit(l.MANAGER_PROCESS);var g=p.altKey||p.ctrlKey||p.shiftKey||p.metaKey;v.preventDefault&&!g&&v.captures.indexOf(p.keyCode)>-1&&p.preventDefault()}};var d=this.target;d&&(d.addEventListener("keydown",this.onKeyDown,!1),d.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},"startListeners"),stopListeners:r(function(){var v=this.target;v.removeEventListener("keydown",this.onKeyDown,!1),v.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},"stopListeners"),postUpdate:r(function(){this.queue=[]},"postUpdate"),addCapture:r(function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var d=this.captures,p=0;p<v.length;p++){var g=v[p];typeof g=="string"&&(g=u[g.trim().toUpperCase()]),d.indexOf(g)===-1&&d.push(g)}this.preventDefault=d.length>0},"addCapture"),removeCapture:r(function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var d=this.captures,p=0;p<v.length;p++){var g=v[p];typeof g=="string"&&(g=u[g.toUpperCase()]),o(d,g)}this.preventDefault=d.length>0},"removeCapture"),clearCaptures:r(function(){this.captures=[],this.preventDefault=!1},"clearCaptures"),destroy:r(function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(c.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null},"destroy")});n.exports=f},28846:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(50792),c=s(95922),l=s(8443),u=s(35154),h=s(8214),f=s(89639),v=s(30472),d=s(46032),p=s(87960),g=s(74600),m=s(44594),x=s(56583),E=new o({Extends:T,initialize:r(function(R){T.call(this),this.game=R.systems.game,this.scene=R.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=R,this.manager=R.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,R.pluginEvents.once(h.BOOT,this.boot,this),R.pluginEvents.on(h.START,this.start,this)},"KeyboardPlugin"),boot:r(function(){var A=this.settings.input;this.enabled=u(A,"keyboard",!0);var R=u(A,"keyboard.capture",null);R&&this.addCaptures(R),this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.sceneInputPlugin.manager.events.on(h.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this),this.game.events.on(l.BLUR,this.resetKeys,this),this.scene.sys.events.on(m.PAUSE,this.resetKeys,this),this.scene.sys.events.on(m.SLEEP,this.resetKeys,this)},"start"),isActive:r(function(){return this.enabled&&this.scene.sys.canInput()},"isActive"),addCapture:r(function(A){return this.manager.addCapture(A),this},"addCapture"),removeCapture:r(function(A){return this.manager.removeCapture(A),this},"removeCapture"),getCaptures:r(function(){return this.manager.captures},"getCaptures"),enableGlobalCapture:r(function(){return this.manager.preventDefault=!0,this},"enableGlobalCapture"),disableGlobalCapture:r(function(){return this.manager.preventDefault=!1,this},"disableGlobalCapture"),clearCaptures:r(function(){return this.manager.clearCaptures(),this},"clearCaptures"),createCursorKeys:r(function(){return this.addKeys({up:d.UP,down:d.DOWN,left:d.LEFT,right:d.RIGHT,space:d.SPACE,shift:d.SHIFT})},"createCursorKeys"),addKeys:r(function(A,R,P){R===void 0&&(R=!0),P===void 0&&(P=!1);var O={};if(typeof A=="string"){A=A.split(",");for(var L=0;L<A.length;L++){var w=A[L].trim();w&&(O[w]=this.addKey(w,R,P))}}else for(var M in A)O[M]=this.addKey(A[M],R,P);return O},"addKeys"),addKey:r(function(A,R,P){R===void 0&&(R=!0),P===void 0&&(P=!1);var O=this.keys;if(A instanceof v){var L=O.indexOf(A);return L>-1?O[L]=A:O[A.keyCode]=A,R&&this.addCapture(A.keyCode),A.setEmitOnRepeat(P),A}return typeof A=="string"&&(A=d[A.toUpperCase()]),O[A]||(O[A]=new v(this,A),R&&this.addCapture(A),O[A].setEmitOnRepeat(P)),O[A]},"addKey"),removeKey:r(function(A,R,P){R===void 0&&(R=!1),P===void 0&&(P=!1);var O=this.keys,L;if(A instanceof v){var w=O.indexOf(A);w>-1&&(L=this.keys[w],this.keys[w]=void 0)}else typeof A=="string"&&(A=d[A.toUpperCase()]);return O[A]&&(L=O[A],O[A]=void 0),L&&(L.plugin=null,P&&this.removeCapture(L.keyCode),R&&L.destroy()),this},"removeKey"),removeAllKeys:r(function(A,R){A===void 0&&(A=!1),R===void 0&&(R=!1);for(var P=this.keys,O=0;O<P.length;O++){var L=P[O];L&&(P[O]=void 0,R&&this.removeCapture(L.keyCode),A&&L.destroy())}return this},"removeAllKeys"),createCombo:r(function(A,R){return new p(this,A,R)},"createCombo"),checkDown:r(function(A,R){if(R===void 0&&(R=0),this.enabled&&A.isDown){var P=x(this.time-A.timeDown,R);if(P>A._tick)return A._tick=P,!0}return!1},"checkDown"),update:r(function(){var A=this.manager.queue,R=A.length;if(!(!this.isActive()||R===0))for(var P=this.keys,O=0;O<R;O++){var L=A[O],w=L.keyCode,M=P[w],b=!1;L.cancelled===void 0&&(L.cancelled=0,L.stopImmediatePropagation=function(){L.cancelled=1},L.stopPropagation=function(){L.cancelled=-1}),L.cancelled!==-1&&(w===this.prevCode&&L.timeStamp===this.prevTime&&L.type===this.prevType||(this.prevCode=w,this.prevTime=L.timeStamp,this.prevType=L.type,L.type==="keydown"?(M&&(b=M.isDown,M.onDown(L)),!L.cancelled&&(!M||!b)&&(g[w]&&this.emit(c.KEY_DOWN+g[w],L),L.cancelled||this.emit(c.ANY_KEY_DOWN,L))):(M&&M.onUp(L),L.cancelled||(g[w]&&this.emit(c.KEY_UP+g[w],L),L.cancelled||this.emit(c.ANY_KEY_UP,L))),L.cancelled===1&&(L.cancelled=0)))}},"update"),resetKeys:r(function(){for(var A=this.keys,R=0;R<A.length;R++)A[R]&&A[R].reset();return this},"resetKeys"),shutdown:r(function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(h.MANAGER_PROCESS,this.update,this),this.game.events.off(l.BLUR,this.resetKeys),this.scene.sys.events.off(m.PAUSE,this.resetKeys,this),this.scene.sys.events.off(m.SLEEP,this.resetKeys,this),this.queue=[]},"shutdown"),destroy:r(function(){this.shutdown();for(var A=this.keys,R=0;R<A.length;R++)A[R]&&A[R].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},"destroy"),time:{get:r(function(){return this.sceneInputPlugin.manager.time},"get")}});f.register("KeyboardPlugin",E,"keyboard","keyboard","inputKeyboard"),n.exports=E},66970:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o.timeLastMatched=s.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)},"AdvanceKeyCombo");n.exports=C},87960:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95922),c=s(95540),l=s(68769),u=s(92803),h=new o({initialize:r(function(v,d,p){if(p===void 0&&(p={}),d.length<2)return!1;this.manager=v,this.enabled=!0,this.keyCodes=[];for(var g=0;g<d.length;g++){var m=d[g];typeof m=="string"?this.keyCodes.push(m.toUpperCase().charCodeAt(0)):typeof m=="number"?this.keyCodes.push(m):m.hasOwnProperty("keyCode")&&this.keyCodes.push(m.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=c(p,"resetOnWrongKey",!0),this.maxKeyDelay=c(p,"maxKeyDelay",0),this.resetOnMatch=c(p,"resetOnMatch",!1),this.deleteOnMatch=c(p,"deleteOnMatch",!1);var x=this,E=r(function(A){if(!(x.matched||!x.enabled)){var R=l(A,x);R&&(x.manager.emit(T.COMBO_MATCH,x,A),x.resetOnMatch?u(x):x.deleteOnMatch&&x.destroy())}},"onKeyDownHandler");this.onKeyDown=E,this.manager.on(T.ANY_KEY_DOWN,this.onKeyDown)},"KeyCombo"),progress:{get:r(function(){return this.index/this.size},"get")},destroy:r(function(){this.enabled=!1,this.keyCodes=[],this.manager.off(T.ANY_KEY_DOWN,this.onKeyDown),this.manager=null},"destroy")});n.exports=h},68769:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66970),T=r(function(c,l){if(l.matched)return!0;var u=!1,h=!1;if(c.keyCode===l.current)if(l.index>0&&l.maxKeyDelay>0){var f=l.timeLastMatched+l.maxKeyDelay;c.timeStamp<=f&&(h=!0,u=o(c,l))}else h=!0,u=o(c,l);return!h&&l.resetOnWrongKey&&(l.index=0,l.current=l.keyCodes[0]),u&&(l.timeLastMatched=c.timeStamp,l.matched=!0,l.timeMatched=c.timeStamp),u},"ProcessKeyCombo");n.exports=T},92803:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.current=s.keyCodes[0],s.index=0,s.timeLastMatched=0,s.matched=!1,s.timeMatched=0,s},"ResetKeyCombo");n.exports=C},92612:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown"},23345:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup"},21957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keycombomatch"},44743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},3771:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown-"},46358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup-"},75674:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},95922:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ANY_KEY_DOWN:s(92612),ANY_KEY_UP:s(23345),COMBO_MATCH:s(21957),DOWN:s(44743),KEY_DOWN:s(3771),KEY_UP:s(46358),UP:s(75674)}},51442:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:s(95922),KeyboardManager:s(78970),KeyboardPlugin:s(28846),Key:s(30472),KeyCodes:s(46032),KeyCombo:s(87960),AdvanceKeyCombo:s(66970),ProcessKeyCombo:s(68769),ResetKeyCombo:s(92803),JustDown:s(90229),JustUp:s(38796),DownDuration:s(37015),UpDuration:s(41170)}},37015:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o===void 0&&(o=50);var T=s.plugin.game.loop.time-s.timeDown;return s.isDown&&T<o},"DownDuration");n.exports=C},90229:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s._justDown?(s._justDown=!1,!0):!1},"JustDown");n.exports=C},38796:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s._justUp?(s._justUp=!1,!0):!1},"JustUp");n.exports=C},30472:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(50792),c=s(95922),l=new o({Extends:T,initialize:r(function(h,f){T.call(this),this.plugin=h,this.keyCode=f,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},"Key"),setEmitOnRepeat:r(function(u){return this.emitOnRepeat=u,this},"setEmitOnRepeat"),onDown:r(function(u){this.originalEvent=u,this.enabled&&(this.altKey=u.altKey,this.ctrlKey=u.ctrlKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.location=u.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(c.DOWN,this,u):(this.isDown=!0,this.isUp=!1,this.timeDown=u.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(c.DOWN,this,u)))},"onDown"),onUp:r(function(u){this.originalEvent=u,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=u.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(c.UP,this,u))},"onUp"),reset:r(function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},"reset"),getDuration:r(function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},"getDuration"),destroy:r(function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null},"destroy")});n.exports=l},46032:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};n.exports=C},74600:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(46032),T={};for(var c in o)T[o[c]]=c;n.exports=T},41170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o===void 0&&(o=50);var T=s.plugin.game.loop.time-s.timeUp;return s.isUp&&T<o},"UpDuration");n.exports=C},85098:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(89357),c=s(8214),l=s(29747),u=new o({initialize:r(function(f){this.manager=f,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=l,this.onMouseDown=l,this.onMouseUp=l,this.onMouseDownWindow=l,this.onMouseUpWindow=l,this.onMouseOver=l,this.onMouseOut=l,this.onMouseWheel=l,this.pointerLockChange=l,this.isTop=!0,f.events.once(c.MANAGER_BOOT,this.boot,this)},"MouseManager"),boot:r(function(){var h=this.manager.config;this.enabled=h.inputMouse,this.target=h.inputMouseEventTarget,this.passive=h.inputMousePassive,this.preventDefaultDown=h.inputMousePreventDefaultDown,this.preventDefaultUp=h.inputMousePreventDefaultUp,this.preventDefaultMove=h.inputMousePreventDefaultMove,this.preventDefaultWheel=h.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},"boot"),disableContextMenu:r(function(){return this.target.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},"disableContextMenu"),requestPointerLock:r(function(){if(T.pointerLock){var h=this.target;h.requestPointerLock=h.requestPointerLock||h.mozRequestPointerLock||h.webkitRequestPointerLock,h.requestPointerLock()}},"requestPointerLock"),releasePointerLock:r(function(){T.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},"releasePointerLock"),startListeners:r(function(){var h=this.target;if(h){var f=this,v=this.manager,d=v.canvas,p=window&&window.focus&&v.game.config.autoFocus;this.onMouseMove=function(m){!m.defaultPrevented&&f.enabled&&v&&v.enabled&&(v.onMouseMove(m),f.preventDefaultMove&&m.preventDefault())},this.onMouseDown=function(m){p&&window.focus(),!m.defaultPrevented&&f.enabled&&v&&v.enabled&&(v.onMouseDown(m),f.preventDefaultDown&&m.target===d&&m.preventDefault())},this.onMouseDownWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&f.enabled&&v&&v.enabled&&m.target!==d&&v.onMouseDown(m)},this.onMouseUp=function(m){!m.defaultPrevented&&f.enabled&&v&&v.enabled&&(v.onMouseUp(m),f.preventDefaultUp&&m.target===d&&m.preventDefault())},this.onMouseUpWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&f.enabled&&v&&v.enabled&&m.target!==d&&v.onMouseUp(m)},this.onMouseOver=function(m){!m.defaultPrevented&&f.enabled&&v&&v.enabled&&v.setCanvasOver(m)},this.onMouseOut=function(m){!m.defaultPrevented&&f.enabled&&v&&v.enabled&&v.setCanvasOut(m)},this.onMouseWheel=function(m){!m.defaultPrevented&&f.enabled&&v&&v.enabled&&v.onMouseWheel(m),f.preventDefaultWheel&&m.target===d&&m.preventDefault()};var g={passive:!0};if(h.addEventListener("mousemove",this.onMouseMove),h.addEventListener("mousedown",this.onMouseDown),h.addEventListener("mouseup",this.onMouseUp),h.addEventListener("mouseover",this.onMouseOver,g),h.addEventListener("mouseout",this.onMouseOut,g),this.preventDefaultWheel?h.addEventListener("wheel",this.onMouseWheel,{passive:!1}):h.addEventListener("wheel",this.onMouseWheel,g),window&&v.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,g),window.top.addEventListener("mouseup",this.onMouseUpWindow,g)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,g),window.addEventListener("mouseup",this.onMouseUpWindow,g),this.isTop=!1}T.pointerLock&&(this.pointerLockChange=function(m){var x=f.target;f.locked=document.pointerLockElement===x||document.mozPointerLockElement===x||document.webkitPointerLockElement===x,v.onPointerLockChange(m)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},"startListeners"),stopListeners:r(function(){var h=this.target;h.removeEventListener("mousemove",this.onMouseMove),h.removeEventListener("mousedown",this.onMouseDown),h.removeEventListener("mouseup",this.onMouseUp),h.removeEventListener("mouseover",this.onMouseOver),h.removeEventListener("mouseout",this.onMouseOut),window&&(h=this.isTop?window.top:window,h.removeEventListener("mousedown",this.onMouseDownWindow),h.removeEventListener("mouseup",this.onMouseUpWindow)),T.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},"stopListeners"),destroy:r(function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null},"destroy")});n.exports=u},87078:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={MouseManager:s(85098)}},36210:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(8214),c=s(29747),l=new o({initialize:r(function(h){this.manager=h,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=c,this.onTouchStartWindow=c,this.onTouchMove=c,this.onTouchEnd=c,this.onTouchEndWindow=c,this.onTouchCancel=c,this.onTouchCancelWindow=c,this.isTop=!0,h.events.once(T.MANAGER_BOOT,this.boot,this)},"TouchManager"),boot:r(function(){var u=this.manager.config;this.enabled=u.inputTouch,this.target=u.inputTouchEventTarget,this.capture=u.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,u.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},"boot"),disableContextMenu:r(function(){return this.target.addEventListener("contextmenu",function(u){return u.preventDefault(),!1}),this},"disableContextMenu"),startListeners:r(function(){var u=this.target;if(u){var h=this,f=this.manager,v=f.canvas,d=window&&window.focus&&f.game.config.autoFocus;this.onTouchMove=function(x){!x.defaultPrevented&&h.enabled&&f&&f.enabled&&(f.onTouchMove(x),h.capture&&x.cancelable&&x.preventDefault())},this.onTouchStart=function(x){d&&window.focus(),!x.defaultPrevented&&h.enabled&&f&&f.enabled&&(f.onTouchStart(x),h.capture&&x.cancelable&&x.target===v&&x.preventDefault())},this.onTouchStartWindow=function(x){!x.defaultPrevented&&h.enabled&&f&&f.enabled&&x.target!==v&&f.onTouchStart(x)},this.onTouchEnd=function(x){!x.defaultPrevented&&h.enabled&&f&&f.enabled&&(f.onTouchEnd(x),h.capture&&x.cancelable&&x.target===v&&x.preventDefault())},this.onTouchEndWindow=function(x){!x.defaultPrevented&&h.enabled&&f&&f.enabled&&x.target!==v&&f.onTouchEnd(x)},this.onTouchCancel=function(x){!x.defaultPrevented&&h.enabled&&f&&f.enabled&&(f.onTouchCancel(x),h.capture&&x.preventDefault())},this.onTouchCancelWindow=function(x){!x.defaultPrevented&&h.enabled&&f&&f.enabled&&f.onTouchCancel(x)};var p=this.capture,g={passive:!0},m={passive:!1};if(u.addEventListener("touchstart",this.onTouchStart,p?m:g),u.addEventListener("touchmove",this.onTouchMove,p?m:g),u.addEventListener("touchend",this.onTouchEnd,p?m:g),u.addEventListener("touchcancel",this.onTouchCancel,p?m:g),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,m),window.top.addEventListener("touchend",this.onTouchEndWindow,m),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,m)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,m),window.addEventListener("touchend",this.onTouchEndWindow,m),window.addEventListener("touchcancel",this.onTouchCancelWindow,m),this.isTop=!1}this.enabled=!0}},"startListeners"),stopListeners:r(function(){var u=this.target;u.removeEventListener("touchstart",this.onTouchStart),u.removeEventListener("touchmove",this.onTouchMove),u.removeEventListener("touchend",this.onTouchEnd),u.removeEventListener("touchcancel",this.onTouchCancel),window&&(u=this.isTop?window.top:window,u.removeEventListener("touchstart",this.onTouchStartWindow),u.removeEventListener("touchend",this.onTouchEndWindow),u.removeEventListener("touchcancel",this.onTouchCancelWindow))},"stopListeners"),destroy:r(function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null},"destroy")});n.exports=l},95618:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TouchManager:s(36210)}},41299:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(54899),l=s(95540),u=s(98356),h=s(3374),f=s(84376),v=s(92638),d=new o({initialize:r(function(g,m){if(this.loader=g,this.cache=l(m,"cache",!1),this.type=l(m,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=l(m,"key",!1);var x=this.key;if(g.prefix&&g.prefix!==""&&(this.key=g.prefix+x),!this.key)throw new Error("Invalid File key: "+this.key);var E=l(m,"url");E===void 0?E=g.path+x+"."+l(m,"extension",""):typeof E=="string"&&!E.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(E=g.path+E),this.url=E,this.src="",this.xhrSettings=v(l(m,"responseType",void 0)),l(m,"xhrSettings",!1)&&(this.xhrSettings=h(this.xhrSettings,l(m,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?T.FILE_POPULATED:T.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=l(m,"config",{}),this.multiFile,this.linkFile,this.base64=typeof E=="string"&&E.indexOf("data:")===0,this.retryAttempts=l(m,"maxRetries",g.maxRetries)},"File"),setLink:r(function(p){this.linkFile=p,p.linkFile=this},"setLink"),resetXHR:r(function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},"resetXHR"),load:r(function(){if(this.state===T.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=T.FILE_LOADING,this.src=u(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=f(this,this.loader.xhr)}},"load"),onLoad:r(function(p,g){var m=p.responseURL&&this.loader.localSchemes.some(function(A){return p.responseURL.indexOf(A)===0}),x=m&&g.target.status===0,E=!(g.target&&g.target.status!==200)||x;p.readyState===4&&p.status>=400&&p.status<=599&&(E=!1),this.state=T.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,E)},"onLoad"),onBase64Load:r(function(p){this.xhrLoader=p,this.state=T.FILE_LOADED,this.percentComplete=1,this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},"onBase64Load"),onError:r(function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},"onError"),onProgress:r(function(p){p.lengthComputable&&(this.bytesLoaded=p.loaded,this.bytesTotal=p.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete))},"onProgress"),onProcess:r(function(){this.state=T.FILE_PROCESSING,this.onProcessComplete()},"onProcess"),onProcessComplete:r(function(){this.state=T.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},"onProcessComplete"),onProcessError:r(function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=T.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},"onProcessError"),hasCacheConflict:r(function(){return this.cache&&this.cache.exists(this.key)},"hasCacheConflict"),addToCache:r(function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},"addToCache"),pendingDestroy:r(function(p){if(this.state!==T.FILE_PENDING_DESTROY){p===void 0&&(p=this.data);var g=this.key,m=this.type;this.loader.emit(c.FILE_COMPLETE,g,m,p),this.loader.emit(c.FILE_KEY_COMPLETE+m+"-"+g,g,m,p),this.loader.flagForRemoval(this),this.state=T.FILE_PENDING_DESTROY}},"pendingDestroy"),destroy:r(function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null},"destroy")});d.createObjectURL=function(p,g,m){if(typeof URL=="function")p.src=URL.createObjectURL(g);else{var x=new FileReader;x.onload=function(){p.removeAttribute("crossOrigin"),p.src="data:"+(g.type||m)+";base64,"+x.result.split(",")[1]},x.onerror=p.onerror,x.readAsDataURL(g)}},d.revokeObjectURL=function(p){typeof URL=="function"&&URL.revokeObjectURL(p.src)},n.exports=d},74099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={},s={install:r(function(o){for(var T in C)o[T]=C[T]},"install"),register:r(function(o,T){C[o]=T},"register"),destroy:r(function(){C={}},"destroy")};n.exports=s},98356:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.url?s.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?s.url:o+s.url:!1},"GetURL");n.exports=C},74261:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(35072),l=s(50792),u=s(54899),h=s(74099),f=s(95540),v=s(35154),d=s(41212),p=s(37277),g=s(44594),m=s(92638),x=new o({Extends:l,initialize:r(function(A){l.call(this);var R=A.sys.game.config,P=A.sys.settings.loader;this.scene=A,this.systems=A.sys,this.cacheManager=A.sys.cache,this.textureManager=A.sys.textures,this.sceneManager=A.sys.game.scene,h.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(f(P,"baseURL",R.loaderBaseURL)),this.setPath(f(P,"path",R.loaderPath)),this.setPrefix(f(P,"prefix",R.loaderPrefix)),this.maxParallelDownloads=f(P,"maxParallelDownloads",R.loaderMaxParallelDownloads),this.xhr=m(f(P,"responseType",R.loaderResponseType),f(P,"async",R.loaderAsync),f(P,"user",R.loaderUser),f(P,"password",R.loaderPassword),f(P,"timeout",R.loaderTimeout),f(P,"withCredentials",R.loaderWithCredentials)),this.crossOrigin=f(P,"crossOrigin",R.loaderCrossOrigin),this.imageLoadType=f(P,"imageLoadType",R.loaderImageLoadType),this.localSchemes=f(P,"localScheme",R.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new c,this.inflight=new c,this.queue=new c,this._deleteQueue=new c,this.totalFailed=0,this.totalComplete=0,this.state=T.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=f(P,"maxRetries",R.loaderMaxRetries),A.sys.events.once(g.BOOT,this.boot,this),A.sys.events.on(g.START,this.pluginStart,this)},"LoaderPlugin"),boot:r(function(){this.systems.events.once(g.DESTROY,this.destroy,this)},"boot"),pluginStart:r(function(){this.systems.events.once(g.SHUTDOWN,this.shutdown,this)},"pluginStart"),setBaseURL:r(function(E){return E===void 0&&(E=""),E!==""&&E.substr(-1)!=="/"&&(E=E.concat("/")),this.baseURL=E,this},"setBaseURL"),setPath:r(function(E){return E===void 0&&(E=""),E!==""&&E.substr(-1)!=="/"&&(E=E.concat("/")),this.path=E,this},"setPath"),setPrefix:r(function(E){return E===void 0&&(E=""),this.prefix=E,this},"setPrefix"),setCORS:r(function(E){return this.crossOrigin=E,this},"setCORS"),addFile:r(function(E){Array.isArray(E)||(E=[E]);for(var A=0;A<E.length;A++){var R=E[A];this.keyExists(R)||(this.list.set(R),this.emit(u.ADD,R.key,R.type,this,R),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},"addFile"),keyExists:r(function(E){var A=E.hasCacheConflict();return A||this.list.iterate(function(R){if(R.type===E.type&&R.key===E.key)return A=!0,!1}),!A&&this.isLoading()&&(this.inflight.iterate(function(R){if(R.type===E.type&&R.key===E.key)return A=!0,!1}),this.queue.iterate(function(R){if(R.type===E.type&&R.key===E.key)return A=!0,!1})),A},"keyExists"),addPack:r(function(E,A){if(typeof A=="string"){var R=v(E,A);R&&(E={packKey:R})}var P=0,O=this.baseURL,L=this.path,w=this.prefix;for(var M in E)if(Object.prototype.hasOwnProperty.call(E,M)){var b=E[M],D=f(b,"baseURL",O),F=f(b,"path",L),N=f(b,"prefix",w),B=f(b,"files",null),Y=f(b,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(D),this.setPath(F),this.setPrefix(N);for(var W=0;W<B.length;W++){var z=B[W],X=z.hasOwnProperty("type")?z.type:Y;this[X]&&(this[X](z),P++)}}}return this.setBaseURL(O),this.setPath(L),this.setPrefix(w),P>0},"addPack"),removePack:r(function(E,A){var R=this.systems.anims,P=this.cacheManager,O=this.textureManager,L={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},w;if(d(E))w=E;else if(w=P.json.get(E),!w){console.warn("Asset Pack not found in JSON cache:",E);return}A&&(w={_:w[A]});for(var M in w){var b=w[M],D=f(b,"prefix",""),F=f(b,"files"),N=f(b,"defaultType");if(Array.isArray(F))for(var B=0;B<F.length;B++){var Y=F[B],W=Y.hasOwnProperty("type")?Y.type:N;if(!W){console.warn("No type:",Y);continue}var z=D+Y.key;if(W==="animation"&&R.remove(z),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(O.remove(z),!L[W]))){if(W==="pack"){this.removePack(z,Y.dataKey);continue}if(W==="spine"){var X=P.custom.spine.get(z);if(!X)continue;var H=X.prefix===void 0?"":X.prefix;P.custom.spine.remove(z);var V=P.custom.spineTextures.get(z);if(!V)continue;P.custom.spineTextures.remove(z);for(var G=0;G<V.pages.length;G++){var k=V.pages[G],U=H+k.name,I=z+":"+U;O.exists(I)?O.remove(I):O.remove(U)}}var $=L[W];if($!==null){if(!$){console.warn("Unknown type:",W);continue}var K=P[$];K.remove(z)}}}}},"removePack"),isLoading:r(function(){return this.state===T.LOADER_LOADING||this.state===T.LOADER_PROCESSING},"isLoading"),isReady:r(function(){return this.state===T.LOADER_IDLE||this.state===T.LOADER_COMPLETE},"isReady"),start:r(function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(u.START,this),this.list.size===0?this.loadComplete():(this.state=T.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(g.UPDATE,this.update,this)))},"start"),updateProgress:r(function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(u.PROGRESS,this.progress)},"updateProgress"),update:r(function(){this.state===T.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},"update"),checkLoadQueue:r(function(){this.list.each(function(E){if((E.state===T.FILE_POPULATED||E.state===T.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(E),this.list.delete(E),E.crossOrigin||(E.crossOrigin=this.crossOrigin),E.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},"checkLoadQueue"),nextFile:r(function(E,A){this.inflight&&(this.inflight.delete(E),this.updateProgress(),A?(this.totalComplete++,this.queue.set(E),this.emit(u.FILE_LOAD,E),E.onProcess()):(this.totalFailed++,this._deleteQueue.set(E),this.emit(u.FILE_LOAD_ERROR,E),this.fileProcessComplete(E)))},"nextFile"),fileProcessComplete:r(function(E){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(E.state===T.FILE_ERRORED?E.multiFile&&E.multiFile.onFileFailed(E):E.state===T.FILE_COMPLETE&&(E.multiFile?E.multiFile.isReadyToProcess()&&(E.multiFile.addToCache(),E.multiFile.pendingDestroy()):(E.addToCache(),E.pendingDestroy())),this.queue.delete(E),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},"fileProcessComplete"),loadComplete:r(function(){this.emit(u.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=T.LOADER_COMPLETE,this.systems.events.off(g.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(u.COMPLETE,this,this.totalComplete,this.totalFailed)},"loadComplete"),flagForRemoval:r(function(E){this._deleteQueue.set(E)},"flagForRemoval"),saveJSON:r(function(E,A){return this.save(JSON.stringify(E),A)},"saveJSON"),save:r(function(E,A,R){A===void 0&&(A="file.json"),R===void 0&&(R="application/json");var P=new Blob([E],{type:R}),O=URL.createObjectURL(P),L=document.createElement("a");return L.download=A,L.textContent="Download "+A,L.href=O,L.click(),this},"save"),reset:r(function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var E=this.systems.game.config,A=this.systems.settings.loader;this.setBaseURL(f(A,"baseURL",E.loaderBaseURL)),this.setPath(f(A,"path",E.loaderPath)),this.setPrefix(f(A,"prefix",E.loaderPrefix)),this.state=T.LOADER_IDLE},"reset"),shutdown:r(function(){this.reset(),this.state=T.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.state=T.LOADER_DESTROYED,this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null},"destroy")});p.register("Loader",x,"load"),n.exports=x},3374:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),T=s(92638),c=r(function(l,u){var h=l===void 0?T():o({},l);if(u)for(var f in u)u[f]!==void 0&&(h[f]=u[f]);return h},"MergeXHRSettings");n.exports=c},26430:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(54899),l=new o({initialize:r(function(h,f,v,d){var p=[];d.forEach(function(x){x&&p.push(x)}),this.loader=h,this.type=f,this.key=v;var g=this.key;h.prefix&&h.prefix!==""&&(this.key=h.prefix+g),this.multiKeyIndex=h.multiKeyIndex++,this.files=p,this.state=T.FILE_PENDING,this.complete=!1,this.pending=p.length,this.failed=0,this.config={},this.baseURL=h.baseURL,this.path=h.path,this.prefix=h.prefix;for(var m=0;m<p.length;m++)p[m].multiFile=this},"MultiFile"),isReadyToProcess:r(function(){return this.pending===0&&this.failed===0&&!this.complete},"isReadyToProcess"),addToMultiFile:r(function(u){return this.files.push(u),u.multiFile=this,this.pending++,this.complete=!1,this},"addToMultiFile"),onFileComplete:r(function(u){var h=this.files.indexOf(u);h!==-1&&this.pending--},"onFileComplete"),onFileFailed:r(function(u){var h=this.files.indexOf(u);h!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,u.type,u.key))},"onFileFailed"),pendingDestroy:r(function(){if(this.state!==T.FILE_PENDING_DESTROY){var u=this.key,h=this.type;this.loader.emit(c.FILE_COMPLETE,u,h),this.loader.emit(c.FILE_KEY_COMPLETE+h+"-"+u,u,h),this.loader.flagForRemoval(this);for(var f=0;f<this.files.length;f++)this.files[f].pendingDestroy();this.state=T.FILE_PENDING_DESTROY}},"pendingDestroy"),destroy:r(function(){this.loader=null,this.files=null,this.config=null},"destroy")});n.exports=l},84376:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(3374),T=r(function(c,l){var u=o(l,c.xhrSettings);if(c.base64){var h=c.url.split(";base64,").pop()||c.url.split(",").pop(),f;c.xhrSettings.responseType==="arraybuffer"?f={response:Uint8Array.from(atob(h),function(p){return p.charCodeAt(0)}).buffer}:f={responseText:atob(h)},c.onBase64Load(f);return}var v=new XMLHttpRequest;if(v.open("GET",c.src,u.async,u.user,u.password),v.responseType=c.xhrSettings.responseType,v.timeout=u.timeout,u.headers)for(var d in u.headers)v.setRequestHeader(d,u.headers[d]);return u.header&&u.headerValue&&v.setRequestHeader(u.header,u.headerValue),u.requestedWith&&v.setRequestHeader("X-Requested-With",u.requestedWith),u.overrideMimeType&&v.overrideMimeType(u.overrideMimeType),u.withCredentials&&(v.withCredentials=!0),v.onload=c.onLoad.bind(c,v),v.onerror=c.onError.bind(c,v),v.onprogress=c.onProgress.bind(c),v.ontimeout=c.onError.bind(c,v),v.send(),v},"XHRLoader");n.exports=T},92638:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l,u){return s===void 0&&(s=""),o===void 0&&(o=!0),T===void 0&&(T=""),c===void 0&&(c=""),l===void 0&&(l=0),u===void 0&&(u=!1),{responseType:s,async:o,user:T,password:c,timeout:l,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:u}},"XHRSettings");n.exports=C},23906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};n.exports=C},42155:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addfile"},38991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},27540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete"},87464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete-"},94486:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loaderror"},13035:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="load"},38144:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fileprogress"},97520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postprocess"},85595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="progress"},55680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},54899:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:s(42155),COMPLETE:s(38991),FILE_COMPLETE:s(27540),FILE_KEY_COMPLETE:s(87464),FILE_LOAD_ERROR:s(94486),FILE_LOAD:s(13035),FILE_PROGRESS:s(38144),POST_PROCESS:s(97520),PROGRESS:s(85595),START:s(55680)}},14135:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(74099),c=s(518),l=s(54899),u=new o({Extends:c,initialize:r(function(f,v,d,p,g){c.call(this,f,v,d,p,g),this.type="animationJSON"},"AnimationJSONFile"),onProcess:r(function(){this.loader.once(l.POST_PROCESS,this.onLoadComplete,this),c.prototype.onProcess.call(this)},"onProcess"),onLoadComplete:r(function(){this.loader.systems.anims.fromJSON(this.data)},"onLoadComplete")});T.register("animation",function(h,f,v,d){if(Array.isArray(h))for(var p=0;p<h.length;p++)this.addFile(new u(this,h[p]));else this.addFile(new u(this,h,f,d,v));return this}),n.exports=u},76272:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(74099),c=s(95540),l=s(19550),u=s(41212),h=s(518),f=s(26430),v=new o({Extends:f,initialize:r(function(p,g,m,x,E,A){var R,P;if(u(g)){var O=g;g=c(O,"key"),R=new l(p,{key:g,url:c(O,"textureURL"),extension:c(O,"textureExtension","png"),normalMap:c(O,"normalMap"),xhrSettings:c(O,"textureXhrSettings")}),P=new h(p,{key:g,url:c(O,"atlasURL"),extension:c(O,"atlasExtension","json"),xhrSettings:c(O,"atlasXhrSettings")})}else R=new l(p,g,m,E),P=new h(p,g,x,A);R.linkFile?f.call(this,p,"atlasjson",g,[R,P,R.linkFile]):f.call(this,p,"atlasjson",g,[R,P])},"AsepriteFile"),addToCache:r(function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(d.key,d.data,p.data,g),p.addToCache(),this.complete=!0}},"addToCache")});T.register("aseprite",function(d,p,g,m,x){var E;if(Array.isArray(d))for(var A=0;A<d.length;A++)E=new v(this,d[A]),this.addFile(E.files);else E=new v(this,d,p,g,m,x),this.addFile(E.files);return this}),n.exports=v},38734:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(74099),c=s(95540),l=s(19550),u=s(41212),h=s(518),f=s(26430),v=new o({Extends:f,initialize:r(function(p,g,m,x,E,A){var R,P;if(u(g)){var O=g;g=c(O,"key"),R=new l(p,{key:g,url:c(O,"textureURL"),extension:c(O,"textureExtension","png"),normalMap:c(O,"normalMap"),xhrSettings:c(O,"textureXhrSettings")}),P=new h(p,{key:g,url:c(O,"atlasURL"),extension:c(O,"atlasExtension","json"),xhrSettings:c(O,"atlasXhrSettings")})}else R=new l(p,g,m,E),P=new h(p,g,x,A);R.linkFile?f.call(this,p,"atlasjson",g,[R,P,R.linkFile]):f.call(this,p,"atlasjson",g,[R,P])},"AtlasJSONFile"),addToCache:r(function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(d.key,d.data,p.data,g),this.complete=!0}},"addToCache")});T.register("atlas",function(d,p,g,m,x){var E;if(Array.isArray(d))for(var A=0;A<d.length;A++)E=new v(this,d[A]),this.addFile(E.files);else E=new v(this,d,p,g,m,x),this.addFile(E.files);return this}),n.exports=v},74599:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(74099),c=s(95540),l=s(19550),u=s(41212),h=s(26430),f=s(57318),v=new o({Extends:h,initialize:r(function(p,g,m,x,E,A){var R,P;if(u(g)){var O=g;g=c(O,"key"),R=new l(p,{key:g,url:c(O,"textureURL"),extension:c(O,"textureExtension","png"),normalMap:c(O,"normalMap"),xhrSettings:c(O,"textureXhrSettings")}),P=new f(p,{key:g,url:c(O,"atlasURL"),extension:c(O,"atlasExtension","xml"),xhrSettings:c(O,"atlasXhrSettings")})}else R=new l(p,g,m,E),P=new f(p,g,x,A);R.linkFile?h.call(this,p,"atlasxml",g,[R,P,R.linkFile]):h.call(this,p,"atlasxml",g,[R,P])},"AtlasXMLFile"),addToCache:r(function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(d.key,d.data,p.data,g),this.complete=!0}},"addToCache")});T.register("atlasXML",function(d,p,g,m,x){var E;if(Array.isArray(d))for(var A=0;A<d.length;A++)E=new v(this,d[A]),this.addFile(E.files);else E=new v(this,d,p,g,m,x),this.addFile(E.files);return this}),n.exports=v},21097:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(89749),f=s(41212),v=new o({Extends:c,initialize:r(function(p,g,m,x,E){if(f(g)){var A=g;g=u(A,"key"),x=u(A,"xhrSettings"),E=u(A,"context",E)}var R={type:"audio",cache:p.cacheManager.audio,extension:m.type,responseType:"arraybuffer",key:g,url:m.url,xhrSettings:x,config:{context:E}};c.call(this,p,R)},"AudioFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING;var d=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(p){d.data=p,d.onProcessComplete()},function(p){console.error("Error decoding audio: "+d.key+" - ",p?p.message:null),d.onProcessError()}),this.config.context=null},"onProcess")});v.create=function(d,p,g,m,x){var E=d.systems.game,A=E.config.audio,R=E.device.audio;f(p)&&(g=u(p,"url",[]),m=u(p,"config",{}));var P=v.getAudioURL(E,g);return P?R.webAudio&&!A.disableWebAudio?new v(d,p,P,x,E.sound.context):new h(d,p,P,m):(console.warn('No audio URLs for "%s" can play on this device',p),null)},v.getAudioURL=function(d,p){Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++){var m=u(p[g],"url",p[g]);if(m.indexOf("blob:")===0||m.indexOf("data:")===0)return{url:m,type:""};var x=m.match(/\.([a-zA-Z0-9]+)($|\?)/);if(x=u(p[g],"type",x?x[1]:"").toLowerCase(),d.device.audio[x])return{url:m,type:x}}return null},l.register("audio",function(d,p,g,m){var x=this.systems.game,E=x.config.audio,A=x.device.audio;if(E.noAudio||!A.webAudio&&!A.audioData)return this;var R;if(Array.isArray(d))for(var P=0;P<d.length;P++)R=v.create(this,d[P]),R&&this.addFile(R);else R=v.create(this,d,p,g,m),R&&this.addFile(R);return this}),n.exports=v},89524:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(21097),T=s(83419),c=s(74099),l=s(95540),u=s(41212),h=s(518),f=s(26430),v=new T({Extends:f,initialize:r(function(p,g,m,x,E,A,R){if(u(g)){var P=g;g=l(P,"key"),m=l(P,"jsonURL"),x=l(P,"audioURL"),E=l(P,"audioConfig"),A=l(P,"audioXhrSettings"),R=l(P,"jsonXhrSettings")}var O;if(!x)O=new h(p,g,m,R),f.call(this,p,"audiosprite",g,[O]),this.config.resourceLoad=!0,this.config.audioConfig=E,this.config.audioXhrSettings=A;else{var L=o.create(p,g,x,E,A);L&&(O=new h(p,g,m,R),f.call(this,p,"audiosprite",g,[L,O]),this.config.resourceLoad=!1)}},"AudioSpriteFile"),onFileComplete:r(function(d){var p=this.files.indexOf(d);if(p!==-1&&(this.pending--,this.config.resourceLoad&&d.type==="json"&&d.data.hasOwnProperty("resources"))){var g=d.data.resources,m=l(this.config,"audioConfig"),x=l(this.config,"audioXhrSettings"),E=o.create(this.loader,d.key,g,m,x);E&&(this.addToMultiFile(E),this.loader.addFile(E))}},"onFileComplete"),addToCache:r(function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1];d.addToCache(),p.addToCache(),this.complete=!0}},"addToCache")});c.register("audioSprite",function(d,p,g,m,x,E){var A=this.systems.game,R=A.config.audio,P=A.device.audio;if(R&&R.noAudio||!P.webAudio&&!P.audioData)return this;var O;if(Array.isArray(d))for(var L=0;L<d.length;L++)O=new v(this,d[L]),O.files&&this.addFile(O.files);else O=new v(this,d,p,g,m,x,E),O.files&&this.addFile(O.files);return this})},85722:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=new o({Extends:c,initialize:r(function(d,p,g,m,x){var E="bin";if(h(p)){var A=p;p=u(A,"key"),g=u(A,"url"),m=u(A,"xhrSettings"),E=u(A,"extension",E),x=u(A,"dataType",x)}var R={type:"binary",cache:d.cacheManager.binary,extension:E,responseType:"arraybuffer",key:p,url:g,xhrSettings:m,config:{dataType:x}};c.call(this,d,R)},"BinaryFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING;var v=this.config.dataType;this.data=v?new v(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()},"onProcess")});l.register("binary",function(v,d,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new f(this,v[m]));else this.addFile(new f(this,v,d,g,p));return this}),n.exports=f},97025:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(74099),c=s(95540),l=s(19550),u=s(41212),h=s(26430),f=s(21859),v=s(57318),d=new o({Extends:h,initialize:r(function(g,m,x,E,A,R){var P,O;if(u(m)){var L=m;m=c(L,"key"),P=new l(g,{key:m,url:c(L,"textureURL"),extension:c(L,"textureExtension","png"),normalMap:c(L,"normalMap"),xhrSettings:c(L,"textureXhrSettings")}),O=new v(g,{key:m,url:c(L,"fontDataURL"),extension:c(L,"fontDataExtension","xml"),xhrSettings:c(L,"fontDataXhrSettings")})}else P=new l(g,m,x,A),O=new v(g,m,E,R);P.linkFile?h.call(this,g,"bitmapfont",m,[P,O,P.linkFile]):h.call(this,g,"bitmapfont",m,[P,O])},"BitmapFontFile"),addToCache:r(function(){if(this.isReadyToProcess()){var p=this.files[0],g=this.files[1];p.addToCache();var m=p.cache.get(p.key),x=f(g.data,p.cache.getFrame(p.key),0,0,m);this.loader.cacheManager.bitmapFont.add(p.key,{data:x,texture:p.key,frame:null}),this.complete=!0}},"addToCache")});T.register("bitmapFont",function(p,g,m,x,E){var A;if(Array.isArray(p))for(var R=0;R<p.length;R++)A=new d(this,p[R]),this.addFile(A.files);else A=new d(this,p,g,m,x,E),this.addFile(A.files);return this}),n.exports=d},16024:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=new o({Extends:c,initialize:r(function(d,p,g,m){var x="css";if(h(p)){var E=p;p=u(E,"key"),g=u(E,"url"),m=u(E,"xhrSettings"),x=u(E,"extension",x)}var A={type:"script",cache:!1,extension:x,responseType:"text",key:p,url:g,xhrSettings:m};c.call(this,d,A)},"CSSFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()},"onProcess")});l.register("css",function(v,d,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new f(this,v[g]));else this.addFile(new f(this,v,d,p));return this}),n.exports=f},69559:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(38734),T=s(85722),c=s(83419),l=s(74099),u=s(95540),h=s(19550),f=s(41212),v=s(518),d=s(31403),p=s(46975),g=s(59327),m=s(26430),x=s(82038),E=s(55222),A=new c({Extends:m,initialize:r(function(P,O,L,w){if(L.multiAtlasURL){var M=new v(P,{key:O,url:L.multiAtlasURL,xhrSettings:w,config:L});m.call(this,P,"texture",O,[M])}else{var b=L.textureURL.substr(L.textureURL.length-3);L.type||(L.type=b.toLowerCase()==="ktx"?"KTX":"PVR");var D=new T(P,{key:O,url:L.textureURL,extension:b,xhrSettings:w,config:L});if(L.atlasURL){var F=new v(P,{key:O,url:L.atlasURL,xhrSettings:w,config:L});m.call(this,P,"texture",O,[D,F])}else m.call(this,P,"texture",O,[D])}this.config=L},"CompressedTextureFile"),onFileComplete:r(function(R){var P=this.files.indexOf(R);if(P!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(R.type==="json"&&R.data.hasOwnProperty("textures")){var O=R.data.textures,L=this.config,w=this.loader,M=w.baseURL,b=w.path,D=w.prefix,F=u(L,"multiBaseURL",this.baseURL),N=u(L,"multiPath",this.path),B=u(L,"prefix",this.prefix),Y=u(L,"textureXhrSettings");F&&w.setBaseURL(F),N&&w.setPath(N),B&&w.setPrefix(B);for(var W=0;W<O.length;W++){var z=O[W].image,X="CMA"+this.multiKeyIndex+"_"+z,H=new T(w,X,z,Y);if(this.addToMultiFile(H),w.addFile(H),O[W].normalMap){var V=new T(w,X,O[W].normalMap,Y);V.type="normalMap",H.setLink(V),this.addToMultiFile(V),w.addFile(V)}}w.setBaseURL(M),w.setPath(b),w.setPrefix(D)}}},"onFileComplete"),addToCache:r(function(){function R(F){console.warn('Compressed Texture Invalid: "'+M.key+'". '+F)}if(r(R,"compressionWarning"),this.isReadyToProcess()){var P=this.config;if(P.multiAtlasURL)this.addMultiToCache();else{var O=this.loader.systems.renderer,L=this.loader.textureManager,w,M=this.files[0],b=this.files[1];if(P.type==="PVR"?w=x(M.data):P.type==="KTX"&&(w=d(M.data),w||R("KTX file contains unsupported format.")),w&&!E(w)&&(R("Texture dimensions failed verification. Check the texture format specifications for "+P.format+" 0x"+w.internalFormat.toString(16)+"."),w=null),w&&!O.supportsCompressedTexture(P.format,w.internalFormat)&&(R("Texture format "+P.format+" with internal format "+w.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),w=null),w){w.format=O.getCompressedTextureName(P.format,w.internalFormat);var D=b&&b.data?b.data:null;L.addCompressedTexture(M.key,w,D)}}this.complete=!0}},"addToCache"),addMultiToCache:r(function(){for(var R=this.config,P=this.files[0],O=[],L=[],w=[],M=this.loader.systems.renderer,b=this.loader.textureManager,D,F=1;F<this.files.length;F++){var N=this.files[F];if(N.type!=="normalMap")for(var B=N.key.indexOf("_"),Y=N.key.substr(B+1),W=N.data,z=0;z<P.data.textures.length;z++){var X=P.data.textures[z];if(X.image===Y){R.type==="PVR"?D=x(W):R.type==="KTX"&&(D=d(W)),D&&M.supportsCompressedTexture(R.format,D.internalFormat)&&(D.format=M.getCompressedTextureName(R.format,D.internalFormat),L.push(D),O.push(X),N.linkFile&&w.push(N.linkFile.data));break}}}w.length===0&&(w=void 0),b.addAtlasJSONArray(this.key,L,O,w),this.complete=!0},"addMultiToCache")});l.register("texture",function(R,P,O){var L=this.systems.renderer,w=r(function(b,D,F,N){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(f(D)){var Y=D;D=u(Y,"key"),F=u(Y,"url"),N=u(Y,"xhrSettings")}var W=!1;for(var z in F)if(L.supportsCompressedTexture(z)){var X=F[z];typeof X=="string"?B.textureURL=X:B=p(X,B),B.format=z.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",D);else if(B.format==="IMG"){var H,V;B.multiAtlasURL?(V=new g(b,D,B.multiAtlasURL,B.multiPath,B.multiBaseURL,N),H=V.files):B.atlasURL?(V=new o(b,D,B.textureURL,B.atlasURL,N),H=V.files):H=new h(b,D,B.textureURL,N),b.addFile(H)}else{var G=new A(b,D,B,N);b.addFile(G.files)}},"AddEntry");if(Array.isArray(R))for(var M=0;M<R.length;M++)w(this,R[M]);else w(this,R,P,O);return this}),n.exports=A},87674:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(98356),f=s(41212),v=new o({Extends:c,initialize:r(function(p,g,m,x,E,A){var R="ttf";if(f(g)){var P=g;g=u(P,"key"),m=u(P,"url"),x=u(P,"format","truetype"),E=u(P,"descriptors",null),A=u(P,"xhrSettings"),R=u(P,"extension",R)}else x===void 0&&(x="truetype");var O={type:"font",cache:!1,extension:R,responseType:"text",key:g,url:m,xhrSettings:A};c.call(this,p,O),this.data={format:x,descriptors:E},this.state=T.FILE_POPULATED},"FontFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING,this.src=h(this,this.loader.baseURL);var d,p=this.key,g="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?d=new FontFace(p,g,this.data.descriptors):d=new FontFace(p,g);var m=this;d.load().then(function(){document.fonts.add(d),document.body.classList.add("fonts-loaded"),m.onProcessComplete()}).catch(function(){console.warn("Font failed to load",g),m.onProcessComplete()})},"onProcess")});l.register("font",function(d,p,g,m,x){if(Array.isArray(d))for(var E=0;E<d.length;E++)this.addFile(new v(this,d[E]));else this.addFile(new v(this,d,p,g,m,x));return this}),n.exports=v},47931:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=s(73894),v=new o({Extends:c,initialize:r(function(p,g,m,x,E){var A="glsl";if(h(g)){var R=g;g=u(R,"key"),m=u(R,"url"),x=u(R,"shaderType","fragment"),E=u(R,"xhrSettings"),A=u(R,"extension",A)}else x===void 0&&(x="fragment");var P={type:"glsl",cache:p.cacheManager.shader,extension:A,responseType:"text",key:g,url:m,config:{shaderType:x},xhrSettings:E};c.call(this,p,P)},"GLSLFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess"),addToCache:r(function(){var d=this.data.split(`
`),p=this.extractBlock(d,0);if(p)for(;p;){var g=this.getShaderName(p.header),m=this.getShaderType(p.header),x=this.getShaderUniforms(p.header),E=p.shader;if(this.cache.has(g)){var A=this.cache.get(g);m==="fragment"?A.fragmentSrc=E:A.vertexSrc=E,A.uniforms||(A.uniforms=x)}else m==="fragment"?this.cache.add(g,new f(g,E,"",x)):this.cache.add(g,new f(g,"",E,x));p=this.extractBlock(d,p.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new f(this.key,this.data)):this.cache.add(this.key,new f(this.key,"",this.data))},"addToCache"),getShaderName:r(function(d){for(var p=0;p<d.length;p++){var g=d[p].trim();if(g.substring(0,5)==="name:")return g.substring(5).trim()}return this.key},"getShaderName"),getShaderType:r(function(d){for(var p=0;p<d.length;p++){var g=d[p].trim();if(g.substring(0,5)==="type:")return g.substring(5).trim()}return this.config.shaderType},"getShaderType"),getShaderUniforms:r(function(d){for(var p={},g=0;g<d.length;g++){var m=d[g].trim();if(m.substring(0,8)==="uniform."){var x=m.indexOf(":");if(x){var E=m.substring(8,x);try{p[E]=JSON.parse(m.substring(x+1))}catch{console.warn("Invalid uniform JSON: "+E)}}}}return p},"getShaderUniforms"),extractBlock:r(function(d,p){for(var g=-1,m=-1,x=-1,E=!1,A=!1,R=[],P=[],O=p;O<d.length;O++){var L=d[O].trim();if(L==="---")if(g===-1)g=O,E=!0;else if(E)m=O,E=!1,A=!0;else{A=!1;break}else E?R.push(L):A&&(P.push(L),x=O)}return!E&&m!==-1?{header:R,shader:P.join(`
`),offset:x}:null},"extractBlock")});l.register("glsl",function(d,p,g,m){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new v(this,d[x]));else this.addFile(new v(this,d,p,g,m));return this}),n.exports=v},89749:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(54899),c=s(41299),l=s(95540),u=s(98356),h=s(41212),f=new o({Extends:c,initialize:r(function(d,p,g,m){if(h(p)){var x=p;p=l(x,"key"),m=l(x,"config",m)}var E={type:"audio",cache:d.cacheManager.audio,extension:g.type,key:p,url:g.url,config:m};c.call(this,d,E),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},"HTML5AudioFile"),onLoad:r(function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},"onLoad"),onError:r(function(){for(var v=0;v<this.data.length;v++){var d=this.data[v];d.oncanplaythrough=null,d.onerror=null}this.loader.nextFile(this,!1)},"onError"),onProgress:r(function(v){var d=v.target;d.oncanplaythrough=null,d.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(T.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},"onProgress"),load:r(function(){this.data=[];var v=this.config&&this.config.instances||1;this.filesTotal=v,this.filesLoaded=0,this.percentComplete=0;for(var d=0;d<v;d++){var p=new Audio;p.dataset||(p.dataset={}),p.dataset.name=this.key+("0"+d).slice(-2),p.dataset.used="false",this.locked?p.dataset.locked="true":(p.dataset.locked="false",p.preload="auto",p.oncanplaythrough=this.onProgress.bind(this),p.onerror=this.onError.bind(this)),this.data.push(p)}for(d=0;d<this.data.length;d++)p=this.data[d],p.src=u(this,this.loader.baseURL),this.locked||p.load();this.locked&&setTimeout(this.onLoad.bind(this))},"load")});n.exports=f},88470:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=new o({Extends:c,initialize:r(function(d,p,g,m){var x="html";if(h(p)){var E=p;p=u(E,"key"),g=u(E,"url"),m=u(E,"xhrSettings"),x=u(E,"extension",x)}var A={type:"text",cache:d.cacheManager.html,extension:x,responseType:"text",key:p,url:g,xhrSettings:m};c.call(this,d,A)},"HTMLFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess")});l.register("html",function(v,d,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new f(this,v[g]));else this.addFile(new f(this,v,d,p));return this}),n.exports=f},14643:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=new o({Extends:c,initialize:r(function(d,p,g,m,x,E){m===void 0&&(m=512),x===void 0&&(x=512);var A="html";if(h(p)){var R=p;p=u(R,"key"),g=u(R,"url"),E=u(R,"xhrSettings"),A=u(R,"extension",A),m=u(R,"width",m),x=u(R,"height",x)}var P={type:"html",cache:d.textureManager,extension:A,responseType:"text",key:p,url:g,xhrSettings:E,config:{width:m,height:x}};c.call(this,d,P)},"HTMLTextureFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING;var v=this.config.width,d=this.config.height,p=[];p.push('<svg width="'+v+'px" height="'+d+'px" viewBox="0 0 '+v+" "+d+'" xmlns="http://www.w3.org/2000/svg">'),p.push('<foreignObject width="100%" height="100%">'),p.push('<body xmlns="http://www.w3.org/1999/xhtml">'),p.push(this.xhrLoader.responseText),p.push("</body>"),p.push("</foreignObject>"),p.push("</svg>");var g=[p.join(`
`)],m=this;try{var x=new window.Blob(g,{type:"image/svg+xml;charset=utf-8"})}catch{m.state=T.FILE_ERRORED,m.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){c.revokeObjectURL(m.data),m.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(m.data),m.onProcessError()},c.createObjectURL(this.data,x,"image/svg+xml")},"onProcess"),addToCache:r(function(){this.cache.addImage(this.key,this.data)},"addToCache")});l.register("htmlTexture",function(v,d,p,g,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new f(this,v[x]));else this.addFile(new f(this,v,d,p,g,m));return this}),n.exports=f},19550:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=s(98356),v=new o({Extends:c,initialize:r(function d(p,g,m,x,E){var A="png",R;if(h(g)){var P=g;g=u(P,"key"),m=u(P,"url"),R=u(P,"normalMap"),x=u(P,"xhrSettings"),A=u(P,"extension",A),E=u(P,"frameConfig")}Array.isArray(m)&&(R=m[1],m=m[0]);var O={type:"image",cache:p.textureManager,extension:A,responseType:"blob",key:g,url:m,xhrSettings:x,config:E};if(c.call(this,p,O),R){var L=new d(p,this.key,R,x,E);L.type="normalMap",this.setLink(L),p.addFile(L)}this.useImageElementLoad=p.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},"ImageFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){c.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(d.data),d.onProcessError()},c.createObjectURL(this.data,this.xhrLoader.response,"image/png")},"onProcess"),onProcessImage:r(function(){var d=this.state;this.state=T.FILE_PROCESSING,d===T.FILE_LOADED?this.onProcessComplete():this.onProcessError()},"onProcessImage"),loadImage:r(function(){this.state=T.FILE_LOADING,this.src=f(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){d.state=T.FILE_LOADED,d.loader.nextFile(d,!0)},this.data.onerror=function(){d.loader.nextFile(d,!1)},this.data.src=this.src},"loadImage"),addToCache:r(function(){var d=this.linkFile;d?d.state>=T.FILE_COMPLETE&&(d.type==="spritesheet"?d.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,d.data,this.data):this.cache.addImage(this.key,this.data,d.data)):this.cache.addImage(this.key,this.data)},"addToCache")});l.register("image",function(d,p,g){if(Array.isArray(d))for(var m=0;m<d.length;m++)this.addFile(new v(this,d[m]));else this.addFile(new v(this,d,p,g));return this}),n.exports=v},518:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(35154),f=s(41212),v=new o({Extends:c,initialize:r(function(p,g,m,x,E){var A="json";if(f(g)){var R=g;g=u(R,"key"),m=u(R,"url"),x=u(R,"xhrSettings"),A=u(R,"extension",A),E=u(R,"dataKey",E)}var P={type:"json",cache:p.cacheManager.json,extension:A,responseType:"text",key:g,url:m,xhrSettings:x,config:E};c.call(this,p,P),f(m)&&(E?this.data=h(m,E):this.data=m,this.state=T.FILE_POPULATED)},"JSONFile"),onProcess:r(function(){if(this.state!==T.FILE_POPULATED){this.state=T.FILE_PROCESSING;try{var d=JSON.parse(this.xhrLoader.responseText)}catch(g){throw this.onProcessError(),g}var p=this.config;typeof p=="string"?this.data=h(d,p,d):this.data=d}this.onProcessComplete()},"onProcess")});l.register("json",function(d,p,g,m){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new v(this,d[x]));else this.addFile(new v(this,d,p,m,g));return this}),n.exports=v},59327:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(74099),c=s(95540),l=s(19550),u=s(41212),h=s(518),f=s(26430),v=new o({Extends:f,initialize:r(function(p,g,m,x,E,A,R){if(u(g)){var P=g;g=c(P,"key"),c(P,"url",!1)?m=c(P,"url"):m=c(P,"atlasURL"),A=c(P,"xhrSettings"),x=c(P,"path"),E=c(P,"baseURL"),R=c(P,"textureXhrSettings")}var O=new h(p,g,m,A);f.call(this,p,"multiatlas",g,[O]),this.config.path=x,this.config.baseURL=E,this.config.textureXhrSettings=R},"MultiAtlasFile"),onFileComplete:r(function(d){var p=this.files.indexOf(d);if(p!==-1&&(this.pending--,d.type==="json"&&d.data.hasOwnProperty("textures"))){var g=d.data.textures,m=this.config,x=this.loader,E=x.baseURL,A=x.path,R=x.prefix,P=c(m,"baseURL",this.baseURL),O=c(m,"path",this.path),L=c(m,"prefix",this.prefix),w=c(m,"textureXhrSettings");x.setBaseURL(P),x.setPath(O),x.setPrefix(L);for(var M=0;M<g.length;M++){var b=g[M].image,D="MA"+this.multiKeyIndex+"_"+b,F=new l(x,D,b,w);if(this.addToMultiFile(F),x.addFile(F),g[M].normalMap){var N=new l(x,D,g[M].normalMap,w);N.type="normalMap",F.setLink(N),this.addToMultiFile(N),x.addFile(N)}}x.setBaseURL(E),x.setPath(A),x.setPrefix(R)}},"onFileComplete"),addToCache:r(function(){if(this.isReadyToProcess()){for(var d=this.files[0],p=[],g=[],m=[],x=1;x<this.files.length;x++){var E=this.files[x];if(E.type!=="normalMap")for(var A=E.key.indexOf("_"),R=E.key.substr(A+1),P=E.data,O=0;O<d.data.textures.length;O++){var L=d.data.textures[O];if(L.image===R){g.push(P),p.push(L),E.linkFile&&m.push(E.linkFile.data);break}}}m.length===0&&(m=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,g,p,m),this.complete=!0}},"addToCache")});T.register("multiatlas",function(d,p,g,m,x){var E;if(Array.isArray(d))for(var A=0;A<d.length;A++)E=new v(this,d[A]),this.addFile(E.files);else E=new v(this,d,p,g,m,x),this.addFile(E.files);return this}),n.exports=v},99297:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(74099),c=s(95540),l=s(41212),u=s(26430),h=s(34328),f=new o({Extends:u,initialize:r(function(d,p,g,m){var x="js",E=[];if(l(p)){var A=p;p=c(A,"key"),g=c(A,"url"),m=c(A,"xhrSettings"),x=c(A,"extension",x)}Array.isArray(g)||(g=[g]);for(var R=0;R<g.length;R++){var P=new h(d,{key:p+"_"+R.toString(),url:g[R],extension:x,xhrSettings:m});P.onProcess=function(){this.onProcessComplete()},E.push(P)}u.call(this,d,"scripts",p,E)},"MultiScriptFile"),addToCache:r(function(){if(this.isReadyToProcess()){for(var v=0;v<this.files.length;v++){var d=this.files[v];d.data=document.createElement("script"),d.data.language="javascript",d.data.type="text/javascript",d.data.defer=!1,d.data.text=d.xhrLoader.responseText,document.head.appendChild(d.data)}this.complete=!0}},"addToCache")});T.register("scripts",function(v,d,p){var g;if(Array.isArray(v))for(var m=0;m<v.length;m++)g=new f(this,v[m]),this.addFile(g.files);else g=new f(this,v,d,p),this.addFile(g.files);return this}),n.exports=f},41846:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(74099),c=s(95540),l=s(41212),u=s(26430),h=s(85048),f=s(61485),v=s(78776),d=new o({Extends:u,initialize:r(function(g,m,x,E,A,R){var P,O,L=g.cacheManager.obj;if(l(m)){var w=m;m=c(w,"key"),P=new v(g,{key:m,type:"obj",cache:L,url:c(w,"url"),extension:c(w,"extension","obj"),xhrSettings:c(w,"xhrSettings"),config:{flipUV:c(w,"flipUV",A)}}),E=c(w,"matURL"),E&&(O=new v(g,{key:m,type:"mat",cache:L,url:E,extension:c(w,"matExtension","mat"),xhrSettings:c(w,"xhrSettings")}))}else P=new v(g,{key:m,url:x,type:"obj",cache:L,extension:"obj",xhrSettings:R,config:{flipUV:A}}),E&&(O=new v(g,{key:m,url:E,type:"mat",cache:L,extension:"mat",xhrSettings:R}));u.call(this,g,"obj",m,[P,O])},"OBJFile"),addToCache:r(function(){if(this.isReadyToProcess()){var p=this.files[0],g=this.files[1],m=h(p.data,p.config.flipUV);g&&(m.materials=f(g.data)),p.cache.add(p.key,m),this.complete=!0}},"addToCache")});T.register("obj",function(p,g,m,x,E){var A;if(Array.isArray(p))for(var R=0;R<p.length;R++)A=new d(this,p[R]),this.addFile(A.files);else A=new d(this,p,g,m,x,E),this.addFile(A.files);return this}),n.exports=d},58610:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(74099),l=s(518),u=new o({Extends:l,initialize:r(function(f,v,d,p,g){l.call(this,f,v,d,p,g),this.type="packfile"},"PackFile"),onProcess:r(function(){if(this.state!==T.FILE_POPULATED&&(this.state=T.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var h={};h[this.config]=this.data,this.data=h}this.loader.addPack(this.data,this.config),this.onProcessComplete()},"onProcess")});c.register("pack",function(h,f,v,d){if(Array.isArray(h))for(var p=0;p<h.length;p++)this.addFile(new u(this,h[p]));else this.addFile(new u(this,h,f,d,v));return this}),n.exports=u},48988:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=new o({Extends:c,initialize:r(function(d,p,g,m,x,E){var A="js";if(h(p)){var R=p;p=u(R,"key"),g=u(R,"url"),E=u(R,"xhrSettings"),A=u(R,"extension",A),m=u(R,"start"),x=u(R,"mapping")}var P={type:"plugin",cache:!1,extension:A,responseType:"text",key:p,url:g,xhrSettings:E,config:{start:m,mapping:x}};c.call(this,d,P),typeof g=="function"&&(this.data=g,this.state=T.FILE_POPULATED)},"PluginFile"),onProcess:r(function(){var v=this.loader.systems.plugins,d=this.config,p=u(d,"start",!1),g=u(d,"mapping",null);if(this.state===T.FILE_POPULATED)v.install(this.key,this.data,p,g);else{this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var m=v.install(this.key,window[this.key],p,g);(p||g)&&(this.loader.systems[g]=m,this.loader.scene[g]=m)}this.onProcessComplete()},"onProcess")});l.register("plugin",function(v,d,p,g,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new f(this,v[x]));else this.addFile(new f(this,v,d,p,g,m));return this}),n.exports=f},67397:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=new o({Extends:c,initialize:r(function(d,p,g,m,x){var E="svg";if(h(p)){var A=p;p=u(A,"key"),g=u(A,"url"),m=u(A,"svgConfig",{}),x=u(A,"xhrSettings"),E=u(A,"extension",E)}var R={type:"svg",cache:d.textureManager,extension:E,responseType:"text",key:p,url:g,xhrSettings:x,config:{width:u(m,"width"),height:u(m,"height"),scale:u(m,"scale")}};c.call(this,d,R)},"SVGFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING;var v=this.xhrLoader.responseText,d=[v],p=this.config.width,g=this.config.height,m=this.config.scale;t:if(p&&g||m){var x=null,E=new DOMParser;x=E.parseFromString(v,"text/xml");var A=x.getElementsByTagName("svg")[0],R=A.hasAttribute("viewBox"),P=parseFloat(A.getAttribute("width")),O=parseFloat(A.getAttribute("height"));if(!R&&P&&O)A.setAttribute("viewBox","0  0 "+P+" "+O);else if(R&&!P&&!O){var L=A.getAttribute("viewBox").split(/\s+|,/);P=L[2],O=L[3]}if(m)if(P&&O)p=P*m,g=O*m;else break t;A.setAttribute("width",p.toString()+"px"),A.setAttribute("height",g.toString()+"px"),d=[new XMLSerializer().serializeToString(A)]}try{var w=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var M=this,b=!1;this.data.onload=function(){b||c.revokeObjectURL(M.data),M.onProcessComplete()},this.data.onerror=function(){b?M.onProcessError():(b=!0,c.revokeObjectURL(M.data),M.data.src="data:image/svg+xml,"+encodeURIComponent(d.join("")))},c.createObjectURL(this.data,w,"image/svg+xml")},"onProcess"),addToCache:r(function(){this.cache.addImage(this.key,this.data)},"addToCache")});l.register("svg",function(v,d,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new f(this,v[m]));else this.addFile(new f(this,v,d,p,g));return this}),n.exports=f},88423:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=new o({Extends:c,initialize:r(function(d,p,g,m){var x="js";if(h(p)){var E=p;p=u(E,"key"),g=u(E,"url"),m=u(E,"xhrSettings"),x=u(E,"extension",x)}var A={type:"text",extension:x,responseType:"text",key:p,url:g,xhrSettings:m};c.call(this,d,A)},"SceneFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess"),addToCache:r(function(){var v=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),d=eval;this.loader.sceneManager.add(this.key,d(v)),this.complete=!0},"addToCache")});l.register("sceneFile",function(v,d,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new f(this,v[g]));else this.addFile(new f(this,v,d,p));return this}),n.exports=f},56812:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=new o({Extends:c,initialize:r(function(d,p,g,m,x,E){var A="js";if(h(p)){var R=p;p=u(R,"key"),g=u(R,"url"),E=u(R,"xhrSettings"),A=u(R,"extension",A),m=u(R,"systemKey"),x=u(R,"sceneKey")}var P={type:"scenePlugin",cache:!1,extension:A,responseType:"text",key:p,url:g,xhrSettings:E,config:{systemKey:m,sceneKey:x}};c.call(this,d,P),typeof g=="function"&&(this.data=g,this.state=T.FILE_POPULATED)},"ScenePluginFile"),onProcess:r(function(){var v=this.loader.systems.plugins,d=this.config,p=this.key,g=u(d,"systemKey",p),m=u(d,"sceneKey",p);this.state===T.FILE_POPULATED?v.installScenePlugin(g,this.data,m,this.loader.scene,!0):(this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),v.installScenePlugin(g,window[this.key],m,this.loader.scene,!0)),this.onProcessComplete()},"onProcess")});l.register("scenePlugin",function(v,d,p,g,m){if(Array.isArray(v))for(var x=0;x<v.length;x++)this.addFile(new f(this,v[x]));else this.addFile(new f(this,v,d,p,g,m));return this}),n.exports=f},34328:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=new o({Extends:c,initialize:r(function(d,p,g,m,x){var E="js";if(h(p)){var A=p;p=u(A,"key"),g=u(A,"url"),m=u(A,"type","script"),x=u(A,"xhrSettings"),E=u(A,"extension",E)}else m===void 0&&(m="script");var R={type:m,cache:!1,extension:E,responseType:"text",key:p,url:g,xhrSettings:x};c.call(this,d,R)},"ScriptFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()},"onProcess")});l.register("script",function(v,d,p,g){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new f(this,v[m]));else this.addFile(new f(this,v,d,p,g));return this}),n.exports=f},85035:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(74099),l=s(19550),u=new o({Extends:l,initialize:r(function(f,v,d,p,g){l.call(this,f,v,d,g,p),this.type="spritesheet"},"SpriteSheetFile"),addToCache:r(function(){var h=this.linkFile;h?h.state>=T.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,h.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,h.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)},"addToCache")});c.register("spritesheet",function(h,f,v,d){if(Array.isArray(h))for(var p=0;p<h.length;p++)this.addFile(new u(this,h[p]));else this.addFile(new u(this,h,f,v,d));return this}),n.exports=u},78776:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=new o({Extends:c,initialize:r(function(d,p,g,m){var x="text",E="txt",A=d.cacheManager.text;if(h(p)){var R=p;p=u(R,"key"),g=u(R,"url"),m=u(R,"xhrSettings"),E=u(R,"extension",E),x=u(R,"type",x),A=u(R,"cache",A)}var P={type:x,cache:A,extension:E,responseType:"text",key:p,url:g,xhrSettings:m};c.call(this,d,P)},"TextFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess")});l.register("text",function(v,d,p){if(Array.isArray(v))for(var g=0;g<v.length;g++)this.addFile(new f(this,v[g]));else this.addFile(new f(this,v,d,p));return this}),n.exports=f},49477:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=s(80341),v=new o({Extends:c,initialize:r(function(p,g,m,x){var E="csv";if(h(g)){var A=g;g=u(A,"key"),m=u(A,"url"),x=u(A,"xhrSettings"),E=u(A,"extension",E)}var R={type:"tilemapCSV",cache:p.cacheManager.tilemap,extension:E,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,p,R),this.tilemapFormat=f.CSV},"TilemapCSVFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},"onProcess"),addToCache:r(function(){var d={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,d)},"addToCache")});l.register("tilemapCSV",function(d,p,g){if(Array.isArray(d))for(var m=0;m<d.length;m++)this.addFile(new v(this,d[m]));else this.addFile(new v(this,d,p,g));return this}),n.exports=v},40807:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(74099),c=s(518),l=s(80341),u=new o({Extends:c,initialize:r(function(f,v,d,p){c.call(this,f,v,d,p),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},"TilemapImpactFile"),addToCache:r(function(){var h={format:l.WELTMEISTER,data:this.data};this.cache.add(this.key,h)},"addToCache")});T.register("tilemapImpact",function(h,f,v){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new u(this,h[d]));else this.addFile(new u(this,h,f,v));return this}),n.exports=u},56775:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(74099),c=s(518),l=s(80341),u=new o({Extends:c,initialize:r(function(f,v,d,p){c.call(this,f,v,d,p),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},"TilemapJSONFile"),addToCache:r(function(){var h={format:l.TILED_JSON,data:this.data};this.cache.add(this.key,h)},"addToCache")});T.register("tilemapTiledJSON",function(h,f,v){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new u(this,h[d]));else this.addFile(new u(this,h,f,v));return this}),n.exports=u},25771:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(74099),c=s(95540),l=s(19550),u=s(41212),h=s(26430),f=s(78776),v=new o({Extends:h,initialize:r(function(p,g,m,x,E,A){var R,P;if(u(g)){var O=g;g=c(O,"key"),R=new l(p,{key:g,url:c(O,"textureURL"),extension:c(O,"textureExtension","png"),normalMap:c(O,"normalMap"),xhrSettings:c(O,"textureXhrSettings")}),P=new f(p,{key:g,url:c(O,"atlasURL"),extension:c(O,"atlasExtension","txt"),xhrSettings:c(O,"atlasXhrSettings")})}else R=new l(p,g,m,E),P=new f(p,g,x,A);R.linkFile?h.call(this,p,"unityatlas",g,[R,P,R.linkFile]):h.call(this,p,"unityatlas",g,[R,P])},"UnityAtlasFile"),addToCache:r(function(){if(this.isReadyToProcess()){var d=this.files[0],p=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(d.key,d.data,p.data,g),this.complete=!0}},"addToCache")});T.register("unityAtlas",function(d,p,g,m,x){var E;if(Array.isArray(d))for(var A=0;A<d.length;A++)E=new v(this,d[A]),this.addFile(E.files);else E=new v(this,d,p,g,m,x),this.addFile(E.files);return this}),n.exports=v},33720:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(98356),h=s(95540),f=s(41212),v=new o({Extends:c,initialize:r(function(p,g,m,x){if(x===void 0&&(x=!1),f(g)){var E=g;g=h(E,"key"),m=h(E,"url",[]),x=h(E,"noAudio",!1)}var A=p.systems.game.device.video.getVideoURL(m);A||console.warn("VideoFile: No supported format for "+g);var R={type:"video",cache:p.cacheManager.video,extension:A.type,key:g,url:A.url,config:{noAudio:x}};c.call(this,p,R)},"VideoFile"),onProcess:r(function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},"onProcess"),load:r(function(){this.src=u(this,this.loader.baseURL),this.state=T.FILE_LOADED,this.loader.nextFile(this,!0)},"load")});l.register("video",function(d,p,g){if(Array.isArray(d))for(var m=0;m<d.length;m++)this.addFile(new v(this,d[m]));else this.addFile(new v(this,d,p,g));return this}),n.exports=v},57318:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(23906),c=s(41299),l=s(74099),u=s(95540),h=s(41212),f=s(56836),v=new o({Extends:c,initialize:r(function(p,g,m,x){var E="xml";if(h(g)){var A=g;g=u(A,"key"),m=u(A,"url"),x=u(A,"xhrSettings"),E=u(A,"extension",E)}var R={type:"xml",cache:p.cacheManager.xml,extension:E,responseType:"text",key:g,url:m,xhrSettings:x};c.call(this,p,R)},"XMLFile"),onProcess:r(function(){this.state=T.FILE_PROCESSING,this.data=f(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()},"onProcess")});l.register("xml",function(d,p,g){if(Array.isArray(d))for(var m=0;m<d.length;m++)this.addFile(new v(this,d[m]));else this.addFile(new v(this,d,p,g));return this}),n.exports=v},64589:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AnimationJSONFile:s(14135),AsepriteFile:s(76272),AtlasJSONFile:s(38734),AtlasXMLFile:s(74599),AudioFile:s(21097),AudioSpriteFile:s(89524),BinaryFile:s(85722),BitmapFontFile:s(97025),CompressedTextureFile:s(69559),CSSFile:s(16024),FontFile:s(87674),GLSLFile:s(47931),HTML5AudioFile:s(89749),HTMLFile:s(88470),HTMLTextureFile:s(14643),ImageFile:s(19550),JSONFile:s(518),MultiAtlasFile:s(59327),MultiScriptFile:s(99297),OBJFile:s(41846),PackFile:s(58610),PluginFile:s(48988),SceneFile:s(88423),ScenePluginFile:s(56812),ScriptFile:s(34328),SpriteSheetFile:s(85035),SVGFile:s(67397),TextFile:s(78776),TilemapCSVFile:s(49477),TilemapImpactFile:s(40807),TilemapJSONFile:s(56775),UnityAtlasFile:s(25771),VideoFile:s(33720),XMLFile:s(57318)}},57777:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23906),T=s(79291),c={Events:s(54899),FileTypes:s(64589),File:s(41299),FileTypesManager:s(74099),GetURL:s(98356),LoaderPlugin:s(74261),MergeXHRSettings:s(3374),MultiFile:s(26430),XHRLoader:s(84376),XHRSettings:s(92638)};c=T(!1,c,o),n.exports=c},53307:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){for(var o=0,T=0;T<s.length;T++)o+=+s[T];return o/s.length},"Average");n.exports=C},85710:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6411),T=r(function(c,l){return o(c)/o(l)/o(c-l)},"Bernstein");n.exports=T},30976:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return Math.floor(Math.random()*(o-s+1)+s)},"Between");n.exports=C},87842:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l){var u=(c-o)*.5,h=(l-T)*.5,f=s*s,v=s*f;return(2*T-2*c+u+h)*v+(-3*T+3*c-2*u-h)*f+u*s+T},"CatmullRom");n.exports=C},26302:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){o===void 0&&(o=0),T===void 0&&(T=10);var c=Math.pow(T,-o);return Math.ceil(s*c)/c},"CeilTo");n.exports=C},45319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return Math.max(o,Math.min(T,s))},"Clamp");n.exports=C},39506:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),T=r(function(c){return c*o.DEG_TO_RAD},"DegToRad");n.exports=T},61241:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return Math.abs(s-o)},"Difference");n.exports=C},38857:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=s(83419),c=s(37867),l=s(29747),u=new c,h=new T({initialize:r(function f(v,d,p,g){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=f.DefaultOrder),this._x=v,this._y=d,this._z=p,this._order=g,this.onChangeCallback=l},"Euler"),x:{get:r(function(){return this._x},"get"),set:r(function(f){this._x=f,this.onChangeCallback(this)},"set")},y:{get:r(function(){return this._y},"get"),set:r(function(f){this._y=f,this.onChangeCallback(this)},"set")},z:{get:r(function(){return this._z},"get"),set:r(function(f){this._z=f,this.onChangeCallback(this)},"set")},order:{get:r(function(){return this._order},"get"),set:r(function(f){this._order=f,this.onChangeCallback(this)},"set")},set:r(function(f,v,d,p){return p===void 0&&(p=this._order),this._x=f,this._y=v,this._z=d,this._order=p,this.onChangeCallback(this),this},"set"),copy:r(function(f){return this.set(f.x,f.y,f.z,f.order)},"copy"),setFromQuaternion:r(function(f,v,d){return v===void 0&&(v=this._order),d===void 0&&(d=!1),u.fromQuat(f),this.setFromRotationMatrix(u,v,d)},"setFromQuaternion"),setFromRotationMatrix:r(function(f,v,d){v===void 0&&(v=this._order),d===void 0&&(d=!1);var p=f.val,g=p[0],m=p[4],x=p[8],E=p[1],A=p[5],R=p[9],P=p[2],O=p[6],L=p[10],w=0,M=0,b=0,D=.99999;switch(v){case"XYZ":{M=Math.asin(o(x,-1,1)),Math.abs(x)<D?(w=Math.atan2(-R,L),b=Math.atan2(-m,g)):w=Math.atan2(O,A);break}case"YXZ":{w=Math.asin(-o(R,-1,1)),Math.abs(R)<D?(M=Math.atan2(x,L),b=Math.atan2(E,A)):M=Math.atan2(-P,g);break}case"ZXY":{w=Math.asin(o(O,-1,1)),Math.abs(O)<D?(M=Math.atan2(-P,L),b=Math.atan2(-m,A)):b=Math.atan2(E,g);break}case"ZYX":{M=Math.asin(-o(P,-1,1)),Math.abs(P)<D?(w=Math.atan2(O,L),b=Math.atan2(E,g)):b=Math.atan2(-m,A);break}case"YZX":{b=Math.asin(o(E,-1,1)),Math.abs(E)<D?(w=Math.atan2(-R,A),M=Math.atan2(-P,g)):M=Math.atan2(x,L);break}case"XZY":{b=Math.asin(-o(m,-1,1)),Math.abs(m)<D?(w=Math.atan2(O,A),M=Math.atan2(x,g)):w=Math.atan2(-R,L);break}}return this._x=w,this._y=M,this._z=b,this._order=v,d&&this.onChangeCallback(this),this},"setFromRotationMatrix")});h.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],h.DefaultOrder="XYZ",n.exports=h},6411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){if(s===0)return 1;for(var o=s;--s;)o*=s;return o},"Factorial");n.exports=C},99472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return Math.random()*(o-s)+s},"FloatBetween");n.exports=C},77623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){o===void 0&&(o=0),T===void 0&&(T=10);var c=Math.pow(T,-o);return Math.floor(s*c)/c},"FloorTo");n.exports=C},62945:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=r(function(c,l,u){return c=o(c,0,1),(u-l)*c+l},"FromPercent");n.exports=T},38265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s/o/1e3},"GetSpeed");n.exports=C},78702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s==parseFloat(s)?!(s%2):void 0},"IsEven");n.exports=C},94883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s===parseFloat(s)?!(s%2):void 0},"IsEvenStrict");n.exports=C},28915:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return(o-s)*T+s},"Linear");n.exports=C},94908:n=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return T===void 0&&(T=0),s.clone().lerp(o,T)},"LinearXY");n.exports=C},94434:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l){this.val=new Float32Array(9),l?this.copy(l):this.identity()},"Matrix3"),clone:r(function(){return new T(this)},"clone"),set:r(function(c){return this.copy(c)},"set"),copy:r(function(c){var l=this.val,u=c.val;return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],l[6]=u[6],l[7]=u[7],l[8]=u[8],this},"copy"),fromMat4:r(function(c){var l=c.val,u=this.val;return u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[4],u[4]=l[5],u[5]=l[6],u[6]=l[8],u[7]=l[9],u[8]=l[10],this},"fromMat4"),fromArray:r(function(c){var l=this.val;return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],this},"fromArray"),identity:r(function(){var c=this.val;return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=1,c[5]=0,c[6]=0,c[7]=0,c[8]=1,this},"identity"),transpose:r(function(){var c=this.val,l=c[1],u=c[2],h=c[5];return c[1]=c[3],c[2]=c[6],c[3]=l,c[5]=c[7],c[6]=u,c[7]=h,this},"transpose"),invert:r(function(){var c=this.val,l=c[0],u=c[1],h=c[2],f=c[3],v=c[4],d=c[5],p=c[6],g=c[7],m=c[8],x=m*v-d*g,E=-m*f+d*p,A=g*f-v*p,R=l*x+u*E+h*A;return R?(R=1/R,c[0]=x*R,c[1]=(-m*u+h*g)*R,c[2]=(d*u-h*v)*R,c[3]=E*R,c[4]=(m*l-h*p)*R,c[5]=(-d*l+h*f)*R,c[6]=A*R,c[7]=(-g*l+u*p)*R,c[8]=(v*l-u*f)*R,this):null},"invert"),adjoint:r(function(){var c=this.val,l=c[0],u=c[1],h=c[2],f=c[3],v=c[4],d=c[5],p=c[6],g=c[7],m=c[8];return c[0]=v*m-d*g,c[1]=h*g-u*m,c[2]=u*d-h*v,c[3]=d*p-f*m,c[4]=l*m-h*p,c[5]=h*f-l*d,c[6]=f*g-v*p,c[7]=u*p-l*g,c[8]=l*v-u*f,this},"adjoint"),determinant:r(function(){var c=this.val,l=c[0],u=c[1],h=c[2],f=c[3],v=c[4],d=c[5],p=c[6],g=c[7],m=c[8];return l*(m*v-d*g)+u*(-m*f+d*p)+h*(g*f-v*p)},"determinant"),multiply:r(function(c){var l=this.val,u=l[0],h=l[1],f=l[2],v=l[3],d=l[4],p=l[5],g=l[6],m=l[7],x=l[8],E=c.val,A=E[0],R=E[1],P=E[2],O=E[3],L=E[4],w=E[5],M=E[6],b=E[7],D=E[8];return l[0]=A*u+R*v+P*g,l[1]=A*h+R*d+P*m,l[2]=A*f+R*p+P*x,l[3]=O*u+L*v+w*g,l[4]=O*h+L*d+w*m,l[5]=O*f+L*p+w*x,l[6]=M*u+b*v+D*g,l[7]=M*h+b*d+D*m,l[8]=M*f+b*p+D*x,this},"multiply"),translate:r(function(c){var l=this.val,u=c.x,h=c.y;return l[6]=u*l[0]+h*l[3]+l[6],l[7]=u*l[1]+h*l[4]+l[7],l[8]=u*l[2]+h*l[5]+l[8],this},"translate"),rotate:r(function(c){var l=this.val,u=l[0],h=l[1],f=l[2],v=l[3],d=l[4],p=l[5],g=Math.sin(c),m=Math.cos(c);return l[0]=m*u+g*v,l[1]=m*h+g*d,l[2]=m*f+g*p,l[3]=m*v-g*u,l[4]=m*d-g*h,l[5]=m*p-g*f,this},"rotate"),scale:r(function(c){var l=this.val,u=c.x,h=c.y;return l[0]=u*l[0],l[1]=u*l[1],l[2]=u*l[2],l[3]=h*l[3],l[4]=h*l[4],l[5]=h*l[5],this},"scale"),fromQuat:r(function(c){var l=c.x,u=c.y,h=c.z,f=c.w,v=l+l,d=u+u,p=h+h,g=l*v,m=l*d,x=l*p,E=u*d,A=u*p,R=h*p,P=f*v,O=f*d,L=f*p,w=this.val;return w[0]=1-(E+R),w[3]=m+L,w[6]=x-O,w[1]=m-L,w[4]=1-(g+R),w[7]=A+P,w[2]=x+O,w[5]=A-P,w[8]=1-(g+E),this},"fromQuat"),normalFromMat4:r(function(c){var l=c.val,u=this.val,h=l[0],f=l[1],v=l[2],d=l[3],p=l[4],g=l[5],m=l[6],x=l[7],E=l[8],A=l[9],R=l[10],P=l[11],O=l[12],L=l[13],w=l[14],M=l[15],b=h*g-f*p,D=h*m-v*p,F=h*x-d*p,N=f*m-v*g,B=f*x-d*g,Y=v*x-d*m,W=E*L-A*O,z=E*w-R*O,X=E*M-P*O,H=A*w-R*L,V=A*M-P*L,G=R*M-P*w,k=b*G-D*V+F*H+N*X-B*z+Y*W;return k?(k=1/k,u[0]=(g*G-m*V+x*H)*k,u[1]=(m*X-p*G-x*z)*k,u[2]=(p*V-g*X+x*W)*k,u[3]=(v*V-f*G-d*H)*k,u[4]=(h*G-v*X+d*z)*k,u[5]=(f*X-h*V-d*W)*k,u[6]=(L*Y-w*B+M*N)*k,u[7]=(w*F-O*Y-M*D)*k,u[8]=(O*B-L*F+M*b)*k,this):null},"normalFromMat4")});n.exports=T},37867:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(25836),c=1e-6,l=new o({initialize:r(function(g){this.val=new Float32Array(16),g?this.copy(g):this.identity()},"Matrix4"),clone:r(function(){return new l(this)},"clone"),set:r(function(p){return this.copy(p)},"set"),setValues:r(function(p,g,m,x,E,A,R,P,O,L,w,M,b,D,F,N){var B=this.val;return B[0]=p,B[1]=g,B[2]=m,B[3]=x,B[4]=E,B[5]=A,B[6]=R,B[7]=P,B[8]=O,B[9]=L,B[10]=w,B[11]=M,B[12]=b,B[13]=D,B[14]=F,B[15]=N,this},"setValues"),copy:r(function(p){var g=p.val;return this.setValues(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},"copy"),fromArray:r(function(p){return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},"fromArray"),zero:r(function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},"zero"),transform:r(function(p,g,m){var x=u.fromQuat(m),E=x.val,A=g.x,R=g.y,P=g.z;return this.setValues(E[0]*A,E[1]*A,E[2]*A,0,E[4]*R,E[5]*R,E[6]*R,0,E[8]*P,E[9]*P,E[10]*P,0,p.x,p.y,p.z,1)},"transform"),xyz:r(function(p,g,m){this.identity();var x=this.val;return x[12]=p,x[13]=g,x[14]=m,this},"xyz"),scaling:r(function(p,g,m){this.zero();var x=this.val;return x[0]=p,x[5]=g,x[10]=m,x[15]=1,this},"scaling"),identity:r(function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},"identity"),transpose:r(function(){var p=this.val,g=p[1],m=p[2],x=p[3],E=p[6],A=p[7],R=p[11];return p[1]=p[4],p[2]=p[8],p[3]=p[12],p[4]=g,p[6]=p[9],p[7]=p[13],p[8]=m,p[9]=E,p[11]=p[14],p[12]=x,p[13]=A,p[14]=R,this},"transpose"),getInverse:r(function(p){return this.copy(p),this.invert()},"getInverse"),invert:r(function(){var p=this.val,g=p[0],m=p[1],x=p[2],E=p[3],A=p[4],R=p[5],P=p[6],O=p[7],L=p[8],w=p[9],M=p[10],b=p[11],D=p[12],F=p[13],N=p[14],B=p[15],Y=g*R-m*A,W=g*P-x*A,z=g*O-E*A,X=m*P-x*R,H=m*O-E*R,V=x*O-E*P,G=L*F-w*D,k=L*N-M*D,U=L*B-b*D,I=w*N-M*F,$=w*B-b*F,K=M*B-b*N,Z=Y*K-W*$+z*I+X*U-H*k+V*G;return Z?(Z=1/Z,this.setValues((R*K-P*$+O*I)*Z,(x*$-m*K-E*I)*Z,(F*V-N*H+B*X)*Z,(M*H-w*V-b*X)*Z,(P*U-A*K-O*k)*Z,(g*K-x*U+E*k)*Z,(N*z-D*V-B*W)*Z,(L*V-M*z+b*W)*Z,(A*$-R*U+O*G)*Z,(m*U-g*$-E*G)*Z,(D*H-F*z+B*Y)*Z,(w*z-L*H-b*Y)*Z,(R*k-A*I-P*G)*Z,(g*I-m*k+x*G)*Z,(F*W-D*X-N*Y)*Z,(L*X-w*W+M*Y)*Z)):this},"invert"),adjoint:r(function(){var p=this.val,g=p[0],m=p[1],x=p[2],E=p[3],A=p[4],R=p[5],P=p[6],O=p[7],L=p[8],w=p[9],M=p[10],b=p[11],D=p[12],F=p[13],N=p[14],B=p[15];return this.setValues(R*(M*B-b*N)-w*(P*B-O*N)+F*(P*b-O*M),-(m*(M*B-b*N)-w*(x*B-E*N)+F*(x*b-E*M)),m*(P*B-O*N)-R*(x*B-E*N)+F*(x*O-E*P),-(m*(P*b-O*M)-R*(x*b-E*M)+w*(x*O-E*P)),-(A*(M*B-b*N)-L*(P*B-O*N)+D*(P*b-O*M)),g*(M*B-b*N)-L*(x*B-E*N)+D*(x*b-E*M),-(g*(P*B-O*N)-A*(x*B-E*N)+D*(x*O-E*P)),g*(P*b-O*M)-A*(x*b-E*M)+L*(x*O-E*P),A*(w*B-b*F)-L*(R*B-O*F)+D*(R*b-O*w),-(g*(w*B-b*F)-L*(m*B-E*F)+D*(m*b-E*w)),g*(R*B-O*F)-A*(m*B-E*F)+D*(m*O-E*R),-(g*(R*b-O*w)-A*(m*b-E*w)+L*(m*O-E*R)),-(A*(w*N-M*F)-L*(R*N-P*F)+D*(R*M-P*w)),g*(w*N-M*F)-L*(m*N-x*F)+D*(m*M-x*w),-(g*(R*N-P*F)-A*(m*N-x*F)+D*(m*P-x*R)),g*(R*M-P*w)-A*(m*M-x*w)+L*(m*P-x*R))},"adjoint"),determinant:r(function(){var p=this.val,g=p[0],m=p[1],x=p[2],E=p[3],A=p[4],R=p[5],P=p[6],O=p[7],L=p[8],w=p[9],M=p[10],b=p[11],D=p[12],F=p[13],N=p[14],B=p[15],Y=g*R-m*A,W=g*P-x*A,z=g*O-E*A,X=m*P-x*R,H=m*O-E*R,V=x*O-E*P,G=L*F-w*D,k=L*N-M*D,U=L*B-b*D,I=w*N-M*F,$=w*B-b*F,K=M*B-b*N;return Y*K-W*$+z*I+X*U-H*k+V*G},"determinant"),multiply:r(function(p){var g=this.val,m=g[0],x=g[1],E=g[2],A=g[3],R=g[4],P=g[5],O=g[6],L=g[7],w=g[8],M=g[9],b=g[10],D=g[11],F=g[12],N=g[13],B=g[14],Y=g[15],W=p.val,z=W[0],X=W[1],H=W[2],V=W[3];return g[0]=z*m+X*R+H*w+V*F,g[1]=z*x+X*P+H*M+V*N,g[2]=z*E+X*O+H*b+V*B,g[3]=z*A+X*L+H*D+V*Y,z=W[4],X=W[5],H=W[6],V=W[7],g[4]=z*m+X*R+H*w+V*F,g[5]=z*x+X*P+H*M+V*N,g[6]=z*E+X*O+H*b+V*B,g[7]=z*A+X*L+H*D+V*Y,z=W[8],X=W[9],H=W[10],V=W[11],g[8]=z*m+X*R+H*w+V*F,g[9]=z*x+X*P+H*M+V*N,g[10]=z*E+X*O+H*b+V*B,g[11]=z*A+X*L+H*D+V*Y,z=W[12],X=W[13],H=W[14],V=W[15],g[12]=z*m+X*R+H*w+V*F,g[13]=z*x+X*P+H*M+V*N,g[14]=z*E+X*O+H*b+V*B,g[15]=z*A+X*L+H*D+V*Y,this},"multiply"),multiplyLocal:r(function(p){var g=this.val,m=p.val;return this.setValues(g[0]*m[0]+g[1]*m[4]+g[2]*m[8]+g[3]*m[12],g[0]*m[1]+g[1]*m[5]+g[2]*m[9]+g[3]*m[13],g[0]*m[2]+g[1]*m[6]+g[2]*m[10]+g[3]*m[14],g[0]*m[3]+g[1]*m[7]+g[2]*m[11]+g[3]*m[15],g[4]*m[0]+g[5]*m[4]+g[6]*m[8]+g[7]*m[12],g[4]*m[1]+g[5]*m[5]+g[6]*m[9]+g[7]*m[13],g[4]*m[2]+g[5]*m[6]+g[6]*m[10]+g[7]*m[14],g[4]*m[3]+g[5]*m[7]+g[6]*m[11]+g[7]*m[15],g[8]*m[0]+g[9]*m[4]+g[10]*m[8]+g[11]*m[12],g[8]*m[1]+g[9]*m[5]+g[10]*m[9]+g[11]*m[13],g[8]*m[2]+g[9]*m[6]+g[10]*m[10]+g[11]*m[14],g[8]*m[3]+g[9]*m[7]+g[10]*m[11]+g[11]*m[15],g[12]*m[0]+g[13]*m[4]+g[14]*m[8]+g[15]*m[12],g[12]*m[1]+g[13]*m[5]+g[14]*m[9]+g[15]*m[13],g[12]*m[2]+g[13]*m[6]+g[14]*m[10]+g[15]*m[14],g[12]*m[3]+g[13]*m[7]+g[14]*m[11]+g[15]*m[15])},"multiplyLocal"),premultiply:r(function(p){return this.multiplyMatrices(p,this)},"premultiply"),multiplyMatrices:r(function(p,g){var m=p.val,x=g.val,E=m[0],A=m[4],R=m[8],P=m[12],O=m[1],L=m[5],w=m[9],M=m[13],b=m[2],D=m[6],F=m[10],N=m[14],B=m[3],Y=m[7],W=m[11],z=m[15],X=x[0],H=x[4],V=x[8],G=x[12],k=x[1],U=x[5],I=x[9],$=x[13],K=x[2],Z=x[6],J=x[10],Q=x[14],q=x[3],j=x[7],tt=x[11],st=x[15];return this.setValues(E*X+A*k+R*K+P*q,O*X+L*k+w*K+M*q,b*X+D*k+F*K+N*q,B*X+Y*k+W*K+z*q,E*H+A*U+R*Z+P*j,O*H+L*U+w*Z+M*j,b*H+D*U+F*Z+N*j,B*H+Y*U+W*Z+z*j,E*V+A*I+R*J+P*tt,O*V+L*I+w*J+M*tt,b*V+D*I+F*J+N*tt,B*V+Y*I+W*J+z*tt,E*G+A*$+R*Q+P*st,O*G+L*$+w*Q+M*st,b*G+D*$+F*Q+N*st,B*G+Y*$+W*Q+z*st)},"multiplyMatrices"),translate:r(function(p){return this.translateXYZ(p.x,p.y,p.z)},"translate"),translateXYZ:r(function(p,g,m){var x=this.val;return x[12]=x[0]*p+x[4]*g+x[8]*m+x[12],x[13]=x[1]*p+x[5]*g+x[9]*m+x[13],x[14]=x[2]*p+x[6]*g+x[10]*m+x[14],x[15]=x[3]*p+x[7]*g+x[11]*m+x[15],this},"translateXYZ"),scale:r(function(p){return this.scaleXYZ(p.x,p.y,p.z)},"scale"),scaleXYZ:r(function(p,g,m){var x=this.val;return x[0]=x[0]*p,x[1]=x[1]*p,x[2]=x[2]*p,x[3]=x[3]*p,x[4]=x[4]*g,x[5]=x[5]*g,x[6]=x[6]*g,x[7]=x[7]*g,x[8]=x[8]*m,x[9]=x[9]*m,x[10]=x[10]*m,x[11]=x[11]*m,this},"scaleXYZ"),makeRotationAxis:r(function(p,g){var m=Math.cos(g),x=Math.sin(g),E=1-m,A=p.x,R=p.y,P=p.z,O=E*A,L=E*R;return this.setValues(O*A+m,O*R-x*P,O*P+x*R,0,O*R+x*P,L*R+m,L*P-x*A,0,O*P-x*R,L*P+x*A,E*P*P+m,0,0,0,0,1)},"makeRotationAxis"),rotate:r(function(p,g){var m=this.val,x=g.x,E=g.y,A=g.z,R=Math.sqrt(x*x+E*E+A*A);if(Math.abs(R)<c)return this;R=1/R,x*=R,E*=R,A*=R;var P=Math.sin(p),O=Math.cos(p),L=1-O,w=m[0],M=m[1],b=m[2],D=m[3],F=m[4],N=m[5],B=m[6],Y=m[7],W=m[8],z=m[9],X=m[10],H=m[11],V=m[12],G=m[13],k=m[14],U=m[15],I=x*x*L+O,$=E*x*L+A*P,K=A*x*L-E*P,Z=x*E*L-A*P,J=E*E*L+O,Q=A*E*L+x*P,q=x*A*L+E*P,j=E*A*L-x*P,tt=A*A*L+O;return this.setValues(w*I+F*$+W*K,M*I+N*$+z*K,b*I+B*$+X*K,D*I+Y*$+H*K,w*Z+F*J+W*Q,M*Z+N*J+z*Q,b*Z+B*J+X*Q,D*Z+Y*J+H*Q,w*q+F*j+W*tt,M*q+N*j+z*tt,b*q+B*j+X*tt,D*q+Y*j+H*tt,V,G,k,U)},"rotate"),rotateX:r(function(p){var g=this.val,m=Math.sin(p),x=Math.cos(p),E=g[4],A=g[5],R=g[6],P=g[7],O=g[8],L=g[9],w=g[10],M=g[11];return g[4]=E*x+O*m,g[5]=A*x+L*m,g[6]=R*x+w*m,g[7]=P*x+M*m,g[8]=O*x-E*m,g[9]=L*x-A*m,g[10]=w*x-R*m,g[11]=M*x-P*m,this},"rotateX"),rotateY:r(function(p){var g=this.val,m=Math.sin(p),x=Math.cos(p),E=g[0],A=g[1],R=g[2],P=g[3],O=g[8],L=g[9],w=g[10],M=g[11];return g[0]=E*x-O*m,g[1]=A*x-L*m,g[2]=R*x-w*m,g[3]=P*x-M*m,g[8]=E*m+O*x,g[9]=A*m+L*x,g[10]=R*m+w*x,g[11]=P*m+M*x,this},"rotateY"),rotateZ:r(function(p){var g=this.val,m=Math.sin(p),x=Math.cos(p),E=g[0],A=g[1],R=g[2],P=g[3],O=g[4],L=g[5],w=g[6],M=g[7];return g[0]=E*x+O*m,g[1]=A*x+L*m,g[2]=R*x+w*m,g[3]=P*x+M*m,g[4]=O*x-E*m,g[5]=L*x-A*m,g[6]=w*x-R*m,g[7]=M*x-P*m,this},"rotateZ"),fromRotationTranslation:r(function(p,g){var m=p.x,x=p.y,E=p.z,A=p.w,R=m+m,P=x+x,O=E+E,L=m*R,w=m*P,M=m*O,b=x*P,D=x*O,F=E*O,N=A*R,B=A*P,Y=A*O;return this.setValues(1-(b+F),w+Y,M-B,0,w-Y,1-(L+F),D+N,0,M+B,D-N,1-(L+b),0,g.x,g.y,g.z,1)},"fromRotationTranslation"),fromQuat:r(function(p){var g=p.x,m=p.y,x=p.z,E=p.w,A=g+g,R=m+m,P=x+x,O=g*A,L=g*R,w=g*P,M=m*R,b=m*P,D=x*P,F=E*A,N=E*R,B=E*P;return this.setValues(1-(M+D),L+B,w-N,0,L-B,1-(O+D),b+F,0,w+N,b-F,1-(O+M),0,0,0,0,1)},"fromQuat"),frustum:r(function(p,g,m,x,E,A){var R=1/(g-p),P=1/(x-m),O=1/(E-A);return this.setValues(E*2*R,0,0,0,0,E*2*P,0,0,(g+p)*R,(x+m)*P,(A+E)*O,-1,0,0,A*E*2*O,0)},"frustum"),perspective:r(function(p,g,m,x){var E=1/Math.tan(p/2),A=1/(m-x);return this.setValues(E/g,0,0,0,0,E,0,0,0,0,(x+m)*A,-1,0,0,2*x*m*A,0)},"perspective"),perspectiveLH:r(function(p,g,m,x){return this.setValues(2*m/p,0,0,0,0,2*m/g,0,0,0,0,-x/(m-x),1,0,0,m*x/(m-x),0)},"perspectiveLH"),ortho:r(function(p,g,m,x,E,A){var R=p-g,P=m-x,O=E-A;return R=R===0?R:1/R,P=P===0?P:1/P,O=O===0?O:1/O,this.setValues(-2*R,0,0,0,0,-2*P,0,0,0,0,2*O,0,(p+g)*R,(x+m)*P,(A+E)*O,1)},"ortho"),lookAtRH:r(function(p,g,m){var x=this.val;return d.subVectors(p,g),d.lengthSq()===0&&(d.z=1),d.normalize(),f.crossVectors(m,d),f.lengthSq()===0&&(Math.abs(m.z)===1?d.x+=1e-4:d.z+=1e-4,d.normalize(),f.crossVectors(m,d)),f.normalize(),v.crossVectors(d,f),x[0]=f.x,x[1]=f.y,x[2]=f.z,x[4]=v.x,x[5]=v.y,x[6]=v.z,x[8]=d.x,x[9]=d.y,x[10]=d.z,this},"lookAtRH"),lookAt:r(function(p,g,m){var x=p.x,E=p.y,A=p.z,R=m.x,P=m.y,O=m.z,L=g.x,w=g.y,M=g.z;if(Math.abs(x-L)<c&&Math.abs(E-w)<c&&Math.abs(A-M)<c)return this.identity();var b=x-L,D=E-w,F=A-M,N=1/Math.sqrt(b*b+D*D+F*F);b*=N,D*=N,F*=N;var B=P*F-O*D,Y=O*b-R*F,W=R*D-P*b;N=Math.sqrt(B*B+Y*Y+W*W),N?(N=1/N,B*=N,Y*=N,W*=N):(B=0,Y=0,W=0);var z=D*W-F*Y,X=F*B-b*W,H=b*Y-D*B;return N=Math.sqrt(z*z+X*X+H*H),N?(N=1/N,z*=N,X*=N,H*=N):(z=0,X=0,H=0),this.setValues(B,z,b,0,Y,X,D,0,W,H,F,0,-(B*x+Y*E+W*A),-(z*x+X*E+H*A),-(b*x+D*E+F*A),1)},"lookAt"),yawPitchRoll:r(function(p,g,m){this.zero(),u.zero(),h.zero();var x=this.val,E=u.val,A=h.val,R=Math.sin(m),P=Math.cos(m);return x[10]=1,x[15]=1,x[0]=P,x[1]=R,x[4]=-R,x[5]=P,R=Math.sin(g),P=Math.cos(g),E[0]=1,E[15]=1,E[5]=P,E[10]=P,E[9]=-R,E[6]=R,R=Math.sin(p),P=Math.cos(p),A[5]=1,A[15]=1,A[0]=P,A[2]=-R,A[8]=R,A[10]=P,this.multiplyLocal(u),this.multiplyLocal(h),this},"yawPitchRoll"),setWorldMatrix:r(function(p,g,m,x,E){return this.yawPitchRoll(p.y,p.x,p.z),u.scaling(m.x,m.y,m.z),h.xyz(g.x,g.y,g.z),this.multiplyLocal(u),this.multiplyLocal(h),x&&this.multiplyLocal(x),E&&this.multiplyLocal(E),this},"setWorldMatrix"),multiplyToMat4:r(function(p,g){var m=this.val,x=p.val,E=m[0],A=m[1],R=m[2],P=m[3],O=m[4],L=m[5],w=m[6],M=m[7],b=m[8],D=m[9],F=m[10],N=m[11],B=m[12],Y=m[13],W=m[14],z=m[15],X=x[0],H=x[1],V=x[2],G=x[3],k=x[4],U=x[5],I=x[6],$=x[7],K=x[8],Z=x[9],J=x[10],Q=x[11],q=x[12],j=x[13],tt=x[14],st=x[15];return g.setValues(X*E+H*O+V*b+G*B,H*A+H*L+V*D+G*Y,V*R+H*w+V*F+G*W,G*P+H*M+V*N+G*z,k*E+U*O+I*b+$*B,k*A+U*L+I*D+$*Y,k*R+U*w+I*F+$*W,k*P+U*M+I*N+$*z,K*E+Z*O+J*b+Q*B,K*A+Z*L+J*D+Q*Y,K*R+Z*w+J*F+Q*W,K*P+Z*M+J*N+Q*z,q*E+j*O+tt*b+st*B,q*A+j*L+tt*D+st*Y,q*R+j*w+tt*F+st*W,q*P+j*M+tt*N+st*z)},"multiplyToMat4"),fromRotationXYTranslation:r(function(p,g,m){var x=g.x,E=g.y,A=g.z,R=Math.sin(p.x),P=Math.cos(p.x),O=Math.sin(p.y),L=Math.cos(p.y),w=x,M=E,b=A,D=-R,F=0-D*O,N=0-P*O,B=D*L,Y=P*L;return m||(w=L*x+O*A,M=F*x+P*E+B*A,b=N*x+R*E+Y*A),this.setValues(L,F,N,0,0,P,R,0,O,B,Y,0,w,M,b,1)},"fromRotationXYTranslation"),getMaxScaleOnAxis:r(function(){var p=this.val,g=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],m=p[4]*p[4]+p[5]*p[5]+p[6]*p[6],x=p[8]*p[8]+p[9]*p[9]+p[10]*p[10];return Math.sqrt(Math.max(g,m,x))},"getMaxScaleOnAxis")}),u=new l,h=new l,f=new T,v=new T,d=new T;n.exports=l},86883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return Math.min(s+o,T)},"MaxAdd");n.exports=C},50040:n=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o=s.length;if(o===0)return 0;s.sort(function(c,l){return c-l});var T=Math.floor(o/2);return o%2===0?(s[T]+s[T-1])/2:s[T]},"Median");n.exports=C},37204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return Math.max(s-o,T)},"MinSub");n.exports=C},65201:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){T===void 0&&(T=o+1);var l=(s-o)/(T-o);return l>1?c!==void 0?(l=(c-s)/(c-T),l<0&&(l=0)):l=1:l<0&&(l=0),l},"Percent");n.exports=C},15746:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(94434),c=s(29747),l=s(25836),u=1e-6,h=new Int8Array([1,2,0]),f=new Float32Array([0,0,0]),v=new l(1,0,0),d=new l(0,1,0),p=new l,g=new T,m=new o({initialize:r(function(E,A,R,P){this.onChangeCallback=c,this.set(E,A,R,P)},"Quaternion"),x:{get:r(function(){return this._x},"get"),set:r(function(x){this._x=x,this.onChangeCallback(this)},"set")},y:{get:r(function(){return this._y},"get"),set:r(function(x){this._y=x,this.onChangeCallback(this)},"set")},z:{get:r(function(){return this._z},"get"),set:r(function(x){this._z=x,this.onChangeCallback(this)},"set")},w:{get:r(function(){return this._w},"get"),set:r(function(x){this._w=x,this.onChangeCallback(this)},"set")},copy:r(function(x){return this.set(x)},"copy"),set:r(function(x,E,A,R,P){return P===void 0&&(P=!0),typeof x=="object"?(this._x=x.x||0,this._y=x.y||0,this._z=x.z||0,this._w=x.w||0):(this._x=x||0,this._y=E||0,this._z=A||0,this._w=R||0),P&&this.onChangeCallback(this),this},"set"),add:r(function(x){return this._x+=x.x,this._y+=x.y,this._z+=x.z,this._w+=x.w,this.onChangeCallback(this),this},"add"),subtract:r(function(x){return this._x-=x.x,this._y-=x.y,this._z-=x.z,this._w-=x.w,this.onChangeCallback(this),this},"subtract"),scale:r(function(x){return this._x*=x,this._y*=x,this._z*=x,this._w*=x,this.onChangeCallback(this),this},"scale"),length:r(function(){var x=this.x,E=this.y,A=this.z,R=this.w;return Math.sqrt(x*x+E*E+A*A+R*R)},"length"),lengthSq:r(function(){var x=this.x,E=this.y,A=this.z,R=this.w;return x*x+E*E+A*A+R*R},"lengthSq"),normalize:r(function(){var x=this.x,E=this.y,A=this.z,R=this.w,P=x*x+E*E+A*A+R*R;return P>0&&(P=1/Math.sqrt(P),this._x=x*P,this._y=E*P,this._z=A*P,this._w=R*P),this.onChangeCallback(this),this},"normalize"),dot:r(function(x){return this.x*x.x+this.y*x.y+this.z*x.z+this.w*x.w},"dot"),lerp:r(function(x,E){E===void 0&&(E=0);var A=this.x,R=this.y,P=this.z,O=this.w;return this.set(A+E*(x.x-A),R+E*(x.y-R),P+E*(x.z-P),O+E*(x.w-O))},"lerp"),rotationTo:r(function(x,E){var A=x.x*E.x+x.y*E.y+x.z*E.z;return A<-.999999?(p.copy(v).cross(x).length()<u&&p.copy(d).cross(x),p.normalize(),this.setAxisAngle(p,Math.PI)):A>.999999?this.set(0,0,0,1):(p.copy(x).cross(E),this._x=p.x,this._y=p.y,this._z=p.z,this._w=1+A,this.normalize())},"rotationTo"),setAxes:r(function(x,E,A){var R=g.val;return R[0]=E.x,R[3]=E.y,R[6]=E.z,R[1]=A.x,R[4]=A.y,R[7]=A.z,R[2]=-x.x,R[5]=-x.y,R[8]=-x.z,this.fromMat3(g).normalize()},"setAxes"),identity:r(function(){return this.set(0,0,0,1)},"identity"),setAxisAngle:r(function(x,E){E=E*.5;var A=Math.sin(E);return this.set(A*x.x,A*x.y,A*x.z,Math.cos(E))},"setAxisAngle"),multiply:r(function(x){var E=this.x,A=this.y,R=this.z,P=this.w,O=x.x,L=x.y,w=x.z,M=x.w;return this.set(E*M+P*O+A*w-R*L,A*M+P*L+R*O-E*w,R*M+P*w+E*L-A*O,P*M-E*O-A*L-R*w)},"multiply"),slerp:r(function(x,E){var A=this.x,R=this.y,P=this.z,O=this.w,L=x.x,w=x.y,M=x.z,b=x.w,D=A*L+R*w+P*M+O*b;D<0&&(D=-D,L=-L,w=-w,M=-M,b=-b);var F=1-E,N=E;if(1-D>u){var B=Math.acos(D),Y=Math.sin(B);F=Math.sin((1-E)*B)/Y,N=Math.sin(E*B)/Y}return this.set(F*A+N*L,F*R+N*w,F*P+N*M,F*O+N*b)},"slerp"),invert:r(function(){var x=this.x,E=this.y,A=this.z,R=this.w,P=x*x+E*E+A*A+R*R,O=P?1/P:0;return this.set(-x*O,-E*O,-A*O,R*O)},"invert"),conjugate:r(function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},"conjugate"),rotateX:r(function(x){x*=.5;var E=this.x,A=this.y,R=this.z,P=this.w,O=Math.sin(x),L=Math.cos(x);return this.set(E*L+P*O,A*L+R*O,R*L-A*O,P*L-E*O)},"rotateX"),rotateY:r(function(x){x*=.5;var E=this.x,A=this.y,R=this.z,P=this.w,O=Math.sin(x),L=Math.cos(x);return this.set(E*L-R*O,A*L+P*O,R*L+E*O,P*L-A*O)},"rotateY"),rotateZ:r(function(x){x*=.5;var E=this.x,A=this.y,R=this.z,P=this.w,O=Math.sin(x),L=Math.cos(x);return this.set(E*L+A*O,A*L-E*O,R*L+P*O,P*L-R*O)},"rotateZ"),calculateW:r(function(){var x=this.x,E=this.y,A=this.z;return this.w=-Math.sqrt(1-x*x-E*E-A*A),this},"calculateW"),setFromEuler:r(function(x,E){var A=x.x/2,R=x.y/2,P=x.z/2,O=Math.cos(A),L=Math.cos(R),w=Math.cos(P),M=Math.sin(A),b=Math.sin(R),D=Math.sin(P);switch(x.order){case"XYZ":{this.set(M*L*w+O*b*D,O*b*w-M*L*D,O*L*D+M*b*w,O*L*w-M*b*D,E);break}case"YXZ":{this.set(M*L*w+O*b*D,O*b*w-M*L*D,O*L*D-M*b*w,O*L*w+M*b*D,E);break}case"ZXY":{this.set(M*L*w-O*b*D,O*b*w+M*L*D,O*L*D+M*b*w,O*L*w-M*b*D,E);break}case"ZYX":{this.set(M*L*w-O*b*D,O*b*w+M*L*D,O*L*D-M*b*w,O*L*w+M*b*D,E);break}case"YZX":{this.set(M*L*w+O*b*D,O*b*w+M*L*D,O*L*D-M*b*w,O*L*w-M*b*D,E);break}case"XZY":{this.set(M*L*w-O*b*D,O*b*w-M*L*D,O*L*D+M*b*w,O*L*w+M*b*D,E);break}}return this},"setFromEuler"),setFromRotationMatrix:r(function(x){var E=x.val,A=E[0],R=E[4],P=E[8],O=E[1],L=E[5],w=E[9],M=E[2],b=E[6],D=E[10],F=A+L+D,N;return F>0?(N=.5/Math.sqrt(F+1),this.set((b-w)*N,(P-M)*N,(O-R)*N,.25/N)):A>L&&A>D?(N=2*Math.sqrt(1+A-L-D),this.set(.25*N,(R+O)/N,(P+M)/N,(b-w)/N)):L>D?(N=2*Math.sqrt(1+L-A-D),this.set((R+O)/N,.25*N,(w+b)/N,(P-M)/N)):(N=2*Math.sqrt(1+D-A-L),this.set((P+M)/N,(w+b)/N,.25*N,(O-R)/N)),this},"setFromRotationMatrix"),fromMat3:r(function(x){var E=x.val,A=E[0]+E[4]+E[8],R;if(A>0)R=Math.sqrt(A+1),this.w=.5*R,R=.5/R,this._x=(E[7]-E[5])*R,this._y=(E[2]-E[6])*R,this._z=(E[3]-E[1])*R;else{var P=0;E[4]>E[0]&&(P=1),E[8]>E[P*3+P]&&(P=2);var O=h[P],L=h[O];R=Math.sqrt(E[P*3+P]-E[O*3+O]-E[L*3+L]+1),f[P]=.5*R,R=.5/R,f[O]=(E[O*3+P]+E[P*3+O])*R,f[L]=(E[L*3+P]+E[P*3+L])*R,this._x=f[0],this._y=f[1],this._z=f[2],this._w=(E[L*3+O]-E[O*3+L])*R}return this.onChangeCallback(this),this},"fromMat3")});n.exports=m},43396:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),T=r(function(c){return c*o.RAD_TO_DEG},"RadToDeg");n.exports=T},74362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o===void 0&&(o=1);var T=Math.random()*2*Math.PI;return s.x=Math.cos(T)*o,s.y=Math.sin(T)*o,s},"RandomXY");n.exports=C},60706:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o===void 0&&(o=1);var T=Math.random()*2*Math.PI,c=Math.random()*2-1,l=Math.sqrt(1-c*c)*o;return s.x=Math.cos(T)*l,s.y=Math.sin(T)*l,s.z=c*o,s},"RandomXYZ");n.exports=C},67421:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o===void 0&&(o=1),s.x=(Math.random()*2-1)*o,s.y=(Math.random()*2-1)*o,s.z=(Math.random()*2-1)*o,s.w=(Math.random()*2-1)*o,s},"RandomXYZW");n.exports=C},36305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.x,c=s.y;return s.x=T*Math.cos(o)-c*Math.sin(o),s.y=T*Math.sin(o)+c*Math.cos(o),s},"Rotate");n.exports=C},11520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=Math.cos(c),u=Math.sin(c),h=s.x-o,f=s.y-T;return s.x=h*l-f*u+o,s.y=h*u+f*l+T,s},"RotateAround");n.exports=C},1163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l){var u=c+Math.atan2(s.y-T,s.x-o);return s.x=o+l*Math.cos(u),s.y=T+l*Math.sin(u),s},"RotateAroundDistance");n.exports=C},70336:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l){return s.x=o+l*Math.cos(c),s.y=T+l*Math.sin(c),s},"RotateTo");n.exports=C},72678:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25836),T=s(37867),c=s(15746),l=new T,u=new c,h=new o,f=r(function(v,d,p){return u.setAxisAngle(d,p),l.fromRotationTranslation(u,h.set(0,0,0)),v.transformMat4(l)},"RotateVec3");n.exports=f},2284:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s>0?Math.ceil(s):Math.floor(s)},"RoundAwayFromZero");n.exports=C},41013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){o===void 0&&(o=0),T===void 0&&(T=10);var c=Math.pow(T,-o);return Math.round(s*c)/c},"RoundTo");n.exports=C},16922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){o===void 0&&(o=1),T===void 0&&(T=1),c===void 0&&(c=1),c*=Math.PI/s;for(var l=[],u=[],h=0;h<s;h++)T-=o*c,o+=T*c,l[h]=T,u[h]=o;return{sin:u,cos:l,length:s}},"SinCosTableGenerator");n.exports=C},7602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s<=o?0:s>=T?1:(s=(s-o)/(T-o),s*s*(3-2*s))},"SmoothStep");n.exports=C},54261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s=Math.max(0,Math.min(1,(s-o)/(T-o))),s*s*s*(s*(s*6-15)+10)},"SmootherStep");n.exports=C},44408:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=r(function(c,l,u,h){h===void 0&&(h=new o);var f=0,v=0,d=l*u;return c>0&&c<=d&&(c>l-1?(v=Math.floor(c/l),f=c-v*l):f=c),h.set(f,v)},"ToXY");n.exports=T},85955:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=r(function(c,l,u,h,f,v,d,p){p===void 0&&(p=new o);var g=Math.sin(f),m=Math.cos(f),x=m*v,E=g*v,A=-g*d,R=m*d,P=1/(x*R+A*-E);return p.x=R*P*c+-A*P*l+(h*A-u*R)*P,p.y=x*P*l+-E*P*c+(-h*x+u*E)*P,p},"TransformXY");n.exports=T},26099:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(43855),c=new o({initialize:r(function(u,h){this.x=0,this.y=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0):(h===void 0&&(h=u),this.x=u||0,this.y=h||0)},"Vector2"),clone:r(function(){return new c(this.x,this.y)},"clone"),copy:r(function(l){return this.x=l.x||0,this.y=l.y||0,this},"copy"),setFromObject:r(function(l){return this.x=l.x||0,this.y=l.y||0,this},"setFromObject"),set:r(function(l,u){return u===void 0&&(u=l),this.x=l,this.y=u,this},"set"),setTo:r(function(l,u){return this.set(l,u)},"setTo"),setToPolar:r(function(l,u){return u==null&&(u=1),this.x=Math.cos(l)*u,this.y=Math.sin(l)*u,this},"setToPolar"),equals:r(function(l){return this.x===l.x&&this.y===l.y},"equals"),fuzzyEquals:r(function(l,u){return T(this.x,l.x,u)&&T(this.y,l.y,u)},"fuzzyEquals"),angle:r(function(){var l=Math.atan2(this.y,this.x);return l<0&&(l+=2*Math.PI),l},"angle"),setAngle:r(function(l){return this.setToPolar(l,this.length())},"setAngle"),add:r(function(l){return this.x+=l.x,this.y+=l.y,this},"add"),subtract:r(function(l){return this.x-=l.x,this.y-=l.y,this},"subtract"),multiply:r(function(l){return this.x*=l.x,this.y*=l.y,this},"multiply"),scale:r(function(l){return isFinite(l)?(this.x*=l,this.y*=l):(this.x=0,this.y=0),this},"scale"),divide:r(function(l){return this.x/=l.x,this.y/=l.y,this},"divide"),negate:r(function(){return this.x=-this.x,this.y=-this.y,this},"negate"),distance:r(function(l){var u=l.x-this.x,h=l.y-this.y;return Math.sqrt(u*u+h*h)},"distance"),distanceSq:r(function(l){var u=l.x-this.x,h=l.y-this.y;return u*u+h*h},"distanceSq"),length:r(function(){var l=this.x,u=this.y;return Math.sqrt(l*l+u*u)},"length"),setLength:r(function(l){return this.normalize().scale(l)},"setLength"),lengthSq:r(function(){var l=this.x,u=this.y;return l*l+u*u},"lengthSq"),normalize:r(function(){var l=this.x,u=this.y,h=l*l+u*u;return h>0&&(h=1/Math.sqrt(h),this.x=l*h,this.y=u*h),this},"normalize"),normalizeRightHand:r(function(){var l=this.x;return this.x=this.y*-1,this.y=l,this},"normalizeRightHand"),normalizeLeftHand:r(function(){var l=this.x;return this.x=this.y,this.y=l*-1,this},"normalizeLeftHand"),dot:r(function(l){return this.x*l.x+this.y*l.y},"dot"),cross:r(function(l){return this.x*l.y-this.y*l.x},"cross"),lerp:r(function(l,u){u===void 0&&(u=0);var h=this.x,f=this.y;return this.x=h+u*(l.x-h),this.y=f+u*(l.y-f),this},"lerp"),transformMat3:r(function(l){var u=this.x,h=this.y,f=l.val;return this.x=f[0]*u+f[3]*h+f[6],this.y=f[1]*u+f[4]*h+f[7],this},"transformMat3"),transformMat4:r(function(l){var u=this.x,h=this.y,f=l.val;return this.x=f[0]*u+f[4]*h+f[12],this.y=f[1]*u+f[5]*h+f[13],this},"transformMat4"),reset:r(function(){return this.x=0,this.y=0,this},"reset"),limit:r(function(l){var u=this.length();return u&&u>l&&this.scale(l/u),this},"limit"),reflect:r(function(l){return l=l.clone().normalize(),this.subtract(l.scale(2*this.dot(l)))},"reflect"),mirror:r(function(l){return this.reflect(l).negate()},"mirror"),rotate:r(function(l){var u=Math.cos(l),h=Math.sin(l);return this.set(u*this.x-h*this.y,h*this.x+u*this.y)},"rotate"),project:r(function(l){var u=this.dot(l)/l.dot(l);return this.copy(l).scale(u)},"project")});c.ZERO=new c,c.RIGHT=new c(1,0),c.LEFT=new c(-1,0),c.UP=new c(0,-1),c.DOWN=new c(0,1),c.ONE=new c(1,1),n.exports=c},25836:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h){this.x=0,this.y=0,this.z=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=u||0,this.z=h||0)},"Vector3"),up:r(function(){return this.x=0,this.y=1,this.z=0,this},"up"),min:r(function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this},"min"),max:r(function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this},"max"),clone:r(function(){return new T(this.x,this.y,this.z)},"clone"),addVectors:r(function(c,l){return this.x=c.x+l.x,this.y=c.y+l.y,this.z=c.z+l.z,this},"addVectors"),subVectors:r(function(c,l){return this.x=c.x-l.x,this.y=c.y-l.y,this.z=c.z-l.z,this},"subVectors"),crossVectors:r(function(c,l){var u=c.x,h=c.y,f=c.z,v=l.x,d=l.y,p=l.z;return this.x=h*p-f*d,this.y=f*v-u*p,this.z=u*d-h*v,this},"crossVectors"),equals:r(function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z},"equals"),copy:r(function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this},"copy"),set:r(function(c,l,u){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):(this.x=c||0,this.y=l||0,this.z=u||0),this},"set"),setFromMatrixPosition:r(function(c){return this.fromArray(c.val,12)},"setFromMatrixPosition"),setFromMatrixColumn:r(function(c,l){return this.fromArray(c.val,l*4)},"setFromMatrixColumn"),fromArray:r(function(c,l){return l===void 0&&(l=0),this.x=c[l],this.y=c[l+1],this.z=c[l+2],this},"fromArray"),add:r(function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this},"add"),addScalar:r(function(c){return this.x+=c,this.y+=c,this.z+=c,this},"addScalar"),addScale:r(function(c,l){return this.x+=c.x*l,this.y+=c.y*l,this.z+=c.z*l||0,this},"addScale"),subtract:r(function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this},"subtract"),multiply:r(function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this},"multiply"),scale:r(function(c){return isFinite(c)?(this.x*=c,this.y*=c,this.z*=c):(this.x=0,this.y=0,this.z=0),this},"scale"),divide:r(function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this},"divide"),negate:r(function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},"negate"),distance:r(function(c){var l=c.x-this.x,u=c.y-this.y,h=c.z-this.z||0;return Math.sqrt(l*l+u*u+h*h)},"distance"),distanceSq:r(function(c){var l=c.x-this.x,u=c.y-this.y,h=c.z-this.z||0;return l*l+u*u+h*h},"distanceSq"),length:r(function(){var c=this.x,l=this.y,u=this.z;return Math.sqrt(c*c+l*l+u*u)},"length"),lengthSq:r(function(){var c=this.x,l=this.y,u=this.z;return c*c+l*l+u*u},"lengthSq"),normalize:r(function(){var c=this.x,l=this.y,u=this.z,h=c*c+l*l+u*u;return h>0&&(h=1/Math.sqrt(h),this.x=c*h,this.y=l*h,this.z=u*h),this},"normalize"),dot:r(function(c){return this.x*c.x+this.y*c.y+this.z*c.z},"dot"),cross:r(function(c){var l=this.x,u=this.y,h=this.z,f=c.x,v=c.y,d=c.z;return this.x=u*d-h*v,this.y=h*f-l*d,this.z=l*v-u*f,this},"cross"),lerp:r(function(c,l){l===void 0&&(l=0);var u=this.x,h=this.y,f=this.z;return this.x=u+l*(c.x-u),this.y=h+l*(c.y-h),this.z=f+l*(c.z-f),this},"lerp"),applyMatrix3:r(function(c){var l=this.x,u=this.y,h=this.z,f=c.val;return this.x=f[0]*l+f[3]*u+f[6]*h,this.y=f[1]*l+f[4]*u+f[7]*h,this.z=f[2]*l+f[5]*u+f[8]*h,this},"applyMatrix3"),applyMatrix4:r(function(c){var l=this.x,u=this.y,h=this.z,f=c.val,v=1/(f[3]*l+f[7]*u+f[11]*h+f[15]);return this.x=(f[0]*l+f[4]*u+f[8]*h+f[12])*v,this.y=(f[1]*l+f[5]*u+f[9]*h+f[13])*v,this.z=(f[2]*l+f[6]*u+f[10]*h+f[14])*v,this},"applyMatrix4"),transformMat3:r(function(c){var l=this.x,u=this.y,h=this.z,f=c.val;return this.x=l*f[0]+u*f[3]+h*f[6],this.y=l*f[1]+u*f[4]+h*f[7],this.z=l*f[2]+u*f[5]+h*f[8],this},"transformMat3"),transformMat4:r(function(c){var l=this.x,u=this.y,h=this.z,f=c.val;return this.x=f[0]*l+f[4]*u+f[8]*h+f[12],this.y=f[1]*l+f[5]*u+f[9]*h+f[13],this.z=f[2]*l+f[6]*u+f[10]*h+f[14],this},"transformMat4"),transformCoordinates:r(function(c){var l=this.x,u=this.y,h=this.z,f=c.val,v=l*f[0]+u*f[4]+h*f[8]+f[12],d=l*f[1]+u*f[5]+h*f[9]+f[13],p=l*f[2]+u*f[6]+h*f[10]+f[14],g=l*f[3]+u*f[7]+h*f[11]+f[15];return this.x=v/g,this.y=d/g,this.z=p/g,this},"transformCoordinates"),transformQuat:r(function(c){var l=this.x,u=this.y,h=this.z,f=c.x,v=c.y,d=c.z,p=c.w,g=p*l+v*h-d*u,m=p*u+d*l-f*h,x=p*h+f*u-v*l,E=-f*l-v*u-d*h;return this.x=g*p+E*-f+m*-d-x*-v,this.y=m*p+E*-v+x*-f-g*-d,this.z=x*p+E*-d+g*-v-m*-f,this},"transformQuat"),project:r(function(c){var l=this.x,u=this.y,h=this.z,f=c.val,v=f[0],d=f[1],p=f[2],g=f[3],m=f[4],x=f[5],E=f[6],A=f[7],R=f[8],P=f[9],O=f[10],L=f[11],w=f[12],M=f[13],b=f[14],D=f[15],F=1/(l*g+u*A+h*L+D);return this.x=(l*v+u*m+h*R+w)*F,this.y=(l*d+u*x+h*P+M)*F,this.z=(l*p+u*E+h*O+b)*F,this},"project"),projectViewMatrix:r(function(c,l){return this.applyMatrix4(c).applyMatrix4(l)},"projectViewMatrix"),unprojectViewMatrix:r(function(c,l){return this.applyMatrix4(c).applyMatrix4(l)},"unprojectViewMatrix"),unproject:r(function(c,l){var u=c.x,h=c.y,f=c.z,v=c.w,d=this.x-u,p=v-this.y-1-h,g=this.z;return this.x=2*d/f-1,this.y=2*p/v-1,this.z=2*g-1,this.project(l)},"unproject"),reset:r(function(){return this.x=0,this.y=0,this.z=0,this},"reset")});T.ZERO=new T,T.RIGHT=new T(1,0,0),T.LEFT=new T(-1,0,0),T.UP=new T(0,-1,0),T.DOWN=new T(0,1,0),T.FORWARD=new T(0,0,1),T.BACK=new T(0,0,-1),T.ONE=new T(1,1,1),n.exports=T},61369:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h,f){this.x=0,this.y=0,this.z=0,this.w=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=u||0,this.z=h||0,this.w=f||0)},"Vector4"),clone:r(function(){return new T(this.x,this.y,this.z,this.w)},"clone"),copy:r(function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this.w=c.w||0,this},"copy"),equals:r(function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z&&this.w===c.w},"equals"),set:r(function(c,l,u,h){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0,this.w=c.w||0):(this.x=c||0,this.y=l||0,this.z=u||0,this.w=h||0),this},"set"),add:r(function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this.w+=c.w||0,this},"add"),subtract:r(function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this.w-=c.w||0,this},"subtract"),scale:r(function(c){return this.x*=c,this.y*=c,this.z*=c,this.w*=c,this},"scale"),length:r(function(){var c=this.x,l=this.y,u=this.z,h=this.w;return Math.sqrt(c*c+l*l+u*u+h*h)},"length"),lengthSq:r(function(){var c=this.x,l=this.y,u=this.z,h=this.w;return c*c+l*l+u*u+h*h},"lengthSq"),normalize:r(function(){var c=this.x,l=this.y,u=this.z,h=this.w,f=c*c+l*l+u*u+h*h;return f>0&&(f=1/Math.sqrt(f),this.x=c*f,this.y=l*f,this.z=u*f,this.w=h*f),this},"normalize"),dot:r(function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},"dot"),lerp:r(function(c,l){l===void 0&&(l=0);var u=this.x,h=this.y,f=this.z,v=this.w;return this.x=u+l*(c.x-u),this.y=h+l*(c.y-h),this.z=f+l*(c.z-f),this.w=v+l*(c.w-v),this},"lerp"),multiply:r(function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this.w*=c.w||1,this},"multiply"),divide:r(function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this.w/=c.w||1,this},"divide"),distance:r(function(c){var l=c.x-this.x,u=c.y-this.y,h=c.z-this.z||0,f=c.w-this.w||0;return Math.sqrt(l*l+u*u+h*h+f*f)},"distance"),distanceSq:r(function(c){var l=c.x-this.x,u=c.y-this.y,h=c.z-this.z||0,f=c.w-this.w||0;return l*l+u*u+h*h+f*f},"distanceSq"),negate:r(function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},"negate"),transformMat4:r(function(c){var l=this.x,u=this.y,h=this.z,f=this.w,v=c.val;return this.x=v[0]*l+v[4]*u+v[8]*h+v[12]*f,this.y=v[1]*l+v[5]*u+v[9]*h+v[13]*f,this.z=v[2]*l+v[6]*u+v[10]*h+v[14]*f,this.w=v[3]*l+v[7]*u+v[11]*h+v[15]*f,this},"transformMat4"),transformQuat:r(function(c){var l=this.x,u=this.y,h=this.z,f=c.x,v=c.y,d=c.z,p=c.w,g=p*l+v*h-d*u,m=p*u+d*l-f*h,x=p*h+f*u-v*l,E=-f*l-v*u-d*h;return this.x=g*p+E*-f+m*-d-x*-v,this.y=m*p+E*-v+x*-f-g*-d,this.z=x*p+E*-d+g*-v-m*-f,this},"transformQuat"),reset:r(function(){return this.x=0,this.y=0,this.z=0,this.w=0,this},"reset")});T.prototype.sub=T.prototype.subtract,T.prototype.mul=T.prototype.multiply,T.prototype.div=T.prototype.divide,T.prototype.dist=T.prototype.distance,T.prototype.distSq=T.prototype.distanceSq,T.prototype.len=T.prototype.length,T.prototype.lenSq=T.prototype.lengthSq,n.exports=T},60417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return Math.abs(s-o)<=T},"Within");n.exports=C},15994:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=T-o;return o+((s-o)%c+c)%c},"Wrap");n.exports=C},31040:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){return Math.atan2(c-o,T-s)},"Between");n.exports=C},55495:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)},"BetweenPoints");n.exports=C},128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return Math.atan2(o.x-s.x,o.y-s.y)},"BetweenPointsY");n.exports=C},41273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){return Math.atan2(T-s,c-o)},"BetweenY");n.exports=C},1432:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),T=r(function(c){return c>Math.PI&&(c-=o.PI2),Math.abs(((c+o.TAU)%o.PI2-o.PI2)%o.PI2)},"CounterClockwise");n.exports=T},49127:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(12407),T=r(function(c,l){return o(l-c)},"GetClockwiseDistance");n.exports=T},52285:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(12407),T=2*Math.PI,c=r(function(l,u){var h=o(u-l);return h>0&&(h-=T),h},"GetCounterClockwiseDistance");n.exports=c},67317:(n,C,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(86554),T=r(function(c,l){return o(l-c)},"GetShortestDistance");n.exports=T},12407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s=s%(2*Math.PI),s>=0?s:s+2*Math.PI},"Normalize");n.exports=C},53993:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99472),T=r(function(){return o(-Math.PI,Math.PI)},"Random");n.exports=T},86564:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99472),T=r(function(){return o(-180,180)},"RandomDegrees");n.exports=T},90154:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(12407),T=r(function(c){return o(c+Math.PI)},"Reverse");n.exports=T},48736:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),T=r(function(c,l,u){return u===void 0&&(u=.05),c===l||(Math.abs(l-c)<=u||Math.abs(l-c)>=o.PI2-u?c=l:(Math.abs(l-c)>Math.PI&&(l<c?l+=o.PI2:l-=o.PI2),l>c?c+=u:l<c&&(c-=u))),c},"RotateTo");n.exports=T},61430:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=o-s;if(T===0)return 0;var c=Math.floor((T- -180)/360);return T-c*360},"ShortestBetween");n.exports=C},86554:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15994),T=r(function(c){return o(c,-Math.PI,Math.PI)},"Wrap");n.exports=T},30954:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15994),T=r(function(c){return o(c,-180,180)},"WrapDegrees");n.exports=T},25588:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:s(31040),BetweenPoints:s(55495),BetweenPointsY:s(128),BetweenY:s(41273),CounterClockwise:s(1432),GetClockwiseDistance:s(49127),GetCounterClockwiseDistance:s(52285),GetShortestDistance:s(67317),Normalize:s(12407),Random:s(53993),RandomDegrees:s(86564),Reverse:s(90154),RotateTo:s(48736),ShortestBetween:s(61430),Wrap:s(86554),WrapDegrees:s(30954)}},36383:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};n.exports=C},20339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=s-T,u=o-c;return Math.sqrt(l*l+u*u)},"DistanceBetween");n.exports=C},52816:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.x-o.x,c=s.y-o.y;return Math.sqrt(T*T+c*c)},"DistanceBetweenPoints");n.exports=C},64559:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.x-o.x,c=s.y-o.y;return T*T+c*c},"DistanceBetweenPointsSquared");n.exports=C},82340:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){return Math.max(Math.abs(s-T),Math.abs(o-c))},"ChebyshevDistance");n.exports=C},14390:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l){return l===void 0&&(l=2),Math.sqrt(Math.pow(T-s,l)+Math.pow(c-o,l))},"DistancePower");n.exports=C},2243:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){return Math.abs(s-T)+Math.abs(o-c)},"SnakeDistance");n.exports=C},89774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=s-T,u=o-c;return l*l+u*u},"DistanceSquared");n.exports=C},50994:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:s(20339),BetweenPoints:s(52816),BetweenPointsSquared:s(64559),Chebyshev:s(82340),Power:s(14390),Snake:s(2243),Squared:s(89774)}},62640:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54178),T=s(41521),c=s(79980),l=s(85433),u=s(99140),h=s(48857),f=s(81596),v=s(59133),d=s(98516),p=s(35248),g=s(82500),m=s(49752);n.exports={Power0:f,Power1:v.Out,Power2:l.Out,Power3:d.Out,Power4:p.Out,Linear:f,Quad:v.Out,Cubic:l.Out,Quart:d.Out,Quint:p.Out,Sine:g.Out,Expo:h.Out,Circ:c.Out,Elastic:u.Out,Back:o.Out,Bounce:T.Out,Stepped:m,"Quad.easeIn":v.In,"Cubic.easeIn":l.In,"Quart.easeIn":d.In,"Quint.easeIn":p.In,"Sine.easeIn":g.In,"Expo.easeIn":h.In,"Circ.easeIn":c.In,"Elastic.easeIn":u.In,"Back.easeIn":o.In,"Bounce.easeIn":T.In,"Quad.easeOut":v.Out,"Cubic.easeOut":l.Out,"Quart.easeOut":d.Out,"Quint.easeOut":p.Out,"Sine.easeOut":g.Out,"Expo.easeOut":h.Out,"Circ.easeOut":c.Out,"Elastic.easeOut":u.Out,"Back.easeOut":o.Out,"Bounce.easeOut":T.Out,"Quad.easeInOut":v.InOut,"Cubic.easeInOut":l.InOut,"Quart.easeInOut":d.InOut,"Quint.easeInOut":p.InOut,"Sine.easeInOut":g.InOut,"Expo.easeInOut":h.InOut,"Circ.easeInOut":c.InOut,"Elastic.easeInOut":u.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":T.InOut}},1639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o===void 0&&(o=1.70158),s*s*((o+1)*s-o)},"In");n.exports=C},50099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o===void 0&&(o=1.70158);var T=o*1.525;return(s*=2)<1?.5*(s*s*((T+1)*s-T)):.5*((s-=2)*s*((T+1)*s+T)+2)},"InOut");n.exports=C},41286:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o===void 0&&(o=1.70158),--s*s*((o+1)*s+o)+1},"Out");n.exports=C},54178:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(1639),Out:s(41286),InOut:s(50099)}},59590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s=1-s,s<.36363636363636365?1-7.5625*s*s:s<.7272727272727273?1-(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?1-(7.5625*(s-=.8181818181818182)*s+.9375):1-(7.5625*(s-=.9545454545454546)*s+.984375)},"In");n.exports=C},41788:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o=!1;return s<.5?(s=1-s*2,o=!0):s=s*2-1,s<.36363636363636365?s=7.5625*s*s:s<.7272727272727273?s=7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?s=7.5625*(s-=.8181818181818182)*s+.9375:s=7.5625*(s-=.9545454545454546)*s+.984375,o?(1-s)*.5:s*.5+.5},"InOut");n.exports=C},69905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s<.36363636363636365?7.5625*s*s:s<.7272727272727273?7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?7.5625*(s-=.8181818181818182)*s+.9375:7.5625*(s-=.9545454545454546)*s+.984375},"Out");n.exports=C},41521:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(59590),Out:s(69905),InOut:s(41788)}},91861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return 1-Math.sqrt(1-s*s)},"In");n.exports=C},4177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)},"InOut");n.exports=C},57512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return Math.sqrt(1- --s*s)},"Out");n.exports=C},79980:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(91861),Out:s(57512),InOut:s(4177)}},51150:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s*s*s},"In");n.exports=C},82820:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)},"InOut");n.exports=C},35033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return--s*s*s+1},"Out");n.exports=C},85433:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(51150),Out:s(35033),InOut:s(82820)}},69965:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){if(o===void 0&&(o=.1),T===void 0&&(T=.1),s===0)return 0;if(s===1)return 1;var c=T/4;return o<1?o=1:c=T*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(s-=1))*Math.sin((s-c)*(2*Math.PI)/T))},"In");n.exports=C},50665:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){if(o===void 0&&(o=.1),T===void 0&&(T=.1),s===0)return 0;if(s===1)return 1;var c=T/4;return o<1?o=1:c=T*Math.asin(1/o)/(2*Math.PI),(s*=2)<1?-.5*(o*Math.pow(2,10*(s-=1))*Math.sin((s-c)*(2*Math.PI)/T)):o*Math.pow(2,-10*(s-=1))*Math.sin((s-c)*(2*Math.PI)/T)*.5+1},"InOut");n.exports=C},7744:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){if(o===void 0&&(o=.1),T===void 0&&(T=.1),s===0)return 0;if(s===1)return 1;var c=T/4;return o<1?o=1:c=T*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*s)*Math.sin((s-c)*(2*Math.PI)/T)+1},"Out");n.exports=C},99140:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(69965),Out:s(7744),InOut:s(50665)}},24590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return Math.pow(2,10*(s-1))-.001},"In");n.exports=C},87844:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return(s*=2)<1?.5*Math.pow(2,10*(s-1)):.5*(2-Math.pow(2,-10*(s-1)))},"InOut");n.exports=C},89433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return 1-Math.pow(2,-10*s)},"Out");n.exports=C},48857:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(24590),Out:s(89433),InOut:s(87844)}},48820:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Back:s(54178),Bounce:s(41521),Circular:s(79980),Cubic:s(85433),Elastic:s(99140),Expo:s(48857),Linear:s(81596),Quadratic:s(59133),Quartic:s(98516),Quintic:s(35248),Sine:s(82500),Stepped:s(49752)}},7147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s},"Linear");n.exports=C},81596:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=s(7147)},34826:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s*s},"In");n.exports=C},20544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)},"InOut");n.exports=C},92029:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s*(2-s)},"Out");n.exports=C},59133:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(34826),Out:s(92029),InOut:s(20544)}},64413:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s*s*s*s},"In");n.exports=C},78137:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)},"InOut");n.exports=C},45840:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return 1- --s*s*s*s},"Out");n.exports=C},98516:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(64413),Out:s(45840),InOut:s(78137)}},87745:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s*s*s*s*s},"In");n.exports=C},16509:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)},"InOut");n.exports=C},17868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return--s*s*s*s*s+1},"Out");n.exports=C},35248:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(87745),Out:s(17868),InOut:s(16509)}},80461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s===0?0:s===1?1:1-Math.cos(s*Math.PI/2)},"In");n.exports=C},34025:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s===0?0:s===1?1:.5*(1-Math.cos(Math.PI*s))},"InOut");n.exports=C},52768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s===0?0:s===1?1:Math.sin(s*Math.PI/2)},"Out");n.exports=C},82500:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(80461),Out:s(52768),InOut:s(34025)}},72251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o===void 0&&(o=1),s<=0?0:s>=1?1:((o*s|0)+1)*(1/o)},"Stepped");n.exports=C},49752:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=s(72251)},75698:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o===void 0&&(o=1e-4),Math.ceil(s-o)},"Ceil");n.exports=C},43855:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return T===void 0&&(T=1e-4),Math.abs(s-o)<T},"Equal");n.exports=C},25777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o===void 0&&(o=1e-4),Math.floor(s+o)},"Floor");n.exports=C},5470:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return T===void 0&&(T=1e-4),s>o-T},"GreaterThan");n.exports=C},94977:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return T===void 0&&(T=1e-4),s<o+T},"LessThan");n.exports=C},48379:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:s(75698),Equal:s(43855),Floor:s(25777),GreaterThan:s(5470),LessThan:s(94977)}},75508:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),T=s(79291),c={Angle:s(25588),Distance:s(50994),Easing:s(48820),Fuzzy:s(48379),Interpolation:s(38289),Pow2:s(49001),Snap:s(73697),RandomDataGenerator:s(28453),Average:s(53307),Bernstein:s(85710),Between:s(30976),CatmullRom:s(87842),CeilTo:s(26302),Clamp:s(45319),DegToRad:s(39506),Difference:s(61241),Euler:s(38857),Factorial:s(6411),FloatBetween:s(99472),FloorTo:s(77623),FromPercent:s(62945),GetSpeed:s(38265),IsEven:s(78702),IsEvenStrict:s(94883),Linear:s(28915),LinearXY:s(94908),MaxAdd:s(86883),Median:s(50040),MinSub:s(37204),Percent:s(65201),RadToDeg:s(43396),RandomXY:s(74362),RandomXYZ:s(60706),RandomXYZW:s(67421),Rotate:s(36305),RotateAround:s(11520),RotateAroundDistance:s(1163),RotateTo:s(70336),RoundAwayFromZero:s(2284),RoundTo:s(41013),SinCosTableGenerator:s(16922),SmootherStep:s(54261),SmoothStep:s(7602),ToXY:s(44408),TransformXY:s(85955),Within:s(60417),Wrap:s(15994),Vector2:s(26099),Vector3:s(25836),Vector4:s(61369),Matrix3:s(94434),Matrix4:s(37867),Quaternion:s(15746),RotateVec3:s(72678)};c=T(!1,c,o),n.exports=c},89318:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85710),T=r(function(c,l){for(var u=0,h=c.length-1,f=0;f<=h;f++)u+=Math.pow(1-l,h-f)*Math.pow(l,f)*c[f]*o(h,f);return u},"BezierInterpolation");n.exports=T},77259:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87842),T=r(function(c,l){var u=c.length-1,h=u*l,f=Math.floor(h);return c[0]===c[u]?(l<0&&(f=Math.floor(h=u*(1+l))),o(h-f,c[(f-1+u)%u],c[f],c[(f+1)%u],c[(f+2)%u])):l<0?c[0]-(o(-h,c[0],c[0],c[1],c[1])-c[0]):l>1?c[u]-(o(h-u,c[u],c[u],c[u-1],c[u-1])-c[u]):o(h-f,c[f?f-1:0],c[f],c[u<f+1?u:f+1],c[u<f+2?u:f+2])},"CatmullRomInterpolation");n.exports=T},36316:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(l,u){var h=1-l;return h*h*h*u}r(C,"P0");function s(l,u){var h=1-l;return 3*h*h*l*u}r(s,"P1");function o(l,u){return 3*(1-l)*l*l*u}r(o,"P2");function T(l,u){return l*l*l*u}r(T,"P3");var c=r(function(l,u,h,f,v){return C(l,u)+s(l,h)+o(l,f)+T(l,v)},"CubicBezierInterpolation");n.exports=c},28392:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28915),T=r(function(c,l){var u=c.length-1,h=u*l,f=Math.floor(h);return l<0?o(c[0],c[1],h):l>1?o(c[u],c[u-1],u-h):o(c[f],c[f+1>u?u:f+1],h-f)},"LinearInterpolation");n.exports=T},32112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(c,l){var u=1-c;return u*u*l}r(C,"P0");function s(c,l){return 2*(1-c)*c*l}r(s,"P1");function o(c,l){return c*c*l}r(o,"P2");var T=r(function(c,l,u,h){return C(c,l)+s(c,u)+o(c,h)},"QuadraticBezierInterpolation");n.exports=T},47235:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7602),T=r(function(c,l,u){return l+(u-l)*o(c,0,1)},"SmoothStepInterpolation");n.exports=T},50178:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54261),T=r(function(c,l,u){return l+(u-l)*o(c,0,1)},"SmootherStepInterpolation");n.exports=T},38289:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bezier:s(89318),CatmullRom:s(77259),CubicBezier:s(36316),Linear:s(28392),QuadraticBezier:s(32112),SmoothStep:s(47235),SmootherStep:s(50178)}},98439:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o=Math.log(s)/.6931471805599453;return 1<<Math.ceil(o)},"GetPowerOfTwo");n.exports=C},50030:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s>0&&(s&s-1)===0&&o>0&&(o&o-1)===0},"IsSizePowerOfTwo");n.exports=C},81230:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s>0&&(s&s-1)===0},"IsValuePowerOfTwo");n.exports=C},49001:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetNext:s(98439),IsSize:s(50030),IsValue:s(81230)}},28453:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l){l===void 0&&(l=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],l&&this.init(l)},"RandomDataGenerator"),rnd:r(function(){var c=2091639*this.s0+this.c*23283064365386963e-26;return this.c=c|0,this.s0=this.s1,this.s1=this.s2,this.s2=c-this.c,this.s2},"rnd"),hash:r(function(c){var l,u=this.n;c=c.toString();for(var h=0;h<c.length;h++)u+=c.charCodeAt(h),l=.02519603282416938*u,u=l>>>0,l-=u,l*=u,u=l>>>0,l-=u,u+=l*4294967296;return this.n=u,(u>>>0)*23283064365386963e-26},"hash"),init:r(function(c){typeof c=="string"?this.state(c):this.sow(c)},"init"),sow:r(function(c){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!c)for(var l=0;l<c.length&&c[l]!=null;l++){var u=c[l];this.s0-=this.hash(u),this.s0+=~~(this.s0<0),this.s1-=this.hash(u),this.s1+=~~(this.s1<0),this.s2-=this.hash(u),this.s2+=~~(this.s2<0)}},"sow"),integer:r(function(){return this.rnd()*4294967296},"integer"),frac:r(function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},"frac"),real:r(function(){return this.integer()+this.frac()},"real"),integerInRange:r(function(c,l){return Math.floor(this.realInRange(0,l-c+1)+c)},"integerInRange"),between:r(function(c,l){return Math.floor(this.realInRange(0,l-c+1)+c)},"between"),realInRange:r(function(c,l){return this.frac()*(l-c)+c},"realInRange"),normal:r(function(){return 1-2*this.frac()},"normal"),uuid:r(function(){var c="",l="";for(l=c="";c++<36;l+=~c%5|c*3&4?(c^15?8^this.frac()*(c^20?16:4):4).toString(16):"-");return l},"uuid"),pick:r(function(c){return c[this.integerInRange(0,c.length-1)]},"pick"),sign:r(function(){return this.pick(this.signs)},"sign"),weightedPick:r(function(c){return c[~~(Math.pow(this.frac(),2)*(c.length-.5)+.5)]},"weightedPick"),timestamp:r(function(c,l){return this.realInRange(c||9466848e5,l||1577862e6)},"timestamp"),angle:r(function(){return this.integerInRange(-180,180)},"angle"),rotation:r(function(){return this.realInRange(-3.1415926,3.1415926)},"rotation"),state:r(function(c){return typeof c=="string"&&c.match(/^!rnd/)&&(c=c.split(","),this.c=parseFloat(c[1]),this.s0=parseFloat(c[2]),this.s1=parseFloat(c[3]),this.s2=parseFloat(c[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},"state"),shuffle:r(function(c){for(var l=c.length-1,u=l;u>0;u--){var h=Math.floor(this.frac()*(u+1)),f=c[h];c[h]=c[u],c[u]=f}return c},"shuffle")});n.exports=T},63448:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){return T===void 0&&(T=0),o===0?s:(s-=T,s=o*Math.ceil(s/o),c?(T+s)/o:T+s)},"SnapCeil");n.exports=C},56583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){return T===void 0&&(T=0),o===0?s:(s-=T,s=o*Math.floor(s/o),c?(T+s)/o:T+s)},"SnapFloor");n.exports=C},77720:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){return T===void 0&&(T=0),o===0?s:(s-=T,s=o*Math.round(s/o),c?(T+s)/o:T+s)},"SnapTo");n.exports=C},73697:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:s(63448),Floor:s(56583),To:s(77720)}},85454:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s(63595);var o=s(8054),T=s(79291),c={Actions:s(61061),Animations:s(60421),BlendModes:s(10312),Cache:s(83388),Cameras:s(26638),Core:s(42857),Class:s(83419),Create:s(15822),Curves:s(25410),Data:s(44965),Display:s(27460),DOM:s(84902),Events:s(93055),FX:s(66064),Game:s(50127),GameObjects:s(77856),Geom:s(55738),Input:s(14350),Loader:s(57777),Math:s(75508),Physics:s(44563),Plugins:s(18922),Renderer:s(36909),Scale:s(93364),ScaleModes:s(29795),Scene:s(97482),Scenes:s(62194),Structs:s(41392),Textures:s(27458),Tilemaps:s(62501),Time:s(90291),Tweens:s(43066),Utils:s(91799)};c.Sound=s(23717),c=T(!1,c,o),n.exports=c,s.g.Phaser=c},71289:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(92209),c=s(88571),l=new o({Extends:c,Mixins:[T.Acceleration,T.Angular,T.Bounce,T.Collision,T.Debug,T.Drag,T.Enable,T.Friction,T.Gravity,T.Immovable,T.Mass,T.Pushable,T.Size,T.Velocity],initialize:r(function(h,f,v,d,p){c.call(this,h,f,v,d,p),this.body=null},"ArcadeImage")});n.exports=l},86689:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(39506),c=s(20339),l=s(89774),u=s(66022),h=s(95540),f=s(46975),v=s(72441),d=s(47956),p=s(37277),g=s(44594),m=s(26099),x=s(82248),E=new o({initialize:r(function(R){this.scene=R,this.systems=R.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,R.sys.events.once(g.BOOT,this.boot,this),R.sys.events.on(g.START,this.start,this)},"ArcadePhysics"),boot:r(function(){this.world=new x(this.scene,this.config),this.add=new u(this.world),this.systems.events.once(g.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.world||(this.world=new x(this.scene,this.config),this.add=new u(this.world));var A=this.systems.events;h(this.config,"customUpdate",!1)||A.on(g.UPDATE,this.world.update,this.world),A.on(g.POST_UPDATE,this.world.postUpdate,this.world),A.once(g.SHUTDOWN,this.shutdown,this)},"start"),enableUpdate:r(function(){this.systems.events.on(g.UPDATE,this.world.update,this.world)},"enableUpdate"),disableUpdate:r(function(){this.systems.events.off(g.UPDATE,this.world.update,this.world)},"disableUpdate"),getConfig:r(function(){var A=this.systems.game.config.physics,R=this.systems.settings.physics,P=f(h(R,"arcade",{}),h(A,"arcade",{}));return P},"getConfig"),nextCategory:r(function(){return this._category=this._category<<1,this._category},"nextCategory"),overlap:r(function(A,R,P,O,L){return P===void 0&&(P=null),O===void 0&&(O=null),L===void 0&&(L=P),this.world.collideObjects(A,R,P,O,L,!0)},"overlap"),collide:r(function(A,R,P,O,L){return P===void 0&&(P=null),O===void 0&&(O=null),L===void 0&&(L=P),this.world.collideObjects(A,R,P,O,L,!1)},"collide"),collideTiles:r(function(A,R,P,O,L){return this.world.collideTiles(A,R,P,O,L)},"collideTiles"),overlapTiles:r(function(A,R,P,O,L){return this.world.overlapTiles(A,R,P,O,L)},"overlapTiles"),pause:r(function(){return this.world.pause()},"pause"),resume:r(function(){return this.world.resume()},"resume"),accelerateTo:r(function(A,R,P,O,L,w){O===void 0&&(O=60);var M=Math.atan2(P-A.y,R-A.x);return A.body.acceleration.setToPolar(M,O),L!==void 0&&w!==void 0&&A.body.maxVelocity.set(L,w),M},"accelerateTo"),accelerateToObject:r(function(A,R,P,O,L){return this.accelerateTo(A,R.x,R.y,P,O,L)},"accelerateToObject"),closest:r(function(A,R){R||(R=this.world.bodies.entries);for(var P=Number.MAX_VALUE,O=null,L=A.x,w=A.y,M=R.length,b=0;b<M;b++){var D=R[b],F=D.body||D;if(!(A===D||A===F||A===F.gameObject||A===F.center)){var N=l(L,w,F.center.x,F.center.y);N<P&&(O=D,P=N)}}return O},"closest"),furthest:r(function(A,R){R||(R=this.world.bodies.entries);for(var P=-1,O=null,L=A.x,w=A.y,M=R.length,b=0;b<M;b++){var D=R[b],F=D.body||D;if(!(A===D||A===F||A===F.gameObject||A===F.center)){var N=l(L,w,F.center.x,F.center.y);N>P&&(O=D,P=N)}}return O},"furthest"),moveTo:r(function(A,R,P,O,L){O===void 0&&(O=60),L===void 0&&(L=0);var w=Math.atan2(P-A.y,R-A.x);return L>0&&(O=c(A.x,A.y,R,P)/(L/1e3)),A.body.velocity.setToPolar(w,O),w},"moveTo"),moveToObject:r(function(A,R,P,O){return this.moveTo(A,R.x,R.y,P,O)},"moveToObject"),velocityFromAngle:r(function(A,R,P){return R===void 0&&(R=60),P===void 0&&(P=new m),P.setToPolar(T(A),R)},"velocityFromAngle"),velocityFromRotation:r(function(A,R,P){return R===void 0&&(R=60),P===void 0&&(P=new m),P.setToPolar(A,R)},"velocityFromRotation"),overlapRect:r(function(A,R,P,O,L,w){return d(this.world,A,R,P,O,L,w)},"overlapRect"),overlapCirc:r(function(A,R,P,O,L){return v(this.world,A,R,P,O,L)},"overlapCirc"),shutdown:r(function(){if(this.world){var A=this.systems.events;A.off(g.UPDATE,this.world.update,this.world),A.off(g.POST_UPDATE,this.world.postUpdate,this.world),A.off(g.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null},"destroy")});p.register("ArcadePhysics",E,"arcadePhysics"),n.exports=E},13759:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(92209),c=s(68287),l=new o({Extends:c,Mixins:[T.Acceleration,T.Angular,T.Bounce,T.Collision,T.Debug,T.Drag,T.Enable,T.Friction,T.Gravity,T.Immovable,T.Mass,T.Pushable,T.Size,T.Velocity],initialize:r(function(h,f,v,d,p){c.call(this,h,f,v,d,p),this.body=null},"ArcadeSprite")});n.exports=l},37742:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(78389),c=s(37747),l=s(63012),u=s(43396),h=s(87841),f=s(37303),v=s(95829),d=s(26099),p=new o({Mixins:[T],initialize:r(function(m,x){var E=64,A=64,R={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=x!==void 0;P&&x.displayWidth&&(E=x.displayWidth,A=x.displayHeight),P||(x=R),this.world=m,this.gameObject=P?x:void 0,this.isBody=!0,this.transform={x:x.x,y:x.y,rotation:x.angle,scaleX:x.scaleX,scaleY:x.scaleY,displayOriginX:x.displayOriginX,displayOriginY:x.displayOriginY},this.debugShowBody=m.defaults.debugShowBody,this.debugShowVelocity=m.defaults.debugShowVelocity,this.debugBodyColor=m.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(x.x-x.scaleX*x.displayOriginX,x.y-x.scaleY*x.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=x.angle,this.preRotation=x.angle,this.width=E,this.height=A,this.sourceWidth=E,this.sourceHeight=A,x.frame&&(this.sourceWidth=x.frame.realWidth,this.sourceHeight=x.frame.realHeight),this.halfWidth=Math.abs(E/2),this.halfHeight=Math.abs(A/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new d,this.newVelocity=new d,this.deltaMax=new d,this.acceleration=new d,this.allowDrag=!0,this.drag=new d,this.allowGravity=!0,this.gravity=new d,this.bounce=new d,this.worldBounce=null,this.customBoundsRectangle=m.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new d(1e4,1e4),this.maxSpeed=-1,this.friction=new d(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new d(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=v(!1),this.touching=v(!0),this.wasTouching=v(!0),this.blocked=v(!0),this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=x.scaleX,this._sy=x.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new h,this.directControl=!1,this.autoFrame=this.position.clone()},"Body"),updateBounds:r(function(){var g=this.gameObject,m=this.transform;if(g.parentContainer){var x=g.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);m.x=x.tx,m.y=x.ty,m.rotation=u(x.rotation),m.scaleX=x.scaleX,m.scaleY=x.scaleY,m.displayOriginX=g.displayOriginX,m.displayOriginY=g.displayOriginY}else m.x=g.x,m.y=g.y,m.rotation=g.angle,m.scaleX=g.scaleX,m.scaleY=g.scaleY,m.displayOriginX=g.displayOriginX,m.displayOriginY=g.displayOriginY;var E=!1;if(this.syncBounds){var A=g.getBounds(this._bounds);this.width=A.width,this.height=A.height,E=!0}else{var R=Math.abs(m.scaleX),P=Math.abs(m.scaleY);(this._sx!==R||this._sy!==P)&&(this.width=this.sourceWidth*R,this.height=this.sourceHeight*P,this._sx=R,this._sy=P,E=!0)}E&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},"updateBounds"),updateCenter:r(function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},"updateCenter"),updateFromGameObject:r(function(){this.updateBounds();var g=this.transform;this.position.x=g.x+g.scaleX*(this.offset.x-g.displayOriginX),this.position.y=g.y+g.scaleY*(this.offset.y-g.displayOriginY),this.updateCenter()},"updateFromGameObject"),resetFlags:r(function(g){g===void 0&&(g=!1);var m=this.wasTouching,x=this.touching,E=this.blocked;g?v(!0,m):(m.none=x.none,m.up=x.up,m.down=x.down,m.left=x.left,m.right=x.right),v(!0,x),v(!0,E),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},"resetFlags"),preUpdate:r(function(g,m){if(g&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var x=this.position;this.prev.x=x.x,this.prev.y=x.y,this.prevFrame.x=x.x,this.prevFrame.y=x.y}g&&this.update(m)},"preUpdate"),update:r(function(g){var m=this.prev,x=this.position,E=this.velocity;if(m.set(x.x,x.y),!this.moves){this._dx=x.x-m.x,this._dy=x.y-m.y;return}if(this.directControl){var A=this.autoFrame;E.set((x.x-A.x)/g,(x.y-A.y)/g),this.world.updateMotion(this,g),this._dx=x.x-A.x,this._dy=x.y-A.y}else this.world.updateMotion(this,g),this.newVelocity.set(E.x*g,E.y*g),x.add(this.newVelocity),this._dx=x.x-m.x,this._dy=x.y-m.y;var R=E.x,P=E.y;if(this.updateCenter(),this.angle=Math.atan2(P,R),this.speed=Math.sqrt(R*R+P*P),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var O=this.blocked;this.world.emit(l.WORLD_BOUNDS,this,O.up,O.down,O.left,O.right)}},"update"),postUpdate:r(function(){var g=this.position,m=g.x-this.prevFrame.x,x=g.y-this.prevFrame.y,E=this.gameObject;if(this.moves){var A=this.deltaMax.x,R=this.deltaMax.y;A!==0&&m!==0&&(m<0&&m<-A?m=-A:m>0&&m>A&&(m=A)),R!==0&&x!==0&&(x<0&&x<-R?x=-R:x>0&&x>R&&(x=R)),E&&(E.x+=m,E.y+=x)}m<0?this.facing=c.FACING_LEFT:m>0&&(this.facing=c.FACING_RIGHT),x<0?this.facing=c.FACING_UP:x>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&E&&(E.angle+=this.deltaZ()),this._tx=m,this._ty=x,this.autoFrame.set(g.x,g.y)},"postUpdate"),setBoundsRectangle:r(function(g){return this.customBoundsRectangle=g||this.world.bounds,this},"setBoundsRectangle"),checkWorldBounds:r(function(){var g=this.position,m=this.velocity,x=this.blocked,E=this.customBoundsRectangle,A=this.world.checkCollision,R=this.worldBounce?-this.worldBounce.x:-this.bounce.x,P=this.worldBounce?-this.worldBounce.y:-this.bounce.y,O=!1;return g.x<E.x&&A.left?(g.x=E.x,m.x*=R,x.left=!0,O=!0):this.right>E.right&&A.right&&(g.x=E.right-this.width,m.x*=R,x.right=!0,O=!0),g.y<E.y&&A.up?(g.y=E.y,m.y*=P,x.up=!0,O=!0):this.bottom>E.bottom&&A.down&&(g.y=E.bottom-this.height,m.y*=P,x.down=!0,O=!0),O&&(this.blocked.none=!1,this.updateCenter()),O},"checkWorldBounds"),setOffset:r(function(g,m){return m===void 0&&(m=g),this.offset.set(g,m),this},"setOffset"),setGameObject:r(function(g,m){if(m===void 0&&(m=!0),!g||!g.hasTransformComponent)return this;var x=this.world;return this.gameObject&&this.gameObject.body&&(x.disable(this.gameObject),this.gameObject.body=null),g.body&&x.disable(g),this.gameObject=g,g.body=this,this.setSize(),this.enable=m,this},"setGameObject"),setSize:r(function(g,m,x){x===void 0&&(x=!0);var E=this.gameObject;if(E&&(!g&&E.frame&&(g=E.frame.realWidth),!m&&E.frame&&(m=E.frame.realHeight)),this.sourceWidth=g,this.sourceHeight=m,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),x&&E&&E.getCenter){var A=(E.width-g)/2,R=(E.height-m)/2;this.offset.set(A,R)}return this.isCircle=!1,this.radius=0,this},"setSize"),setCircle:r(function(g,m,x){return m===void 0&&(m=this.offset.x),x===void 0&&(x=this.offset.y),g>0?(this.isCircle=!0,this.radius=g,this.sourceWidth=g*2,this.sourceHeight=g*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(m,x),this.updateCenter()):this.isCircle=!1,this},"setCircle"),reset:r(function(g,m){this.stop();var x=this.gameObject;x&&(x.setPosition(g,m),this.rotation=x.angle,this.preRotation=x.angle);var E=this.position;x&&x.getTopLeft?x.getTopLeft(E):E.set(g,m),this.prev.copy(E),this.prevFrame.copy(E),this.autoFrame.copy(E),x&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},"reset"),stop:r(function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},"stop"),getBounds:r(function(g){return g.x=this.x,g.y=this.y,g.right=this.right,g.bottom=this.bottom,g},"getBounds"),hitTest:r(function(g,m){if(!this.isCircle)return f(this,g,m);if(this.radius>0&&g>=this.left&&g<=this.right&&m>=this.top&&m<=this.bottom){var x=(this.center.x-g)*(this.center.x-g),E=(this.center.y-m)*(this.center.y-m);return x+E<=this.radius*this.radius}return!1},"hitTest"),onFloor:r(function(){return this.blocked.down},"onFloor"),onCeiling:r(function(){return this.blocked.up},"onCeiling"),onWall:r(function(){return this.blocked.left||this.blocked.right},"onWall"),deltaAbsX:r(function(){return this._dx>0?this._dx:-this._dx},"deltaAbsX"),deltaAbsY:r(function(){return this._dy>0?this._dy:-this._dy},"deltaAbsY"),deltaX:r(function(){return this._dx},"deltaX"),deltaY:r(function(){return this._dy},"deltaY"),deltaXFinal:r(function(){return this._tx},"deltaXFinal"),deltaYFinal:r(function(){return this._ty},"deltaYFinal"),deltaZ:r(function(){return this.rotation-this.preRotation},"deltaZ"),destroy:r(function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},"destroy"),drawDebug:r(function(g){var m=this.position,x=m.x+this.halfWidth,E=m.y+this.halfHeight;this.debugShowBody&&(g.lineStyle(g.defaultStrokeWidth,this.debugBodyColor),this.isCircle?g.strokeCircle(x,E,this.width/2):(this.checkCollision.up&&g.lineBetween(m.x,m.y,m.x+this.width,m.y),this.checkCollision.right&&g.lineBetween(m.x+this.width,m.y,m.x+this.width,m.y+this.height),this.checkCollision.down&&g.lineBetween(m.x,m.y+this.height,m.x+this.width,m.y+this.height),this.checkCollision.left&&g.lineBetween(m.x,m.y,m.x,m.y+this.height))),this.debugShowVelocity&&(g.lineStyle(g.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),g.lineBetween(x,E,x+this.velocity.x/2,E+this.velocity.y/2))},"drawDebug"),willDrawDebug:r(function(){return this.debugShowBody||this.debugShowVelocity},"willDrawDebug"),setDirectControl:r(function(g){return g===void 0&&(g=!0),this.directControl=g,this},"setDirectControl"),setCollideWorldBounds:r(function(g,m,x,E){g===void 0&&(g=!0),this.collideWorldBounds=g;var A=m!==void 0,R=x!==void 0;return(A||R)&&(this.worldBounce||(this.worldBounce=new d),A&&(this.worldBounce.x=m),R&&(this.worldBounce.y=x)),E!==void 0&&(this.onWorldBounds=E),this},"setCollideWorldBounds"),setVelocity:r(function(g,m){return this.velocity.set(g,m),g=this.velocity.x,m=this.velocity.y,this.speed=Math.sqrt(g*g+m*m),this},"setVelocity"),setVelocityX:r(function(g){return this.setVelocity(g,this.velocity.y)},"setVelocityX"),setVelocityY:r(function(g){return this.setVelocity(this.velocity.x,g)},"setVelocityY"),setMaxVelocity:r(function(g,m){return this.maxVelocity.set(g,m),this},"setMaxVelocity"),setMaxVelocityX:r(function(g){return this.maxVelocity.x=g,this},"setMaxVelocityX"),setMaxVelocityY:r(function(g){return this.maxVelocity.y=g,this},"setMaxVelocityY"),setMaxSpeed:r(function(g){return this.maxSpeed=g,this},"setMaxSpeed"),setSlideFactor:r(function(g,m){return this.slideFactor.set(g,m),this},"setSlideFactor"),setBounce:r(function(g,m){return this.bounce.set(g,m),this},"setBounce"),setBounceX:r(function(g){return this.bounce.x=g,this},"setBounceX"),setBounceY:r(function(g){return this.bounce.y=g,this},"setBounceY"),setAcceleration:r(function(g,m){return this.acceleration.set(g,m),this},"setAcceleration"),setAccelerationX:r(function(g){return this.acceleration.x=g,this},"setAccelerationX"),setAccelerationY:r(function(g){return this.acceleration.y=g,this},"setAccelerationY"),setAllowDrag:r(function(g){return g===void 0&&(g=!0),this.allowDrag=g,this},"setAllowDrag"),setAllowGravity:r(function(g){return g===void 0&&(g=!0),this.allowGravity=g,this},"setAllowGravity"),setAllowRotation:r(function(g){return g===void 0&&(g=!0),this.allowRotation=g,this},"setAllowRotation"),setDrag:r(function(g,m){return this.drag.set(g,m),this},"setDrag"),setDamping:r(function(g){return this.useDamping=g,this},"setDamping"),setDragX:r(function(g){return this.drag.x=g,this},"setDragX"),setDragY:r(function(g){return this.drag.y=g,this},"setDragY"),setGravity:r(function(g,m){return this.gravity.set(g,m),this},"setGravity"),setGravityX:r(function(g){return this.gravity.x=g,this},"setGravityX"),setGravityY:r(function(g){return this.gravity.y=g,this},"setGravityY"),setFriction:r(function(g,m){return this.friction.set(g,m),this},"setFriction"),setFrictionX:r(function(g){return this.friction.x=g,this},"setFrictionX"),setFrictionY:r(function(g){return this.friction.y=g,this},"setFrictionY"),setAngularVelocity:r(function(g){return this.angularVelocity=g,this},"setAngularVelocity"),setAngularAcceleration:r(function(g){return this.angularAcceleration=g,this},"setAngularAcceleration"),setAngularDrag:r(function(g){return this.angularDrag=g,this},"setAngularDrag"),setMass:r(function(g){return this.mass=g,this},"setMass"),setImmovable:r(function(g){return g===void 0&&(g=!0),this.immovable=g,this},"setImmovable"),setEnable:r(function(g){return g===void 0&&(g=!0),this.enable=g,this},"setEnable"),processX:r(function(g,m,x,E){this.x+=g,this.updateCenter(),m!==null&&(this.velocity.x=m*this.slideFactor.x);var A=this.blocked;x&&(A.left=!0,A.none=!1),E&&(A.right=!0,A.none=!1)},"processX"),processY:r(function(g,m,x,E){this.y+=g,this.updateCenter(),m!==null&&(this.velocity.y=m*this.slideFactor.y);var A=this.blocked;x&&(A.up=!0,A.none=!1),E&&(A.down=!0,A.none=!1)},"processY"),x:{get:r(function(){return this.position.x},"get"),set:r(function(g){this.position.x=g},"set")},y:{get:r(function(){return this.position.y},"get"),set:r(function(g){this.position.y=g},"set")},left:{get:r(function(){return this.position.x},"get")},right:{get:r(function(){return this.position.x+this.width},"get")},top:{get:r(function(){return this.position.y},"get")},bottom:{get:r(function(){return this.position.y+this.height},"get")}});n.exports=p},79342:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h,f,v,d,p){this.world=l,this.name="",this.active=!0,this.overlapOnly=u,this.object1=h,this.object2=f,this.collideCallback=v,this.processCallback=d,this.callbackContext=p},"Collider"),setName:r(function(c){return this.name=c,this},"setName"),update:r(function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},"update"),destroy:r(function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null},"destroy")});n.exports=T},66022:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71289),T=s(13759),c=s(37742),l=s(83419),u=s(37747),h=s(60758),f=s(72624),v=s(71464),d=new l({initialize:r(function(g){this.world=g,this.scene=g.scene,this.sys=g.scene.sys},"Factory"),collider:r(function(p,g,m,x,E){return this.world.addCollider(p,g,m,x,E)},"collider"),overlap:r(function(p,g,m,x,E){return this.world.addOverlap(p,g,m,x,E)},"overlap"),existing:r(function(p,g){var m=g?u.STATIC_BODY:u.DYNAMIC_BODY;return this.world.enableBody(p,m),p},"existing"),staticImage:r(function(p,g,m,x){var E=new o(this.scene,p,g,m,x);return this.sys.displayList.add(E),this.world.enableBody(E,u.STATIC_BODY),E},"staticImage"),image:r(function(p,g,m,x){var E=new o(this.scene,p,g,m,x);return this.sys.displayList.add(E),this.world.enableBody(E,u.DYNAMIC_BODY),E},"image"),staticSprite:r(function(p,g,m,x){var E=new T(this.scene,p,g,m,x);return this.sys.displayList.add(E),this.sys.updateList.add(E),this.world.enableBody(E,u.STATIC_BODY),E},"staticSprite"),sprite:r(function(p,g,m,x){var E=new T(this.scene,p,g,m,x);return this.sys.displayList.add(E),this.sys.updateList.add(E),this.world.enableBody(E,u.DYNAMIC_BODY),E},"sprite"),staticGroup:r(function(p,g){return this.sys.updateList.add(new v(this.world,this.world.scene,p,g))},"staticGroup"),group:r(function(p,g){return this.sys.updateList.add(new h(this.world,this.world.scene,p,g))},"group"),body:r(function(p,g,m,x){var E=new c(this.world);return E.position.set(p,g),m&&x&&E.setSize(m,x),this.world.add(E,u.DYNAMIC_BODY),E},"body"),staticBody:r(function(p,g,m,x){var E=new f(this.world);return E.position.set(p,g),m&&x&&E.setSize(m,x),this.world.add(E,u.STATIC_BODY),E},"staticBody"),destroy:r(function(){this.world=null,this.scene=null,this.sys=null},"destroy")});n.exports=d},79599:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o=0;if(!Array.isArray(s))o=s;else for(var T=0;T<s.length;T++)o|=s[T];return o},"GetCollidesWith");n.exports=C},64897:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37747),T=r(function(c,l,u,h){var f=0,v=c.deltaAbsX()+l.deltaAbsX()+h;return c._dx===0&&l._dx===0?(c.embedded=!0,l.embedded=!0):c._dx>l._dx?(f=c.right-l.x,f>v&&!u||c.checkCollision.right===!1||l.checkCollision.left===!1?f=0:(c.touching.none=!1,c.touching.right=!0,l.touching.none=!1,l.touching.left=!0,l.physicsType===o.STATIC_BODY&&!u&&(c.blocked.none=!1,c.blocked.right=!0),c.physicsType===o.STATIC_BODY&&!u&&(l.blocked.none=!1,l.blocked.left=!0))):c._dx<l._dx&&(f=c.x-l.width-l.x,-f>v&&!u||c.checkCollision.left===!1||l.checkCollision.right===!1?f=0:(c.touching.none=!1,c.touching.left=!0,l.touching.none=!1,l.touching.right=!0,l.physicsType===o.STATIC_BODY&&!u&&(c.blocked.none=!1,c.blocked.left=!0),c.physicsType===o.STATIC_BODY&&!u&&(l.blocked.none=!1,l.blocked.right=!0))),c.overlapX=f,l.overlapX=f,f},"GetOverlapX");n.exports=T},45170:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37747),T=r(function(c,l,u,h){var f=0,v=c.deltaAbsY()+l.deltaAbsY()+h;return c._dy===0&&l._dy===0?(c.embedded=!0,l.embedded=!0):c._dy>l._dy?(f=c.bottom-l.y,f>v&&!u||c.checkCollision.down===!1||l.checkCollision.up===!1?f=0:(c.touching.none=!1,c.touching.down=!0,l.touching.none=!1,l.touching.up=!0,l.physicsType===o.STATIC_BODY&&!u&&(c.blocked.none=!1,c.blocked.down=!0),c.physicsType===o.STATIC_BODY&&!u&&(l.blocked.none=!1,l.blocked.up=!0))):c._dy<l._dy&&(f=c.y-l.bottom,-f>v&&!u||c.checkCollision.up===!1||l.checkCollision.down===!1?f=0:(c.touching.none=!1,c.touching.up=!0,l.touching.none=!1,l.touching.down=!0,l.physicsType===o.STATIC_BODY&&!u&&(c.blocked.none=!1,c.blocked.up=!0),c.physicsType===o.STATIC_BODY&&!u&&(l.blocked.none=!1,l.blocked.down=!0))),c.overlapY=f,l.overlapY=f,f},"GetOverlapY");n.exports=T},60758:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13759),T=s(83419),c=s(78389),l=s(37747),u=s(95540),h=s(26479),f=s(41212),v=new T({Extends:h,Mixins:[c],initialize:r(function(p,g,m,x){if(!m&&!x)x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(f(m))x=m,m=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(m)&&f(m[0])){var E=this;m.forEach(function(A){A.internalCreateCallback=E.createCallbackHandler,A.internalRemoveCallback=E.removeCallbackHandler,A.classType=u(A,"classType",o)}),x=null}else x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=p,x&&(x.classType=u(x,"classType",o)),this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:u(x,"collideWorldBounds",!1),setBoundsRectangle:u(x,"customBoundsRectangle",null),setAccelerationX:u(x,"accelerationX",0),setAccelerationY:u(x,"accelerationY",0),setAllowDrag:u(x,"allowDrag",!0),setAllowGravity:u(x,"allowGravity",!0),setAllowRotation:u(x,"allowRotation",!0),setDamping:u(x,"useDamping",!1),setBounceX:u(x,"bounceX",0),setBounceY:u(x,"bounceY",0),setDragX:u(x,"dragX",0),setDragY:u(x,"dragY",0),setEnable:u(x,"enable",!0),setGravityX:u(x,"gravityX",0),setGravityY:u(x,"gravityY",0),setFrictionX:u(x,"frictionX",0),setFrictionY:u(x,"frictionY",0),setMaxSpeed:u(x,"maxSpeed",-1),setMaxVelocityX:u(x,"maxVelocityX",1e4),setMaxVelocityY:u(x,"maxVelocityY",1e4),setVelocityX:u(x,"velocityX",0),setVelocityY:u(x,"velocityY",0),setAngularVelocity:u(x,"angularVelocity",0),setAngularAcceleration:u(x,"angularAcceleration",0),setAngularDrag:u(x,"angularDrag",0),setMass:u(x,"mass",1),setImmovable:u(x,"immovable",!1)},h.call(this,g,m,x),this.type="PhysicsGroup"},"PhysicsGroup"),createCallbackHandler:r(function(d){d.body||this.world.enableBody(d,l.DYNAMIC_BODY);var p=d.body;for(var g in this.defaults)p[g](this.defaults[g])},"createCallbackHandler"),removeCallbackHandler:r(function(d){d.body&&this.world.disableBody(d)},"removeCallbackHandler"),setVelocity:r(function(d,p,g){g===void 0&&(g=0);for(var m=this.getChildren(),x=0;x<m.length;x++)m[x].body.velocity.set(d+x*g,p+x*g);return this},"setVelocity"),setVelocityX:r(function(d,p){p===void 0&&(p=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.x=d+m*p;return this},"setVelocityX"),setVelocityY:r(function(d,p){p===void 0&&(p=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.y=d+m*p;return this},"setVelocityY")});n.exports=v},3017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C,s,o,T,c,l,u,h,f,v,d,p,g,m,x,E,A,R=r(function(b,D,F){C=b,s=D;var N=C.velocity.x,B=s.velocity.x;return o=C.pushable,f=C._dx<0,v=C._dx>0,d=C._dx===0,x=Math.abs(C.right-s.x)<=Math.abs(s.right-C.x),u=B-N*C.bounce.x,T=s.pushable,p=s._dx<0,g=s._dx>0,m=s._dx===0,E=!x,h=N-B*s.bounce.x,A=Math.abs(F),P()},"Set"),P=r(function(){return v&&x&&s.blocked.right?(C.processX(-A,u,!1,!0),1):f&&E&&s.blocked.left?(C.processX(A,u,!0),1):g&&E&&C.blocked.right?(s.processX(-A,h,!1,!0),2):p&&x&&C.blocked.left?(s.processX(A,h,!0),2):0},"BlockCheck"),O=r(function(){var b=C.velocity.x,D=s.velocity.x,F=Math.sqrt(D*D*s.mass/C.mass)*(D>0?1:-1),N=Math.sqrt(b*b*C.mass/s.mass)*(b>0?1:-1),B=(F+N)*.5;return F-=B,N-=B,c=B+F*C.bounce.x,l=B+N*s.bounce.x,f&&E?L(0):p&&x?L(1):v&&x?L(2):g&&E?L(3):!1},"Check"),L=r(function(b){if(o&&T)A*=.5,b===0||b===3?(C.processX(A,c),s.processX(-A,l)):(C.processX(-A,c),s.processX(A,l));else if(o&&!T)b===0||b===3?C.processX(A,u,!0):C.processX(-A,u,!1,!0);else if(!o&&T)b===0||b===3?s.processX(-A,h,!1,!0):s.processX(A,h,!0);else{var D=A*.5;b===0?m?(C.processX(A,0,!0),s.processX(0,null,!1,!0)):g?(C.processX(D,0,!0),s.processX(-D,0,!1,!0)):(C.processX(D,s.velocity.x,!0),s.processX(-D,null,!1,!0)):b===1?d?(C.processX(0,null,!1,!0),s.processX(A,0,!0)):v?(C.processX(-D,0,!1,!0),s.processX(D,0,!0)):(C.processX(-D,null,!1,!0),s.processX(D,C.velocity.x,!0)):b===2?m?(C.processX(-A,0,!1,!0),s.processX(0,null,!0)):p?(C.processX(-D,0,!1,!0),s.processX(D,0,!0)):(C.processX(-D,s.velocity.x,!1,!0),s.processX(D,null,!0)):b===3&&(d?(C.processX(0,null,!0),s.processX(-A,0,!1,!0)):f?(C.processX(D,0,!0),s.processX(-D,0,!1,!0)):(C.processX(D,s.velocity.y,!0),s.processX(-D,null,!1,!0)))}return!0},"Run"),w=r(function(b){if(b===1?s.velocity.x=0:x?s.processX(A,h,!0):s.processX(-A,h,!1,!0),C.moves){var D=C.directControl?C.y-C.autoFrame.y:C.y-C.prev.y;s.y+=D*C.friction.y,s._dy=s.y-s.prev.y}},"RunImmovableBody1"),M=r(function(b){if(b===2?C.velocity.x=0:E?C.processX(A,u,!0):C.processX(-A,u,!1,!0),s.moves){var D=s.directControl?s.y-s.autoFrame.y:s.y-s.prev.y;C.y+=D*s.friction.y,C._dy=C.y-C.prev.y}},"RunImmovableBody2");n.exports={BlockCheck:P,Check:O,Set:R,Run:L,RunImmovableBody1:w,RunImmovableBody2:M}},47962:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C,s,o,T,c,l,u,h,f,v,d,p,g,m,x,E,A,R=r(function(b,D,F){C=b,s=D;var N=C.velocity.y,B=s.velocity.y;return o=C.pushable,f=C._dy<0,v=C._dy>0,d=C._dy===0,x=Math.abs(C.bottom-s.y)<=Math.abs(s.bottom-C.y),u=B-N*C.bounce.y,T=s.pushable,p=s._dy<0,g=s._dy>0,m=s._dy===0,E=!x,h=N-B*s.bounce.y,A=Math.abs(F),P()},"Set"),P=r(function(){return v&&x&&s.blocked.down?(C.processY(-A,u,!1,!0),1):f&&E&&s.blocked.up?(C.processY(A,u,!0),1):g&&E&&C.blocked.down?(s.processY(-A,h,!1,!0),2):p&&x&&C.blocked.up?(s.processY(A,h,!0),2):0},"BlockCheck"),O=r(function(){var b=C.velocity.y,D=s.velocity.y,F=Math.sqrt(D*D*s.mass/C.mass)*(D>0?1:-1),N=Math.sqrt(b*b*C.mass/s.mass)*(b>0?1:-1),B=(F+N)*.5;return F-=B,N-=B,c=B+F*C.bounce.y,l=B+N*s.bounce.y,f&&E?L(0):p&&x?L(1):v&&x?L(2):g&&E?L(3):!1},"Check"),L=r(function(b){if(o&&T)A*=.5,b===0||b===3?(C.processY(A,c),s.processY(-A,l)):(C.processY(-A,c),s.processY(A,l));else if(o&&!T)b===0||b===3?C.processY(A,u,!0):C.processY(-A,u,!1,!0);else if(!o&&T)b===0||b===3?s.processY(-A,h,!1,!0):s.processY(A,h,!0);else{var D=A*.5;b===0?m?(C.processY(A,0,!0),s.processY(0,null,!1,!0)):g?(C.processY(D,0,!0),s.processY(-D,0,!1,!0)):(C.processY(D,s.velocity.y,!0),s.processY(-D,null,!1,!0)):b===1?d?(C.processY(0,null,!1,!0),s.processY(A,0,!0)):v?(C.processY(-D,0,!1,!0),s.processY(D,0,!0)):(C.processY(-D,null,!1,!0),s.processY(D,C.velocity.y,!0)):b===2?m?(C.processY(-A,0,!1,!0),s.processY(0,null,!0)):p?(C.processY(-D,0,!1,!0),s.processY(D,0,!0)):(C.processY(-D,s.velocity.y,!1,!0),s.processY(D,null,!0)):b===3&&(d?(C.processY(0,null,!0),s.processY(-A,0,!1,!0)):f?(C.processY(D,0,!0),s.processY(-D,0,!1,!0)):(C.processY(D,s.velocity.y,!0),s.processY(-D,null,!1,!0)))}return!0},"Run"),w=r(function(b){if(b===1?s.velocity.y=0:x?s.processY(A,h,!0):s.processY(-A,h,!1,!0),C.moves){var D=C.directControl?C.x-C.autoFrame.x:C.x-C.prev.x;s.x+=D*C.friction.x,s._dx=s.x-s.prev.x}},"RunImmovableBody1"),M=r(function(b){if(b===2?C.velocity.y=0:E?C.processY(A,u,!0):C.processY(-A,u,!1,!0),s.moves){var D=s.directControl?s.x-s.autoFrame.x:s.x-s.prev.x;C.x+=D*s.friction.x,C._dx=C.x-C.prev.x}},"RunImmovableBody2");n.exports={BlockCheck:P,Check:O,Set:R,Run:L,RunImmovableBody1:w,RunImmovableBody2:M}},14087:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(64897),T=s(3017),c=r(function(l,u,h,f,v){v===void 0&&(v=o(l,u,h,f));var d=l.immovable,p=u.immovable;if(h||v===0||d&&p||l.customSeparateX||u.customSeparateX)return v!==0||l.embedded&&u.embedded;var g=T.Set(l,u,v);return!d&&!p?g>0?!0:T.Check():(d?T.RunImmovableBody1(g):p&&T.RunImmovableBody2(g),!0)},"SeparateX");n.exports=c},89936:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45170),T=s(47962),c=r(function(l,u,h,f,v){v===void 0&&(v=o(l,u,h,f));var d=l.immovable,p=u.immovable;if(h||v===0||d&&p||l.customSeparateY||u.customSeparateY)return v!==0||l.embedded&&u.embedded;var g=T.Set(l,u,v);return!d&&!p?g>0?!0:T.Check():(d?T.RunImmovableBody1(g):p&&T.RunImmovableBody2(g),!0)},"SeparateY");n.exports=c},95829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o===void 0&&(o={}),o.none=s,o.up=!1,o.down=!1,o.left=!1,o.right=!1,s||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o},"SetCollisionObject");n.exports=C},72624:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),T=s(83419),c=s(78389),l=s(37747),u=s(37303),h=s(95829),f=s(26099),v=new T({Mixins:[c],initialize:r(function(p,g){var m=64,x=64,E={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},A=g!==void 0;A&&g.displayWidth&&(m=g.displayWidth,x=g.displayHeight),A||(g=E),this.world=p,this.gameObject=A?g:void 0,this.isBody=!0,this.debugShowBody=p.defaults.debugShowStaticBody,this.debugBodyColor=p.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f,this.position=new f(g.x-m*g.originX,g.y-x*g.originY),this.width=m,this.height=x,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=f.ZERO,this.allowGravity=!1,this.gravity=f.ZERO,this.bounce=f.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=h(!1),this.touching=h(!0),this.wasTouching=h(!0),this.blocked=h(!0),this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},"StaticBody"),setGameObject:r(function(d,p,g){if(p===void 0&&(p=!0),g===void 0&&(g=!0),!d||!d.hasTransformComponent)return this;var m=this.world;return this.gameObject&&this.gameObject.body&&(m.disable(this.gameObject),this.gameObject.body=null),d.body&&m.disable(d),this.gameObject=d,d.body=this,this.setSize(),p&&this.updateFromGameObject(),this.enable=g,this},"setGameObject"),updateFromGameObject:r(function(){this.world.staticTree.remove(this);var d=this.gameObject;return d.getTopLeft(this.position),this.width=d.displayWidth,this.height=d.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},"updateFromGameObject"),setOffset:r(function(d,p){return p===void 0&&(p=d),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d,p),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},"setOffset"),setSize:r(function(d,p,g){g===void 0&&(g=!0);var m=this.gameObject;if(m&&m.frame&&(d||(d=m.frame.realWidth),p||(p=m.frame.realHeight)),this.world.staticTree.remove(this),this.width=d,this.height=p,this.halfWidth=Math.floor(d/2),this.halfHeight=Math.floor(p/2),g&&m&&m.getCenter){var x=m.displayWidth/2,E=m.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(x-this.halfWidth,E-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},"setSize"),setCircle:r(function(d,p,g){return p===void 0&&(p=this.offset.x),g===void 0&&(g=this.offset.y),d>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=d,this.width=d*2,this.height=d*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(p,g),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},"setCircle"),updateCenter:r(function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},"updateCenter"),reset:r(function(d,p){var g=this.gameObject;d===void 0&&(d=g.x),p===void 0&&(p=g.y),this.world.staticTree.remove(this),g.setPosition(d,p),g.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},"reset"),stop:r(function(){return this},"stop"),getBounds:r(function(d){return d.x=this.x,d.y=this.y,d.right=this.right,d.bottom=this.bottom,d},"getBounds"),hitTest:r(function(d,p){return this.isCircle?o(this,d,p):u(this,d,p)},"hitTest"),postUpdate:r(function(){},"postUpdate"),deltaAbsX:r(function(){return 0},"deltaAbsX"),deltaAbsY:r(function(){return 0},"deltaAbsY"),deltaX:r(function(){return 0},"deltaX"),deltaY:r(function(){return 0},"deltaY"),deltaZ:r(function(){return 0},"deltaZ"),destroy:r(function(){this.enable=!1,this.world.pendingDestroy.set(this)},"destroy"),drawDebug:r(function(d){var p=this.position,g=p.x+this.halfWidth,m=p.y+this.halfHeight;this.debugShowBody&&(d.lineStyle(d.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?d.strokeCircle(g,m,this.width/2):d.strokeRect(p.x,p.y,this.width,this.height))},"drawDebug"),willDrawDebug:r(function(){return this.debugShowBody},"willDrawDebug"),setMass:r(function(d){return d<=0&&(d=.1),this.mass=d,this},"setMass"),x:{get:r(function(){return this.position.x},"get"),set:r(function(d){this.world.staticTree.remove(this),this.position.x=d,this.world.staticTree.insert(this)},"set")},y:{get:r(function(){return this.position.y},"get"),set:r(function(d){this.world.staticTree.remove(this),this.position.y=d,this.world.staticTree.insert(this)},"set")},left:{get:r(function(){return this.position.x},"get")},right:{get:r(function(){return this.position.x+this.width},"get")},top:{get:r(function(){return this.position.y},"get")},bottom:{get:r(function(){return this.position.y+this.height},"get")}});n.exports=v},71464:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13759),T=s(83419),c=s(78389),l=s(37747),u=s(95540),h=s(26479),f=s(41212),v=new T({Extends:h,Mixins:[c],initialize:r(function(p,g,m,x){!m&&!x?x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:f(m)?(x=m,m=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler,x.createMultipleCallback=this.createMultipleCallbackHandler,x.classType=u(x,"classType",o)):Array.isArray(m)&&f(m[0])?(x=m,m=null,x.forEach(function(E){E.internalCreateCallback=this.createCallbackHandler,E.internalRemoveCallback=this.removeCallbackHandler,E.createMultipleCallback=this.createMultipleCallbackHandler,E.classType=u(E,"classType",o)})):x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=p,this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,h.call(this,g,m,x),this.type="StaticPhysicsGroup"},"StaticPhysicsGroup"),createCallbackHandler:r(function(d){d.body||this.world.enableBody(d,l.STATIC_BODY)},"createCallbackHandler"),removeCallbackHandler:r(function(d){d.body&&this.world.disableBody(d)},"removeCallbackHandler"),createMultipleCallbackHandler:r(function(){this.refresh()},"createMultipleCallbackHandler"),refresh:r(function(){for(var d=this.children.entries,p=0;p<d.length;p++)d[p].body.reset();return this},"refresh")});n.exports=v},82248:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(55495),T=s(37742),c=s(45319),l=s(83419),u=s(79342),h=s(37747),f=s(20339),v=s(52816),d=s(50792),p=s(63012),g=s(43855),m=s(5470),x=s(94977),E=s(64897),A=s(45170),R=s(96523),P=s(35154),O=s(36383),L=s(25774),w=s(96602),M=s(87841),b=s(59542),D=s(40012),F=s(14087),N=s(89936),B=s(35072),Y=s(72624),W=s(2483),z=s(61340),X=s(26099),H=s(15994),V=new l({Extends:d,initialize:r(function(k,U){d.call(this),this.scene=k,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new L,this.gravity=new X(P(U,"gravity.x",0),P(U,"gravity.y",0)),this.bounds=new M(P(U,"x",0),P(U,"y",0),P(U,"width",k.sys.scale.width),P(U,"height",k.sys.scale.height)),this.checkCollision={up:P(U,"checkCollision.up",!0),down:P(U,"checkCollision.down",!0),left:P(U,"checkCollision.left",!0),right:P(U,"checkCollision.right",!0)},this.fps=P(U,"fps",60),this.fixedStep=P(U,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=P(U,"timeScale",1),this.OVERLAP_BIAS=P(U,"overlapBias",4),this.TILE_BIAS=P(U,"tileBias",16),this.forceX=P(U,"forceX",!1),this.isPaused=P(U,"isPaused",!1),this._total=0,this.drawDebug=P(U,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:P(U,"debugShowBody",!0),debugShowStaticBody:P(U,"debugShowStaticBody",!0),debugShowVelocity:P(U,"debugShowVelocity",!0),bodyDebugColor:P(U,"debugBodyColor",16711935),staticBodyDebugColor:P(U,"debugStaticBodyColor",255),velocityDebugColor:P(U,"debugVelocityColor",65280)},this.maxEntries=P(U,"maxEntries",16),this.useTree=P(U,"useTree",!0),this.tree=new b(this.maxEntries),this.staticTree=new b(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new z,this._tempMatrix2=new z,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},"World"),enable:r(function(G,k){k===void 0&&(k=h.DYNAMIC_BODY),Array.isArray(G)||(G=[G]);for(var U=0;U<G.length;U++){var I=G[U];if(I.isParent)for(var $=I.getChildren(),K=0;K<$.length;K++){var Z=$[K];Z.isParent?this.enable(Z,k):this.enableBody(Z,k)}else this.enableBody(I,k)}},"enable"),enableBody:r(function(G,k){return k===void 0&&(k=h.DYNAMIC_BODY),G.hasTransformComponent&&(G.body||(k===h.DYNAMIC_BODY?G.body=new T(this,G):k===h.STATIC_BODY&&(G.body=new Y(this,G))),this.add(G.body)),G},"enableBody"),add:r(function(G){return G.physicsType===h.DYNAMIC_BODY?this.bodies.set(G):G.physicsType===h.STATIC_BODY&&(this.staticBodies.set(G),this.staticTree.insert(G)),G.enable=!0,G},"add"),disable:r(function(G){Array.isArray(G)||(G=[G]);for(var k=0;k<G.length;k++){var U=G[k];if(U.isParent)for(var I=U.getChildren(),$=0;$<I.length;$++){var K=I[$];K.isParent?this.disable(K):this.disableBody(K.body)}else this.disableBody(U.body)}},"disable"),disableBody:r(function(G){this.remove(G),G.enable=!1},"disableBody"),remove:r(function(G){G.physicsType===h.DYNAMIC_BODY?(this.tree.remove(G),this.bodies.delete(G)):G.physicsType===h.STATIC_BODY&&(this.staticBodies.delete(G),this.staticTree.remove(G))},"remove"),createDebugGraphic:r(function(){var G=this.scene.sys.add.graphics({x:0,y:0});return G.setDepth(Number.MAX_VALUE),this.debugGraphic=G,this.drawDebug=!0,G},"createDebugGraphic"),setBounds:r(function(G,k,U,I,$,K,Z,J){return this.bounds.setTo(G,k,U,I),$!==void 0&&this.setBoundsCollision($,K,Z,J),this},"setBounds"),setBoundsCollision:r(function(G,k,U,I){return G===void 0&&(G=!0),k===void 0&&(k=!0),U===void 0&&(U=!0),I===void 0&&(I=!0),this.checkCollision.left=G,this.checkCollision.right=k,this.checkCollision.up=U,this.checkCollision.down=I,this},"setBoundsCollision"),pause:r(function(){return this.isPaused=!0,this.emit(p.PAUSE),this},"pause"),resume:r(function(){return this.isPaused=!1,this.emit(p.RESUME),this},"resume"),addCollider:r(function(G,k,U,I,$){U===void 0&&(U=null),I===void 0&&(I=null),$===void 0&&($=U);var K=new u(this,!1,G,k,U,I,$);return this.colliders.add(K),K},"addCollider"),addOverlap:r(function(G,k,U,I,$){U===void 0&&(U=null),I===void 0&&(I=null),$===void 0&&($=U);var K=new u(this,!0,G,k,U,I,$);return this.colliders.add(K),K},"addOverlap"),removeCollider:r(function(G){return this.colliders.remove(G),this},"removeCollider"),setFPS:r(function(G){return this.fps=G,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},"setFPS"),update:r(function(G,k){if(!(this.isPaused||this.bodies.size===0)){var U,I=this._frameTime,$=this._frameTimeMS*this.timeScale;this._elapsed+=k;var K,Z=this.bodies.entries,J=this._elapsed>=$;for(this.fixedStep||(I=k*.001,J=!0,this._elapsed=0),U=0;U<Z.length;U++)K=Z[U],K.enable&&K.preUpdate(J,I);if(J){this._elapsed-=$,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Z));var Q=this.colliders.update();for(U=0;U<Q.length;U++){var q=Q[U];q.active&&q.update()}this.emit(p.WORLD_STEP,I)}for(;this._elapsed>=$;)this._elapsed-=$,this.step(I)}},"update"),step:r(function(G){var k,U,I=this.bodies.entries,$=I.length;for(k=0;k<$;k++)U=I[k],U.enable&&U.update(G);this.useTree&&(this.tree.clear(),this.tree.load(I));var K=this.colliders.update();for(k=0;k<K.length;k++){var Z=K[k];Z.active&&Z.update()}this.emit(p.WORLD_STEP,G),this.stepsLastFrame++},"step"),singleStep:r(function(){this.update(0,this._frameTimeMS),this.postUpdate()},"singleStep"),postUpdate:r(function(){var G,k,U=this.bodies.entries,I=U.length,$=this.bodies,K=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,G=0;G<I;G++)k=U[G],k.enable&&k.postUpdate();if(this.drawDebug){var Z=this.debugGraphic;for(Z.clear(),G=0;G<I;G++)k=U[G],k.willDrawDebug()&&k.drawDebug(Z);for(U=K.entries,I=U.length,G=0;G<I;G++)k=U[G],k.willDrawDebug()&&k.drawDebug(Z)}var J=this.pendingDestroy;if(J.size>0){var Q=this.tree,q=this.staticTree;for(U=J.entries,I=U.length,G=0;G<I;G++)k=U[G],k.physicsType===h.DYNAMIC_BODY?(Q.remove(k),$.delete(k)):k.physicsType===h.STATIC_BODY&&(q.remove(k),K.delete(k)),k.world=void 0,k.gameObject=void 0;J.clear()}},"postUpdate"),updateMotion:r(function(G,k){G.allowRotation&&this.computeAngularVelocity(G,k),this.computeVelocity(G,k)},"updateMotion"),computeAngularVelocity:r(function(G,k){var U=G.angularVelocity,I=G.angularAcceleration,$=G.angularDrag,K=G.maxAngular;I?U+=I*k:G.allowDrag&&$&&($*=k,m(U-$,0,.1)?U-=$:x(U+$,0,.1)?U+=$:U=0),U=c(U,-K,K);var Z=U-G.angularVelocity;G.angularVelocity+=Z,G.rotation+=G.angularVelocity*k},"computeAngularVelocity"),computeVelocity:r(function(G,k){var U=G.velocity.x,I=G.acceleration.x,$=G.drag.x,K=G.maxVelocity.x,Z=G.velocity.y,J=G.acceleration.y,Q=G.drag.y,q=G.maxVelocity.y,j=G.speed,tt=G.maxSpeed,st=G.allowDrag,_=G.useDamping;G.allowGravity&&(U+=(this.gravity.x+G.gravity.x)*k,Z+=(this.gravity.y+G.gravity.y)*k),I?U+=I*k:st&&$&&(_?($=Math.pow($,k),U*=$,j=Math.sqrt(U*U+Z*Z),g(j,0,.001)&&(U=0)):($*=k,m(U-$,0,.01)?U-=$:x(U+$,0,.01)?U+=$:U=0)),J?Z+=J*k:st&&Q&&(_?(Q=Math.pow(Q,k),Z*=Q,j=Math.sqrt(U*U+Z*Z),g(j,0,.001)&&(Z=0)):(Q*=k,m(Z-Q,0,.01)?Z-=Q:x(Z+Q,0,.01)?Z+=Q:Z=0)),U=c(U,-K,K),Z=c(Z,-q,q),G.velocity.set(U,Z),tt>-1&&G.velocity.length()>tt&&(G.velocity.normalize().scale(tt),j=tt),G.speed=j},"computeVelocity"),separate:r(function(G,k,U,I,$){var K,Z,J=!1,Q=!0;if(!G.enable||!k.enable||G.checkCollision.none||k.checkCollision.none||!this.intersects(G,k)||(G.collisionMask&k.collisionCategory)===0||(k.collisionMask&G.collisionCategory)===0||U&&U.call(I,G.gameObject||G,k.gameObject||k)===!1)return J;if(G.isCircle||k.isCircle){var q=this.separateCircle(G,k,$);q.result?(J=!0,Q=!1):(K=q.x,Z=q.y,Q=!0)}if(Q){var j=!1,tt=!1,st=this.OVERLAP_BIAS;$?(j=F(G,k,$,st,K),tt=N(G,k,$,st,Z)):this.forceX||Math.abs(this.gravity.y+G.gravity.y)<Math.abs(this.gravity.x+G.gravity.x)?(j=F(G,k,$,st,K),this.intersects(G,k)&&(tt=N(G,k,$,st,Z))):(tt=N(G,k,$,st,Z),this.intersects(G,k)&&(j=F(G,k,$,st,K))),J=j||tt}return J&&($?(G.onOverlap||k.onOverlap)&&this.emit(p.OVERLAP,G.gameObject,k.gameObject,G,k):(G.onCollide||k.onCollide)&&this.emit(p.COLLIDE,G.gameObject,k.gameObject,G,k)),J},"separate"),separateCircle:r(function(G,k,U){E(G,k,!1,0),A(G,k,!1,0);var I=G.isCircle,$=k.isCircle,K=G.center,Z=k.center,J=G.immovable,Q=k.immovable,q=G.velocity,j=k.velocity,tt=0,st=!0;if(I!==$){st=!1;var _=K.x,ht=K.y,ot=G.halfWidth,lt=k.position.x,et=k.position.y,nt=k.right,at=k.bottom;$&&(_=Z.x,ht=Z.y,ot=k.halfWidth,lt=G.position.x,et=G.position.y,nt=G.right,at=G.bottom),ht<et?_<lt?tt=f(_,ht,lt,et)-ot:_>nt&&(tt=f(_,ht,nt,et)-ot):ht>at&&(_<lt?tt=f(_,ht,lt,at)-ot:_>nt&&(tt=f(_,ht,nt,at)-ot)),tt*=-1}else tt=G.halfWidth+k.halfWidth-v(K,Z);G.overlapR=tt,k.overlapR=tt;var ct=o(K,Z),Et=(tt+O.EPSILON)*Math.cos(ct),bt=(tt+O.EPSILON)*Math.sin(ct),yt={overlap:tt,result:!1,x:Et,y:bt};if(U&&(!st||st&&tt!==0))return yt.result=!0,yt;if(!st&&tt===0||J&&Q||G.customSeparateX||k.customSeparateX)return yt.x=void 0,yt.y=void 0,yt;var St=!G.pushable&&!k.pushable;if(st){var Vt=K.x-Z.x,ne=K.y-Z.y,Ft=Math.sqrt(Math.pow(Vt,2)+Math.pow(ne,2)),Wt=(Z.x-K.x)/Ft||0,Kt=(Z.y-K.y)/Ft||0,Ce=2*(q.x*Wt+q.y*Kt-j.x*Wt-j.y*Kt)/(G.mass+k.mass);(J||Q||!G.pushable||!k.pushable)&&(Ce*=2),!J&&G.pushable&&(q.x=q.x-Ce/G.mass*Wt,q.y=q.y-Ce/G.mass*Kt,q.multiply(G.bounce)),!Q&&k.pushable&&(j.x=j.x+Ce/k.mass*Wt,j.y=j.y+Ce/k.mass*Kt,j.multiply(k.bounce)),!J&&!Q&&(Et*=.5,bt*=.5),(!J||G.pushable||St)&&(G.x-=Et,G.y-=bt,G.updateCenter()),(!Q||k.pushable||St)&&(k.x+=Et,k.y+=bt,k.updateCenter()),yt.result=!0}else!J&&(G.pushable||St)&&(G.x-=Et,G.y-=bt,G.updateCenter()),!Q&&(k.pushable||St)&&(k.x+=Et,k.y+=bt,k.updateCenter()),yt.x=void 0,yt.y=void 0;return yt},"separateCircle"),intersects:r(function(G,k){return G===k?!1:!G.isCircle&&!k.isCircle?!(G.right<=k.left||G.bottom<=k.top||G.left>=k.right||G.top>=k.bottom):G.isCircle?k.isCircle?v(G.center,k.center)<=G.halfWidth+k.halfWidth:this.circleBodyIntersects(G,k):this.circleBodyIntersects(k,G)},"intersects"),circleBodyIntersects:r(function(G,k){var U=c(G.center.x,k.left,k.right),I=c(G.center.y,k.top,k.bottom),$=(G.center.x-U)*(G.center.x-U),K=(G.center.y-I)*(G.center.y-I);return $+K<=G.halfWidth*G.halfWidth},"circleBodyIntersects"),overlap:r(function(G,k,U,I,$){return U===void 0&&(U=null),I===void 0&&(I=null),$===void 0&&($=U),this.collideObjects(G,k,U,I,$,!0)},"overlap"),collide:r(function(G,k,U,I,$){return U===void 0&&(U=null),I===void 0&&(I=null),$===void 0&&($=U),this.collideObjects(G,k,U,I,$,!1)},"collide"),collideObjects:r(function(G,k,U,I,$,K){var Z,J;G.isParent&&(G.physicsType===void 0||k===void 0||G===k)&&(G=G.children.entries),k&&k.isParent&&k.physicsType===void 0&&(k=k.children.entries);var Q=Array.isArray(G),q=Array.isArray(k);if(this._total=0,!Q&&!q)this.collideHandler(G,k,U,I,$,K);else if(!Q&&q)for(Z=0;Z<k.length;Z++)this.collideHandler(G,k[Z],U,I,$,K);else if(Q&&!q)if(k)for(Z=0;Z<G.length;Z++)this.collideHandler(G[Z],k,U,I,$,K);else for(Z=0;Z<G.length;Z++){var j=G[Z];for(J=Z+1;J<G.length;J++)Z!==J&&this.collideHandler(j,G[J],U,I,$,K)}else for(Z=0;Z<G.length;Z++)for(J=0;J<k.length;J++)this.collideHandler(G[Z],k[J],U,I,$,K);return this._total>0},"collideObjects"),collideHandler:r(function(G,k,U,I,$,K){if(k===void 0&&G.isParent)return this.collideGroupVsGroup(G,G,U,I,$,K);if(!G||!k)return!1;if(G.body||G.isBody){if(k.body||k.isBody)return this.collideSpriteVsSprite(G,k,U,I,$,K);if(k.isParent)return this.collideSpriteVsGroup(G,k,U,I,$,K);if(k.isTilemap)return this.collideSpriteVsTilemapLayer(G,k,U,I,$,K)}else if(G.isParent){if(k.body||k.isBody)return this.collideSpriteVsGroup(k,G,U,I,$,K);if(k.isParent)return this.collideGroupVsGroup(G,k,U,I,$,K);if(k.isTilemap)return this.collideGroupVsTilemapLayer(G,k,U,I,$,K)}else if(G.isTilemap){if(k.body||k.isBody)return this.collideSpriteVsTilemapLayer(k,G,U,I,$,K);if(k.isParent)return this.collideGroupVsTilemapLayer(k,G,U,I,$,K)}},"collideHandler"),canCollide:r(function(G,k){return G&&k&&(G.collisionMask&k.collisionCategory)!==0&&(k.collisionMask&G.collisionCategory)!==0},"canCollide"),collideSpriteVsSprite:r(function(G,k,U,I,$,K){var Z=G.isBody?G:G.body,J=k.isBody?k:k.body;return this.canCollide(Z,J)?(this.separate(Z,J,I,$,K)&&(U&&U.call($,G,k),this._total++),!0):!1},"collideSpriteVsSprite"),collideSpriteVsGroup:r(function(G,k,U,I,$,K){var Z=G.isBody?G:G.body;if(!(k.getLength()===0||!Z||!Z.enable||Z.checkCollision.none||!this.canCollide(Z,k))){var J,Q,q;if(this.useTree||k.physicsType===h.STATIC_BODY){var j=this.treeMinMax;j.minX=Z.left,j.minY=Z.top,j.maxX=Z.right,j.maxY=Z.bottom;var tt=k.physicsType===h.DYNAMIC_BODY?this.tree.search(j):this.staticTree.search(j);for(Q=tt.length,J=0;J<Q;J++)q=tt[J],!(Z===q||!q.enable||q.checkCollision.none||!k.contains(q.gameObject))&&this.separate(Z,q,I,$,K)&&(U&&U.call($,Z.gameObject,q.gameObject),this._total++)}else{var st=k.getChildren(),_=k.children.entries.indexOf(G);for(Q=st.length,J=0;J<Q;J++)q=st[J].body,!(!q||J===_||!q.enable)&&this.separate(Z,q,I,$,K)&&(U&&U.call($,Z.gameObject,q.gameObject),this._total++)}}},"collideSpriteVsGroup"),collideGroupVsTilemapLayer:r(function(G,k,U,I,$,K){if(!this.canCollide(G,k))return!1;var Z=G.getChildren();if(Z.length===0)return!1;for(var J=!1,Q=0;Q<Z.length;Q++)(Z[Q].body||Z[Q].isBody)&&this.collideSpriteVsTilemapLayer(Z[Q],k,U,I,$,K)&&(J=!0);return J},"collideGroupVsTilemapLayer"),collideTiles:r(function(G,k,U,I,$){return k.length===0||G.body&&!G.body.enable||G.isBody&&!G.enable?!1:this.collideSpriteVsTilesHandler(G,k,U,I,$,!1,!1)},"collideTiles"),overlapTiles:r(function(G,k,U,I,$){return k.length===0||G.body&&!G.body.enable||G.isBody&&!G.enable?!1:this.collideSpriteVsTilesHandler(G,k,U,I,$,!0,!1)},"overlapTiles"),collideSpriteVsTilemapLayer:r(function(G,k,U,I,$,K){var Z=G.isBody?G:G.body;if(!Z.enable||Z.checkCollision.none||!this.canCollide(Z,k))return!1;var J=k.layer,Q=Z.x-J.tileWidth*k.scaleX,q=Z.y-J.tileHeight*k.scaleY,j=Z.width+J.tileWidth*k.scaleX,tt=Z.height+J.tileHeight*k.scaleY,st=K?null:this.tileFilterOptions,_=R(Q,q,j,tt,st,k.scene.cameras.main,k.layer);return _.length===0?!1:this.collideSpriteVsTilesHandler(G,_,U,I,$,K,!0)},"collideSpriteVsTilemapLayer"),collideSpriteVsTilesHandler:r(function(G,k,U,I,$,K,Z){for(var J=G.isBody?G:G.body,Q,q={left:0,right:0,top:0,bottom:0},j,tt=!1,st=0;st<k.length;st++){Q=k[st],j=Q.tilemapLayer;var _=j.tileToWorldXY(Q.x,Q.y);q.left=_.x,q.top=_.y,q.right=q.left+Q.width*j.scaleX,q.bottom=q.top+Q.height*j.scaleY,W(q,J)&&(!I||I.call($,G,Q))&&w(Q,G)&&(K||D(st,J,Q,q,j,this.TILE_BIAS,Z))&&(this._total++,tt=!0,U&&U.call($,G,Q),K&&J.onOverlap?this.emit(p.TILE_OVERLAP,G,Q,J):J.onCollide&&this.emit(p.TILE_COLLIDE,G,Q,J))}return tt},"collideSpriteVsTilesHandler"),collideGroupVsGroup:r(function(G,k,U,I,$,K){if(!(G.getLength()===0||k.getLength()===0||!this.canCollide(G,k)))for(var Z=G.getChildren(),J=0;J<Z.length;J++)this.collideSpriteVsGroup(Z[J],k,U,I,$,K)},"collideGroupVsGroup"),wrap:r(function(G,k){G.body?this.wrapObject(G,k):G.getChildren?this.wrapArray(G.getChildren(),k):Array.isArray(G)?this.wrapArray(G,k):this.wrapObject(G,k)},"wrap"),wrapArray:r(function(G,k){for(var U=0;U<G.length;U++)this.wrapObject(G[U],k)},"wrapArray"),wrapObject:r(function(G,k){k===void 0&&(k=0),G.x=H(G.x,this.bounds.left-k,this.bounds.right+k),G.y=H(G.y,this.bounds.top-k,this.bounds.bottom+k)},"wrapObject"),shutdown:r(function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},"shutdown"),destroy:r(function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)},"destroy")});n.exports=V},1093:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setAcceleration:r(function(s,o){return this.body.acceleration.set(s,o),this},"setAcceleration"),setAccelerationX:r(function(s){return this.body.acceleration.x=s,this},"setAccelerationX"),setAccelerationY:r(function(s){return this.body.acceleration.y=s,this},"setAccelerationY")};n.exports=C},59023:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setAngularVelocity:r(function(s){return this.body.angularVelocity=s,this},"setAngularVelocity"),setAngularAcceleration:r(function(s){return this.body.angularAcceleration=s,this},"setAngularAcceleration"),setAngularDrag:r(function(s){return this.body.angularDrag=s,this},"setAngularDrag")};n.exports=C},62069:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setBounce:r(function(s,o){return this.body.bounce.set(s,o),this},"setBounce"),setBounceX:r(function(s){return this.body.bounce.x=s,this},"setBounceX"),setBounceY:r(function(s){return this.body.bounce.y=s,this},"setBounceY"),setCollideWorldBounds:r(function(s,o,T,c){return this.body.setCollideWorldBounds(s,o,T,c),this},"setCollideWorldBounds")};n.exports=C},78389:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79599),T={setCollisionCategory:r(function(c){var l=this.body?this.body:this;return l.collisionCategory=c,this},"setCollisionCategory"),willCollideWith:r(function(c){var l=this.body?this.body:this;return(l.collisionMask&c)!==0},"willCollideWith"),addCollidesWith:r(function(c){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask|c,this},"addCollidesWith"),removeCollidesWith:r(function(c){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask&~c,this},"removeCollidesWith"),setCollidesWith:r(function(c){var l=this.body?this.body:this;return l.collisionMask=o(c),this},"setCollidesWith"),resetCollisionCategory:r(function(){var c=this.body?this.body:this;return c.collisionCategory=1,c.collisionMask=2147483647,this},"resetCollisionCategory")};n.exports=T},87118:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDebug:r(function(s,o,T){return this.debugShowBody=s,this.debugShowVelocity=o,this.debugBodyColor=T,this},"setDebug"),setDebugBodyColor:r(function(s){return this.body.debugBodyColor=s,this},"setDebugBodyColor"),debugShowBody:{get:r(function(){return this.body.debugShowBody},"get"),set:r(function(s){this.body.debugShowBody=s},"set")},debugShowVelocity:{get:r(function(){return this.body.debugShowVelocity},"get"),set:r(function(s){this.body.debugShowVelocity=s},"set")},debugBodyColor:{get:r(function(){return this.body.debugBodyColor},"get"),set:r(function(s){this.body.debugBodyColor=s},"set")}};n.exports=C},52819:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDrag:r(function(s,o){return this.body.drag.set(s,o),this},"setDrag"),setDragX:r(function(s){return this.body.drag.x=s,this},"setDragX"),setDragY:r(function(s){return this.body.drag.y=s,this},"setDragY"),setDamping:r(function(s){return this.body.useDamping=s,this},"setDamping")};n.exports=C},4074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDirectControl:r(function(s){return this.body.setDirectControl(s),this},"setDirectControl"),enableBody:r(function(s,o,T,c,l){return s&&this.body.reset(o,T),c&&(this.body.gameObject.active=!0),l&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},"enableBody"),disableBody:r(function(s,o){return s===void 0&&(s=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,s&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},"disableBody"),refreshBody:r(function(){return this.body.updateFromGameObject(),this},"refreshBody")};n.exports=C},40831:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setFriction:r(function(s,o){return this.body.friction.set(s,o),this},"setFriction"),setFrictionX:r(function(s){return this.body.friction.x=s,this},"setFrictionX"),setFrictionY:r(function(s){return this.body.friction.y=s,this},"setFrictionY")};n.exports=C},26775:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setGravity:r(function(s,o){return this.body.gravity.set(s,o),this},"setGravity"),setGravityX:r(function(s){return this.body.gravity.x=s,this},"setGravityX"),setGravityY:r(function(s){return this.body.gravity.y=s,this},"setGravityY")};n.exports=C},9437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setImmovable:r(function(s){return s===void 0&&(s=!0),this.body.immovable=s,this},"setImmovable")};n.exports=C},30621:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setMass:r(function(s){return this.body.mass=s,this},"setMass")};n.exports=C},72441:(n,C,s)=>{var o=s(47956),T=s(96503),c=s(2044),l=s(81491),u=r(function(h,f,v,d,p,g){var m=o(h,f-d,v-d,2*d,2*d,p,g);if(m.length===0)return m;for(var x=new T(f,v,d),E=new T,A=[],R=0;R<m.length;R++){var P=m[R];P.isCircle?(E.setTo(P.center.x,P.center.y,P.halfWidth),c(x,E)&&A.push(P)):l(x,P)&&A.push(P)}return A},"OverlapCirc");n.exports=u},47956:n=>{var C=r(function(s,o,T,c,l,u,h){u===void 0&&(u=!0),h===void 0&&(h=!1);var f=[],v=[],d=s.treeMinMax;if(d.minX=o,d.minY=T,d.maxX=o+c,d.maxY=T+l,h&&(v=s.staticTree.search(d)),u&&s.useTree)f=s.tree.search(d);else if(u){var p=s.bodies,g={position:{x:o,y:T},left:o,top:T,right:o+c,bottom:T+l,isCircle:!1},m=s.intersects;p.iterate(function(x){m(x,g)&&f.push(x)})}return v.concat(f)},"OverlapRect");n.exports=C},62121:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setPushable:r(function(s){return s===void 0&&(s=!0),this.body.pushable=s,this},"setPushable")};n.exports=C},29384:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setOffset:r(function(s,o){return this.body.setOffset(s,o),this},"setOffset"),setSize:r(function(s,o,T){return this.body.setSize(s,o,T),this},"setSize"),setBodySize:r(function(s,o,T){return this.body.setSize(s,o,T),this},"setBodySize"),setCircle:r(function(s,o,T){return this.body.setCircle(s,o,T),this},"setCircle")};n.exports=C},15098:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setVelocity:r(function(s,o){return this.body.setVelocity(s,o),this},"setVelocity"),setVelocityX:r(function(s){return this.body.setVelocityX(s),this},"setVelocityX"),setVelocityY:r(function(s){return this.body.setVelocityY(s),this},"setVelocityY"),setMaxVelocity:r(function(s,o){return this.body.maxVelocity.set(s,o),this},"setMaxVelocity")};n.exports=C},92209:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Acceleration:s(1093),Angular:s(59023),Bounce:s(62069),Collision:s(78389),Debug:s(87118),Drag:s(52819),Enable:s(4074),Friction:s(40831),Gravity:s(26775),Immovable:s(9437),Mass:s(30621),OverlapCirc:s(72441),OverlapRect:s(47956),Pushable:s(62121),Size:s(29384),Velocity:s(15098)}},37747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};n.exports=C},20009:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collide"},36768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="overlap"},60473:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},89954:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},61804:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tilecollide"},7161:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tileoverlap"},34689:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldbounds"},16006:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldstep"},63012:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COLLIDE:s(20009),OVERLAP:s(36768),PAUSE:s(60473),RESUME:s(89954),TILE_COLLIDE:s(61804),TILE_OVERLAP:s(7161),WORLD_BOUNDS:s(34689),WORLD_STEP:s(16006)}},27064:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37747),T=s(79291),c={ArcadePhysics:s(86689),Body:s(37742),Collider:s(79342),Components:s(92209),Events:s(63012),Factory:s(66022),GetCollidesWith:s(79599),GetOverlapX:s(64897),GetOverlapY:s(45170),SeparateX:s(14087),SeparateY:s(89936),Group:s(60758),Image:s(71289),Sprite:s(13759),StaticBody:s(72624),StaticGroup:s(71464),Tilemap:s(55173),World:s(82248)};c=T(!1,c,o),n.exports=c},96602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.collisionCallback?!s.collisionCallback.call(s.collisionCallbackContext,o,s):s.layer.callbacks[s.index]?!s.layer.callbacks[s.index].callback.call(s.layer.callbacks[s.index].callbackContext,o,s):!0},"ProcessTileCallbacks");n.exports=C},36294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o<0?(s.blocked.none=!1,s.blocked.left=!0):o>0&&(s.blocked.none=!1,s.blocked.right=!0),s.position.x-=o,s.updateCenter(),s.bounce.x===0?s.velocity.x=0:s.velocity.x=-s.velocity.x*s.bounce.x},"ProcessTileSeparationX");n.exports=C},67013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o<0?(s.blocked.none=!1,s.blocked.up=!0):o>0&&(s.blocked.none=!1,s.blocked.down=!0),s.position.y-=o,s.updateCenter(),s.bounce.y===0?s.velocity.y=0:s.velocity.y=-s.velocity.y*s.bounce.y},"ProcessTileSeparationY");n.exports=C},40012:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(21329),T=s(53442),c=s(2483),l=r(function(u,h,f,v,d,p,g){var m=v.left,x=v.top,E=v.right,A=v.bottom,R=f.faceLeft||f.faceRight,P=f.faceTop||f.faceBottom;if(g||(R=!0,P=!0),!R&&!P)return!1;var O=0,L=0,w=0,M=1;if(h.deltaAbsX()>h.deltaAbsY()?w=-1:h.deltaAbsX()<h.deltaAbsY()&&(M=-1),h.deltaX()!==0&&h.deltaY()!==0&&R&&P&&(w=Math.min(Math.abs(h.position.x-E),Math.abs(h.right-m)),M=Math.min(Math.abs(h.position.y-A),Math.abs(h.bottom-x))),w<M){if(R&&(O=o(h,f,m,E,p,g),O!==0&&!c(v,h)))return!0;P&&(L=T(h,f,x,A,p,g))}else{if(P&&(L=T(h,f,x,A,p,g),L!==0&&!c(v,h)))return!0;R&&(O=o(h,f,m,E,p,g))}return O!==0||L!==0},"SeparateTile");n.exports=l},21329:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36294),T=r(function(c,l,u,h,f,v){var d=0,p=l.faceLeft,g=l.faceRight,m=l.collideLeft,x=l.collideRight;return v||(p=!0,g=!0,m=!0,x=!0),c.deltaX()<0&&x&&c.checkCollision.left?g&&c.x<h&&(d=c.x-h,d<-f&&(d=0)):c.deltaX()>0&&m&&c.checkCollision.right&&p&&c.right>u&&(d=c.right-u,d>f&&(d=0)),d!==0&&(c.customSeparateX?c.overlapX=d:o(c,d)),d},"TileCheckX");n.exports=T},53442:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(67013),T=r(function(c,l,u,h,f,v){var d=0,p=l.faceTop,g=l.faceBottom,m=l.collideUp,x=l.collideDown;return v||(p=!0,g=!0,m=!0,x=!0),c.deltaY()<0&&x&&c.checkCollision.up?g&&c.y<h&&(d=c.y-h,d<-f&&(d=0)):c.deltaY()>0&&m&&c.checkCollision.down&&p&&c.bottom>u&&(d=c.bottom-u,d>f&&(d=0)),d!==0&&(c.customSeparateY?c.overlapY=d:o(c,d)),d},"TileCheckY");n.exports=T},2483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return!(o.right<=s.left||o.bottom<=s.top||o.position.x>=s.right||o.position.y>=s.bottom)},"TileIntersectsBody");n.exports=C},55173:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:s(96602),ProcessTileSeparationX:s(36294),ProcessTileSeparationY:s(67013),SeparateTile:s(40012),TileCheckX:s(21329),TileCheckY:s(53442),TileIntersectsBody:s(2483)};n.exports=o},44563:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Arcade:s(27064),Matter:s(3875)}},68174:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(26099),c=new o({initialize:r(function(){this.boundsCenter=new T,this.centerDiff=new T},"BodyBounds"),parseBody:r(function(l){if(l=l.hasOwnProperty("body")?l.body:l,!l.hasOwnProperty("bounds")||!l.hasOwnProperty("centerOfMass"))return!1;var u=this.boundsCenter,h=this.centerDiff,f=l.bounds.max.x-l.bounds.min.x,v=l.bounds.max.y-l.bounds.min.y,d=f*l.centerOfMass.x,p=v*l.centerOfMass.y;return u.set(f/2,v/2),h.set(d-u.x,p-u.y),!0},"parseBody"),getTopLeft:r(function(l,u,h){if(u===void 0&&(u=0),h===void 0&&(h=0),this.parseBody(l)){var f=this.boundsCenter,v=this.centerDiff;return new T(u+f.x+v.x,h+f.y+v.y)}return!1},"getTopLeft"),getTopCenter:r(function(l,u,h){if(u===void 0&&(u=0),h===void 0&&(h=0),this.parseBody(l)){var f=this.boundsCenter,v=this.centerDiff;return new T(u+v.x,h+f.y+v.y)}return!1},"getTopCenter"),getTopRight:r(function(l,u,h){if(u===void 0&&(u=0),h===void 0&&(h=0),this.parseBody(l)){var f=this.boundsCenter,v=this.centerDiff;return new T(u-(f.x-v.x),h+f.y+v.y)}return!1},"getTopRight"),getLeftCenter:r(function(l,u,h){if(u===void 0&&(u=0),h===void 0&&(h=0),this.parseBody(l)){var f=this.boundsCenter,v=this.centerDiff;return new T(u+f.x+v.x,h+v.y)}return!1},"getLeftCenter"),getCenter:r(function(l,u,h){if(u===void 0&&(u=0),h===void 0&&(h=0),this.parseBody(l)){var f=this.centerDiff;return new T(u+f.x,h+f.y)}return!1},"getCenter"),getRightCenter:r(function(l,u,h){if(u===void 0&&(u=0),h===void 0&&(h=0),this.parseBody(l)){var f=this.boundsCenter,v=this.centerDiff;return new T(u-(f.x-v.x),h+v.y)}return!1},"getRightCenter"),getBottomLeft:r(function(l,u,h){if(u===void 0&&(u=0),h===void 0&&(h=0),this.parseBody(l)){var f=this.boundsCenter,v=this.centerDiff;return new T(u+f.x+v.x,h-(f.y-v.y))}return!1},"getBottomLeft"),getBottomCenter:r(function(l,u,h){if(u===void 0&&(u=0),h===void 0&&(h=0),this.parseBody(l)){var f=this.boundsCenter,v=this.centerDiff;return new T(u+v.x,h-(f.y-v.y))}return!1},"getBottomCenter"),getBottomRight:r(function(l,u,h){if(u===void 0&&(u=0),h===void 0&&(h=0),this.parseBody(l)){var f=this.boundsCenter,v=this.centerDiff;return new T(u-(f.x-v.x),h-(f.y-v.y))}return!1},"getBottomRight")});n.exports=c},19933:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6790);o.Body=s(22562),o.Composite=s(69351),o.World=s(4372),o.Collision=s(52284),o.Detector=s(81388),o.Pairs=s(99561),o.Pair=s(4506),o.Query=s(73296),o.Resolver=s(66272),o.Constraint=s(48140),o.Common=s(53402),o.Engine=s(48413),o.Events=s(35810),o.Sleeping=s(53614),o.Plugin=s(73832),o.Bodies=s(66280),o.Composites=s(74116),o.Axes=s(66615),o.Bounds=s(15647),o.Svg=s(74058),o.Vector=s(31725),o.Vertices=s(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,n.exports=o},28137:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),T=s(83419),c=s(74116),l=s(48140),u=s(74058),h=s(75803),f=s(23181),v=s(34803),d=s(73834),p=s(19496),g=s(85791),m=s(98713),x=s(41598),E=new T({initialize:r(function(R){this.world=R,this.scene=R.scene,this.sys=R.scene.sys},"Factory"),rectangle:r(function(A,R,P,O,L){var w=o.rectangle(A,R,P,O,L);return this.world.add(w),w},"rectangle"),trapezoid:r(function(A,R,P,O,L,w){var M=o.trapezoid(A,R,P,O,L,w);return this.world.add(M),M},"trapezoid"),circle:r(function(A,R,P,O,L){var w=o.circle(A,R,P,O,L);return this.world.add(w),w},"circle"),polygon:r(function(A,R,P,O,L){var w=o.polygon(A,R,P,O,L);return this.world.add(w),w},"polygon"),fromVertices:r(function(A,R,P,O,L,w,M){typeof P=="string"&&(P=x.fromPath(P));var b=o.fromVertices(A,R,P,O,L,w,M);return this.world.add(b),b},"fromVertices"),fromPhysicsEditor:r(function(A,R,P,O,L){L===void 0&&(L=!0);var w=p.parseBody(A,R,P,O);return L&&!this.world.has(w)&&this.world.add(w),w},"fromPhysicsEditor"),fromSVG:r(function(A,R,P,O,L,w){O===void 0&&(O=1),L===void 0&&(L={}),w===void 0&&(w=!0);for(var M=P.getElementsByTagName("path"),b=[],D=0;D<M.length;D++){var F=u.pathToVertices(M[D],30);O!==1&&x.scale(F,O,O),b.push(F)}var N=o.fromVertices(A,R,b,L);return w&&this.world.add(N),N},"fromSVG"),fromJSON:r(function(A,R,P,O,L){O===void 0&&(O={}),L===void 0&&(L=!0);var w=g.parseBody(A,R,P,O);return w&&L&&this.world.add(w),w},"fromJSON"),imageStack:r(function(A,R,P,O,L,w,M,b,D){M===void 0&&(M=0),b===void 0&&(b=0),D===void 0&&(D={});var F=this.world,N=this.sys.displayList;D.addToWorld=!1;var B=c.stack(P,O,L,w,M,b,function(Y,W){var z=new f(F,Y,W,A,R,D);return N.add(z),z.body});return F.add(B),B},"imageStack"),stack:r(function(A,R,P,O,L,w,M){var b=c.stack(A,R,P,O,L,w,M);return this.world.add(b),b},"stack"),pyramid:r(function(A,R,P,O,L,w,M){var b=c.pyramid(A,R,P,O,L,w,M);return this.world.add(b),b},"pyramid"),chain:r(function(A,R,P,O,L,w){return c.chain(A,R,P,O,L,w)},"chain"),mesh:r(function(A,R,P,O,L){return c.mesh(A,R,P,O,L)},"mesh"),newtonsCradle:r(function(A,R,P,O,L){var w=c.newtonsCradle(A,R,P,O,L);return this.world.add(w),w},"newtonsCradle"),car:r(function(A,R,P,O,L){var w=c.car(A,R,P,O,L);return this.world.add(w),w},"car"),softBody:r(function(A,R,P,O,L,w,M,b,D,F){var N=c.softBody(A,R,P,O,L,w,M,b,D,F);return this.world.add(N),N},"softBody"),joint:r(function(A,R,P,O,L){return this.constraint(A,R,P,O,L)},"joint"),spring:r(function(A,R,P,O,L){return this.constraint(A,R,P,O,L)},"spring"),constraint:r(function(A,R,P,O,L){O===void 0&&(O=1),L===void 0&&(L={}),L.bodyA=A.type==="body"?A:A.body,L.bodyB=R.type==="body"?R:R.body,isNaN(P)||(L.length=P),L.stiffness=O;var w=l.create(L);return this.world.add(w),w},"constraint"),worldConstraint:r(function(A,R,P,O){P===void 0&&(P=1),O===void 0&&(O={}),O.bodyB=A.type==="body"?A:A.body,isNaN(R)||(O.length=R),O.stiffness=P;var L=l.create(O);return this.world.add(L),L},"worldConstraint"),mouseSpring:r(function(A){return this.pointerConstraint(A)},"mouseSpring"),pointerConstraint:r(function(A){A===void 0&&(A={}),A.hasOwnProperty("render")||(A.render={visible:!1});var R=new m(this.scene,this.world,A);return this.world.add(R.constraint),R},"pointerConstraint"),image:r(function(A,R,P,O,L){var w=new f(this.world,A,R,P,O,L);return this.sys.displayList.add(w),w},"image"),tileBody:r(function(A,R){return new d(this.world,A,R)},"tileBody"),sprite:r(function(A,R,P,O,L){var w=new v(this.world,A,R,P,O,L);return this.sys.displayList.add(w),this.sys.updateList.add(w),w},"sprite"),gameObject:r(function(A,R,P){return h(this.world,A,R,P)},"gameObject"),destroy:r(function(){this.world=null,this.scene=null,this.sys=null},"destroy")});n.exports=E},75803:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(31884),T=s(95540),c=s(26099);function l(h){return!!h.get&&typeof h.get=="function"||!!h.set&&typeof h.set=="function"}r(l,"hasGetterOrSetter");var u=r(function(h,f,v,d){v===void 0&&(v={}),d===void 0&&(d=!0);var p=f.x,g=f.y;f.body={temp:!0,position:{x:p,y:g}};var m=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(m.forEach(function(E){for(var A in E)l(E[A])?Object.defineProperty(f,A,{get:E[A].get,set:E[A].set}):Object.defineProperty(f,A,{value:E[A]})}),f.world=h,f._tempVec2=new c(p,g),v.hasOwnProperty("type")&&v.type==="body")f.setExistingBody(v,d);else{var x=T(v,"shape",null);x||(x="rectangle"),v.addToWorld=d,f.setBody(x,v)}return f},"MatterGameObject");n.exports=u},23181:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31884),c=s(95643),l=s(95540),u=s(88571),h=s(72699),f=s(26099),v=new o({Extends:u,Mixins:[T.Bounce,T.Collision,T.Force,T.Friction,T.Gravity,T.Mass,T.Sensor,T.SetBody,T.Sleep,T.Static,T.Transform,T.Velocity,h],initialize:r(function(p,g,m,x,E,A){c.call(this,p.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(x,E),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new f(g,m);var R=l(A,"shape",null);R?this.setBody(R,A):this.setRectangle(this.width,this.height,A),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(!0)},"MatterImage")});n.exports=v},42045:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),T=s(66615),c=s(66280),l=s(22562),u=s(68174),h=s(15647),f=s(83419),v=s(52284),d=s(53402),p=s(69351),g=s(74116),m=s(48140),x=s(81388),E=s(20339),A=s(28137),R=s(95540),P=s(35154),O=s(46975),L=s(4506),w=s(99561),M=s(37277),b=s(73296),D=s(66272),F=s(44594),N=s(74058),B=s(31725),Y=s(41598),W=s(68243);d.setDecomp(s(55973));var z=new f({initialize:r(function(H){this.scene=H,this.systems=H.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=l,this.composite=p,this.collision=v,this.detector=x,this.pair=L,this.pairs=w,this.query=b,this.resolver=D,this.constraint=m,this.bodies=c,this.composites=g,this.axes=T,this.bounds=h,this.svg=N,this.vector=B,this.vertices=Y,this.verts=Y,this._tempVec2=B.create(),D._restingThresh=P(this.config,"restingThresh",4),D._restingThreshTangent=P(this.config,"restingThreshTangent",6),D._positionDampen=P(this.config,"positionDampen",.9),D._positionWarming=P(this.config,"positionWarming",.8),D._frictionNormalMultiplier=P(this.config,"frictionNormalMultiplier",5),H.sys.events.once(F.BOOT,this.boot,this),H.sys.events.on(F.START,this.start,this)},"MatterPhysics"),boot:r(function(){this.world=new W(this.scene,this.config),this.add=new A(this.world),this.bodyBounds=new u,this.systems.events.once(F.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.world||(this.world=new W(this.scene,this.config),this.add=new A(this.world));var X=this.systems.events;X.on(F.UPDATE,this.world.update,this.world),X.on(F.POST_UPDATE,this.world.postUpdate,this.world),X.once(F.SHUTDOWN,this.shutdown,this)},"start"),getConfig:r(function(){var X=this.systems.game.config.physics,H=this.systems.settings.physics,V=O(R(H,"matter",{}),R(X,"matter",{}));return V},"getConfig"),pause:r(function(){return this.world.pause()},"pause"),resume:r(function(){return this.world.resume()},"resume"),set60Hz:r(function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},"set60Hz"),set30Hz:r(function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},"set30Hz"),step:r(function(X,H){this.world.step(X,H)},"step"),containsPoint:r(function(X,H,V){X=this.getMatterBodies(X);var G=B.create(H,V),k=b.point(X,G);return k.length>0},"containsPoint"),intersectPoint:r(function(X,H,V){V=this.getMatterBodies(V);var G=B.create(X,H),k=[],U=b.point(V,G);return U.forEach(function(I){k.indexOf(I)===-1&&k.push(I)}),k},"intersectPoint"),intersectRect:r(function(X,H,V,G,k,U){k===void 0&&(k=!1),U=this.getMatterBodies(U);var I={min:{x:X,y:H},max:{x:X+V,y:H+G}},$=[],K=b.region(U,I,k);return K.forEach(function(Z){$.indexOf(Z)===-1&&$.push(Z)}),$},"intersectRect"),intersectRay:r(function(X,H,V,G,k,U){k===void 0&&(k=1),U=this.getMatterBodies(U);for(var I=[],$=b.ray(U,B.create(X,H),B.create(V,G),k),K=0;K<$.length;K++)I.push($[K].body);return I},"intersectRay"),intersectBody:r(function(X,H){H=this.getMatterBodies(H);for(var V=[],G=b.collides(X,H),k=0;k<G.length;k++){var U=G[k];U.bodyA===X?V.push(U.bodyB):V.push(U.bodyA)}return V},"intersectBody"),overlap:r(function(X,H,V,G,k){V===void 0&&(V=null),G===void 0&&(G=null),k===void 0&&(k=V),Array.isArray(X)||(X=[X]),X=this.getMatterBodies(X),H=this.getMatterBodies(H);for(var U=!1,I=0;I<X.length;I++)for(var $=X[I],K=b.collides($,H),Z=0;Z<K.length;Z++){var J=K[Z],Q=J.bodyA.id===$.id?J.bodyB:J.bodyA;if(!G||G.call(k,$,Q,J)){if(U=!0,V)V.call(k,$,Q,J);else if(!G)return!0}}return U},"overlap"),setCollisionCategory:r(function(X,H){return X=this.getMatterBodies(X),X.forEach(function(V){V.collisionFilter.category=H}),this},"setCollisionCategory"),setCollisionGroup:r(function(X,H){return X=this.getMatterBodies(X),X.forEach(function(V){V.collisionFilter.group=H}),this},"setCollisionGroup"),setCollidesWith:r(function(X,H){X=this.getMatterBodies(X);var V=0;if(!Array.isArray(H))V=H;else for(var G=0;G<H.length;G++)V|=H[G];return X.forEach(function(k){k.collisionFilter.mask=V}),this},"setCollidesWith"),getMatterBodies:r(function(X){if(!X)return this.world.getAllBodies();Array.isArray(X)||(X=[X]);for(var H=[],V=0;V<X.length;V++){var G=X[V].hasOwnProperty("body")?X[V].body:X[V];H.push(G)}return H},"getMatterBodies"),setVelocity:r(function(X,H,V){X=this.getMatterBodies(X);var G=this._tempVec2;return G.x=H,G.y=V,X.forEach(function(k){l.setVelocity(k,G)}),this},"setVelocity"),setVelocityX:r(function(X,H){X=this.getMatterBodies(X);var V=this._tempVec2;return V.x=H,X.forEach(function(G){V.y=G.velocity.y,l.setVelocity(G,V)}),this},"setVelocityX"),setVelocityY:r(function(X,H){X=this.getMatterBodies(X);var V=this._tempVec2;return V.y=H,X.forEach(function(G){V.x=G.velocity.x,l.setVelocity(G,V)}),this},"setVelocityY"),setAngularVelocity:r(function(X,H){return X=this.getMatterBodies(X),X.forEach(function(V){l.setAngularVelocity(V,H)}),this},"setAngularVelocity"),applyForce:r(function(X,H){X=this.getMatterBodies(X);var V=this._tempVec2;return X.forEach(function(G){V.x=G.position.x,V.y=G.position.y,l.applyForce(G,V,H)}),this},"applyForce"),applyForceFromPosition:r(function(X,H,V,G){X=this.getMatterBodies(X);var k=this._tempVec2;return X.forEach(function(U){G===void 0&&(G=U.angle),k.x=V*Math.cos(G),k.y=V*Math.sin(G),l.applyForce(U,H,k)}),this},"applyForceFromPosition"),applyForceFromAngle:r(function(X,H,V){X=this.getMatterBodies(X);var G=this._tempVec2;return X.forEach(function(k){V===void 0&&(V=k.angle),G.x=H*Math.cos(V),G.y=H*Math.sin(V),l.applyForce(k,{x:k.position.x,y:k.position.y},G)}),this},"applyForceFromAngle"),getConstraintLength:r(function(X){var H=X.pointA.x,V=X.pointA.y,G=X.pointB.x,k=X.pointB.y;return X.bodyA&&(H+=X.bodyA.position.x,V+=X.bodyA.position.y),X.bodyB&&(G+=X.bodyB.position.x,k+=X.bodyB.position.y),E(H,V,G,k)},"getConstraintLength"),alignBody:r(function(X,H,V,G){X=X.hasOwnProperty("body")?X.body:X;var k;switch(G){case o.TOP_LEFT:case o.LEFT_TOP:k=this.bodyBounds.getTopLeft(X,H,V);break;case o.TOP_CENTER:k=this.bodyBounds.getTopCenter(X,H,V);break;case o.TOP_RIGHT:case o.RIGHT_TOP:k=this.bodyBounds.getTopRight(X,H,V);break;case o.LEFT_CENTER:k=this.bodyBounds.getLeftCenter(X,H,V);break;case o.CENTER:k=this.bodyBounds.getCenter(X,H,V);break;case o.RIGHT_CENTER:k=this.bodyBounds.getRightCenter(X,H,V);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:k=this.bodyBounds.getBottomLeft(X,H,V);break;case o.BOTTOM_CENTER:k=this.bodyBounds.getBottomCenter(X,H,V);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:k=this.bodyBounds.getBottomRight(X,H,V);break}return k&&l.setPosition(X,k),this},"alignBody"),shutdown:r(function(){var X=this.systems.events;this.world&&(X.off(F.UPDATE,this.world.update,this.world),X.off(F.POST_UPDATE,this.world.postUpdate,this.world)),X.off(F.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(F.START,this.start,this),this.scene=null,this.systems=null},"destroy")});M.register("MatterPhysics",z,"matterPhysics"),n.exports=z},34803:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),T=s(83419),c=s(31884),l=s(95643),u=s(95540),h=s(72699),f=s(68287),v=s(26099),d=new T({Extends:f,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,h],initialize:r(function(g,m,x,E,A,R){l.call(this,g.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(E,A),this.setSizeToFrame(),this.setOrigin(),this.world=g,this._tempVec2=new v(m,x);var P=u(R,"shape",null);P?this.setBody(P,R):this.setRectangle(this.width,this.height,R),this.setPosition(m,x),this.initPipeline(),this.initPostPipeline(!0)},"MatterSprite")});n.exports=d},73834:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),T=s(22562),c=s(83419),l=s(31884),u=s(62644),h=s(50792),f=s(95540),v=s(97022),d=s(41598),p=new c({Extends:h,Mixins:[l.Bounce,l.Collision,l.Friction,l.Gravity,l.Mass,l.Sensor,l.Sleep,l.Static],initialize:r(function(m,x,E){h.call(this),this.tile=x,this.world=m,x.physics.matterBody&&x.physics.matterBody.destroy(),x.physics.matterBody=this;var A=f(E,"body",null),R=f(E,"addToWorld",!0);if(A)this.setBody(A,R);else{var P=x.getCollisionGroup(),O=f(P,"objects",[]);O.length>0?this.setFromTileCollision(E):this.setFromTileRectangle(E)}if(x.flipX||x.flipY){var L={x:x.getCenterX(),y:x.getCenterY()},w=x.flipX?-1:1,M=x.flipY?-1:1;T.scale(A,w,M,L)}},"MatterTileBody"),setFromTileRectangle:r(function(g){g===void 0&&(g={}),v(g,"isStatic")||(g.isStatic=!0),v(g,"addToWorld")||(g.addToWorld=!0);var m=this.tile.getBounds(),x=m.x+m.width/2,E=m.y+m.height/2,A=o.rectangle(x,E,m.width,m.height,g);return this.setBody(A,g.addToWorld),this},"setFromTileRectangle"),setFromTileCollision:r(function(g){g===void 0&&(g={}),v(g,"isStatic")||(g.isStatic=!0),v(g,"addToWorld")||(g.addToWorld=!0);for(var m=this.tile.tilemapLayer.scaleX,x=this.tile.tilemapLayer.scaleY,E=this.tile.getLeft(),A=this.tile.getTop(),R=this.tile.getCollisionGroup(),P=f(R,"objects",[]),O=[],L=0;L<P.length;L++){var w=P[L],M=E+w.x*m,b=A+w.y*x,D=w.width*m,F=w.height*x,N=null;if(w.rectangle)N=o.rectangle(M+D/2,b+F/2,D,F,g);else if(w.ellipse)N=o.circle(M+D/2,b+F/2,D/2,g);else if(w.polygon||w.polyline){var B=w.polygon?w.polygon:w.polyline,Y=B.map(function(H){return{x:H.x*m,y:H.y*x}}),W=d.create(Y),z=d.centre(W);M+=z.x,b+=z.y,N=o.fromVertices(M,b,W,g)}N&&O.push(N)}if(O.length===1)this.setBody(O[0],g.addToWorld);else if(O.length>1){var X=u(g);X.parts=O,this.setBody(T.create(X),X.addToWorld)}return this},"setFromTileCollision"),setBody:r(function(g,m){return m===void 0&&(m=!0),this.body&&this.removeBody(),this.body=g,this.body.gameObject=this,m&&this.world.add(this.body),this},"setBody"),removeBody:r(function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},"removeBody"),destroy:r(function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()},"destroy")});n.exports=p},19496:(n,C,s)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),T=s(22562),c=s(53402),l=s(95540),u=s(41598),h={parseBody:r(function(f,v,d,p){p===void 0&&(p={});for(var g=l(d,"fixtures",[]),m=[],x=0;x<g.length;x++)for(var E=this.parseFixture(g[x]),A=0;A<E.length;A++)m.push(E[A]);var R=c.clone(d,!0);c.extend(R,p,!0),delete R.fixtures,delete R.type;var P=T.create(R);return T.setParts(P,m),T.setPosition(P,{x:f,y:v}),P},"parseBody"),parseFixture:r(function(f){var v=c.extend({},!1,f);delete v.circle,delete v.vertices;var d;if(f.circle){var p=l(f.circle,"x"),g=l(f.circle,"y"),m=l(f.circle,"radius");d=[o.circle(p,g,m,v)]}else f.vertices&&(d=this.parseVertices(f.vertices,v));return d},"parseFixture"),parseVertices:r(function(f,v){v===void 0&&(v={});for(var d=[],p=0;p<f.length;p++)u.clockwiseSort(f[p]),d.push(T.create(c.extend({position:u.centre(f[p]),vertices:f[p]},v)));return o.flagCoincidentParts(d)},"parseVertices")};n.exports=h},85791:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),T=s(22562),c={parseBody:r(function(l,u,h,f){f===void 0&&(f={});var v,d=h.vertices;if(d.length===1)f.vertices=d[0],v=T.create(f),o.flagCoincidentParts(v.parts);else{for(var p=[],g=0;g<d.length;g++){var m=T.create({vertices:d[g]});p.push(m)}o.flagCoincidentParts(p),f.parts=p,v=T.create(f)}return v.label=h.label,T.setPosition(v,{x:l,y:u}),v},"parseBody")};n.exports=c},98713:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15647),T=s(83419),c=s(69351),l=s(48140),u=s(81388),h=s(1121),f=s(8214),v=s(46975),d=s(53614),p=s(26099),g=s(41598),m=new T({initialize:r(function(E,A,R){R===void 0&&(R={});var P={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=E,this.world=A,this.camera=null,this.pointer=null,this.active=!0,this.position=new p,this.body=null,this.part=null,this.constraint=l.create(v(R,P)),this.world.on(h.BEFORE_UPDATE,this.update,this),E.sys.input.on(f.POINTER_DOWN,this.onDown,this),E.sys.input.on(f.POINTER_UP,this.onUp,this)},"PointerConstraint"),onDown:r(function(x){this.pointer||(this.pointer=x,this.camera=x.camera)},"onDown"),onUp:r(function(x){x===this.pointer&&(this.pointer=null)},"onUp"),getBody:r(function(x){var E=this.position,A=this.constraint;this.camera.getWorldPoint(x.x,x.y,E);for(var R=c.allBodies(this.world.localWorld),P=0;P<R.length;P++){var O=R[P];if(!O.ignorePointer&&o.contains(O.bounds,E)&&u.canCollide(O.collisionFilter,A.collisionFilter)&&this.hitTestBody(O,E))return this.world.emit(h.DRAG_START,O,this.part,this),!0}return!1},"getBody"),hitTestBody:r(function(x,E){for(var A=this.constraint,R=x.parts.length,P=R>1?1:0,O=P;O<R;O++){var L=x.parts[O];if(g.contains(L.vertices,E))return A.pointA=E,A.pointB={x:E.x-x.position.x,y:E.y-x.position.y},A.bodyB=x,A.angleB=x.angle,d.set(x,!1),this.part=L,this.body=x,!0}return!1},"hitTestBody"),update:r(function(){var x=this.pointer,E=this.body;if(!this.active||!x){E&&this.stopDrag();return}if(!x.isDown&&E){this.stopDrag();return}else if(x.isDown){if(!this.camera||!E&&!this.getBody(x))return;E=this.body;var A=this.position,R=this.constraint;this.camera.getWorldPoint(x.x,x.y,A),R.pointA.x=A.x,R.pointA.y=A.y,d.set(E,!1),this.world.emit(h.DRAG,E,this)}},"update"),stopDrag:r(function(){var x=this.body,E=this.constraint;E.bodyB=null,E.pointB=null,this.pointer=null,this.body=null,this.part=null,x&&this.world.emit(h.DRAG_END,x,this)},"stopDrag"),destroy:r(function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(h.BEFORE_UPDATE,this.update),this.scene.sys.input.off(f.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(f.POINTER_UP,this.onUp,this)},"destroy")});n.exports=m},68243:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),T=s(22562),c=s(83419),l=s(53402),u=s(69351),h=s(48413),f=s(50792),v=s(1121),d=s(95540),p=s(35154),g=s(22562),m=s(35810),x=s(73834),E=s(4372),A=s(13037),R=s(31725),P=new c({Extends:f,initialize:r(function(L,w){f.call(this),this.scene=L,this.engine=h.create(w),this.localWorld=this.engine.world;var M=p(w,"gravity",null);M?this.setGravity(M.x,M.y,M.scale):M===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=p(w,"enabled",!0),this.getDelta=p(w,"getDelta",this.update60Hz);var b=d(w,"runner",{}),D=d(b,"fps",!1);D&&(b.delta=1e3/d(b,"fps",60)),this.runner=A.create(b),this.autoUpdate=p(w,"autoUpdate",!0);var F=p(w,"debug",!1);if(this.drawDebug=typeof F=="object"?!0:F,this.debugGraphic,this.debugConfig={showAxes:d(F,"showAxes",!1),showAngleIndicator:d(F,"showAngleIndicator",!1),angleColor:d(F,"angleColor",15208787),showBroadphase:d(F,"showBroadphase",!1),broadphaseColor:d(F,"broadphaseColor",16757760),showBounds:d(F,"showBounds",!1),boundsColor:d(F,"boundsColor",16777215),showVelocity:d(F,"showVelocity",!1),velocityColor:d(F,"velocityColor",44783),showCollisions:d(F,"showCollisions",!1),collisionColor:d(F,"collisionColor",16094476),showSeparations:d(F,"showSeparations",!1),separationColor:d(F,"separationColor",16753920),showBody:d(F,"showBody",!0),showStaticBody:d(F,"showStaticBody",!0),showInternalEdges:d(F,"showInternalEdges",!1),renderFill:d(F,"renderFill",!1),renderLine:d(F,"renderLine",!0),fillColor:d(F,"fillColor",1075465),fillOpacity:d(F,"fillOpacity",1),lineColor:d(F,"lineColor",2678297),lineOpacity:d(F,"lineOpacity",1),lineThickness:d(F,"lineThickness",1),staticFillColor:d(F,"staticFillColor",857979),staticLineColor:d(F,"staticLineColor",1255396),showSleeping:d(F,"showSleeping",!1),staticBodySleepOpacity:d(F,"staticBodySleepOpacity",.7),sleepFillColor:d(F,"sleepFillColor",4605510),sleepLineColor:d(F,"sleepLineColor",10066585),showSensors:d(F,"showSensors",!0),sensorFillColor:d(F,"sensorFillColor",857979),sensorLineColor:d(F,"sensorLineColor",1255396),showPositions:d(F,"showPositions",!0),positionSize:d(F,"positionSize",4),positionColor:d(F,"positionColor",14697178),showJoint:d(F,"showJoint",!0),jointColor:d(F,"jointColor",14737474),jointLineOpacity:d(F,"jointLineOpacity",1),jointLineThickness:d(F,"jointLineThickness",2),pinSize:d(F,"pinSize",4),pinColor:d(F,"pinColor",4382944),springColor:d(F,"springColor",14697184),anchorColor:d(F,"anchorColor",15724527),anchorSize:d(F,"anchorSize",4),showConvexHulls:d(F,"showConvexHulls",!1),hullColor:d(F,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),d(w,"setBounds",!1)){var N=w.setBounds;if(typeof N=="boolean")this.setBounds();else{var B=d(N,"x",0),Y=d(N,"y",0),W=d(N,"width",L.sys.scale.width),z=d(N,"height",L.sys.scale.height),X=d(N,"thickness",64),H=d(N,"left",!0),V=d(N,"right",!0),G=d(N,"top",!0),k=d(N,"bottom",!0);this.setBounds(B,Y,W,z,X,H,V,G,k)}}},"World"),setCompositeRenderStyle:r(function(O){var L=O.bodies,w=O.constraints,M=O.composites,b,D,F;for(b=0;b<L.length;b++)D=L[b],F=D.render,this.setBodyRenderStyle(D,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(b=0;b<w.length;b++)D=w[b],F=D.render,this.setConstraintRenderStyle(D,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(b=0;b<M.length;b++)D=M[b],this.setCompositeRenderStyle(D);return this},"setCompositeRenderStyle"),setBodyRenderStyle:r(function(O,L,w,M,b,D){var F=O.render,N=this.debugConfig;return F?(L==null&&(L=O.isStatic?N.staticLineColor:N.lineColor),w==null&&(w=N.lineOpacity),M==null&&(M=N.lineThickness),b==null&&(b=O.isStatic?N.staticFillColor:N.fillColor),D==null&&(D=N.fillOpacity),L!==!1&&(F.lineColor=L),w!==!1&&(F.lineOpacity=w),M!==!1&&(F.lineThickness=M),b!==!1&&(F.fillColor=b),D!==!1&&(F.fillOpacity=D),this):this},"setBodyRenderStyle"),setConstraintRenderStyle:r(function(O,L,w,M,b,D,F){var N=O.render,B=this.debugConfig;if(!N)return this;if(L==null){var Y=N.type;Y==="line"?L=B.jointColor:Y==="pin"?L=B.pinColor:Y==="spring"&&(L=B.springColor)}return w==null&&(w=B.jointLineOpacity),M==null&&(M=B.jointLineThickness),b==null&&(b=B.pinSize),D==null&&(D=B.anchorColor),F==null&&(F=B.anchorSize),L!==!1&&(N.lineColor=L),w!==!1&&(N.lineOpacity=w),M!==!1&&(N.lineThickness=M),b!==!1&&(N.pinSize=b),D!==!1&&(N.anchorColor=D),F!==!1&&(N.anchorSize=F),this},"setConstraintRenderStyle"),setEventsProxy:r(function(){var O=this,L=this.engine,w=this.localWorld;this.drawDebug&&(m.on(w,"compositeModified",function(M){O.setCompositeRenderStyle(M)}),m.on(w,"beforeAdd",function(M){for(var b=[].concat(M.object),D=0;D<b.length;D++){var F=b[D],N=F.render;F.type==="body"?O.setBodyRenderStyle(F,N.lineColor,N.lineOpacity,N.lineThickness,N.fillColor,N.fillOpacity):F.type==="composite"?O.setCompositeRenderStyle(F):F.type==="constraint"&&O.setConstraintRenderStyle(F,N.lineColor,N.lineOpacity,N.lineThickness,N.pinSize,N.anchorColor,N.anchorSize)}})),m.on(w,"beforeAdd",function(M){O.emit(v.BEFORE_ADD,M)}),m.on(w,"afterAdd",function(M){O.emit(v.AFTER_ADD,M)}),m.on(w,"beforeRemove",function(M){O.emit(v.BEFORE_REMOVE,M)}),m.on(w,"afterRemove",function(M){O.emit(v.AFTER_REMOVE,M)}),m.on(L,"beforeUpdate",function(M){O.emit(v.BEFORE_UPDATE,M)}),m.on(L,"afterUpdate",function(M){O.emit(v.AFTER_UPDATE,M)}),m.on(L,"collisionStart",function(M){var b=M.pairs,D,F;b.length>0&&b.map(function(N){D=N.bodyA,F=N.bodyB,D.gameObject&&D.gameObject.emit("collide",D,F,N),F.gameObject&&F.gameObject.emit("collide",F,D,N),m.trigger(D,"onCollide",{pair:N}),m.trigger(F,"onCollide",{pair:N}),D.onCollideCallback&&D.onCollideCallback(N),F.onCollideCallback&&F.onCollideCallback(N),D.onCollideWith[F.id]&&D.onCollideWith[F.id](F,N),F.onCollideWith[D.id]&&F.onCollideWith[D.id](D,N)}),O.emit(v.COLLISION_START,M,D,F)}),m.on(L,"collisionActive",function(M){var b=M.pairs,D,F;b.length>0&&b.map(function(N){D=N.bodyA,F=N.bodyB,D.gameObject&&D.gameObject.emit("collideActive",D,F,N),F.gameObject&&F.gameObject.emit("collideActive",F,D,N),m.trigger(D,"onCollideActive",{pair:N}),m.trigger(F,"onCollideActive",{pair:N}),D.onCollideActiveCallback&&D.onCollideActiveCallback(N),F.onCollideActiveCallback&&F.onCollideActiveCallback(N)}),O.emit(v.COLLISION_ACTIVE,M,D,F)}),m.on(L,"collisionEnd",function(M){var b=M.pairs,D,F;b.length>0&&b.map(function(N){D=N.bodyA,F=N.bodyB,D.gameObject&&D.gameObject.emit("collideEnd",D,F,N),F.gameObject&&F.gameObject.emit("collideEnd",F,D,N),m.trigger(D,"onCollideEnd",{pair:N}),m.trigger(F,"onCollideEnd",{pair:N}),D.onCollideEndCallback&&D.onCollideEndCallback(N),F.onCollideEndCallback&&F.onCollideEndCallback(N)}),O.emit(v.COLLISION_END,M,D,F)})},"setEventsProxy"),setBounds:r(function(O,L,w,M,b,D,F,N,B){return O===void 0&&(O=0),L===void 0&&(L=0),w===void 0&&(w=this.scene.sys.scale.width),M===void 0&&(M=this.scene.sys.scale.height),b===void 0&&(b=64),D===void 0&&(D=!0),F===void 0&&(F=!0),N===void 0&&(N=!0),B===void 0&&(B=!0),this.updateWall(D,"left",O-b,L-b,b,M+b*2),this.updateWall(F,"right",O+w,L-b,b,M+b*2),this.updateWall(N,"top",O,L-b,w,b),this.updateWall(B,"bottom",O,L+M,w,b),this},"setBounds"),updateWall:r(function(O,L,w,M,b,D){var F=this.walls[L];O?(F&&E.remove(this.localWorld,F),w+=b/2,M+=D/2,this.walls[L]=this.create(w,M,b,D,{isStatic:!0,friction:0,frictionStatic:0})):(F&&E.remove(this.localWorld,F),this.walls[L]=null)},"updateWall"),createDebugGraphic:r(function(){var O=this.scene.sys.add.graphics({x:0,y:0});return O.setDepth(Number.MAX_VALUE),this.debugGraphic=O,this.drawDebug=!0,O},"createDebugGraphic"),disableGravity:r(function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},"disableGravity"),setGravity:r(function(O,L,w){return O===void 0&&(O=0),L===void 0&&(L=1),w===void 0&&(w=.001),this.localWorld.gravity.x=O,this.localWorld.gravity.y=L,this.localWorld.gravity.scale=w,this},"setGravity"),create:r(function(O,L,w,M,b){var D=o.rectangle(O,L,w,M,b);return E.add(this.localWorld,D),D},"create"),add:r(function(O){return E.add(this.localWorld,O),this},"add"),remove:r(function(O,L){Array.isArray(O)||(O=[O]);for(var w=0;w<O.length;w++){var M=O[w],b=M.body?M.body:M;u.remove(this.localWorld,b,L)}return this},"remove"),removeConstraint:r(function(O,L){return u.remove(this.localWorld,O,L),this},"removeConstraint"),convertTilemapLayer:r(function(O,L){var w=O.layer,M=O.getTilesWithin(0,0,w.width,w.height,{isColliding:!0});return this.convertTiles(M,L),this},"convertTilemapLayer"),convertTiles:r(function(O,L){if(O.length===0)return this;for(var w=0;w<O.length;w++)new x(this,O[w],L);return this},"convertTiles"),nextGroup:r(function(O){return g.nextGroup(O)},"nextGroup"),nextCategory:r(function(){return g.nextCategory()},"nextCategory"),pause:r(function(){return this.enabled=!1,this.emit(v.PAUSE),this},"pause"),resume:r(function(){return this.enabled=!0,this.runner.timeLastTick=l.now(),this.emit(v.RESUME),this},"resume"),update:r(function(O){if(!(!this.enabled||!this.autoUpdate)){var L=this.engine,w=this.runner,M=l.now(),b=w.delta,D=0,F=O-w.timeLastTick;if((!F||!w.timeLastTick||F>Math.max(A._maxFrameDelta,w.maxFrameTime))&&(F=w.frameDelta||A._frameDeltaFallback),w.frameDeltaSmoothing){w.frameDeltaHistory.push(F),w.frameDeltaHistory=w.frameDeltaHistory.slice(-w.frameDeltaHistorySize);var N=w.frameDeltaHistory.slice(0).sort(),B=w.frameDeltaHistory.slice(N.length*A._smoothingLowerBound,N.length*A._smoothingUpperBound),Y=A._mean(B);F=Y||F}w.frameDeltaSnapping&&(F=1e3/Math.round(1e3/F)),w.frameDelta=F,w.timeLastTick=O,w.timeBuffer+=w.frameDelta,w.timeBuffer=l.clamp(w.timeBuffer,0,w.frameDelta+b*A._timeBufferMargin),w.lastUpdatesDeferred=0;for(var W=w.maxUpdates||Math.ceil(w.maxFrameTime/b),z=l.now();b>0&&w.timeBuffer>=b*A._timeBufferMargin;){h.update(L,b),w.timeBuffer-=b,D+=1;var X=l.now()-M,H=l.now()-z,V=X+A._elapsedNextEstimate*H/D;if(D>=W||V>w.maxFrameTime){w.lastUpdatesDeferred=Math.round(Math.max(0,w.timeBuffer/b-A._timeBufferMargin));break}}}},"update"),step:r(function(O){h.update(this.engine,O)},"step"),update60Hz:r(function(){return 1e3/60},"update60Hz"),update30Hz:r(function(){return 1e3/30},"update30Hz"),has:r(function(O){var L=O.hasOwnProperty("body")?O.body:O;return u.get(this.localWorld,L.id,L.type)!==null},"has"),getAllBodies:r(function(){return u.allBodies(this.localWorld)},"getAllBodies"),getAllConstraints:r(function(){return u.allConstraints(this.localWorld)},"getAllConstraints"),getAllComposites:r(function(){return u.allComposites(this.localWorld)},"getAllComposites"),postUpdate:r(function(){if(this.drawDebug){var O=this.debugConfig,L=this.engine,w=this.debugGraphic,M=u.allBodies(this.localWorld);this.debugGraphic.clear(),O.showBroadphase&&L.broadphase.controller&&this.renderGrid(L.broadphase,w,O.broadphaseColor,.5),O.showBounds&&this.renderBodyBounds(M,w,O.boundsColor,.5),(O.showBody||O.showStaticBody)&&this.renderBodies(M),O.showJoint&&this.renderJoints(),(O.showAxes||O.showAngleIndicator)&&this.renderBodyAxes(M,w,O.showAxes,O.angleColor,.5),O.showVelocity&&this.renderBodyVelocity(M,w,O.velocityColor,1,2),O.showSeparations&&this.renderSeparations(L.pairs.list,w,O.separationColor),O.showCollisions&&this.renderCollisions(L.pairs.list,w,O.collisionColor)}},"postUpdate"),renderGrid:r(function(O,L,w,M){L.lineStyle(1,w,M);for(var b=l.keys(O.buckets),D=0;D<b.length;D++){var F=b[D];if(!(O.buckets[F].length<2)){var N=F.split(/C|R/);L.strokeRect(parseInt(N[1],10)*O.bucketWidth,parseInt(N[2],10)*O.bucketHeight,O.bucketWidth,O.bucketHeight)}}return this},"renderGrid"),renderSeparations:r(function(O,L,w){L.lineStyle(1,w,1);for(var M=0;M<O.length;M++){var b=O[M];if(b.isActive){var D=b.collision,F=D.bodyA,N=D.bodyB,B=F.position,Y=N.position,W=D.penetration,z=!F.isStatic&&!N.isStatic?4:1;N.isStatic&&(z=0),L.lineBetween(Y.x,Y.y,Y.x-W.x*z,Y.y-W.y*z),z=!F.isStatic&&!N.isStatic?4:1,F.isStatic&&(z=0),L.lineBetween(B.x,B.y,B.x-W.x*z,B.y-W.y*z)}}return this},"renderSeparations"),renderCollisions:r(function(O,L,w){L.lineStyle(1,w,.5),L.fillStyle(w,1);var M,b;for(M=0;M<O.length;M++)if(b=O[M],!!b.isActive)for(var D=0;D<b.contactCount;D++){var F=b.contacts[D],N=F.vertex;N&&L.fillRect(N.x-2,N.y-2,5,5)}for(M=0;M<O.length;M++)if(b=O[M],!!b.isActive){var B=b.collision,Y=b.contacts;if(b.contactCount>0){var W=Y[0].vertex.x,z=Y[0].vertex.y;b.contactCount===2&&(W=(Y[0].vertex.x+Y[1].vertex.x)/2,z=(Y[0].vertex.y+Y[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?L.lineBetween(W-B.normal.x*8,z-B.normal.y*8,W,z):L.lineBetween(W+B.normal.x*8,z+B.normal.y*8,W,z)}}return this},"renderCollisions"),renderBodyBounds:r(function(O,L,w,M){L.lineStyle(1,w,M);for(var b=0;b<O.length;b++){var D=O[b];if(D.render.visible){var F=D.bounds;if(F)L.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var N=D.parts,B=N.length>1?1:0;B<N.length;B++){var Y=N[B];L.strokeRect(Y.bounds.min.x,Y.bounds.min.y,Y.bounds.max.x-Y.bounds.min.x,Y.bounds.max.y-Y.bounds.min.y)}}}return this},"renderBodyBounds"),renderBodyAxes:r(function(O,L,w,M,b){L.lineStyle(1,M,b);for(var D=0;D<O.length;D++){var F=O[D],N=F.parts;if(F.render.visible){var B,Y,W;if(w)for(Y=N.length>1?1:0;Y<N.length;Y++)for(B=N[Y],W=0;W<B.axes.length;W++){var z=B.axes[W];L.lineBetween(B.position.x,B.position.y,B.position.x+z.x*20,B.position.y+z.y*20)}else for(Y=N.length>1?1:0;Y<N.length;Y++)for(B=N[Y],W=0;W<B.axes.length;W++)L.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},"renderBodyAxes"),renderBodyVelocity:r(function(O,L,w,M,b){L.lineStyle(b,w,M);for(var D=0;D<O.length;D++){var F=O[D];F.render.visible&&L.lineBetween(F.position.x,F.position.y,F.position.x+(F.position.x-F.positionPrev.x)*2,F.position.y+(F.position.y-F.positionPrev.y)*2)}return this},"renderBodyVelocity"),renderBodies:r(function(O){for(var L=this.debugGraphic,w=this.debugConfig,M=w.showBody,b=w.showStaticBody,D=w.showSleeping,F=w.showInternalEdges,N=w.showConvexHulls,B=w.renderFill,Y=w.renderLine,W=w.staticBodySleepOpacity,z=w.sleepFillColor,X=w.sleepLineColor,H=w.hullColor,V=0;V<O.length;V++){var G=O[V];if(G.render.visible&&!(!b&&G.isStatic||!M&&!G.isStatic)){var k=G.render.lineColor,U=G.render.lineOpacity,I=G.render.lineThickness,$=G.render.fillColor,K=G.render.fillOpacity;D&&G.isSleeping&&(G.isStatic?(U*=W,K*=W):(k=X,$=z)),B||($=null),Y||(k=null),this.renderBody(G,L,F,k,U,I,$,K);var Z=G.parts.length;N&&Z>1&&this.renderConvexHull(G,L,H,I)}}},"renderBodies"),renderBody:r(function(O,L,w,M,b,D,F,N){M===void 0&&(M=null),b===void 0&&(b=null),D===void 0&&(D=1),F===void 0&&(F=null),N===void 0&&(N=null);for(var B=this.debugConfig,Y=B.sensorFillColor,W=B.sensorLineColor,z=O.parts,X=z.length,H=X>1?1:0;H<X;H++){var V=z[H],G=V.render,k=G.opacity;if(!(!G.visible||k===0||V.isSensor&&!B.showSensors)){var U=V.circleRadius;if(L.beginPath(),V.isSensor?(F!==null&&L.fillStyle(Y,N*k),M!==null&&L.lineStyle(D,W,b*k)):(F!==null&&L.fillStyle(F,N*k),M!==null&&L.lineStyle(D,M,b*k)),U)L.arc(V.position.x,V.position.y,U,0,2*Math.PI);else{var I=V.vertices,$=I.length;L.moveTo(I[0].x,I[0].y);for(var K=1;K<$;K++){var Z=I[K];if(!I[K-1].isInternal||w?L.lineTo(Z.x,Z.y):L.moveTo(Z.x,Z.y),K<$&&Z.isInternal&&!w){var J=(K+1)%$;L.moveTo(I[J].x,I[J].y)}}L.closePath()}F!==null&&L.fillPath(),M!==null&&L.strokePath()}}if(B.showPositions&&!O.isStatic){var Q=O.position.x,q=O.position.y,j=Math.ceil(B.positionSize/2);L.fillStyle(B.positionColor,1),L.fillRect(Q-j,q-j,B.positionSize,B.positionSize)}return this},"renderBody"),renderConvexHull:r(function(O,L,w,M){M===void 0&&(M=1);var b=O.parts,D=b.length;if(D>1){var F=O.vertices;L.lineStyle(M,w),L.beginPath(),L.moveTo(F[0].x,F[0].y);for(var N=1;N<F.length;N++)L.lineTo(F[N].x,F[N].y);L.lineTo(F[0].x,F[0].y),L.strokePath()}return this},"renderConvexHull"),renderJoints:r(function(){for(var O=this.debugGraphic,L=u.allConstraints(this.localWorld),w=0;w<L.length;w++){var M=L[w].render,b=M.lineColor,D=M.lineOpacity,F=M.lineThickness,N=M.pinSize,B=M.anchorColor,Y=M.anchorSize;this.renderConstraint(L[w],O,b,D,F,N,B,Y)}},"renderJoints"),renderConstraint:r(function(O,L,w,M,b,D,F,N){var B=O.render;if(!B.visible||!O.pointA||!O.pointB)return this;L.lineStyle(b,w,M);var Y=O.bodyA,W=O.bodyB,z,X;if(Y?z=R.add(Y.position,O.pointA):z=O.pointA,B.type==="pin")L.strokeCircle(z.x,z.y,D);else{if(W?X=R.add(W.position,O.pointB):X=O.pointB,L.beginPath(),L.moveTo(z.x,z.y),B.type==="spring")for(var H=R.sub(X,z),V=R.perp(R.normalise(H)),G=Math.ceil(l.clamp(O.length/5,12,20)),k,U=1;U<G;U+=1)k=U%2===0?1:-1,L.lineTo(z.x+H.x*(U/G)+V.x*k*4,z.y+H.y*(U/G)+V.y*k*4);L.lineTo(X.x,X.y)}return L.strokePath(),B.anchors&&N>0&&(L.fillStyle(F),L.fillCircle(z.x,z.y,N),L.fillCircle(X.x,X.y,N)),this},"renderConstraint"),resetCollisionIDs:r(function(){return T._nextCollidingGroupId=1,T._nextNonCollidingGroupId=-1,T._nextCategory=1,this},"resetCollisionIDs"),shutdown:r(function(){m.off(this.engine),this.removeAllListeners(),E.clear(this.localWorld,!1),h.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},"shutdown"),destroy:r(function(){this.shutdown()},"destroy")});n.exports=P},70410:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setBounce:r(function(s){return this.body.restitution=s,this},"setBounce")};n.exports=C},66968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setCollisionCategory:r(function(s){return this.body.collisionFilter.category=s,this},"setCollisionCategory"),setCollisionGroup:r(function(s){return this.body.collisionFilter.group=s,this},"setCollisionGroup"),setCollidesWith:r(function(s){var o=0;if(!Array.isArray(s))o=s;else for(var T=0;T<s.length;T++)o|=s[T];return this.body.collisionFilter.mask=o,this},"setCollidesWith"),setOnCollide:r(function(s){return this.body.onCollideCallback=s,this},"setOnCollide"),setOnCollideEnd:r(function(s){return this.body.onCollideEndCallback=s,this},"setOnCollideEnd"),setOnCollideActive:r(function(s){return this.body.onCollideActiveCallback=s,this},"setOnCollideActive"),setOnCollideWith:r(function(s,o){Array.isArray(s)||(s=[s]);for(var T=0;T<s.length;T++){var c=s[T].hasOwnProperty("body")?s[T].body:s[T];this.body.setOnCollideWith(c,o)}return this},"setOnCollideWith")};n.exports=C},51607:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),T={applyForce:r(function(c){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,c),this},"applyForce"),applyForceFrom:r(function(c,l){return o.applyForce(this.body,c,l),this},"applyForceFrom"),thrust:r(function(c){var l=this.body.angle;return this._tempVec2.set(c*Math.cos(l),c*Math.sin(l)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrust"),thrustLeft:r(function(c){var l=this.body.angle-Math.PI/2;return this._tempVec2.set(c*Math.cos(l),c*Math.sin(l)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrustLeft"),thrustRight:r(function(c){var l=this.body.angle+Math.PI/2;return this._tempVec2.set(c*Math.cos(l),c*Math.sin(l)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrustRight"),thrustBack:r(function(c){var l=this.body.angle-Math.PI;return this._tempVec2.set(c*Math.cos(l),c*Math.sin(l)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},"thrustBack")};n.exports=T},5436:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setFriction:r(function(s,o,T){return this.body.friction=s,o!==void 0&&(this.body.frictionAir=o),T!==void 0&&(this.body.frictionStatic=T),this},"setFriction"),setFrictionAir:r(function(s){return this.body.frictionAir=s,this},"setFrictionAir"),setFrictionStatic:r(function(s){return this.body.frictionStatic=s,this},"setFrictionStatic")};n.exports=C},39858:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setIgnoreGravity:r(function(s){return this.body.ignoreGravity=s,this},"setIgnoreGravity")};n.exports=C},37302:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),T=s(26099),c={setMass:r(function(l){return o.setMass(this.body,l),this},"setMass"),setDensity:r(function(l){return o.setDensity(this.body,l),this},"setDensity"),centerOfMass:{get:r(function(){return new T(this.body.centerOfMass.x,this.body.centerOfMass.y)},"get")}};n.exports=c},39132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setSensor:r(function(s){return this.body.isSensor=s,this},"setSensor"),isSensor:r(function(){return this.body.isSensor},"isSensor")};n.exports=C},57772:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),T=s(22562),c=s(43855),l=s(95540),u=s(19496),h=s(85791),f=s(41598),v={setRectangle:r(function(d,p,g){return this.setBody({type:"rectangle",width:d,height:p},g)},"setRectangle"),setCircle:r(function(d,p){return this.setBody({type:"circle",radius:d},p)},"setCircle"),setPolygon:r(function(d,p,g){return this.setBody({type:"polygon",sides:p,radius:d},g)},"setPolygon"),setTrapezoid:r(function(d,p,g,m){return this.setBody({type:"trapezoid",width:d,height:p,slope:g},m)},"setTrapezoid"),setExistingBody:r(function(d,p){p===void 0&&(p=!0),this.body&&this.world.remove(this.body,!0),this.body=d;for(var g=0;g<d.parts.length;g++)d.parts[g].gameObject=this;var m=this;if(d.destroy=r(function(){m.world.remove(m.body,!0),m.body.gameObject=null},"destroy"),p&&(this.world.has(d)&&this.world.remove(d,!0),this.world.add(d)),this._originComponent){var x=d.render.sprite.xOffset,E=d.render.sprite.yOffset,A=d.centerOfMass.x,R=d.centerOfMass.y;if(c(A,.5)&&c(R,.5))this.setOrigin(x+.5,E+.5);else{var P=d.centerOffset.x,O=d.centerOffset.y;this.setOrigin(x+P/this.displayWidth,E+O/this.displayHeight)}}return this},"setExistingBody"),setBody:r(function(d,p){if(!d)return this;var g;typeof d=="string"&&(d={type:d});var m=l(d,"type","rectangle"),x=l(d,"x",this._tempVec2.x),E=l(d,"y",this._tempVec2.y),A=l(d,"width",this.width),R=l(d,"height",this.height);switch(m){case"rectangle":g=o.rectangle(x,E,A,R,p);break;case"circle":var P=l(d,"radius",Math.max(A,R)/2),O=l(d,"maxSides",25);g=o.circle(x,E,P,p,O);break;case"trapezoid":var L=l(d,"slope",.5);g=o.trapezoid(x,E,A,R,L,p);break;case"polygon":var w=l(d,"sides",5),M=l(d,"radius",Math.max(A,R)/2);g=o.polygon(x,E,w,M,p);break;case"fromVertices":case"fromVerts":var b=l(d,"verts",null);if(b)if(typeof b=="string"&&(b=f.fromPath(b)),this.body&&!this.body.hasOwnProperty("temp"))T.setVertices(this.body,b),g=this.body;else{var D=l(d,"flagInternal",!1),F=l(d,"removeCollinear",.01),N=l(d,"minimumArea",10);g=o.fromVertices(x,E,b,p,D,F,N)}break;case"fromPhysicsEditor":g=u.parseBody(x,E,d,p);break;case"fromPhysicsTracer":g=h.parseBody(x,E,d,p);break}return g&&this.setExistingBody(g,d.addToWorld),this},"setBody")};n.exports=v},38083:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(1121),T=s(53614),c=s(35810),l={setToSleep:r(function(){return T.set(this.body,!0),this},"setToSleep"),setAwake:r(function(){return T.set(this.body,!1),this},"setAwake"),setSleepThreshold:r(function(u){return u===void 0&&(u=60),this.body.sleepThreshold=u,this},"setSleepThreshold"),setSleepEvents:r(function(u,h){return this.setSleepStartEvent(u),this.setSleepEndEvent(h),this},"setSleepEvents"),setSleepStartEvent:r(function(u){if(u){var h=this.world;c.on(this.body,"sleepStart",function(f){h.emit(o.SLEEP_START,f,this)})}else c.off(this.body,"sleepStart");return this},"setSleepStartEvent"),setSleepEndEvent:r(function(u){if(u){var h=this.world;c.on(this.body,"sleepEnd",function(f){h.emit(o.SLEEP_END,f,this)})}else c.off(this.body,"sleepEnd");return this},"setSleepEndEvent")};n.exports=l},90556:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),T={setStatic:r(function(c){return o.setStatic(this.body,c),this},"setStatic"),isStatic:r(function(){return this.body.isStatic},"isStatic")};n.exports=T},85436:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),T=s(36383),c=s(86554),l=s(30954),u=4,h={x:{get:r(function(){return this.body.position.x},"get"),set:r(function(f){this._tempVec2.set(f,this.y),o.setPosition(this.body,this._tempVec2)},"set")},y:{get:r(function(){return this.body.position.y},"get"),set:r(function(f){this._tempVec2.set(this.x,f),o.setPosition(this.body,this._tempVec2)},"set")},scale:{get:r(function(){return(this._scaleX+this._scaleY)/2},"get"),set:r(function(f){this.setScale(f,f)},"set")},scaleX:{get:r(function(){return this._scaleX},"get"),set:r(function(f){var v=1/this._scaleX,d=1/this._scaleY;this._scaleX=f,this._scaleX===0?this.renderFlags&=~u:this.renderFlags|=u,o.scale(this.body,v,d),o.scale(this.body,f,this._scaleY)},"set")},scaleY:{get:r(function(){return this._scaleY},"get"),set:r(function(f){var v=1/this._scaleX,d=1/this._scaleY;this._scaleY=f,this._scaleY===0?this.renderFlags&=~u:this.renderFlags|=u,o.scale(this.body,v,d),o.scale(this.body,this._scaleX,f)},"set")},angle:{get:r(function(){return l(this.body.angle*T.RAD_TO_DEG)},"get"),set:r(function(f){this.rotation=l(f)*T.DEG_TO_RAD},"set")},rotation:{get:r(function(){return this.body.angle},"get"),set:r(function(f){this._rotation=c(f),o.setAngle(this.body,this._rotation)},"set")},setPosition:r(function(f,v){return f===void 0&&(f=0),v===void 0&&(v=f),this._tempVec2.set(f,v),o.setPosition(this.body,this._tempVec2),this},"setPosition"),setRotation:r(function(f){return f===void 0&&(f=0),this._rotation=c(f),o.setAngle(this.body,f),this},"setRotation"),setFixedRotation:r(function(){return o.setInertia(this.body,1/0),this},"setFixedRotation"),setAngle:r(function(f){return f===void 0&&(f=0),this.angle=f,o.setAngle(this.body,this.rotation),this},"setAngle"),setScale:r(function(f,v,d){f===void 0&&(f=1),v===void 0&&(v=f);var p=1/this._scaleX,g=1/this._scaleY;return this._scaleX=f,this._scaleY=v,o.scale(this.body,p,g,d),o.scale(this.body,f,v,d),this},"setScale")};n.exports=h},42081:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),T={setVelocityX:r(function(c){return this._tempVec2.set(c,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},"setVelocityX"),setVelocityY:r(function(c){return this._tempVec2.set(this.body.velocity.x,c),o.setVelocity(this.body,this._tempVec2),this},"setVelocityY"),setVelocity:r(function(c,l){return this._tempVec2.set(c,l),o.setVelocity(this.body,this._tempVec2),this},"setVelocity"),getVelocity:r(function(){return o.getVelocity(this.body)},"getVelocity"),setAngularVelocity:r(function(c){return o.setAngularVelocity(this.body,c),this},"setAngularVelocity"),getAngularVelocity:r(function(){return o.getAngularVelocity(this.body)},"getAngularVelocity"),setAngularSpeed:r(function(c){return o.setAngularSpeed(this.body,c),this},"setAngularSpeed"),getAngularSpeed:r(function(){return o.getAngularSpeed(this.body)},"getAngularSpeed")};n.exports=T},31884:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bounce:s(70410),Collision:s(66968),Force:s(51607),Friction:s(5436),Gravity:s(39858),Mass:s(37302),Sensor:s(39132),SetBody:s(57772),Sleep:s(38083),Static:s(90556),Transform:s(85436),Velocity:s(42081)}},85608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afteradd"},1213:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterremove"},25968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterupdate"},67205:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeadd"},39438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeremove"},44823:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeupdate"},92593:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionactive"},60128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionend"},76861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionstart"},92362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},76408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},93971:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},5656:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},47861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},79099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepend"},35906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepstart"},1121:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_ADD:s(85608),AFTER_REMOVE:s(1213),AFTER_UPDATE:s(25968),BEFORE_ADD:s(67205),BEFORE_REMOVE:s(39438),BEFORE_UPDATE:s(44823),COLLISION_ACTIVE:s(92593),COLLISION_END:s(60128),COLLISION_START:s(76861),DRAG_END:s(92362),DRAG:s(76408),DRAG_START:s(93971),PAUSE:s(5656),RESUME:s(47861),SLEEP_END:s(79099),SLEEP_START:s(35906)}},3875:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BodyBounds:s(68174),Components:s(31884),Events:s(1121),Factory:s(28137),MatterGameObject:s(75803),Image:s(23181),Matter:s(19933),MatterPhysics:s(42045),PolyDecomp:s(55973),Sprite:s(34803),TileBody:s(73834),PhysicsEditorParser:s(19496),PhysicsJSONParser:s(85791),PointerConstraint:s(98713),World:s(68243)}},22562:(n,C,s)=>{var o={};n.exports=o;var T=s(41598),c=s(31725),l=s(53614),u=s(53402),h=s(15647),f=s(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(d){var p={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:d.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!d.hasOwnProperty("position")&&d.hasOwnProperty("vertices")?d.position=T.centre(d.vertices):d.hasOwnProperty("vertices")||(p.vertices=T.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var g=u.extend(p,d);return v(g,d),g.setOnCollideWith=function(m,x){return x?this.onCollideWith[m.id]=x:delete this.onCollideWith[m.id],this},g},o.nextGroup=function(d){return d?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var v=r(function(d,p){if(p=p||{},o.set(d,{bounds:d.bounds||h.create(d.vertices),positionPrev:d.positionPrev||c.clone(d.position),anglePrev:d.anglePrev||d.angle,vertices:d.vertices,parts:d.parts||[d],isStatic:d.isStatic,isSleeping:d.isSleeping,parent:d.parent||d}),T.rotate(d.vertices,d.angle,d.position),f.rotate(d.axes,d.angle),h.update(d.bounds,d.vertices,d.velocity),o.set(d,{axes:p.axes||d.axes,area:p.area||d.area,mass:p.mass||d.mass,inertia:p.inertia||d.inertia}),d.parts.length===1){var g=d.bounds,m=d.centerOfMass,x=d.centerOffset,E=g.max.x-g.min.x,A=g.max.y-g.min.y;m.x=-(g.min.x-d.position.x)/E,m.y=-(g.min.y-d.position.y)/A,x.x=E*m.x,x.y=A*m.y}},"_initProperties");o.set=function(d,p,g){var m;typeof p=="string"&&(m=p,p={},p[m]=g);for(m in p)if(Object.prototype.hasOwnProperty.call(p,m))switch(g=p[m],m){case"isStatic":o.setStatic(d,g);break;case"isSleeping":l.set(d,g);break;case"mass":o.setMass(d,g);break;case"density":o.setDensity(d,g);break;case"inertia":o.setInertia(d,g);break;case"vertices":o.setVertices(d,g);break;case"position":o.setPosition(d,g);break;case"angle":o.setAngle(d,g);break;case"velocity":o.setVelocity(d,g);break;case"angularVelocity":o.setAngularVelocity(d,g);break;case"speed":o.setSpeed(d,g);break;case"angularSpeed":o.setAngularSpeed(d,g);break;case"parts":o.setParts(d,g);break;case"centre":o.setCentre(d,g);break;default:d[m]=g}},o.setStatic=function(d,p){for(var g=0;g<d.parts.length;g++){var m=d.parts[g];p?(m.isStatic||(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia}),m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null),m.isStatic=p}},o.setMass=function(d,p){var g=d.inertia/(d.mass/6);d.inertia=g*(p/6),d.inverseInertia=1/d.inertia,d.mass=p,d.inverseMass=1/d.mass,d.density=d.mass/d.area},o.setDensity=function(d,p){o.setMass(d,p*d.area),d.density=p},o.setInertia=function(d,p){d.inertia=p,d.inverseInertia=1/d.inertia},o.setVertices=function(d,p){p[0].body===d?d.vertices=p:d.vertices=T.create(p,d),d.axes=f.fromVertices(d.vertices),d.area=T.area(d.vertices),o.setMass(d,d.density*d.area);var g=T.centre(d.vertices);T.translate(d.vertices,g,-1),o.setInertia(d,o._inertiaScale*T.inertia(d.vertices,d.mass)),T.translate(d.vertices,d.position),h.update(d.bounds,d.vertices,d.velocity)},o.setParts=function(d,p,g){var m;for(p=p.slice(0),d.parts.length=0,d.parts.push(d),d.parent=d,m=0;m<p.length;m++){var x=p[m];x!==d&&(x.parent=d,d.parts.push(x))}if(d.parts.length!==1){if(g=typeof g<"u"?g:!0,g){var E=[];for(m=0;m<p.length;m++)E=E.concat(p[m].vertices);T.clockwiseSort(E);var A=T.hull(E),R=T.centre(A);o.setVertices(d,A),T.translate(d.vertices,R)}var P=o._totalProperties(d),O=P.centre.x,L=P.centre.y,w=d.bounds,M=d.centerOfMass,b=d.centerOffset;h.update(w,d.vertices,d.velocity),M.x=-(w.min.x-O)/(w.max.x-w.min.x),M.y=-(w.min.y-L)/(w.max.y-w.min.y),b.x=O,b.y=L,d.area=P.area,d.parent=d,d.position.x=O,d.position.y=L,d.positionPrev.x=O,d.positionPrev.y=L,o.setMass(d,P.mass),o.setInertia(d,P.inertia),o.setPosition(d,P.centre)}},o.setCentre=function(d,p,g){g?(d.positionPrev.x+=p.x,d.positionPrev.y+=p.y,d.position.x+=p.x,d.position.y+=p.y):(d.positionPrev.x=p.x-(d.position.x-d.positionPrev.x),d.positionPrev.y=p.y-(d.position.y-d.positionPrev.y),d.position.x=p.x,d.position.y=p.y)},o.setPosition=function(d,p,g){var m=c.sub(p,d.position);g?(d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.velocity.x=m.x,d.velocity.y=m.y,d.speed=c.magnitude(m)):(d.positionPrev.x+=m.x,d.positionPrev.y+=m.y);for(var x=0;x<d.parts.length;x++){var E=d.parts[x];E.position.x+=m.x,E.position.y+=m.y,T.translate(E.vertices,m),h.update(E.bounds,E.vertices,d.velocity)}},o.setAngle=function(d,p,g){var m=p-d.angle;g?(d.anglePrev=d.angle,d.angularVelocity=m,d.angularSpeed=Math.abs(m)):d.anglePrev+=m;for(var x=0;x<d.parts.length;x++){var E=d.parts[x];E.angle+=m,T.rotate(E.vertices,m,d.position),f.rotate(E.axes,m),h.update(E.bounds,E.vertices,d.velocity),x>0&&c.rotateAbout(E.position,m,d.position,E.position)}},o.setVelocity=function(d,p){var g=d.deltaTime/o._baseDelta;d.positionPrev.x=d.position.x-p.x*g,d.positionPrev.y=d.position.y-p.y*g,d.velocity.x=(d.position.x-d.positionPrev.x)/g,d.velocity.y=(d.position.y-d.positionPrev.y)/g,d.speed=c.magnitude(d.velocity)},o.getVelocity=function(d){var p=o._baseDelta/d.deltaTime;return{x:(d.position.x-d.positionPrev.x)*p,y:(d.position.y-d.positionPrev.y)*p}},o.getSpeed=function(d){return c.magnitude(o.getVelocity(d))},o.setSpeed=function(d,p){o.setVelocity(d,c.mult(c.normalise(o.getVelocity(d)),p))},o.setAngularVelocity=function(d,p){var g=d.deltaTime/o._baseDelta;d.anglePrev=d.angle-p*g,d.angularVelocity=(d.angle-d.anglePrev)/g,d.angularSpeed=Math.abs(d.angularVelocity)},o.getAngularVelocity=function(d){return(d.angle-d.anglePrev)*o._baseDelta/d.deltaTime},o.getAngularSpeed=function(d){return Math.abs(o.getAngularVelocity(d))},o.setAngularSpeed=function(d,p){o.setAngularVelocity(d,u.sign(o.getAngularVelocity(d))*p)},o.translate=function(d,p,g){o.setPosition(d,c.add(d.position,p),g)},o.rotate=function(d,p,g,m){if(!g)o.setAngle(d,d.angle+p,m);else{var x=Math.cos(p),E=Math.sin(p),A=d.position.x-g.x,R=d.position.y-g.y;o.setPosition(d,{x:g.x+(A*x-R*E),y:g.y+(A*E+R*x)},m),o.setAngle(d,d.angle+p,m)}},o.scale=function(d,p,g,m){var x=0,E=0;m=m||d.position;for(var A=d.inertia===1/0,R=0;R<d.parts.length;R++){var P=d.parts[R];P.scale.x=p,P.scale.y=g,T.scale(P.vertices,p,g,m),P.axes=f.fromVertices(P.vertices),P.area=T.area(P.vertices),o.setMass(P,d.density*P.area),T.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),o.setInertia(P,o._inertiaScale*T.inertia(P.vertices,P.mass)),T.translate(P.vertices,{x:P.position.x,y:P.position.y}),R>0&&(x+=P.area,E+=P.inertia),P.position.x=m.x+(P.position.x-m.x)*p,P.position.y=m.y+(P.position.y-m.y)*g,h.update(P.bounds,P.vertices,d.velocity)}d.parts.length>1&&(d.area=x,d.isStatic||(o.setMass(d,d.density*x),o.setInertia(d,E))),d.circleRadius&&(p===g?d.circleRadius*=p:d.circleRadius=null),A&&o.setInertia(d,1/0)},o.update=function(d,p){p=(typeof p<"u"?p:16.666666666666668)*d.timeScale;var g=p*p,m=o._timeCorrection?p/(d.deltaTime||p):1,x=1-d.frictionAir*(p/u._baseDelta),E=(d.position.x-d.positionPrev.x)*m,A=(d.position.y-d.positionPrev.y)*m;d.velocity.x=E*x+d.force.x/d.mass*g,d.velocity.y=A*x+d.force.y/d.mass*g,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.position.x+=d.velocity.x,d.position.y+=d.velocity.y,d.deltaTime=p,d.angularVelocity=(d.angle-d.anglePrev)*x*m+d.torque/d.inertia*g,d.anglePrev=d.angle,d.angle+=d.angularVelocity,d.speed=c.magnitude(d.velocity),d.angularSpeed=Math.abs(d.angularVelocity);for(var R=0;R<d.parts.length;R++){var P=d.parts[R];T.translate(P.vertices,d.velocity),R>0&&(P.position.x+=d.velocity.x,P.position.y+=d.velocity.y),d.angularVelocity!==0&&(T.rotate(P.vertices,d.angularVelocity,d.position),f.rotate(P.axes,d.angularVelocity),R>0&&c.rotateAbout(P.position,d.angularVelocity,d.position,P.position)),h.update(P.bounds,P.vertices,d.velocity)}},o.updateVelocities=function(d){var p=o._baseDelta/d.deltaTime,g=d.velocity;g.x=(d.position.x-d.positionPrev.x)*p,g.y=(d.position.y-d.positionPrev.y)*p,d.speed=Math.sqrt(g.x*g.x+g.y*g.y),d.angularVelocity=(d.angle-d.anglePrev)*p,d.angularSpeed=Math.abs(d.angularVelocity)},o.applyForce=function(d,p,g){var m={x:p.x-d.position.x,y:p.y-d.position.y};d.force.x+=g.x,d.force.y+=g.y,d.torque+=m.x*g.y-m.y*g.x},o._totalProperties=function(d){for(var p={mass:0,area:0,inertia:0,centre:{x:0,y:0}},g=d.parts.length===1?0:1;g<d.parts.length;g++){var m=d.parts[g],x=m.mass!==1/0?m.mass:1;p.mass+=x,p.area+=m.area,p.inertia+=m.inertia,p.centre=c.add(p.centre,c.mult(m.position,x))}return p.centre=c.div(p.centre,p.mass),p},o.wrap=function(d,p){var g=h.wrap(d.bounds,p);return g&&o.translate(d,g),g}})()},69351:(n,C,s)=>{var o={};n.exports=o;var T=s(35810),c=s(53402),l=s(15647),u=s(22562);(function(){o.create=function(h){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},h)},o.setModified=function(h,f,v,d){if(T.trigger(h,"compositeModified",h),h.isModified=f,f&&h.cache&&(h.cache.allBodies=null,h.cache.allConstraints=null,h.cache.allComposites=null),v&&h.parent&&o.setModified(h.parent,f,v,d),d)for(var p=0;p<h.composites.length;p++){var g=h.composites[p];o.setModified(g,f,v,d)}},o.add=function(h,f){var v=[].concat(f);T.trigger(h,"beforeAdd",{object:f});for(var d=0;d<v.length;d++){var p=v[d];switch(p.type){case"body":if(p.parent!==p){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(h,p);break;case"constraint":o.addConstraint(h,p);break;case"composite":o.addComposite(h,p);break;case"mouseConstraint":o.addConstraint(h,p.constraint);break}}return T.trigger(h,"afterAdd",{object:f}),h},o.remove=function(h,f,v){var d=[].concat(f);T.trigger(h,"beforeRemove",{object:f});for(var p=0;p<d.length;p++){var g=d[p];switch(g.type){case"body":o.removeBody(h,g,v);break;case"constraint":o.removeConstraint(h,g,v);break;case"composite":o.removeComposite(h,g,v);break;case"mouseConstraint":o.removeConstraint(h,g.constraint);break}}return T.trigger(h,"afterRemove",{object:f}),h},o.addComposite=function(h,f){return h.composites.push(f),f.parent=h,o.setModified(h,!0,!0,!1),h},o.removeComposite=function(h,f,v){var d=c.indexOf(h.composites,f);if(d!==-1){var p=o.allBodies(f);o.removeCompositeAt(h,d);for(var g=0;g<p.length;g++)p[g].sleepCounter=0}if(v)for(var g=0;g<h.composites.length;g++)o.removeComposite(h.composites[g],f,!0);return h},o.removeCompositeAt=function(h,f){return h.composites.splice(f,1),o.setModified(h,!0,!0,!1),h},o.addBody=function(h,f){return h.bodies.push(f),o.setModified(h,!0,!0,!1),h},o.removeBody=function(h,f,v){var d=c.indexOf(h.bodies,f);if(d!==-1&&(o.removeBodyAt(h,d),f.sleepCounter=0),v)for(var p=0;p<h.composites.length;p++)o.removeBody(h.composites[p],f,!0);return h},o.removeBodyAt=function(h,f){return h.bodies.splice(f,1),o.setModified(h,!0,!0,!1),h},o.addConstraint=function(h,f){return h.constraints.push(f),o.setModified(h,!0,!0,!1),h},o.removeConstraint=function(h,f,v){var d=c.indexOf(h.constraints,f);if(d!==-1&&o.removeConstraintAt(h,d),v)for(var p=0;p<h.composites.length;p++)o.removeConstraint(h.composites[p],f,!0);return h},o.removeConstraintAt=function(h,f){return h.constraints.splice(f,1),o.setModified(h,!0,!0,!1),h},o.clear=function(h,f,v){if(v)for(var d=0;d<h.composites.length;d++)o.clear(h.composites[d],f,!0);return f?h.bodies=h.bodies.filter(function(p){return p.isStatic}):h.bodies.length=0,h.constraints.length=0,h.composites.length=0,o.setModified(h,!0,!0,!1),h},o.allBodies=function(h){if(h.cache&&h.cache.allBodies)return h.cache.allBodies;for(var f=[].concat(h.bodies),v=0;v<h.composites.length;v++)f=f.concat(o.allBodies(h.composites[v]));return h.cache&&(h.cache.allBodies=f),f},o.allConstraints=function(h){if(h.cache&&h.cache.allConstraints)return h.cache.allConstraints;for(var f=[].concat(h.constraints),v=0;v<h.composites.length;v++)f=f.concat(o.allConstraints(h.composites[v]));return h.cache&&(h.cache.allConstraints=f),f},o.allComposites=function(h){if(h.cache&&h.cache.allComposites)return h.cache.allComposites;for(var f=[].concat(h.composites),v=0;v<h.composites.length;v++)f=f.concat(o.allComposites(h.composites[v]));return h.cache&&(h.cache.allComposites=f),f},o.get=function(h,f,v){var d,p;switch(v){case"body":d=o.allBodies(h);break;case"constraint":d=o.allConstraints(h);break;case"composite":d=o.allComposites(h).concat(h);break}return d?(p=d.filter(function(g){return g.id.toString()===f.toString()}),p.length===0?null:p[0]):null},o.move=function(h,f,v){return o.remove(h,f),o.add(v,f),h},o.rebase=function(h){for(var f=o.allBodies(h).concat(o.allConstraints(h)).concat(o.allComposites(h)),v=0;v<f.length;v++)f[v].id=c.nextId();return h},o.translate=function(h,f,v){for(var d=v?o.allBodies(h):h.bodies,p=0;p<d.length;p++)u.translate(d[p],f);return h},o.rotate=function(h,f,v,d){for(var p=Math.cos(f),g=Math.sin(f),m=d?o.allBodies(h):h.bodies,x=0;x<m.length;x++){var E=m[x],A=E.position.x-v.x,R=E.position.y-v.y;u.setPosition(E,{x:v.x+(A*p-R*g),y:v.y+(A*g+R*p)}),u.rotate(E,f)}return h},o.scale=function(h,f,v,d,p){for(var g=p?o.allBodies(h):h.bodies,m=0;m<g.length;m++){var x=g[m],E=x.position.x-d.x,A=x.position.y-d.y;u.setPosition(x,{x:d.x+E*f,y:d.y+A*v}),u.scale(x,f,v)}return h},o.bounds=function(h){for(var f=o.allBodies(h),v=[],d=0;d<f.length;d+=1){var p=f[d];v.push(p.bounds.min,p.bounds.max)}return l.create(v)},o.wrap=function(h,f){var v=l.wrap(o.bounds(h),f);return v&&o.translate(h,v),v}})()},4372:(n,C,s)=>{var o={};n.exports=o;var T=s(69351);(function(){o.create=T.create,o.add=T.add,o.remove=T.remove,o.clear=T.clear,o.addComposite=T.addComposite,o.addBody=T.addBody,o.addConstraint=T.addConstraint})()},52284:(n,C,s)=>{var o={};n.exports=o;var T=s(41598),c=s(4506);(function(){var l=[],u={overlap:0,axis:null},h={overlap:0,axis:null};o.create=function(f,v){return{pair:null,collided:!1,bodyA:f,bodyB:v,parentA:f.parent,parentB:v.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(f,v,d){if(o._overlapAxes(u,f.vertices,v.vertices,f.axes),u.overlap<=0||(o._overlapAxes(h,v.vertices,f.vertices,v.axes),h.overlap<=0))return null;var p=d&&d.table[c.id(f,v)],g;p?g=p.collision:(g=o.create(f,v),g.collided=!0,g.bodyA=f.id<v.id?f:v,g.bodyB=f.id<v.id?v:f,g.parentA=g.bodyA.parent,g.parentB=g.bodyB.parent),f=g.bodyA,v=g.bodyB;var m;u.overlap<h.overlap?m=u:m=h;var x=g.normal,E=g.tangent,A=g.penetration,R=g.supports,P=m.overlap,O=m.axis,L=O.x,w=O.y,M=v.position.x-f.position.x,b=v.position.y-f.position.y;L*M+w*b>=0&&(L=-L,w=-w),x.x=L,x.y=w,E.x=-w,E.y=L,A.x=L*P,A.y=w*P,g.depth=P;var D=o._findSupports(f,v,x,1),F=0;if(T.contains(f.vertices,D[0])&&(R[F++]=D[0]),T.contains(f.vertices,D[1])&&(R[F++]=D[1]),F<2){var N=o._findSupports(v,f,x,-1);T.contains(v.vertices,N[0])&&(R[F++]=N[0]),F<2&&T.contains(v.vertices,N[1])&&(R[F++]=N[1])}return F===0&&(R[F++]=D[0]),g.supportCount=F,g},o._overlapAxes=function(f,v,d,p){var g=v.length,m=d.length,x=v[0].x,E=v[0].y,A=d[0].x,R=d[0].y,P=p.length,O=Number.MAX_VALUE,L=0,w,M,b,D,F,N;for(F=0;F<P;F++){var B=p[F],Y=B.x,W=B.y,z=x*Y+E*W,X=A*Y+R*W,H=z,V=X;for(N=1;N<g;N+=1)D=v[N].x*Y+v[N].y*W,D>H?H=D:D<z&&(z=D);for(N=1;N<m;N+=1)D=d[N].x*Y+d[N].y*W,D>V?V=D:D<X&&(X=D);if(M=H-X,b=V-z,w=M<b?M:b,w<O&&(O=w,L=F,w<=0))break}f.axis=p[L],f.overlap=O},o._findSupports=function(f,v,d,p){var g=v.vertices,m=g.length,x=f.position.x,E=f.position.y,A=d.x*p,R=d.y*p,P=g[0],O=P,L=A*(x-O.x)+R*(E-O.y),w,M,b;for(b=1;b<m;b+=1)O=g[b],M=A*(x-O.x)+R*(E-O.y),M<L&&(L=M,P=O);return w=g[(m+P.index-1)%m],L=A*(x-w.x)+R*(E-w.y),O=g[(P.index+1)%m],A*(x-O.x)+R*(E-O.y)<L?(l[0]=P,l[1]=O,l):(l[0]=P,l[1]=w,l)}})()},43424:n=>{var C={};n.exports=C,function(){C.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},81388:(n,C,s)=>{var o={};n.exports=o;var T=s(53402),c=s(52284);(function(){o.create=function(l){var u={bodies:[],collisions:[],pairs:null};return T.extend(u,l)},o.setBodies=function(l,u){l.bodies=u.slice(0)},o.clear=function(l){l.bodies=[],l.collisions=[]},o.collisions=function(l){var u=l.pairs,h=l.bodies,f=h.length,v=o.canCollide,d=c.collides,p=l.collisions,g=0,m,x;for(h.sort(o._compareBoundsX),m=0;m<f;m++){var E=h[m],A=E.bounds,R=E.bounds.max.x,P=E.bounds.max.y,O=E.bounds.min.y,L=E.isStatic||E.isSleeping,w=E.parts.length,M=w===1;for(x=m+1;x<f;x++){var b=h[x],D=b.bounds;if(D.min.x>R)break;if(!(P<D.min.y||O>D.max.y)&&!(L&&(b.isStatic||b.isSleeping))&&v(E.collisionFilter,b.collisionFilter)){var F=b.parts.length;if(M&&F===1){var N=d(E,b,u);N&&(p[g++]=N)}else for(var B=w>1?1:0,Y=F>1?1:0,W=B;W<w;W++)for(var z=E.parts[W],A=z.bounds,X=Y;X<F;X++){var H=b.parts[X],D=H.bounds;if(!(A.min.x>D.max.x||A.max.x<D.min.x||A.max.y<D.min.y||A.min.y>D.max.y)){var N=d(z,H,u);N&&(p[g++]=N)}}}}}return p.length!==g&&(p.length=g),p},o.canCollide=function(l,u){return l.group===u.group&&l.group!==0?l.group>0:(l.mask&u.category)!==0&&(u.mask&l.category)!==0},o._compareBoundsX=function(l,u){return l.bounds.min.x-u.bounds.min.x}})()},4506:(n,C,s)=>{var o={};n.exports=o;var T=s(43424);(function(){o.create=function(c,l){var u=c.bodyA,h=c.bodyB,f={id:o.id(u,h),bodyA:u,bodyB:h,collision:c,contacts:[T.create(),T.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||h.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(f,c,l),f},o.update=function(c,l,u){var h=l.supports,f=l.supportCount,v=c.contacts,d=l.parentA,p=l.parentB;c.isActive=!0,c.timeUpdated=u,c.collision=l,c.separation=l.depth,c.inverseMass=d.inverseMass+p.inverseMass,c.friction=d.friction<p.friction?d.friction:p.friction,c.frictionStatic=d.frictionStatic>p.frictionStatic?d.frictionStatic:p.frictionStatic,c.restitution=d.restitution>p.restitution?d.restitution:p.restitution,c.slop=d.slop>p.slop?d.slop:p.slop,c.contactCount=f,l.pair=c;var g=h[0],m=v[0],x=h[1],E=v[1];(E.vertex===g||m.vertex===x)&&(v[1]=m,v[0]=m=E,E=v[1]),m.vertex=g,E.vertex=x},o.setActive=function(c,l,u){l?(c.isActive=!0,c.timeUpdated=u):(c.isActive=!1,c.contactCount=0)},o.id=function(c,l){return c.id<l.id?c.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+c.id.toString(36)}})()},99561:(n,C,s)=>{var o={};n.exports=o;var T=s(4506),c=s(53402);(function(){o.create=function(l){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},o.update=function(l,u,h){var f=T.update,v=T.create,d=T.setActive,p=l.table,g=l.list,m=g.length,x=m,E=l.collisionStart,A=l.collisionEnd,R=l.collisionActive,P=u.length,O=0,L=0,w=0,M,b,D;for(D=0;D<P;D++)M=u[D],b=M.pair,b?(b.isActive&&(R[w++]=b),f(b,M,h)):(b=v(M,h),p[b.id]=b,E[O++]=b,g[x++]=b);for(x=0,m=g.length,D=0;D<m;D++)b=g[D],b.timeUpdated>=h?g[x++]=b:(d(b,!1,h),b.collision.bodyA.sleepCounter>0&&b.collision.bodyB.sleepCounter>0?g[x++]=b:(A[L++]=b,delete p[b.id]));g.length!==x&&(g.length=x),E.length!==O&&(E.length=O),A.length!==L&&(A.length=L),R.length!==w&&(R.length=w)},o.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},73296:(n,C,s)=>{var o={};n.exports=o;var T=s(31725),c=s(52284),l=s(15647),u=s(66280),h=s(41598);(function(){o.collides=function(f,v){for(var d=[],p=v.length,g=f.bounds,m=c.collides,x=l.overlaps,E=0;E<p;E++){var A=v[E],R=A.parts.length,P=R===1?0:1;if(f!==A&&x(A.bounds,g))for(var O=P;O<R;O++){var L=A.parts[O];if(x(L.bounds,g)){var w=m(L,f);if(w){d.push(w);break}}}}return d},o.ray=function(f,v,d,p){p=p||1e-100;for(var g=T.angle(v,d),m=T.magnitude(T.sub(v,d)),x=(d.x+v.x)*.5,E=(d.y+v.y)*.5,A=u.rectangle(x,E,m,p,{angle:g}),R=o.collides(A,f),P=0;P<R.length;P+=1){var O=R[P];O.body=O.bodyB=O.bodyA}return R},o.region=function(f,v,d){for(var p=[],g=0;g<f.length;g++){var m=f[g],x=l.overlaps(m.bounds,v);(x&&!d||!x&&d)&&p.push(m)}return p},o.point=function(f,v){for(var d=[],p=0;p<f.length;p++){var g=f[p];if(l.contains(g.bounds,v))for(var m=g.parts.length===1?0:1;m<g.parts.length;m++){var x=g.parts[m];if(l.contains(x.bounds,v)&&h.contains(x.vertices,v)){d.push(g);break}}}return d}})()},66272:(n,C,s)=>{var o={};n.exports=o;var T=s(41598),c=s(53402),l=s(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(u){var h,f,v,d=u.length;for(h=0;h<d;h++)f=u[h],f.isActive&&(v=f.contactCount,f.collision.parentA.totalContacts+=v,f.collision.parentB.totalContacts+=v)},o.solvePosition=function(u,h,f){var v,d,p,g,m,x,E,A,R=o._positionDampen*(f||1),P=c.clamp(h/c._baseDelta,0,1),O=u.length;for(v=0;v<O;v++)d=u[v],!(!d.isActive||d.isSensor)&&(p=d.collision,g=p.parentA,m=p.parentB,x=p.normal,d.separation=p.depth+x.x*(m.positionImpulse.x-g.positionImpulse.x)+x.y*(m.positionImpulse.y-g.positionImpulse.y));for(v=0;v<O;v++)d=u[v],!(!d.isActive||d.isSensor)&&(p=d.collision,g=p.parentA,m=p.parentB,x=p.normal,A=d.separation-d.slop*P,(g.isStatic||m.isStatic)&&(A*=2),g.isStatic||g.isSleeping||(E=R/g.totalContacts,g.positionImpulse.x+=x.x*A*E,g.positionImpulse.y+=x.y*A*E),m.isStatic||m.isSleeping||(E=R/m.totalContacts,m.positionImpulse.x-=x.x*A*E,m.positionImpulse.y-=x.y*A*E))},o.postSolvePosition=function(u){for(var h=o._positionWarming,f=u.length,v=T.translate,d=l.update,p=0;p<f;p++){var g=u[p],m=g.positionImpulse,x=m.x,E=m.y,A=g.velocity;if(g.totalContacts=0,x!==0||E!==0){for(var R=0;R<g.parts.length;R++){var P=g.parts[R];v(P.vertices,m),d(P.bounds,P.vertices,A),P.position.x+=x,P.position.y+=E}g.positionPrev.x+=x,g.positionPrev.y+=E,x*A.x+E*A.y<0?(m.x=0,m.y=0):(m.x*=h,m.y*=h)}}},o.preSolveVelocity=function(u){var h=u.length,f,v;for(f=0;f<h;f++){var d=u[f];if(!(!d.isActive||d.isSensor)){var p=d.contacts,g=d.contactCount,m=d.collision,x=m.parentA,E=m.parentB,A=m.normal,R=m.tangent;for(v=0;v<g;v++){var P=p[v],O=P.vertex,L=P.normalImpulse,w=P.tangentImpulse;if(L!==0||w!==0){var M=A.x*L+R.x*w,b=A.y*L+R.y*w;x.isStatic||x.isSleeping||(x.positionPrev.x+=M*x.inverseMass,x.positionPrev.y+=b*x.inverseMass,x.anglePrev+=x.inverseInertia*((O.x-x.position.x)*b-(O.y-x.position.y)*M)),E.isStatic||E.isSleeping||(E.positionPrev.x-=M*E.inverseMass,E.positionPrev.y-=b*E.inverseMass,E.anglePrev-=E.inverseInertia*((O.x-E.position.x)*b-(O.y-E.position.y)*M))}}}}},o.solveVelocity=function(u,h){var f=h/c._baseDelta,v=f*f,d=v*f,p=-o._restingThresh*f,g=o._restingThreshTangent,m=o._frictionNormalMultiplier*f,x=o._frictionMaxStatic,E=u.length,A,R,P,O;for(P=0;P<E;P++){var L=u[P];if(!(!L.isActive||L.isSensor)){var w=L.collision,M=w.parentA,b=w.parentB,D=w.normal.x,F=w.normal.y,N=w.tangent.x,B=w.tangent.y,Y=L.inverseMass,W=L.friction*L.frictionStatic*m,z=L.contacts,X=L.contactCount,H=1/X,V=M.position.x-M.positionPrev.x,G=M.position.y-M.positionPrev.y,k=M.angle-M.anglePrev,U=b.position.x-b.positionPrev.x,I=b.position.y-b.positionPrev.y,$=b.angle-b.anglePrev;for(O=0;O<X;O++){var K=z[O],Z=K.vertex,J=Z.x-M.position.x,Q=Z.y-M.position.y,q=Z.x-b.position.x,j=Z.y-b.position.y,tt=V-Q*k,st=G+J*k,_=U-j*$,ht=I+q*$,ot=tt-_,lt=st-ht,et=D*ot+F*lt,nt=N*ot+B*lt,at=L.separation+et,ct=Math.min(at,1);ct=at<0?0:ct;var Et=ct*W;nt<-Et||nt>Et?(R=nt>0?nt:-nt,A=L.friction*(nt>0?1:-1)*d,A<-R?A=-R:A>R&&(A=R)):(A=nt,R=x);var bt=J*F-Q*D,yt=q*F-j*D,St=H/(Y+M.inverseInertia*bt*bt+b.inverseInertia*yt*yt),Vt=(1+L.restitution)*et*St;if(A*=St,et<p)K.normalImpulse=0;else{var ne=K.normalImpulse;K.normalImpulse+=Vt,K.normalImpulse>0&&(K.normalImpulse=0),Vt=K.normalImpulse-ne}if(nt<-g||nt>g)K.tangentImpulse=0;else{var Ft=K.tangentImpulse;K.tangentImpulse+=A,K.tangentImpulse<-R&&(K.tangentImpulse=-R),K.tangentImpulse>R&&(K.tangentImpulse=R),A=K.tangentImpulse-Ft}var Wt=D*Vt+N*A,Kt=F*Vt+B*A;M.isStatic||M.isSleeping||(M.positionPrev.x+=Wt*M.inverseMass,M.positionPrev.y+=Kt*M.inverseMass,M.anglePrev+=(J*Kt-Q*Wt)*M.inverseInertia),b.isStatic||b.isSleeping||(b.positionPrev.x-=Wt*b.inverseMass,b.positionPrev.y-=Kt*b.inverseMass,b.anglePrev-=(q*Kt-j*Wt)*b.inverseInertia)}}}}})()},48140:(n,C,s)=>{var o={};n.exports=o;var T=s(41598),c=s(31725),l=s(53614),u=s(15647),h=s(66615),f=s(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(v){var d=v;d.bodyA&&!d.pointA&&(d.pointA={x:0,y:0}),d.bodyB&&!d.pointB&&(d.pointB={x:0,y:0});var p=d.bodyA?c.add(d.bodyA.position,d.pointA):d.pointA,g=d.bodyB?c.add(d.bodyB.position,d.pointB):d.pointB,m=c.magnitude(c.sub(p,g));d.length=typeof d.length<"u"?d.length:m,d.id=d.id||f.nextId(),d.label=d.label||"Constraint",d.type="constraint",d.stiffness=d.stiffness||(d.length>0?1:.7),d.damping=d.damping||0,d.angularStiffness=d.angularStiffness||0,d.angleA=d.bodyA?d.bodyA.angle:d.angleA,d.angleB=d.bodyB?d.bodyB.angle:d.angleB,d.plugin={};var x={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return d.length===0&&d.stiffness>.1?(x.type="pin",x.anchors=!1):d.stiffness<.9&&(x.type="spring"),d.render=f.extend(x,d.render),d},o.preSolveAll=function(v){for(var d=0;d<v.length;d+=1){var p=v[d],g=p.constraintImpulse;p.isStatic||g.x===0&&g.y===0&&g.angle===0||(p.position.x+=g.x,p.position.y+=g.y,p.angle+=g.angle)}},o.solveAll=function(v,d){for(var p=f.clamp(d/f._baseDelta,0,1),g=0;g<v.length;g+=1){var m=v[g],x=!m.bodyA||m.bodyA&&m.bodyA.isStatic,E=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(x||E)&&o.solve(v[g],p)}for(g=0;g<v.length;g+=1)m=v[g],x=!m.bodyA||m.bodyA&&m.bodyA.isStatic,E=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!x&&!E&&o.solve(v[g],p)},o.solve=function(v,d){var p=v.bodyA,g=v.bodyB,m=v.pointA,x=v.pointB;if(!(!p&&!g)){p&&!p.isStatic&&(c.rotate(m,p.angle-v.angleA,m),v.angleA=p.angle),g&&!g.isStatic&&(c.rotate(x,g.angle-v.angleB,x),v.angleB=g.angle);var E=m,A=x;if(p&&(E=c.add(p.position,m)),g&&(A=c.add(g.position,x)),!(!E||!A)){var R=c.sub(E,A),P=c.magnitude(R);P<o._minLength&&(P=o._minLength);var O=(P-v.length)/P,L=v.stiffness>=1||v.length===0,w=L?v.stiffness*d:v.stiffness*d*d,M=v.damping*d,b=c.mult(R,O*w),D=(p?p.inverseMass:0)+(g?g.inverseMass:0),F=(p?p.inverseInertia:0)+(g?g.inverseInertia:0),N=D+F,B,Y,W,z,X;if(M>0){var H=c.create();W=c.div(R,P),X=c.sub(g&&c.sub(g.position,g.positionPrev)||H,p&&c.sub(p.position,p.positionPrev)||H),z=c.dot(W,X)}p&&!p.isStatic&&(Y=p.inverseMass/D,p.constraintImpulse.x-=b.x*Y,p.constraintImpulse.y-=b.y*Y,p.position.x-=b.x*Y,p.position.y-=b.y*Y,M>0&&(p.positionPrev.x-=M*W.x*z*Y,p.positionPrev.y-=M*W.y*z*Y),B=c.cross(m,b)/N*o._torqueDampen*p.inverseInertia*(1-v.angularStiffness),p.constraintImpulse.angle-=B,p.angle-=B),g&&!g.isStatic&&(Y=g.inverseMass/D,g.constraintImpulse.x+=b.x*Y,g.constraintImpulse.y+=b.y*Y,g.position.x+=b.x*Y,g.position.y+=b.y*Y,M>0&&(g.positionPrev.x+=M*W.x*z*Y,g.positionPrev.y+=M*W.y*z*Y),B=c.cross(x,b)/N*o._torqueDampen*g.inverseInertia*(1-v.angularStiffness),g.constraintImpulse.angle+=B,g.angle+=B)}}},o.postSolveAll=function(v){for(var d=0;d<v.length;d++){var p=v[d],g=p.constraintImpulse;if(!(p.isStatic||g.x===0&&g.y===0&&g.angle===0)){l.set(p,!1);for(var m=0;m<p.parts.length;m++){var x=p.parts[m];T.translate(x.vertices,g),m>0&&(x.position.x+=g.x,x.position.y+=g.y),g.angle!==0&&(T.rotate(x.vertices,g.angle,p.position),h.rotate(x.axes,g.angle),m>0&&c.rotateAbout(x.position,g.angle,p.position,x.position)),u.update(x.bounds,x.vertices,p.velocity)}g.angle*=o._warming,g.x*=o._warming,g.y*=o._warming}}},o.pointAWorld=function(v){return{x:(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),y:(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0)}},o.pointBWorld=function(v){return{x:(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y:(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0)}},o.currentLength=function(v){var d=(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),p=(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0),g=(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),m=(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0),x=d-g,E=p-m;return Math.sqrt(x*x+E*E)}})()},53402:(n,C,s)=>{var o={};n.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(c,l){var u,h;typeof l=="boolean"?(u=2,h=l):(u=1,h=!0);for(var f=u;f<arguments.length;f++){var v=arguments[f];if(v)for(var d in v)h&&v[d]&&v[d].constructor===Object&&(!c[d]||c[d].constructor===Object)?(c[d]=c[d]||{},o.extend(c[d],h,v[d])):c[d]=v[d]}return c},o.clone=function(c,l){return o.extend({},l,c)},o.keys=function(c){if(Object.keys)return Object.keys(c);var l=[];for(var u in c)l.push(u);return l},o.values=function(c){var l=[];if(Object.keys){for(var u=Object.keys(c),h=0;h<u.length;h++)l.push(c[u[h]]);return l}for(var f in c)l.push(c[f]);return l},o.get=function(c,l,u,h){l=l.split(".").slice(u,h);for(var f=0;f<l.length;f+=1)c=c[l[f]];return c},o.set=function(c,l,u,h,f){var v=l.split(".").slice(h,f);return o.get(c,l,0,-1)[v[v.length-1]]=u,u},o.shuffle=function(c){for(var l=c.length-1;l>0;l--){var u=Math.floor(o.random()*(l+1)),h=c[l];c[l]=c[u],c[u]=h}return c},o.choose=function(c){return c[Math.floor(o.random()*c.length)]},o.isElement=function(c){return typeof HTMLElement<"u"?c instanceof HTMLElement:!!(c&&c.nodeType&&c.nodeName)},o.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},o.isFunction=function(c){return typeof c=="function"},o.isPlainObject=function(c){return typeof c=="object"&&c.constructor===Object},o.isString=function(c){return toString.call(c)==="[object String]"},o.clamp=function(c,l,u){return c<l?l:c>u?u:c},o.sign=function(c){return c<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(c,l){return c=typeof c<"u"?c:0,l=typeof l<"u"?l:1,c+T()*(l-c)};var T=r(function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280},"_seededRandom");o.colorToNumber=function(c){return c=c.replace("#",""),c.length==3&&(c=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)),parseInt(c,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var c=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[c]||(o.warn(c),o._warnedOnce[c]=!0)},o.deprecated=function(c,l,u){c[l]=o.chain(function(){o.warnOnce(" deprecated ",u)},c[l])},o.nextId=function(){return o._nextId++},o.indexOf=function(c,l){if(c.indexOf)return c.indexOf(l);for(var u=0;u<c.length;u++)if(c[u]===l)return u;return-1},o.map=function(c,l){if(c.map)return c.map(l);for(var u=[],h=0;h<c.length;h+=1)u.push(l(c[h]));return u},o.topologicalSort=function(c){var l=[],u=[],h=[];for(var f in c)!u[f]&&!h[f]&&o._topologicalSort(f,u,h,c,l);return l},o._topologicalSort=function(c,l,u,h,f){var v=h[c]||[];u[c]=!0;for(var d=0;d<v.length;d+=1){var p=v[d];u[p]||l[p]||o._topologicalSort(p,l,u,h,f)}u[c]=!1,l[c]=!0,f.push(c)},o.chain=function(){for(var c=[],l=0;l<arguments.length;l+=1){var u=arguments[l];u._chained?c.push.apply(c,u._chained):c.push(u)}var h=r(function(){for(var f,v=new Array(arguments.length),d=0,p=arguments.length;d<p;d++)v[d]=arguments[d];for(d=0;d<c.length;d+=1){var g=c[d].apply(f,v);typeof g<"u"&&(f=g)}return f},"chain");return h._chained=c,h},o.chainPathBefore=function(c,l,u){return o.set(c,l,o.chain(u,o.get(c,l)))},o.chainPathAfter=function(c,l,u){return o.set(c,l,o.chain(o.get(c,l),u))},o.setDecomp=function(c){o._decomp=c},o.getDecomp=function(){var c=o._decomp;try{!c&&typeof window<"u"&&(c=window.decomp),!c&&typeof s.g<"u"&&(c=s.g.decomp)}catch{c=null}return c}}()},48413:(n,C,s)=>{var o={};n.exports=o;var T=s(53614),c=s(66272),l=s(81388),u=s(99561),h=s(35810),f=s(69351),v=s(48140),d=s(53402),p=s(22562);(function(){o._deltaMax=16.666666666666668,o.create=function(g){g=g||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},x=d.extend(m,g);return x.world=g.world||f.create({label:"World"}),x.pairs=g.pairs||u.create(),x.detector=g.detector||l.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},o.update=function(g,m){var x=d.now(),E=g.world,A=g.detector,R=g.pairs,P=g.timing,O=P.timestamp,L;m>o._deltaMax&&d.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),m=typeof m<"u"?m:d._baseDelta,m*=P.timeScale,P.timestamp+=m,P.lastDelta=m;var w={timestamp:P.timestamp,delta:m};h.trigger(g,"beforeUpdate",w);var M=f.allBodies(E),b=f.allConstraints(E),D=f.allComposites(E);for(E.isModified&&(l.setBodies(A,M),f.setModified(E,!1,!1,!0)),g.enableSleeping&&T.update(M,m),o._bodiesApplyGravity(M,g.gravity),o.wrap(M,D),o.attractors(M),m>0&&o._bodiesUpdate(M,m),h.trigger(g,"beforeSolve",w),v.preSolveAll(M),L=0;L<g.constraintIterations;L++)v.solveAll(b,m);v.postSolveAll(M);var F=l.collisions(A);u.update(R,F,O),g.enableSleeping&&T.afterCollisions(R.list),R.collisionStart.length>0&&h.trigger(g,"collisionStart",{pairs:R.collisionStart,timestamp:P.timestamp,delta:m});var N=d.clamp(20/g.positionIterations,0,1);for(c.preSolvePosition(R.list),L=0;L<g.positionIterations;L++)c.solvePosition(R.list,m,N);for(c.postSolvePosition(M),v.preSolveAll(M),L=0;L<g.constraintIterations;L++)v.solveAll(b,m);for(v.postSolveAll(M),c.preSolveVelocity(R.list),L=0;L<g.velocityIterations;L++)c.solveVelocity(R.list,m);return o._bodiesUpdateVelocities(M),R.collisionActive.length>0&&h.trigger(g,"collisionActive",{pairs:R.collisionActive,timestamp:P.timestamp,delta:m}),R.collisionEnd.length>0&&h.trigger(g,"collisionEnd",{pairs:R.collisionEnd,timestamp:P.timestamp,delta:m}),o._bodiesClearForces(M),h.trigger(g,"afterUpdate",w),g.timing.lastElapsed=d.now()-x,g},o.merge=function(g,m){if(d.extend(g,m),m.world){g.world=m.world,o.clear(g);for(var x=f.allBodies(g.world),E=0;E<x.length;E++){var A=x[E];T.set(A,!1),A.id=d.nextId()}}},o.clear=function(g){u.clear(g.pairs),l.clear(g.detector)},o._bodiesClearForces=function(g){for(var m=g.length,x=0;x<m;x++){var E=g[x];E.force.x=0,E.force.y=0,E.torque=0}},o._bodiesApplyGravity=function(g,m){var x=typeof m.scale<"u"?m.scale:.001,E=g.length;if(!(m.x===0&&m.y===0||x===0))for(var A=0;A<E;A++){var R=g[A];R.ignoreGravity||R.isStatic||R.isSleeping||(R.force.y+=R.mass*m.y*x,R.force.x+=R.mass*m.x*x)}},o._bodiesUpdate=function(g,m){for(var x=g.length,E=0;E<x;E++){var A=g[E];A.isStatic||A.isSleeping||p.update(A,m)}},o._bodiesUpdateVelocities=function(g){for(var m=g.length,x=0;x<m;x++)p.updateVelocities(g[x])},o.wrap=function(g,m){for(var x=0;x<g.length;x+=1){var E=g[x];E.wrapBounds!==null&&p.wrap(E,E.wrapBounds)}for(x=0;x<m.length;x+=1){var A=m[x];A.wrapBounds!==null&&f.wrap(A,A.wrapBounds)}},o.attractors=function(g){for(var m=0;m<g.length;m++){var x=g[m],E=x.attractors;if(E&&E.length>0)for(var A=0;A<g.length;A++){var R=g[A];if(m!==A)for(var P=0;P<E.length;P++){var O=E[P],L=O;d.isFunction(O)&&(L=O(x,R)),L&&p.applyForce(R,R.position,L)}}}}})()},35810:(n,C,s)=>{var o={};n.exports=o;var T=s(53402);(function(){o.on=function(c,l,u){for(var h=l.split(" "),f,v=0;v<h.length;v++)f=h[v],c.events=c.events||{},c.events[f]=c.events[f]||[],c.events[f].push(u);return u},o.off=function(c,l,u){if(!l){c.events={};return}typeof l=="function"&&(u=l,l=T.keys(c.events).join(" "));for(var h=l.split(" "),f=0;f<h.length;f++){var v=c.events[h[f]],d=[];if(u&&v)for(var p=0;p<v.length;p++)v[p]!==u&&d.push(v[p]);c.events[h[f]]=d}},o.trigger=function(c,l,u){var h,f,v,d,p=c.events;if(p&&T.keys(p).length>0){u||(u={}),h=l.split(" ");for(var g=0;g<h.length;g++)if(f=h[g],v=p[f],v){d=T.clone(u,!1),d.name=f,d.source=c;for(var m=0;m<v.length;m++)v[m].apply(c,[d])}}}})()},6790:(n,C,s)=>{var o={};n.exports=o;var T=s(73832),c=s(53402);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){T.use(o,Array.prototype.slice.call(arguments))},o.before=function(l,u){return l=l.replace(/^Matter./,""),c.chainPathBefore(o,l,u)},o.after=function(l,u){return l=l.replace(/^Matter./,""),c.chainPathAfter(o,l,u)}})()},73832:(n,C,s)=>{var o={};n.exports=o;var T=s(53402);(function(){o._registry={},o.register=function(c){if(o.isPlugin(c)||T.warn("Plugin.register:",o.toString(c),"does not implement all required fields."),c.name in o._registry){var l=o._registry[c.name],u=o.versionParse(c.version).number,h=o.versionParse(l.version).number;u>h?(T.warn("Plugin.register:",o.toString(l),"was upgraded to",o.toString(c)),o._registry[c.name]=c):u<h?T.warn("Plugin.register:",o.toString(l),"can not be downgraded to",o.toString(c)):c!==l&&T.warn("Plugin.register:",o.toString(c),"is already registered to different plugin object")}else o._registry[c.name]=c;return c},o.resolve=function(c){return o._registry[o.dependencyParse(c).name]},o.toString=function(c){return typeof c=="string"?c:(c.name||"anonymous")+"@"+(c.version||c.range||"0.0.0")},o.isPlugin=function(c){return c&&c.name&&c.version&&c.install},o.isUsed=function(c,l){return c.used.indexOf(l)>-1},o.isFor=function(c,l){var u=c.for&&o.dependencyParse(c.for);return!c.for||l.name===u.name&&o.versionSatisfies(l.version,u.range)},o.use=function(c,l){if(c.uses=(c.uses||[]).concat(l||[]),c.uses.length===0){T.warn("Plugin.use:",o.toString(c),"does not specify any dependencies to install.");return}for(var u=o.dependencies(c),h=T.topologicalSort(u),f=[],v=0;v<h.length;v+=1)if(h[v]!==c.name){var d=o.resolve(h[v]);if(!d){f.push(" "+h[v]);continue}o.isUsed(c,d.name)||(o.isFor(d,c)||(T.warn("Plugin.use:",o.toString(d),"is for",d.for,"but installed on",o.toString(c)+"."),d._warned=!0),d.install?d.install(c):(T.warn("Plugin.use:",o.toString(d),"does not specify an install function."),d._warned=!0),d._warned?(f.push(" "+o.toString(d)),delete d._warned):f.push(" "+o.toString(d)),c.used.push(d.name))}f.length>0&&!d.silent&&T.info(f.join("  "))},o.dependencies=function(c,l){var u=o.dependencyParse(c),h=u.name;if(l=l||{},!(h in l)){c=o.resolve(c)||c,l[h]=T.map(c.uses||[],function(v){o.isPlugin(v)&&o.register(v);var d=o.dependencyParse(v),p=o.resolve(v);return p&&!o.versionSatisfies(p.version,d.range)?(T.warn("Plugin.dependencies:",o.toString(p),"does not satisfy",o.toString(d),"used by",o.toString(u)+"."),p._warned=!0,c._warned=!0):p||(T.warn("Plugin.dependencies:",o.toString(v),"used by",o.toString(u),"could not be resolved."),c._warned=!0),d.name});for(var f=0;f<l[h].length;f+=1)o.dependencies(l[h][f],l);return l}},o.dependencyParse=function(c){if(T.isString(c)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(c)||T.warn("Plugin.dependencyParse:",c,"is not a valid dependency string."),{name:c.split("@")[0],range:c.split("@")[1]||"*"}}return{name:c.name,range:c.range||c.version}},o.versionParse=function(c){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(c)||T.warn("Plugin.versionParse:",c,"is not a valid version or range.");var u=l.exec(c),h=Number(u[4]),f=Number(u[5]),v=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:c,operator:u[1]||u[2]||"",major:h,minor:f,patch:v,parts:[h,f,v],prerelease:u[7],number:h*1e8+f*1e4+v}},o.versionSatisfies=function(c,l){l=l||"*";var u=o.versionParse(l),h=o.versionParse(c);if(u.isRange){if(u.operator==="*"||c==="*")return!0;if(u.operator===">")return h.number>u.number;if(u.operator===">=")return h.number>=u.number;if(u.operator==="~")return h.major===u.major&&h.minor===u.minor&&h.patch>=u.patch;if(u.operator==="^")return u.major>0?h.major===u.major&&h.number>=u.number:u.minor>0?h.minor===u.minor&&h.patch>=u.patch:h.patch===u.patch}return c===l||c==="*"}})()},13037:(n,C,s)=>{var o={};n.exports=o;var T=s(35810),c=s(48413),l=s(53402);(function(){o._maxFrameDelta=66.66666666666667,o._frameDeltaFallback=16.666666666666668,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(h){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},v=l.extend(f,h);return v.fps=0,v},o.run=function(h,f){return h.timeBuffer=o._frameDeltaFallback,r(function v(d){h.frameRequestId=o._onNextFrame(h,v),d&&h.enabled&&o.tick(h,f,d)},"onFrame")(),h},o.tick=function(h,f,v){var d=l.now(),p=h.delta,g=0,m=v-h.timeLastTick;if((!m||!h.timeLastTick||m>Math.max(o._maxFrameDelta,h.maxFrameTime))&&(m=h.frameDelta||o._frameDeltaFallback),h.frameDeltaSmoothing){h.frameDeltaHistory.push(m),h.frameDeltaHistory=h.frameDeltaHistory.slice(-h.frameDeltaHistorySize);var x=h.frameDeltaHistory.slice(0).sort(),E=h.frameDeltaHistory.slice(x.length*o._smoothingLowerBound,x.length*o._smoothingUpperBound),A=u(E);m=A||m}h.frameDeltaSnapping&&(m=1e3/Math.round(1e3/m)),h.frameDelta=m,h.timeLastTick=v,h.timeBuffer+=h.frameDelta,h.timeBuffer=l.clamp(h.timeBuffer,0,h.frameDelta+p*o._timeBufferMargin),h.lastUpdatesDeferred=0;var R=h.maxUpdates||Math.ceil(h.maxFrameTime/p),P={timestamp:f.timing.timestamp};T.trigger(h,"beforeTick",P),T.trigger(h,"tick",P);for(var O=l.now();p>0&&h.timeBuffer>=p*o._timeBufferMargin;){T.trigger(h,"beforeUpdate",P),c.update(f,p),T.trigger(h,"afterUpdate",P),h.timeBuffer-=p,g+=1;var L=l.now()-d,w=l.now()-O,M=L+o._elapsedNextEstimate*w/g;if(g>=R||M>h.maxFrameTime){h.lastUpdatesDeferred=Math.round(Math.max(0,h.timeBuffer/p-o._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=g,T.trigger(h,"afterTick",P),h.frameDeltaHistory.length>=100&&(h.lastUpdatesDeferred&&Math.round(h.frameDelta/p)>R?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):h.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof h.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(h.deltaMin||h.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),h.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(h){o._cancelNextFrame(h)},o._onNextFrame=function(h,f){if(typeof window<"u"&&window.requestAnimationFrame)h.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return h.frameRequestId},o._cancelNextFrame=function(h){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(h.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var u=r(function(h){for(var f=0,v=h.length,d=0;d<v;d+=1)f+=h[d];return f/v||0},"_mean");o._mean=u})()},53614:(n,C,s)=>{var o={};n.exports=o;var T=s(22562),c=s(35810),l=s(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(u,h){for(var f=h/l._baseDelta,v=o._motionSleepThreshold,d=0;d<u.length;d++){var p=u[d],g=T.getSpeed(p),m=T.getAngularSpeed(p),x=g*g+m*m;if(p.force.x!==0||p.force.y!==0){o.set(p,!1);continue}var E=Math.min(p.motion,x),A=Math.max(p.motion,x);p.motion=o._minBias*E+(1-o._minBias)*A,p.sleepThreshold>0&&p.motion<v?(p.sleepCounter+=1,p.sleepCounter>=p.sleepThreshold/f&&o.set(p,!0)):p.sleepCounter>0&&(p.sleepCounter-=1)}},o.afterCollisions=function(u){for(var h=o._motionSleepThreshold,f=0;f<u.length;f++){var v=u[f];if(v.isActive){var d=v.collision,p=d.bodyA.parent,g=d.bodyB.parent;if(!(p.isSleeping&&g.isSleeping||p.isStatic||g.isStatic)&&(p.isSleeping||g.isSleeping)){var m=p.isSleeping&&!p.isStatic?p:g,x=m===p?g:p;!m.isStatic&&x.motion>h&&o.set(m,!1)}}}},o.set=function(u,h){var f=u.isSleeping;h?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,f||c.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,f&&c.trigger(u,"sleepEnd"))}})()},66280:(n,C,s)=>{var o={};n.exports=o;var T=s(41598),c=s(53402),l=s(22562),u=s(15647),h=s(31725);(function(){o.rectangle=function(f,v,d,p,g){g=g||{};var m={label:"Rectangle Body",position:{x:f,y:v},vertices:T.fromPath("L 0 0 L "+d+" 0 L "+d+" "+p+" L 0 "+p)};if(g.chamfer){var x=g.chamfer;m.vertices=T.chamfer(m.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete g.chamfer}return l.create(c.extend({},m,g))},o.trapezoid=function(f,v,d,p,g,m){m=m||{},g>=1&&c.warn("Bodies.trapezoid: slope parameter must be < 1."),g*=.5;var x=(1-g*2)*d,E=d*g,A=E+x,R=A+E,P;g<.5?P="L 0 0 L "+E+" "+-p+" L "+A+" "+-p+" L "+R+" 0":P="L 0 0 L "+A+" "+-p+" L "+R+" 0";var O={label:"Trapezoid Body",position:{x:f,y:v},vertices:T.fromPath(P)};if(m.chamfer){var L=m.chamfer;O.vertices=T.chamfer(O.vertices,L.radius,L.quality,L.qualityMin,L.qualityMax),delete m.chamfer}return l.create(c.extend({},O,m))},o.circle=function(f,v,d,p,g){p=p||{};var m={label:"Circle Body",circleRadius:d};g=g||25;var x=Math.ceil(Math.max(10,Math.min(g,d)));return x%2===1&&(x+=1),o.polygon(f,v,x,d,c.extend({},m,p))},o.polygon=function(f,v,d,p,g){if(g=g||{},d<3)return o.circle(f,v,p,g);for(var m=2*Math.PI/d,x="",E=m*.5,A=0;A<d;A+=1){var R=E+A*m,P=Math.cos(R)*p,O=Math.sin(R)*p;x+="L "+P.toFixed(3)+" "+O.toFixed(3)+" "}var L={label:"Polygon Body",position:{x:f,y:v},vertices:T.fromPath(x)};if(g.chamfer){var w=g.chamfer;L.vertices=T.chamfer(L.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete g.chamfer}return l.create(c.extend({},L,g))},o.fromVertices=function(f,v,d,p,g,m,x,E){var A=c.getDecomp(),R,P,O,L,w,M,b,D,F,N,B;for(R=!!(A&&A.quickDecomp),p=p||{},O=[],g=typeof g<"u"?g:!1,m=typeof m<"u"?m:.01,x=typeof x<"u"?x:10,E=typeof E<"u"?E:.01,c.isArray(d[0])||(d=[d]),N=0;N<d.length;N+=1)if(M=d[N],L=T.isConvex(M),w=!L,w&&!R&&c.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),L||!R)L?M=T.clockwiseSort(M):M=T.hull(M),O.push({position:{x:f,y:v},vertices:M});else{var Y=M.map(function(K){return[K.x,K.y]});A.makeCCW(Y),m!==!1&&A.removeCollinearPoints(Y,m),E!==!1&&A.removeDuplicatePoints&&A.removeDuplicatePoints(Y,E);var W=A.quickDecomp(Y);for(b=0;b<W.length;b++){var z=W[b],X=z.map(function(K){return{x:K[0],y:K[1]}});x>0&&T.area(X)<x||O.push({position:T.centre(X),vertices:X})}}for(b=0;b<O.length;b++)O[b]=l.create(c.extend(O[b],p));if(g){var H=5;for(b=0;b<O.length;b++){var V=O[b];for(D=b+1;D<O.length;D++){var G=O[D];if(u.overlaps(V.bounds,G.bounds)){var k=V.vertices,U=G.vertices;for(F=0;F<V.vertices.length;F++)for(B=0;B<G.vertices.length;B++){var I=h.magnitudeSquared(h.sub(k[(F+1)%k.length],U[B])),$=h.magnitudeSquared(h.sub(k[F],U[(B+1)%U.length]));I<H&&$<H&&(k[F].isInternal=!0,U[B].isInternal=!0)}}}}}return O.length>1?(P=l.create(c.extend({parts:O.slice(0)},p)),l.setPosition(P,{x:f,y:v}),P):O[0]},o.flagCoincidentParts=function(f,v){v===void 0&&(v=5);for(var d=0;d<f.length;d++)for(var p=f[d],g=d+1;g<f.length;g++){var m=f[g];if(u.overlaps(p.bounds,m.bounds))for(var x=p.vertices,E=m.vertices,A=0;A<p.vertices.length;A++)for(var R=0;R<m.vertices.length;R++){var P=h.magnitudeSquared(h.sub(x[(A+1)%x.length],E[R])),O=h.magnitudeSquared(h.sub(x[A],E[(R+1)%E.length]));P<v&&O<v&&(x[A].isInternal=!0,E[R].isInternal=!0)}}return f}})()},74116:(n,C,s)=>{var o={};n.exports=o;var T=s(69351),c=s(48140),l=s(53402),u=s(22562),h=s(66280);(function(){o.stack=function(f,v,d,p,g,m,x){for(var E=T.create({label:"Stack"}),A=f,R=v,P,O=0,L=0;L<p;L++){for(var w=0,M=0;M<d;M++){var b=x(A,R,M,L,P,O);if(b){var D=b.bounds.max.y-b.bounds.min.y,F=b.bounds.max.x-b.bounds.min.x;D>w&&(w=D),u.translate(b,{x:F*.5,y:D*.5}),A=b.bounds.max.x+g,T.addBody(E,b),P=b,O+=1}else A+=g}R+=w+m,A=f}return E},o.chain=function(f,v,d,p,g,m){for(var x=f.bodies,E=1;E<x.length;E++){var A=x[E-1],R=x[E],P=A.bounds.max.y-A.bounds.min.y,O=A.bounds.max.x-A.bounds.min.x,L=R.bounds.max.y-R.bounds.min.y,w=R.bounds.max.x-R.bounds.min.x,M={bodyA:A,pointA:{x:O*v,y:P*d},bodyB:R,pointB:{x:w*p,y:L*g}},b=l.extend(M,m);T.addConstraint(f,c.create(b))}return f.label+=" Chain",f},o.mesh=function(f,v,d,p,g){var m=f.bodies,x,E,A,R,P;for(x=0;x<d;x++){for(E=1;E<v;E++)A=m[E-1+x*v],R=m[E+x*v],T.addConstraint(f,c.create(l.extend({bodyA:A,bodyB:R},g)));if(x>0)for(E=0;E<v;E++)A=m[E+(x-1)*v],R=m[E+x*v],T.addConstraint(f,c.create(l.extend({bodyA:A,bodyB:R},g))),p&&E>0&&(P=m[E-1+(x-1)*v],T.addConstraint(f,c.create(l.extend({bodyA:P,bodyB:R},g)))),p&&E<v-1&&(P=m[E+1+(x-1)*v],T.addConstraint(f,c.create(l.extend({bodyA:P,bodyB:R},g))))}return f.label+=" Mesh",f},o.pyramid=function(f,v,d,p,g,m,x){return o.stack(f,v,d,p,g,m,function(E,A,R,P,O,L){var w=Math.min(p,Math.ceil(d/2)),M=O?O.bounds.max.x-O.bounds.min.x:0;if(!(P>w)){P=w-P;var b=P,D=d-1-P;if(!(R<b||R>D)){L===1&&u.translate(O,{x:(R+(d%2===1?1:-1))*M,y:0});var F=O?R*M:0;return x(f+F+R*g,A,R,P,O,L)}}})},o.newtonsCradle=function(f,v,d,p,g){for(var m=T.create({label:"Newtons Cradle"}),x=0;x<d;x++){var E=1.9,A=h.circle(f+x*(p*E),v+g,p,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),R=c.create({pointA:{x:f+x*(p*E),y:v},bodyB:A});T.addBody(m,A),T.addConstraint(m,R)}return m},o.car=function(f,v,d,p,g){var m=u.nextGroup(!0),x=20,E=-d*.5+x,A=d*.5-x,R=0,P=T.create({label:"Car"}),O=h.rectangle(f,v,d,p,{collisionFilter:{group:m},chamfer:{radius:p*.5},density:2e-4}),L=h.circle(f+E,v+R,g,{collisionFilter:{group:m},friction:.8}),w=h.circle(f+A,v+R,g,{collisionFilter:{group:m},friction:.8}),M=c.create({bodyB:O,pointB:{x:E,y:R},bodyA:L,stiffness:1,length:0}),b=c.create({bodyB:O,pointB:{x:A,y:R},bodyA:w,stiffness:1,length:0});return T.addBody(P,O),T.addBody(P,L),T.addBody(P,w),T.addConstraint(P,M),T.addConstraint(P,b),P},o.softBody=function(f,v,d,p,g,m,x,E,A,R){A=l.extend({inertia:1/0},A),R=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},R);var P=o.stack(f,v,d,p,g,m,function(O,L){return h.circle(O,L,E,A)});return o.mesh(P,d,p,x,R),P.label="Soft Body",P}})()},66615:(n,C,s)=>{var o={};n.exports=o;var T=s(31725),c=s(53402);(function(){o.fromVertices=function(l){for(var u={},h=0;h<l.length;h++){var f=(h+1)%l.length,v=T.normalise({x:l[f].y-l[h].y,y:l[h].x-l[f].x}),d=v.y===0?1/0:v.x/v.y;d=d.toFixed(3).toString(),u[d]=v}return c.values(u)},o.rotate=function(l,u){if(u!==0)for(var h=Math.cos(u),f=Math.sin(u),v=0;v<l.length;v++){var d=l[v],p;p=d.x*h-d.y*f,d.y=d.x*f+d.y*h,d.x=p}}})()},15647:n=>{var C={};n.exports=C,function(){C.create=function(s){var o={min:{x:0,y:0},max:{x:0,y:0}};return s&&C.update(o,s),o},C.update=function(s,o,T){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var c=0;c<o.length;c++){var l=o[c];l.x>s.max.x&&(s.max.x=l.x),l.x<s.min.x&&(s.min.x=l.x),l.y>s.max.y&&(s.max.y=l.y),l.y<s.min.y&&(s.min.y=l.y)}T&&(T.x>0?s.max.x+=T.x:s.min.x+=T.x,T.y>0?s.max.y+=T.y:s.min.y+=T.y)},C.contains=function(s,o){return o.x>=s.min.x&&o.x<=s.max.x&&o.y>=s.min.y&&o.y<=s.max.y},C.overlaps=function(s,o){return s.min.x<=o.max.x&&s.max.x>=o.min.x&&s.max.y>=o.min.y&&s.min.y<=o.max.y},C.translate=function(s,o){s.min.x+=o.x,s.max.x+=o.x,s.min.y+=o.y,s.max.y+=o.y},C.shift=function(s,o){var T=s.max.x-s.min.x,c=s.max.y-s.min.y;s.min.x=o.x,s.max.x=o.x+T,s.min.y=o.y,s.max.y=o.y+c},C.wrap=function(s,o,T){var c=null,l=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(s.min.x>o.max.x?c=o.min.x-s.max.x:s.max.x<o.min.x&&(c=o.max.x-s.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(s.min.y>o.max.y?l=o.min.y-s.max.y:s.max.y<o.min.y&&(l=o.max.y-s.min.y)),c!==null||l!==null)return{x:c||0,y:l||0}}}()},74058:(n,C,s)=>{var o={};n.exports=o,s(15647);var T=s(53402);(function(){o.pathToVertices=function(c,l){typeof window<"u"&&!("SVGPathSeg"in window)&&T.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,h,f,v,d,p,g,m,x,E,A=[],R,P,O=0,L=0,w=0;l=l||15;var M=r(function(D,F,N){var B=N%2===1&&N>1;if(!x||D!=x.x||F!=x.y){x&&B?(R=x.x,P=x.y):(R=0,P=0);var Y={x:R+D,y:P+F};(B||!x)&&(x=Y),A.push(Y),L=R+D,w=P+F}},"addPoint"),b=r(function(D){var F=D.pathSegTypeAsLetter.toUpperCase();if(F!=="Z"){switch(F){case"M":case"L":case"T":case"C":case"S":case"Q":L=D.x,w=D.y;break;case"H":L=D.x;break;case"V":w=D.y;break}M(L,w,D.pathSegType)}},"addSegmentPoint");for(o._svgPathToAbsolute(c),f=c.getTotalLength(),p=[],u=0;u<c.pathSegList.numberOfItems;u+=1)p.push(c.pathSegList.getItem(u));for(g=p.concat();O<f;){if(E=c.getPathSegAtLength(O),d=p[E],d!=m){for(;g.length&&g[0]!=d;)b(g.shift());m=d}switch(d.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":v=c.getPointAtLength(O),M(v.x,v.y,0);break}O+=l}for(u=0,h=g.length;u<h;++u)b(g[u]);return A},o._svgPathToAbsolute=function(c){for(var l,u,h,f,v,d,p=c.pathSegList,g=0,m=0,x=p.numberOfItems,E=0;E<x;++E){var A=p.getItem(E),R=A.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(R))"x"in A&&(g=A.x),"y"in A&&(m=A.y);else switch("x1"in A&&(h=g+A.x1),"x2"in A&&(v=g+A.x2),"y1"in A&&(f=m+A.y1),"y2"in A&&(d=m+A.y2),"x"in A&&(g+=A.x),"y"in A&&(m+=A.y),R){case"m":p.replaceItem(c.createSVGPathSegMovetoAbs(g,m),E);break;case"l":p.replaceItem(c.createSVGPathSegLinetoAbs(g,m),E);break;case"h":p.replaceItem(c.createSVGPathSegLinetoHorizontalAbs(g),E);break;case"v":p.replaceItem(c.createSVGPathSegLinetoVerticalAbs(m),E);break;case"c":p.replaceItem(c.createSVGPathSegCurvetoCubicAbs(g,m,h,f,v,d),E);break;case"s":p.replaceItem(c.createSVGPathSegCurvetoCubicSmoothAbs(g,m,v,d),E);break;case"q":p.replaceItem(c.createSVGPathSegCurvetoQuadraticAbs(g,m,h,f),E);break;case"t":p.replaceItem(c.createSVGPathSegCurvetoQuadraticSmoothAbs(g,m),E);break;case"a":p.replaceItem(c.createSVGPathSegArcAbs(g,m,A.r1,A.r2,A.angle,A.largeArcFlag,A.sweepFlag),E);break;case"z":case"Z":g=l,m=u;break}(R=="M"||R=="m")&&(l=g,u=m)}}})()},31725:n=>{var C={};n.exports=C,function(){C.create=function(s,o){return{x:s||0,y:o||0}},C.clone=function(s){return{x:s.x,y:s.y}},C.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},C.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},C.rotate=function(s,o,T){var c=Math.cos(o),l=Math.sin(o);T||(T={});var u=s.x*c-s.y*l;return T.y=s.x*l+s.y*c,T.x=u,T},C.rotateAbout=function(s,o,T,c){var l=Math.cos(o),u=Math.sin(o);c||(c={});var h=T.x+((s.x-T.x)*l-(s.y-T.y)*u);return c.y=T.y+((s.x-T.x)*u+(s.y-T.y)*l),c.x=h,c},C.normalise=function(s){var o=C.magnitude(s);return o===0?{x:0,y:0}:{x:s.x/o,y:s.y/o}},C.dot=function(s,o){return s.x*o.x+s.y*o.y},C.cross=function(s,o){return s.x*o.y-s.y*o.x},C.cross3=function(s,o,T){return(o.x-s.x)*(T.y-s.y)-(o.y-s.y)*(T.x-s.x)},C.add=function(s,o,T){return T||(T={}),T.x=s.x+o.x,T.y=s.y+o.y,T},C.sub=function(s,o,T){return T||(T={}),T.x=s.x-o.x,T.y=s.y-o.y,T},C.mult=function(s,o){return{x:s.x*o,y:s.y*o}},C.div=function(s,o){return{x:s.x/o,y:s.y/o}},C.perp=function(s,o){return o=o===!0?-1:1,{x:o*-s.y,y:o*s.x}},C.neg=function(s){return{x:-s.x,y:-s.y}},C.angle=function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)},C._temp=[C.create(),C.create(),C.create(),C.create(),C.create(),C.create()]}()},41598:(n,C,s)=>{var o={};n.exports=o;var T=s(31725),c=s(53402);(function(){o.create=function(l,u){for(var h=[],f=0;f<l.length;f++){var v=l[f],d={x:v.x,y:v.y,index:f,body:u,isInternal:!1};h.push(d)}return h},o.fromPath=function(l,u){var h=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return l.replace(h,function(v,d,p){f.push({x:parseFloat(d),y:parseFloat(p)})}),o.create(f,u)},o.centre=function(l){for(var u=o.area(l,!0),h={x:0,y:0},f,v,d,p=0;p<l.length;p++)d=(p+1)%l.length,f=T.cross(l[p],l[d]),v=T.mult(T.add(l[p],l[d]),f),h=T.add(h,v);return T.div(h,6*u)},o.mean=function(l){for(var u={x:0,y:0},h=0;h<l.length;h++)u.x+=l[h].x,u.y+=l[h].y;return T.div(u,l.length)},o.area=function(l,u){for(var h=0,f=l.length-1,v=0;v<l.length;v++)h+=(l[f].x-l[v].x)*(l[f].y+l[v].y),f=v;return u?h/2:Math.abs(h)/2},o.inertia=function(l,u){for(var h=0,f=0,v=l,d,p,g=0;g<v.length;g++)p=(g+1)%v.length,d=Math.abs(T.cross(v[p],v[g])),h+=d*(T.dot(v[p],v[p])+T.dot(v[p],v[g])+T.dot(v[g],v[g])),f+=d;return u/6*(h/f)},o.translate=function(l,u,h){h=typeof h<"u"?h:1;var f=l.length,v=u.x*h,d=u.y*h,p;for(p=0;p<f;p++)l[p].x+=v,l[p].y+=d;return l},o.rotate=function(l,u,h){if(u!==0){var f=Math.cos(u),v=Math.sin(u),d=h.x,p=h.y,g=l.length,m,x,E,A;for(A=0;A<g;A++)m=l[A],x=m.x-d,E=m.y-p,m.x=d+(x*f-E*v),m.y=p+(x*v+E*f);return l}},o.contains=function(l,u){for(var h=u.x,f=u.y,v=l.length,d=l[v-1],p,g=0;g<v;g++){if(p=l[g],(h-d.x)*(p.y-d.y)+(f-d.y)*(d.x-p.x)>0)return!1;d=p}return!0},o.scale=function(l,u,h,f){if(u===1&&h===1)return l;f=f||o.centre(l);for(var v,d,p=0;p<l.length;p++)v=l[p],d=T.sub(v,f),l[p].x=f.x+d.x*u,l[p].y=f.y+d.y*h;return l},o.chamfer=function(l,u,h,f,v){typeof u=="number"?u=[u]:u=u||[8],h=typeof h<"u"?h:-1,f=f||2,v=v||14;for(var d=[],p=0;p<l.length;p++){var g=l[p-1>=0?p-1:l.length-1],m=l[p],x=l[(p+1)%l.length],E=u[p<u.length?p:u.length-1];if(E===0){d.push(m);continue}var A=T.normalise({x:m.y-g.y,y:g.x-m.x}),R=T.normalise({x:x.y-m.y,y:m.x-x.x}),P=Math.sqrt(2*Math.pow(E,2)),O=T.mult(c.clone(A),E),L=T.normalise(T.mult(T.add(A,R),.5)),w=T.sub(m,T.mult(L,P)),M=h;h===-1&&(M=Math.pow(E,.32)*1.75),M=c.clamp(M,f,v),M%2===1&&(M+=1);for(var b=Math.acos(T.dot(A,R)),D=b/M,F=0;F<M;F++)d.push(T.add(T.rotate(O,D*F),w))}return d},o.clockwiseSort=function(l){var u=o.mean(l);return l.sort(function(h,f){return T.angle(u,h)-T.angle(u,f)}),l},o.isConvex=function(l){var u=0,h=l.length,f,v,d,p;if(h<3)return null;for(f=0;f<h;f++)if(v=(f+1)%h,d=(f+2)%h,p=(l[v].x-l[f].x)*(l[d].y-l[v].y),p-=(l[v].y-l[f].y)*(l[d].x-l[v].x),p<0?u|=1:p>0&&(u|=2),u===3)return!1;return u!==0?!0:null},o.hull=function(l){var u=[],h=[],f,v;for(l=l.slice(0),l.sort(function(d,p){var g=d.x-p.x;return g!==0?g:d.y-p.y}),v=0;v<l.length;v+=1){for(f=l[v];h.length>=2&&T.cross3(h[h.length-2],h[h.length-1],f)<=0;)h.pop();h.push(f)}for(v=l.length-1;v>=0;v-=1){for(f=l[v];u.length>=2&&T.cross3(u[u.length-2],u[u.length-1],f)<=0;)u.pop();u.push(f)}return u.pop(),h.pop(),u.concat(h)}})()},55973:n=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={decomp:b,quickDecomp:B,isSimple:F,removeCollinearPoints:Y,removeDuplicatePoints:W,makeCCW:x};function C(H,V,G){G=G||0;var k=[0,0],U,I,$,K,Z,J,Q;return U=H[1][1]-H[0][1],I=H[0][0]-H[1][0],$=U*H[0][0]+I*H[0][1],K=V[1][1]-V[0][1],Z=V[0][0]-V[1][0],J=K*V[0][0]+Z*V[0][1],Q=U*Z-K*I,z(Q,0,G)||(k[0]=(Z*$-I*J)/Q,k[1]=(U*J-K*$)/Q),k}r(C,"lineInt");function s(H,V,G,k){var U=V[0]-H[0],I=V[1]-H[1],$=k[0]-G[0],K=k[1]-G[1];if($*I-K*U===0)return!1;var Z=(U*(G[1]-H[1])+I*(H[0]-G[0]))/($*I-K*U),J=($*(H[1]-G[1])+K*(G[0]-H[0]))/(K*U-$*I);return Z>=0&&Z<=1&&J>=0&&J<=1}r(s,"lineSegmentsIntersect");function o(H,V,G){return(V[0]-H[0])*(G[1]-H[1])-(G[0]-H[0])*(V[1]-H[1])}r(o,"triangleArea");function T(H,V,G){return o(H,V,G)>0}r(T,"isLeft");function c(H,V,G){return o(H,V,G)>=0}r(c,"isLeftOn");function l(H,V,G){return o(H,V,G)<0}r(l,"isRight");function u(H,V,G){return o(H,V,G)<=0}r(u,"isRightOn");var h=[],f=[];function v(H,V,G,k){if(k){var U=h,I=f;U[0]=V[0]-H[0],U[1]=V[1]-H[1],I[0]=G[0]-V[0],I[1]=G[1]-V[1];var $=U[0]*I[0]+U[1]*I[1],K=Math.sqrt(U[0]*U[0]+U[1]*U[1]),Z=Math.sqrt(I[0]*I[0]+I[1]*I[1]),J=Math.acos($/(K*Z));return J<k}else return o(H,V,G)===0}r(v,"collinear");function d(H,V){var G=V[0]-H[0],k=V[1]-H[1];return G*G+k*k}r(d,"sqdist");function p(H,V){var G=H.length;return H[V<0?V%G+G:V%G]}r(p,"polygonAt");function g(H){H.length=0}r(g,"polygonClear");function m(H,V,G,k){for(var U=G;U<k;U++)H.push(V[U])}r(m,"polygonAppend");function x(H){for(var V=0,G=H,k=1;k<H.length;++k)(G[k][1]<G[V][1]||G[k][1]===G[V][1]&&G[k][0]>G[V][0])&&(V=k);return T(p(H,V-1),p(H,V),p(H,V+1))?!1:(E(H),!0)}r(x,"polygonMakeCCW");function E(H){for(var V=[],G=H.length,k=0;k!==G;k++)V.push(H.pop());for(var k=0;k!==G;k++)H[k]=V[k]}r(E,"polygonReverse");function A(H,V){return l(p(H,V-1),p(H,V),p(H,V+1))}r(A,"polygonIsReflex");var R=[],P=[];function O(H,V,G){var k,U,I=R,$=P;if(c(p(H,V+1),p(H,V),p(H,G))&&u(p(H,V-1),p(H,V),p(H,G)))return!1;U=d(p(H,V),p(H,G));for(var K=0;K!==H.length;++K)if(!((K+1)%H.length===V||K===V)&&c(p(H,V),p(H,G),p(H,K+1))&&u(p(H,V),p(H,G),p(H,K))&&(I[0]=p(H,V),I[1]=p(H,G),$[0]=p(H,K),$[1]=p(H,K+1),k=C(I,$),d(p(H,V),k)<U))return!1;return!0}r(O,"polygonCanSee");function L(H,V,G){for(var k=0;k!==H.length;++k)if(!(k===V||k===G||(k+1)%H.length===V||(k+1)%H.length===G)&&s(p(H,V),p(H,G),p(H,k),p(H,k+1)))return!1;return!0}r(L,"polygonCanSee2");function w(H,V,G,k){var U=k||[];if(g(U),V<G)for(var I=V;I<=G;I++)U.push(H[I]);else{for(var I=0;I<=G;I++)U.push(H[I]);for(var I=V;I<H.length;I++)U.push(H[I])}return U}r(w,"polygonCopy");function M(H){for(var V=[],G=[],k=[],U=[],I=Number.MAX_VALUE,$=0;$<H.length;++$)if(A(H,$)){for(var K=0;K<H.length;++K)if(O(H,$,K)){G=M(w(H,$,K,U)),k=M(w(H,K,$,U));for(var Z=0;Z<k.length;Z++)G.push(k[Z]);G.length<I&&(V=G,I=G.length,V.push([p(H,$),p(H,K)]))}}return V}r(M,"polygonGetCutEdges");function b(H){var V=M(H);return V.length>0?D(H,V):[H]}r(b,"polygonDecomp");function D(H,V){if(V.length===0)return[H];if(V instanceof Array&&V.length&&V[0]instanceof Array&&V[0].length===2&&V[0][0]instanceof Array){for(var G=[H],k=0;k<V.length;k++)for(var U=V[k],I=0;I<G.length;I++){var $=G[I],K=D($,U);if(K){G.splice(I,1),G.push(K[0],K[1]);break}}return G}else{var U=V,k=H.indexOf(U[0]),I=H.indexOf(U[1]);return k!==-1&&I!==-1?[w(H,k,I),w(H,I,k)]:!1}}r(D,"polygonSlice");function F(H){var V=H,G;for(G=0;G<V.length-1;G++)for(var k=0;k<G-1;k++)if(s(V[G],V[G+1],V[k],V[k+1]))return!1;for(G=1;G<V.length-2;G++)if(s(V[0],V[V.length-1],V[G],V[G+1]))return!1;return!0}r(F,"polygonIsSimple");function N(H,V,G,k,U){U=U||0;var I=V[1]-H[1],$=H[0]-V[0],K=I*H[0]+$*H[1],Z=k[1]-G[1],J=G[0]-k[0],Q=Z*G[0]+J*G[1],q=I*J-Z*$;return z(q,0,U)?[0,0]:[(J*K-$*Q)/q,(I*Q-Z*K)/q]}r(N,"getIntersectionPoint");function B(H,V,G,k,U,I,$){I=I||100,$=$||0,U=U||25,V=typeof V<"u"?V:[],G=G||[],k=k||[];var K=[0,0],Z=[0,0],J=[0,0],Q=0,q=0,j=0,tt=0,st=0,_=0,ht=0,ot=[],lt=[],et=H,nt=H;if(nt.length<3)return V;if($++,$>I)return console.warn("quickDecomp: max level ("+I+") reached."),V;for(var at=0;at<H.length;++at)if(A(et,at)){G.push(et[at]),Q=q=Number.MAX_VALUE;for(var ct=0;ct<H.length;++ct)T(p(et,at-1),p(et,at),p(et,ct))&&u(p(et,at-1),p(et,at),p(et,ct-1))&&(J=N(p(et,at-1),p(et,at),p(et,ct),p(et,ct-1)),l(p(et,at+1),p(et,at),J)&&(j=d(et[at],J),j<q&&(q=j,Z=J,_=ct))),T(p(et,at+1),p(et,at),p(et,ct+1))&&u(p(et,at+1),p(et,at),p(et,ct))&&(J=N(p(et,at+1),p(et,at),p(et,ct),p(et,ct+1)),T(p(et,at-1),p(et,at),J)&&(j=d(et[at],J),j<Q&&(Q=j,K=J,st=ct)));if(_===(st+1)%H.length)J[0]=(Z[0]+K[0])/2,J[1]=(Z[1]+K[1])/2,k.push(J),at<st?(m(ot,et,at,st+1),ot.push(J),lt.push(J),_!==0&&m(lt,et,_,et.length),m(lt,et,0,at+1)):(at!==0&&m(ot,et,at,et.length),m(ot,et,0,st+1),ot.push(J),lt.push(J),m(lt,et,_,at+1));else{if(_>st&&(st+=H.length),tt=Number.MAX_VALUE,st<_)return V;for(var ct=_;ct<=st;++ct)c(p(et,at-1),p(et,at),p(et,ct))&&u(p(et,at+1),p(et,at),p(et,ct))&&(j=d(p(et,at),p(et,ct)),j<tt&&L(et,at,ct)&&(tt=j,ht=ct%H.length));at<ht?(m(ot,et,at,ht+1),ht!==0&&m(lt,et,ht,nt.length),m(lt,et,0,at+1)):(at!==0&&m(ot,et,at,nt.length),m(ot,et,0,ht+1),m(lt,et,ht,at+1))}return ot.length<lt.length?(B(ot,V,G,k,U,I,$),B(lt,V,G,k,U,I,$)):(B(lt,V,G,k,U,I,$),B(ot,V,G,k,U,I,$)),V}return V.push(H),V}r(B,"polygonQuickDecomp");function Y(H,V){for(var G=0,k=H.length-1;H.length>3&&k>=0;--k)v(p(H,k-1),p(H,k),p(H,k+1),V)&&(H.splice(k%H.length,1),G++);return G}r(Y,"polygonRemoveCollinearPoints");function W(H,V){for(var G=H.length-1;G>=1;--G)for(var k=H[G],U=G-1;U>=0;--U)if(X(k,H[U],V)){H.splice(G,1);continue}}r(W,"polygonRemoveDuplicatePoints");function z(H,V,G){return G=G||0,Math.abs(H-V)<=G}r(z,"scalar_eq");function X(H,V,G){return z(H[0],V[0],G)&&z(H[1],V[1],G)}r(X,"points_eq")},52018:(n,C,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=s(83419),T=new o({initialize:r(function(l){this.pluginManager=l,this.game=l.game},"BasePlugin"),init:r(function(){},"init"),start:r(function(){},"start"),stop:r(function(){},"stop"),destroy:r(function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null},"destroy")});n.exports=T},42363:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};n.exports=C},37277:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={},s={},o={};o.register=function(T,c,l,u){u===void 0&&(u=!1),C[T]={plugin:c,mapping:l,custom:u}},o.registerCustom=function(T,c,l,u){s[T]={plugin:c,mapping:l,data:u}},o.hasCore=function(T){return C.hasOwnProperty(T)},o.hasCustom=function(T){return s.hasOwnProperty(T)},o.getCore=function(T){return C[T]},o.getCustom=function(T){return s[T]},o.getCustomClass=function(T){return s.hasOwnProperty(T)?s[T].plugin:null},o.remove=function(T){C.hasOwnProperty(T)&&delete C[T]},o.removeCustom=function(T){s.hasOwnProperty(T)&&delete s[T]},o.destroyCorePlugins=function(){for(var T in C)C.hasOwnProperty(T)&&delete C[T]},o.destroyCustomPlugins=function(){for(var T in s)s.hasOwnProperty(T)&&delete s[T]},n.exports=o},77332:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(8443),c=s(50792),l=s(74099),u=s(44603),h=s(39429),f=s(95540),v=s(37277),d=s(72905),p=s(8054),g=new o({Extends:c,initialize:r(function(x){c.call(this),this.game=x,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],x.isBooted||x.config.renderType===p.HEADLESS?this.boot():x.events.once(T.BOOT,this.boot,this)},"PluginManager"),boot:r(function(){var m,x,E,A,R,P,O,L=this.game.config,w=L.installGlobalPlugins;for(w=w.concat(this._pendingGlobal),m=0;m<w.length;m++)x=w[m],E=f(x,"key",null),A=f(x,"plugin",null),R=f(x,"start",!1),P=f(x,"mapping",null),O=f(x,"data",null),E&&(A?this.install(E,A,R,P,O):console.warn("Missing `plugin` for key: "+E));for(w=L.installScenePlugins,w=w.concat(this._pendingScene),m=0;m<w.length;m++)x=w[m],E=f(x,"key",null),A=f(x,"plugin",null),P=f(x,"mapping",null),E&&(A?this.installScenePlugin(E,A,P):console.warn("Missing `plugin` for key: "+E));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(T.DESTROY,this.destroy,this)},"boot"),addToScene:r(function(m,x,E){var A,R,P,O=this.game,L=m.scene,w=m.settings.map,M=m.settings.isBooted;for(A=0;A<x.length;A++)R=x[A],O[R]?(m[R]=O[R],w.hasOwnProperty(R)&&(L[w[R]]=m[R])):R==="game"&&w.hasOwnProperty(R)&&(L[w[R]]=O);for(var b=0;b<E.length;b++)for(P=E[b],A=0;A<P.length;A++)if(R=P[A],!!v.hasCore(R)){var D=v.getCore(R),F=D.mapping,N=new D.plugin(L,this,F);m[F]=N,D.custom?L[F]=N:w.hasOwnProperty(F)&&(L[w[F]]=N),M&&N.boot()}for(P=this.plugins,A=0;A<P.length;A++){var B=P[A];B.mapping&&(L[B.mapping]=B.plugin)}},"addToScene"),getDefaultScenePlugins:r(function(){var m=this.game.config.defaultPlugins;return m=m.concat(this.scenePlugins),m},"getDefaultScenePlugins"),installScenePlugin:r(function(m,x,E,A,R){if(R===void 0&&(R=!1),typeof x!="function"){console.warn("Invalid Scene Plugin: "+m);return}if(v.hasCore(m)||v.register(m,x,E,!0),this.scenePlugins.indexOf(m)===-1)this.scenePlugins.push(m);else if(!R&&v.hasCore(m)){console.warn("Scene Plugin key in use: "+m);return}if(A){var P=new x(A,this,m);A.sys[m]=P,E&&E!==""&&(A[E]=P),P.boot()}},"installScenePlugin"),install:r(function(m,x,E,A,R){if(E===void 0&&(E=!1),A===void 0&&(A=null),R===void 0&&(R=null),typeof x!="function")return console.warn("Invalid Plugin: "+m),null;if(v.hasCustom(m))return console.warn("Plugin key in use: "+m),null;if(A!==null&&(E=!0),!this.game.isBooted)this._pendingGlobal.push({key:m,plugin:x,start:E,mapping:A,data:R});else if(v.registerCustom(m,x,A,R),E)return this.start(m);return null},"install"),getIndex:r(function(m){for(var x=this.plugins,E=0;E<x.length;E++){var A=x[E];if(A.key===m)return E}return-1},"getIndex"),getEntry:r(function(m){var x=this.getIndex(m);if(x!==-1)return this.plugins[x]},"getEntry"),isActive:r(function(m){var x=this.getEntry(m);return x&&x.active},"isActive"),start:r(function(m,x){x===void 0&&(x=m);var E=this.getEntry(x);return E&&!E.active?(E.active=!0,E.plugin.start()):E||(E=this.createEntry(m,x)),E?E.plugin:null},"start"),createEntry:r(function(m,x){var E=v.getCustom(m);if(E){var A=new E.plugin(this);E={key:x,plugin:A,active:!0,mapping:E.mapping,data:E.data},this.plugins.push(E),A.init(E.data),A.start()}return E},"createEntry"),stop:r(function(m){var x=this.getEntry(m);return x&&x.active&&(x.active=!1,x.plugin.stop()),this},"stop"),get:r(function(m,x){x===void 0&&(x=!0);var E=this.getEntry(m);if(E)return E.plugin;var A=this.getClass(m);return A&&x?(E=this.createEntry(m,m),E?E.plugin:null):A||null},"get"),getClass:r(function(m){return v.getCustomClass(m)},"getClass"),removeGlobalPlugin:r(function(m){var x=this.getEntry(m);x&&d(this.plugins,x),v.removeCustom(m)},"removeGlobalPlugin"),removeScenePlugin:r(function(m){d(this.scenePlugins,m),v.remove(m)},"removeScenePlugin"),registerGameObject:r(function(m,x,E){return x&&h.register(m,x),E&&u.register(m,E),this},"registerGameObject"),removeGameObject:r(function(m,x,E){return x===void 0&&(x=!0),E===void 0&&(E=!0),x&&h.remove(m),E&&u.remove(m),this},"removeGameObject"),registerFileType:r(function(m,x,E){l.register(m,x),E&&E.sys.load&&(E.sys.load[m]=x)},"registerFileType"),destroy:r(function(){for(var m=0;m<this.plugins.length;m++)this.plugins[m].plugin.destroy();v.destroyCustomPlugins(),this.game.noReturn&&v.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]},"destroy")});n.exports=g},45145:(n,C,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=s(52018),T=s(83419),c=s(44594),l=new T({Extends:o,initialize:r(function(h,f,v){o.call(this,f),this.scene=h,this.systems=h.sys,this.pluginKey=v,h.sys.events.once(c.BOOT,this.boot,this)},"ScenePlugin"),boot:r(function(){},"boot"),destroy:r(function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null},"destroy")});n.exports=l},18922:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BasePlugin:s(52018),DefaultPlugins:s(42363),PluginCache:s(37277),PluginManager:s(77332),ScenePlugin:s(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(n){const C=performance.now(),s=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames,T=r((c,l)=>{const u=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||u.totalVideoFrames-u.droppedVideoFrames;if(h>o){const f=this.mozFrameDelay||u.totalFrameDelay-s.totalFrameDelay||0,v=l-c;n(l,{presentationTime:l+f*1e3,expectedDisplayTime:l+v,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+v/1e3,presentedFrames:h,processingDuration:f}),delete this._rvfcpolyfillmap[C]}else this._rvfcpolyfillmap[C]=requestAnimationFrame(f=>T(l,f))},"check");return this._rvfcpolyfillmap[C]=requestAnimationFrame(c=>T(C,c)),C},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(n){cancelAnimationFrame(this._rvfcpolyfillmap[n]),delete this._rvfcpolyfillmap[n]})},10312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={DEFAULT:0,LINEAR:0,NEAREST:1};n.exports=C},68627:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19715),T=s(32880),c=s(83419),l=s(8054),u=s(50792),h=s(92503),f=s(56373),v=s(97480),d=s(69442),p=s(8443),g=s(61340),m=new c({Extends:u,initialize:r(function(E){u.call(this);var A=E.config;this.config={clearBeforeRender:A.clearBeforeRender,backgroundColor:A.backgroundColor,antialias:A.antialias,roundPixels:A.roundPixels,transparent:A.transparent},this.game=E,this.type=l.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=E.canvas;var R={alpha:A.transparent,desynchronized:A.desynchronized,willReadFrequently:!1};this.gameContext=A.context?A.context:this.gameCanvas.getContext("2d",R),this.currentContext=this.gameContext,this.antialias=A.antialias,this.blendModes=f(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new g,this._tempMatrix2=new g,this._tempMatrix3=new g,this.isBooted=!1,this.init()},"CanvasRenderer"),init:r(function(){var x=this.game;x.events.once(p.BOOT,function(){var E=this.config;if(!E.transparent){var A=this.gameContext,R=this.gameCanvas;A.fillStyle=E.backgroundColor.rgba,A.fillRect(0,0,R.width,R.height)}},this),x.textures.once(d.READY,this.boot,this)},"init"),boot:r(function(){var x=this.game,E=x.scale.baseSize;this.width=E.width,this.height=E.height,this.isBooted=!0,x.scale.on(v.RESIZE,this.onResize,this),this.resize(E.width,E.height)},"boot"),onResize:r(function(x,E){(E.width!==this.width||E.height!==this.height)&&this.resize(E.width,E.height)},"onResize"),resize:r(function(x,E){this.width=x,this.height=E,this.emit(h.RESIZE,x,E)},"resize"),resetTransform:r(function(){this.currentContext.setTransform(1,0,0,1,0,0)},"resetTransform"),setBlendMode:r(function(x){return this.currentContext.globalCompositeOperation=x,this},"setBlendMode"),setContext:r(function(x){return this.currentContext=x||this.gameContext,this},"setContext"),setAlpha:r(function(x){return this.currentContext.globalAlpha=x,this},"setAlpha"),preRender:r(function(){var x=this.gameContext,E=this.config,A=this.width,R=this.height;x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),this.emit(h.PRE_RENDER_CLEAR),E.clearBeforeRender&&(x.clearRect(0,0,A,R),E.transparent||(x.fillStyle=E.backgroundColor.rgba,x.fillRect(0,0,A,R))),x.save(),this.drawCount=0,this.emit(h.PRE_RENDER)},"preRender"),render:r(function(x,E,A){var R=E.length;this.emit(h.RENDER,x,A);var P=A.x,O=A.y,L=A.width,w=A.height,M=A.renderToTexture?A.context:x.sys.context;M.save(),this.game.scene.customViewports&&(M.beginPath(),M.rect(P,O,L,w),M.clip()),A.emit(o.PRE_RENDER,A),this.currentContext=M;var b=A.mask;b&&b.preRenderCanvas(this,null,A._maskCamera),A.transparent||(M.fillStyle=A.backgroundColor.rgba,M.fillRect(P,O,L,w)),M.globalAlpha=A.alpha,M.globalCompositeOperation="source-over",this.drawCount+=R,A.renderToTexture&&A.emit(o.PRE_RENDER,A),A.matrix.copyToContext(M);for(var D=0;D<R;D++){var F=E[D];F.mask&&F.mask.preRenderCanvas(this,F,A),F.renderCanvas(this,F,A),F.mask&&F.mask.postRenderCanvas(this,F,A)}M.setTransform(1,0,0,1,0,0),M.globalCompositeOperation="source-over",M.globalAlpha=1,A.flashEffect.postRenderCanvas(M),A.fadeEffect.postRenderCanvas(M),A.dirty=!1,b&&b.postRenderCanvas(this),M.restore(),A.renderToTexture&&(A.emit(o.POST_RENDER,A),A.renderToGame&&x.sys.context.drawImage(A.canvas,P,O)),A.emit(o.POST_RENDER,A)},"render"),postRender:r(function(){var x=this.gameContext;x.restore(),this.emit(h.POST_RENDER);var E=this.snapshotState;E.callback&&(T(this.gameCanvas,E),E.callback=null)},"postRender"),snapshotCanvas:r(function(x,E,A,R,P,O,L,w,M){A===void 0&&(A=!1),this.snapshotArea(R,P,O,L,E,w,M);var b=this.snapshotState;return b.getPixel=A,T(x,b),b.callback=null,this},"snapshotCanvas"),snapshot:r(function(x,E,A){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,x,E,A)},"snapshot"),snapshotArea:r(function(x,E,A,R,P,O,L){var w=this.snapshotState;return w.callback=P,w.type=O,w.encoder=L,w.getPixel=!1,w.x=x,w.y=E,w.width=Math.min(A,this.gameCanvas.width),w.height=Math.min(R,this.gameCanvas.height),this},"snapshotArea"),snapshotPixel:r(function(x,E,A){return this.snapshotArea(x,E,1,1,A),this.snapshotState.getPixel=!0,this},"snapshotPixel"),batchSprite:r(function(x,E,A,R){var P=A.alpha*x.alpha;if(P!==0){var O=this.currentContext,L=this._tempMatrix1,w=this._tempMatrix2,M=E.canvasData,b=M.x,D=M.y,F=E.cutWidth,N=E.cutHeight,B=E.customPivot,Y=E.source.resolution,W=x.displayOriginX,z=x.displayOriginY,X=-W+E.x,H=-z+E.y;if(x.isCropped){var V=x._crop;(V.flipX!==x.flipX||V.flipY!==x.flipY)&&E.updateCropUVs(V,x.flipX,x.flipY),F=V.cw,N=V.ch,b=V.cx,D=V.cy,X=-W+V.x,H=-z+V.y,x.flipX&&(X>=0?X=-(X+F):X<0&&(X=Math.abs(X)-F)),x.flipY&&(H>=0?H=-(H+N):H<0&&(H=Math.abs(H)-N))}var G=1,k=1;x.flipX&&(B||(X+=-E.realWidth+W*2),G=-1),x.flipY&&(B||(H+=-E.realHeight+z*2),k=-1);var U=x.x,I=x.y;if(A.roundPixels&&(U=Math.floor(U),I=Math.floor(I)),w.applyITRS(U,I,x.rotation,x.scaleX*G,x.scaleY*k),L.copyFrom(A.matrix),R?(L.multiplyWithOffset(R,-A.scrollX*x.scrollFactorX,-A.scrollY*x.scrollFactorY),w.e=U,w.f=I):(w.e-=A.scrollX*x.scrollFactorX,w.f-=A.scrollY*x.scrollFactorY),L.multiply(w),A.renderRoundPixels&&(L.e=Math.floor(L.e+.5),L.f=Math.floor(L.f+.5)),O.save(),L.setToContext(O),O.globalCompositeOperation=this.blendModes[x.blendMode],O.globalAlpha=P,O.imageSmoothingEnabled=!E.source.scaleMode,x.mask&&x.mask.preRenderCanvas(this,x,A),F>0&&N>0){var $=F/Y,K=N/Y;A.roundPixels&&(X=Math.floor(X+.5),H=Math.floor(H+.5),$+=.5,K+=.5),O.drawImage(E.source.image,b,D,F,N,X,H,$,K)}x.mask&&x.mask.postRenderCanvas(this,x,A),O.restore()}},"batchSprite"),destroy:r(function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null},"destroy")});n.exports=m},55830:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasRenderer:s(68627),GetBlendModes:s(56373),SetTransform:s(20926)}},56373:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),T=s(89289),c=r(function(){var l=[],u=T.supportNewBlendModes,h="source-over";return l[o.NORMAL]=h,l[o.ADD]="lighter",l[o.MULTIPLY]=u?"multiply":h,l[o.SCREEN]=u?"screen":h,l[o.OVERLAY]=u?"overlay":h,l[o.DARKEN]=u?"darken":h,l[o.LIGHTEN]=u?"lighten":h,l[o.COLOR_DODGE]=u?"color-dodge":h,l[o.COLOR_BURN]=u?"color-burn":h,l[o.HARD_LIGHT]=u?"hard-light":h,l[o.SOFT_LIGHT]=u?"soft-light":h,l[o.DIFFERENCE]=u?"difference":h,l[o.EXCLUSION]=u?"exclusion":h,l[o.HUE]=u?"hue":h,l[o.SATURATION]=u?"saturation":h,l[o.COLOR]=u?"color":h,l[o.LUMINOSITY]=u?"luminosity":h,l[o.ERASE]="destination-out",l[o.SOURCE_IN]="source-in",l[o.SOURCE_OUT]="source-out",l[o.SOURCE_ATOP]="source-atop",l[o.DESTINATION_OVER]="destination-over",l[o.DESTINATION_IN]="destination-in",l[o.DESTINATION_OUT]="destination-out",l[o.DESTINATION_ATOP]="destination-atop",l[o.LIGHTER]="lighter",l[o.COPY]="copy",l[o.XOR]="xor",l},"GetBlendModes");n.exports=c},20926:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),T=r(function(c,l,u,h,f){var v=h.alpha*u.alpha;if(v<=0)return!1;var d=o(u,h,f).calc;return l.globalCompositeOperation=c.blendModes[u.blendMode],l.globalAlpha=v,l.save(),d.setToContext(l),l.imageSmoothingEnabled=u.frame?!u.frame.source.scaleMode:c.antialias,!0},"SetTransform");n.exports=T},63899:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="losewebgl"},6119:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},48070:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},15640:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},8912:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},87124:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="restorewebgl"},92503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LOSE_WEBGL:s(63899),POST_RENDER:s(6119),PRE_RENDER:s(48070),RENDER:s(15640),RESIZE:s(8912),RESTORE_WEBGL:s(87124)}},36909:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:s(92503),Snapshot:s(89966)},n.exports.Canvas=s(55830),n.exports.WebGL=s(4159)},32880:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),T=s(40987),c=s(95540),l=r(function(u,h){var f=c(h,"callback"),v=c(h,"type","image/png"),d=c(h,"encoder",.92),p=Math.abs(Math.round(c(h,"x",0))),g=Math.abs(Math.round(c(h,"y",0))),m=Math.floor(c(h,"width",u.width)),x=Math.floor(c(h,"height",u.height)),E=c(h,"getPixel",!1);if(E){var A=u.getContext("2d",{willReadFrequently:!1}),R=A.getImageData(p,g,1,1),P=R.data;f.call(null,new T(P[0],P[1],P[2],P[3]))}else if(p!==0||g!==0||m!==u.width||x!==u.height){var O=o.createWebGL(this,m,x),L=O.getContext("2d",{willReadFrequently:!0});m>0&&x>0&&L.drawImage(u,p,g,m,x,0,0,m,x);var w=new Image;w.onerror=function(){f.call(null),o.remove(O)},w.onload=function(){f.call(null,w),o.remove(O)},w.src=O.toDataURL(v,d)}else{var M=new Image;M.onerror=function(){f.call(null)},M.onload=function(){f.call(null,M)},M.src=u.toDataURL(v,d)}},"CanvasSnapshot");n.exports=l},88815:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),T=s(40987),c=s(95540),l=r(function(u,h){var f=u,v=c(h,"callback"),d=c(h,"type","image/png"),p=c(h,"encoder",.92),g=Math.abs(Math.round(c(h,"x",0))),m=Math.abs(Math.round(c(h,"y",0))),x=c(h,"getPixel",!1),E=c(h,"isFramebuffer",!1),A=E?c(h,"bufferWidth",1):f.drawingBufferWidth,R=E?c(h,"bufferHeight",1):f.drawingBufferHeight;if(x){var P=new Uint8Array(4),O=E?m:R-m;f.readPixels(g,O,1,1,f.RGBA,f.UNSIGNED_BYTE,P),v.call(null,new T(P[0],P[1],P[2],P[3]))}else{var L=Math.floor(c(h,"width",A)),w=Math.floor(c(h,"height",R)),M=L*w*4,b=new Uint8Array(M);f.readPixels(g,R-m-w,L,w,f.RGBA,f.UNSIGNED_BYTE,b);for(var D=o.createWebGL(this,L,w),F=D.getContext("2d",{willReadFrequently:!0}),N=F.getImageData(0,0,L,w),B=N.data,Y=0;Y<w;Y++)for(var W=0;W<L;W++){var z=((w-Y-1)*L+W)*4,X=E?M-(Y*L+(L-W))*4:(Y*L+W)*4;B[X+0]=b[z+0],B[X+1]=b[z+1],B[X+2]=b[z+2],B[X+3]=b[z+3]}F.putImageData(N,0,0);var H=new Image;H.onerror=function(){v.call(null),o.remove(D)},H.onload=function(){v.call(null,H),o.remove(D)},H.src=D.toDataURL(d,p)}},"WebGLSnapshot");n.exports=l},89966:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Canvas:s(32880),WebGL:s(88815)}},7530:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(36060),c=s(90330),l=s(82264),u=s(95540),h=s(32302),f=s(63448),v=s(31302),d=s(58918),p=s(14811),g=s(92651),m=s(96569),x=s(56527),E=s(57516),A=s(43439),R=s(81041),P=s(12385),O=s(7589),L=s(95428),w=s(72905),M=new o({initialize:r(function(D){this.game=D.game,this.renderer=D,this.classes=new c([[T.UTILITY_PIPELINE,O],[T.MULTI_PIPELINE,E],[T.BITMAPMASK_PIPELINE,v],[T.SINGLE_PIPELINE,P],[T.ROPE_PIPELINE,R],[T.LIGHT_PIPELINE,m],[T.POINTLIGHT_PIPELINE,A],[T.MOBILE_PIPELINE,x]]),this.postPipelineClasses=new c,this.pipelines=new c,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},"PipelineManager"),boot:r(function(b,D,F){var N=this.renderer,B=this.renderTargets;this.frameInc=Math.floor(u(b,"frameInc",32));var Y=N.width,W=N.height,z=this.game.config.disablePreFX,X=this.game.config.disablePostFX;if(X||this.postPipelineClasses.setAll([[String(p.BARREL),d.Barrel],[String(p.BLOOM),d.Bloom],[String(p.BLUR),d.Blur],[String(p.BOKEH),d.Bokeh],[String(p.CIRCLE),d.Circle],[String(p.COLOR_MATRIX),d.ColorMatrix],[String(p.DISPLACEMENT),d.Displacement],[String(p.GLOW),d.Glow],[String(p.GRADIENT),d.Gradient],[String(p.PIXELATE),d.Pixelate],[String(p.SHADOW),d.Shadow],[String(p.SHINE),d.Shine],[String(p.VIGNETTE),d.Vignette],[String(p.WIPE),d.Wipe]]),!z){this.classes.set(T.FX_PIPELINE,g);for(var H=Math.min(Y,W),V=Math.ceil(H/this.frameInc),G=1;G<V;G++){var k=G*this.frameInc;B.push(new h(N,k,k)),B.push(new h(N,k,k)),B.push(new h(N,k,k)),this.maxDimension=k}B.push(new h(N,Y,W,1,0,!0,!0)),B.push(new h(N,Y,W,1,0,!0,!0)),B.push(new h(N,Y,W,1,0,!0,!0))}var U,I,$=this,K=this.game;if(this.classes.each(function(J,Q){U=$.add(J,new Q({game:K})),J===T.UTILITY_PIPELINE&&($.UTILITY_PIPELINE=U,$.fullFrame1=U.fullFrame1,$.fullFrame2=U.fullFrame2,$.halfFrame1=U.halfFrame1,$.halfFrame2=U.halfFrame2)}),this.MULTI_PIPELINE=this.get(T.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(T.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(T.MOBILE_PIPELINE),z||(this.FX_PIPELINE=this.get(T.FX_PIPELINE)),b)for(I in b){var Z=b[I];U=new Z(K),U.name=I,U.isPostFX?this.postPipelineClasses.set(I,Z):this.has(I)||(this.classes.set(I,Z),this.add(I,U))}this.default=this.get(D),F&&!l.os.desktop&&(this.default=this.MOBILE_PIPELINE)},"boot"),setDefaultPipeline:r(function(b){var D=this.get(b);return D&&(this.default=D),D},"setDefaultPipeline"),add:r(function(b,D){if(D.isPostFX){console.warn(b+" is a Post Pipeline. Use `addPostPipeline` instead");return}var F=this.pipelines,N=this.renderer;return F.has(b)?console.warn("Pipeline exists: "+b):(D.name=b,D.manager=this,F.set(b,D)),D.hasBooted||D.boot(),N.width!==0&&N.height!==0&&!D.isPreFX&&D.resize(N.width,N.height),D},"add"),addPostPipeline:r(function(b,D){this.postPipelineClasses.has(b)||this.postPipelineClasses.set(b,D)},"addPostPipeline"),flush:r(function(){this.current&&this.current.flush()},"flush"),has:r(function(b){var D=this.pipelines;return typeof b=="string"?D.has(b):!!D.contains(b)},"has"),get:r(function(b){var D=this.pipelines;if(typeof b=="string")return D.get(b);if(D.contains(b))return b},"get"),getPostPipeline:r(function(b,D,F){var N=this.postPipelineClasses,B,Y="",W=typeof b;if(W==="string"||W==="number"?(B=N.get(b),Y=b):W==="function"?(N.contains(b)&&(B=b),Y=b.name):W==="object"&&(B=N.get(b.name),Y=b.name),B){var z=new B(this.game,F);return z.name=Y,D&&(z.gameObject=D),this.postPipelineInstances.push(z),z}},"getPostPipeline"),removePostPipeline:r(function(b){w(this.postPipelineInstances,b)},"removePostPipeline"),remove:r(function(b,D,F){D===void 0&&(D=!0),F===void 0&&(F=!0),this.pipelines.delete(b),D&&this.classes.delete(b),F&&this.postPipelineClasses.delete(b)},"remove"),set:r(function(b,D,F){if(!b.isPostFX)return this.isCurrent(b,F)||(this.flush(),this.current&&this.current.unbind(),this.current=b,b.bind(F)),b.updateProjectionMatrix(),b.onBind(D),b},"set"),preBatch:r(function(b){if(b.hasPostPipeline){this.flush();for(var D=b.postPipelines,F=D.length-1;F>=0;F--){var N=D[F];N.active&&N.preBatch(b)}}},"preBatch"),postBatch:r(function(b){if(b.hasPostPipeline){this.flush();for(var D=b.postPipelines,F=0;F<D.length;F++){var N=D[F];N.active&&N.postBatch(b)}}},"postBatch"),preBatchCamera:r(function(b){if(b.hasPostPipeline){this.flush();for(var D=b.postPipelines,F=D.length-1;F>=0;F--){var N=D[F];N.active&&N.preBatch(b)}}},"preBatchCamera"),postBatchCamera:r(function(b){if(b.hasPostPipeline){this.flush();for(var D=b.postPipelines,F=0;F<D.length;F++){var N=D[F];N.active&&N.postBatch(b)}}},"postBatchCamera"),isCurrent:r(function(b,D){var F=this.renderer,N=this.current;return N&&!D&&(D=N.currentShader),!(N!==b||D.program!==F.currentProgram)},"isCurrent"),copyFrame:r(function(b,D,F,N,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(b,D,F,N,B),this},"copyFrame"),copyToGame:r(function(b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(b),this},"copyToGame"),drawFrame:r(function(b,D,F,N){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(b,D,F,N),this},"drawFrame"),blendFrames:r(function(b,D,F,N,B){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(b,D,F,N,B),this},"blendFrames"),blendFramesAdditive:r(function(b,D,F,N,B){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(b,D,F,N,B),this},"blendFramesAdditive"),clearFrame:r(function(b,D){return this.UTILITY_PIPELINE.clearFrame(b,D),this},"clearFrame"),blitFrame:r(function(b,D,F,N,B,Y){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(b,D,F,N,B,Y),this},"blitFrame"),copyFrameRect:r(function(b,D,F,N,B,Y,W,z){return this.UTILITY_PIPELINE.copyFrameRect(b,D,F,N,B,Y,W,z),this},"copyFrameRect"),forceZero:r(function(){return this.current&&this.current.forceZero},"forceZero"),setMulti:r(function(){return this.set(this.MULTI_PIPELINE)},"setMulti"),setUtility:r(function(b){return this.UTILITY_PIPELINE.bind(b)},"setUtility"),setFX:r(function(){return this.set(this.FX_PIPELINE)},"setFX"),restoreContext:r(function(){this.rebind(),this.pipelines.each(function(b,D){D.restoreContext()}),L(this.postPipelineInstances,function(b){b.restoreContext()})},"restoreContext"),rebind:r(function(b){b===void 0&&this.previous&&(b=this.previous);var D=this.renderer,F=D.gl;F.disable(F.DEPTH_TEST),F.disable(F.CULL_FACE),D.hasActiveStencilMask()?F.clear(F.DEPTH_BUFFER_BIT):(F.disable(F.STENCIL_TEST),F.clear(F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)),F.viewport(0,0,D.width,D.height),D.currentProgram=null,D.setBlendMode(0,!0);var N=D.vaoExtension;N&&N.bindVertexArrayOES(null);var B=this.pipelines.entries;for(var Y in B)B[Y].glReset=!0;b&&(this.current=b,b.rebind())},"rebind"),clear:r(function(){var b=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,b.currentProgram=null,b.setBlendMode(0,!0);var D=b.vaoExtension;D&&D.bindVertexArrayOES(null)},"clear"),getRenderTarget:r(function(b){var D=this.renderTargets,F=3;if(b>this.maxDimension)return this.targetIndex=D.length-F,D[this.targetIndex];var N=(f(b,this.frameInc,0,!0)-1)*F;return this.targetIndex=N,D[N]},"getRenderTarget"),getSwapRenderTarget:r(function(){return this.renderTargets[this.targetIndex+1]},"getSwapRenderTarget"),getAltSwapRenderTarget:r(function(){return this.renderTargets[this.targetIndex+2]},"getAltSwapRenderTarget"),destroy:r(function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null},"destroy")});n.exports=M},32302:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(92503),c=new o({initialize:r(function(u,h,f,v,d,p,g,m,x){v===void 0&&(v=1),d===void 0&&(d=0),p===void 0&&(p=!0),g===void 0&&(g=!1),m===void 0&&(m=!0),x===void 0&&(x=!0),this.renderer=u,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=v,this.minFilter=d,this.autoClear=p,this.autoResize=!0,this.hasDepthBuffer=m,this.forceClamp=x,this.init(h,f),g?this.renderer.on(T.RESIZE,this.resize,this):this.autoResize=!1},"RenderTarget"),init:r(function(l,u){var h=this.renderer;this.texture=h.createTextureFromSource(null,l,u,this.minFilter,this.forceClamp),this.framebuffer=h.createFramebuffer(l,u,this.texture,this.hasDepthBuffer),this.width=l,this.height=u},"init"),setAutoResize:r(function(l){return l&&!this.autoResize?(this.renderer.on(T.RESIZE,this.resize,this),this.autoResize=!0):!l&&this.autoResize&&(this.renderer.off(T.RESIZE,this.resize,this),this.autoResize=!1),this},"setAutoResize"),resize:r(function(l,u){if(this.autoResize&&this.willResize(l,u)){var h=this.renderer;h.deleteFramebuffer(this.framebuffer),h.deleteTexture(this.texture),this.texture=h.createTextureFromSource(null,l,u,this.minFilter,this.forceClamp),this.framebuffer=h.createFramebuffer(l,u,this.texture,this.hasDepthBuffer),this.width=l,this.height=u}return this},"resize"),willResize:r(function(l,u){return typeof l!="number"||typeof u!="number"?!1:(l=Math.round(l*this.scale),u=Math.round(u*this.scale),l=Math.max(l,1),u=Math.max(u,1),l!==this.width||u!==this.height)},"willResize"),bind:r(function(l,u,h){l===void 0&&(l=!1);var f=this.renderer;if(l&&f.flush(),u&&h&&this.resize(u,h),f.pushFramebuffer(this.framebuffer,!1,!1),l&&this.adjustViewport(),this.autoClear){var v=this.renderer.gl;v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)}f.clearStencilMask()},"bind"),adjustViewport:r(function(){var l=this.renderer.gl;l.viewport(0,0,this.width,this.height),l.disable(l.SCISSOR_TEST)},"adjustViewport"),clear:r(function(l,u,h,f){var v=this.renderer,d=v.gl;v.pushFramebuffer(this.framebuffer),l!==void 0&&u!==void 0&&h!==void 0&&f!==void 0?(d.enable(d.SCISSOR_TEST),d.scissor(l,u,h,f)):d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),v.popFramebuffer(),v.resetScissor()},"clear"),unbind:r(function(l){l===void 0&&(l=!1);var u=this.renderer;return l&&u.flush(),u.popFramebuffer()},"unbind"),destroy:r(function(){var l=this.renderer;l.off(T.RESIZE,this.resize,this),l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null},"destroy")});n.exports=c},70554:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={getTintFromFloats:r(function(C,s,o,T){var c=(C*255|0)&255,l=(s*255|0)&255,u=(o*255|0)&255,h=(T*255|0)&255;return(h<<24|c<<16|l<<8|u)>>>0},"getTintFromFloats"),getTintAppendFloatAlpha:r(function(C,s){var o=(s*255|0)&255;return(o<<24|C)>>>0},"getTintAppendFloatAlpha"),getTintAppendFloatAlphaAndSwap:r(function(C,s){var o=(C>>16|0)&255,T=(C>>8|0)&255,c=(C|0)&255,l=(s*255|0)&255;return(l<<24|c<<16|T<<8|o)>>>0},"getTintAppendFloatAlphaAndSwap"),getFloatsFromUintRGB:r(function(C){var s=(C>>16|0)&255,o=(C>>8|0)&255,T=(C|0)&255;return[s/255,o/255,T/255]},"getFloatsFromUintRGB"),checkShaderMax:r(function(C,s){var o=Math.min(16,C.getParameter(C.MAX_TEXTURE_IMAGE_UNITS));return!s||s===-1?o:Math.min(o,s)},"checkShaderMax"),parseFragmentShaderMaxTextures:r(function(C,s){if(!C)return"";for(var o="",T=0;T<s;T++)T>0&&(o+=`
	else `),T<s-1&&(o+="if (outTexId < "+T+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+T+"], outTexCoord);",o+=`
	}`;return C=C.replace(/%count%/gi,s.toString()),C.replace(/%forloop%/gi,o)},"parseFragmentShaderMaxTextures"),setGlowQuality:r(function(C,s,o,T){return o===void 0&&(o=s.config.glowFXQuality),T===void 0&&(T=s.config.glowFXDistance),C=C.replace(/__SIZE__/gi,(1/o/T).toFixed(7)),C=C.replace(/__DIST__/gi,T.toFixed(0)+".0"),C},"setGlowQuality")}},29100:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(62644),c=s(50792),l=s(77085),u=s(95540),h=s(37867),f=s(92503),v=s(32302),d=s(70554),p=s(38683),g=new o({Extends:c,initialize:r(function(x){c.call(this);var E=x.game,A=E.renderer,R=A.gl;this.name=u(x,"name","WebGLPipeline"),this.game=E,this.renderer=A,this.manager,this.gl=R,this.view=E.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=u(x,"topology",R.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=u(x,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=x,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=u(x,"resizeUniform","")},"WebGLPipeline"),boot:r(function(){var m,x=this.gl,E=this.config,A=this.renderer;this.isPostFX||(this.projectionMatrix=new h().identity());var R=this.renderTargets,P=u(E,"renderTarget",!1);typeof P=="boolean"&&P&&(P=1);var O=A.width,L=A.height;if(typeof P=="number")for(m=0;m<P;m++)R.push(new v(A,O,L,1,0,!0));else if(Array.isArray(P))for(m=0;m<P.length;m++){var w=u(P[m],"scale",1),M=u(P[m],"minFilter",0),b=u(P[m],"autoClear",1),D=u(P[m],"autoResize",!1),F=u(P[m],"width",null),N=u(P[m],"height",F);F?R.push(new v(A,F,N,1,M,b,D)):R.push(new v(A,O,L,w,M,b,D))}R.length&&(this.currentRenderTarget=R[0]),this.setShadersFromConfig(E);var B=this.shaders,Y=0;for(m=0;m<B.length;m++)B[m].vertexSize>Y&&(Y=B[m].vertexSize);var W=u(E,"batchSize",A.config.batchSize);this.vertexCapacity=W*6;var z=new ArrayBuffer(this.vertexCapacity*Y);this.vertexData=z,this.bytes=new Uint8Array(z),this.vertexViewF32=new Float32Array(z),this.vertexViewU32=new Uint32Array(z);var X=u(E,"vertices",null);for(X?(this.vertexViewF32.set(X),this.vertexBuffer=A.createVertexBuffer(z,x.STATIC_DRAW)):this.vertexBuffer=A.createVertexBuffer(z.byteLength,x.DYNAMIC_DRAW),this.setVertexBuffer(),m=B.length-1;m>=0;m--)B[m].rebind();this.hasBooted=!0,A.on(f.RESIZE,this.resize,this),A.on(f.PRE_RENDER,this.onPreRender,this),A.on(f.RENDER,this.onRender,this),A.on(f.POST_RENDER,this.onPostRender,this),this.emit(l.BOOT,this),this.onBoot()},"boot"),onBoot:r(function(){},"onBoot"),onResize:r(function(){},"onResize"),setShader:r(function(m,x,E){var A=this.renderer;if(m!==this.currentShader||A.currentProgram!==this.currentShader.program){this.flush();var R=this.setVertexBuffer(E);R&&!x&&(x=!0),m.bind(x,!1),this.currentShader=m}return this},"setShader"),getShaderByName:r(function(m){for(var x=this.shaders,E=0;E<x.length;E++)if(x[E].name===m)return x[E]},"getShaderByName"),setShadersFromConfig:r(function(m){var x,E=this.shaders,A=this.renderer;for(x=0;x<E.length;x++)E[x].destroy();var R="vertShader",P="fragShader",O="attributes",L=u(m,R,null),w=d.parseFragmentShaderMaxTextures(u(m,P,null),A.maxTextures),M=u(m,O,null),b=u(m,"shaders",[]),D=b.length;if(D===0)L&&w&&(this.shaders=[new p(this,"default",L,w,T(M))]);else{var F=[];for(x=0;x<D;x++){var N=b[x],B,Y,W,z;if(typeof N=="string"?(B="default",Y=L,W=d.parseFragmentShaderMaxTextures(N,A.maxTextures),z=M):(B=u(N,"name","default"),Y=u(N,R,L),W=d.parseFragmentShaderMaxTextures(u(N,P,w),A.maxTextures),z=u(N,O,M)),B==="default"){var X=W.split(`
`),H=X[0].trim();H.indexOf("#define SHADER_NAME")>-1&&(B=H.substring(20))}Y&&W&&F.push(new p(this,B,Y,W,T(z)))}this.shaders=F}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},"setShadersFromConfig"),createBatch:r(function(m){return this.currentBatch={start:this.vertexCount,count:0,texture:[m],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=m,this.batch.push(this.currentBatch),0},"createBatch"),addTextureToBatch:r(function(m){var x=this.currentBatch;x&&(x.texture.push(m),x.unit++,x.maxUnit++)},"addTextureToBatch"),pushBatch:r(function(m){if(!this.currentBatch||this.forceZero&&m!==this.currentTexture)return this.createBatch(m);if(m===this.currentTexture)return this.currentUnit;var x=this.currentBatch,E=x.texture.indexOf(m);return E===-1?x.texture.length===this.renderer.maxTextures?this.createBatch(m):(x.unit++,x.maxUnit++,x.texture.push(m),this.currentUnit=x.unit,this.currentTexture=m,x.unit):(this.currentUnit=E,this.currentTexture=m,E)},"pushBatch"),setGameObject:r(function(m,x){return x===void 0&&(x=m.frame),this.pushBatch(x.source.glTexture)},"setGameObject"),shouldFlush:r(function(m){return m===void 0&&(m=0),this.vertexCount+m>this.vertexCapacity},"shouldFlush"),vertexAvailable:r(function(){return this.vertexCapacity-this.vertexCount},"vertexAvailable"),resize:r(function(m,x){(m!==this.width||x!==this.height)&&this.flush(),this.width=m,this.height=x;for(var E=this.renderTargets,A=0;A<E.length;A++)E[A].resize(m,x);return this.setProjectionMatrix(m,x),this.resizeUniform&&this.set2f(this.resizeUniform,m,x),this.emit(l.RESIZE,m,x,this),this.onResize(m,x),this},"resize"),setProjectionMatrix:r(function(m,x){var E=this.projectionMatrix;if(!E)return this;this.projectionWidth=m,this.projectionHeight=x,E.ortho(0,m,x,0,-1e3,1e3);for(var A=this.shaders,R="uProjectionMatrix",P=0;P<A.length;P++){var O=A[P];O.hasUniform(R)&&(O.resetUniform(R),O.setMatrix4fv(R,!1,E.val,O))}return this},"setProjectionMatrix"),flipProjectionMatrix:r(function(m){m===void 0&&(m=!0);var x=this.projectionMatrix;if(!x)return this;var E=this.projectionWidth,A=this.projectionHeight;m?x.ortho(0,E,0,A,-1e3,1e3):x.ortho(0,E,A,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,x.val)},"flipProjectionMatrix"),updateProjectionMatrix:r(function(){if(this.projectionMatrix){var m=this.renderer.projectionWidth,x=this.renderer.projectionHeight;(this.projectionWidth!==m||this.projectionHeight!==x)&&this.setProjectionMatrix(m,x)}},"updateProjectionMatrix"),bind:r(function(m){if(m===void 0&&(m=this.currentShader),this.glReset)return this.rebind(m);var x=!1,E=this.gl;return E.getParameter(E.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(E.bindBuffer(E.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,x=!0),m.bind(x),this.currentShader=m,this.activeTextures.length=0,this.emit(l.BIND,this,m),this.onActive(m),this},"bind"),rebind:r(function(m){this.activeBuffer=null,this.setVertexBuffer();for(var x=this.shaders,E=x.length-1;E>=0;E--){var A=x[E].rebind();(!m||A===m)&&(this.currentShader=A)}return this.activeTextures.length=0,this.emit(l.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},"rebind"),restoreContext:r(function(){var m=this.shaders,x=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,x&&this.setVertexBuffer();for(var E=0;E<m.length;E++){var A=m[E];A.syncUniforms(),x&&A.rebind()}},"restoreContext"),setVertexBuffer:r(function(m){if(m===void 0&&(m=this.vertexBuffer),m!==this.activeBuffer){var x=this.gl;return this.gl.bindBuffer(x.ARRAY_BUFFER,m.webGLBuffer),this.activeBuffer=m,!0}return!1},"setVertexBuffer"),preBatch:r(function(m){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(m),this},"preBatch"),postBatch:r(function(m){return this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},"postBatch"),onDraw:r(function(){},"onDraw"),unbind:r(function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},"unbind"),flush:r(function(m){if(m===void 0&&(m=!1),this.vertexCount>0){this.emit(l.BEFORE_FLUSH,this,m),this.onBeforeFlush(m);var x=this.gl,E=this.vertexCount,A=this.currentShader.vertexSize,R=this.topology;if(this.active){this.setVertexBuffer(),E===this.vertexCapacity?x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.DYNAMIC_DRAW):x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,E*A));var P,O,L,w=this.batch,M=this.activeTextures;if(this.forceZero)for(M[0]||x.activeTexture(x.TEXTURE0),P=0;P<w.length;P++)O=w[P],L=O.texture[0],M[0]!==L&&(x.bindTexture(x.TEXTURE_2D,L.webGLTexture),M[0]=L),x.drawArrays(R,O.start,O.count);else for(P=0;P<w.length;P++){O=w[P];for(var b=0;b<=O.maxUnit;b++)L=O.texture[b],M[b]!==L&&(x.activeTexture(x.TEXTURE0+b),x.bindTexture(x.TEXTURE_2D,L.webGLTexture),M[b]=L);x.drawArrays(R,O.start,O.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(l.AFTER_FLUSH,this,m),this.onAfterFlush(m)}return this},"flush"),onActive:r(function(){},"onActive"),onBind:r(function(){},"onBind"),onRebind:r(function(){},"onRebind"),onBatch:r(function(){},"onBatch"),onPreBatch:r(function(){},"onPreBatch"),onPostBatch:r(function(){},"onPostBatch"),onPreRender:r(function(){},"onPreRender"),onRender:r(function(){},"onRender"),onPostRender:r(function(){},"onPostRender"),onBeforeFlush:r(function(){},"onBeforeFlush"),onAfterFlush:r(function(){},"onAfterFlush"),batchVert:r(function(m,x,E,A,R,P,O){var L=this.vertexViewF32,w=this.vertexViewU32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;L[++M]=m,L[++M]=x,L[++M]=E,L[++M]=A,L[++M]=R,L[++M]=P,w[++M]=O,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},"batchVert"),batchQuad:r(function(m,x,E,A,R,P,O,L,w,M,b,D,F,N,B,Y,W,z,X,H){H===void 0&&(H=this.currentUnit);var V=!1;this.shouldFlush(6)&&(this.flush(),V=!0),this.currentBatch||(H=this.setTexture2D(X));var G=this.vertexViewF32,k=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return G[++U]=x,G[++U]=E,G[++U]=M,G[++U]=b,G[++U]=H,G[++U]=z,k[++U]=N,G[++U]=A,G[++U]=R,G[++U]=M,G[++U]=F,G[++U]=H,G[++U]=z,k[++U]=Y,G[++U]=P,G[++U]=O,G[++U]=D,G[++U]=F,G[++U]=H,G[++U]=z,k[++U]=W,G[++U]=x,G[++U]=E,G[++U]=M,G[++U]=b,G[++U]=H,G[++U]=z,k[++U]=N,G[++U]=P,G[++U]=O,G[++U]=D,G[++U]=F,G[++U]=H,G[++U]=z,k[++U]=W,G[++U]=L,G[++U]=w,G[++U]=D,G[++U]=b,G[++U]=H,G[++U]=z,k[++U]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),V},"batchQuad"),batchTri:r(function(m,x,E,A,R,P,O,L,w,M,b,D,F,N,B,Y,W){W===void 0&&(W=this.currentUnit);var z=!1;this.shouldFlush(3)&&(this.flush(),z=!0),this.currentBatch||(W=this.setTexture2D(Y));var X=this.vertexViewF32,H=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return X[++V]=x,X[++V]=E,X[++V]=L,X[++V]=w,X[++V]=W,X[++V]=B,H[++V]=D,X[++V]=A,X[++V]=R,X[++V]=L,X[++V]=b,X[++V]=W,X[++V]=B,H[++V]=F,X[++V]=P,X[++V]=O,X[++V]=M,X[++V]=b,X[++V]=W,X[++V]=B,H[++V]=N,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),z},"batchTri"),drawFillRect:r(function(m,x,E,A,R,P,O,L){O===void 0&&(O=this.renderer.whiteTexture),L===void 0&&(L=!0),m=Math.floor(m),x=Math.floor(x);var w=Math.floor(m+E),M=Math.floor(x+A),b=this.setTexture2D(O),D=d.getTintAppendFloatAlphaAndSwap(R,P),F=0,N=0,B=1,Y=1;L&&(N=1,Y=0),this.batchQuad(null,m,x,m,M,w,M,w,x,F,N,B,Y,D,D,D,D,0,O,b)},"drawFillRect"),setTexture2D:r(function(m){return m===void 0&&(m=this.renderer.whiteTexture),this.pushBatch(m)},"setTexture2D"),bindTexture:r(function(m,x){x===void 0&&(x=0);var E=this.gl;return E.activeTexture(E.TEXTURE0+x),E.bindTexture(E.TEXTURE_2D,m.webGLTexture),this},"bindTexture"),bindRenderTarget:r(function(m,x){return this.bindTexture(m.texture,x)},"bindRenderTarget"),setTime:r(function(m,x){return this.set1f(m,this.game.loop.getDuration(),x),this},"setTime"),setBoolean:r(function(m,x,E){return E===void 0&&(E=this.currentShader),E.setBoolean(m,x),this},"setBoolean"),set1f:r(function(m,x,E){return E===void 0&&(E=this.currentShader),E.set1f(m,x),this},"set1f"),set2f:r(function(m,x,E,A){return A===void 0&&(A=this.currentShader),A.set2f(m,x,E),this},"set2f"),set3f:r(function(m,x,E,A,R){return R===void 0&&(R=this.currentShader),R.set3f(m,x,E,A),this},"set3f"),set4f:r(function(m,x,E,A,R,P){return P===void 0&&(P=this.currentShader),P.set4f(m,x,E,A,R),this},"set4f"),set1fv:r(function(m,x,E){return E===void 0&&(E=this.currentShader),E.set1fv(m,x),this},"set1fv"),set2fv:r(function(m,x,E){return E===void 0&&(E=this.currentShader),E.set2fv(m,x),this},"set2fv"),set3fv:r(function(m,x,E){return E===void 0&&(E=this.currentShader),E.set3fv(m,x),this},"set3fv"),set4fv:r(function(m,x,E){return E===void 0&&(E=this.currentShader),E.set4fv(m,x),this},"set4fv"),set1iv:r(function(m,x,E){return E===void 0&&(E=this.currentShader),E.set1iv(m,x),this},"set1iv"),set2iv:r(function(m,x,E){return E===void 0&&(E=this.currentShader),E.set2iv(m,x),this},"set2iv"),set3iv:r(function(m,x,E){return E===void 0&&(E=this.currentShader),E.set3iv(m,x),this},"set3iv"),set4iv:r(function(m,x,E){return E===void 0&&(E=this.currentShader),E.set4iv(m,x),this},"set4iv"),set1i:r(function(m,x,E){return E===void 0&&(E=this.currentShader),E.set1i(m,x),this},"set1i"),set2i:r(function(m,x,E,A){return A===void 0&&(A=this.currentShader),A.set2i(m,x,E),this},"set2i"),set3i:r(function(m,x,E,A,R){return R===void 0&&(R=this.currentShader),R.set3i(m,x,E,A),this},"set3i"),set4i:r(function(m,x,E,A,R,P){return P===void 0&&(P=this.currentShader),P.set4i(m,x,E,A,R),this},"set4i"),setMatrix2fv:r(function(m,x,E,A){return A===void 0&&(A=this.currentShader),A.setMatrix2fv(m,x,E),this},"setMatrix2fv"),setMatrix3fv:r(function(m,x,E,A){return A===void 0&&(A=this.currentShader),A.setMatrix3fv(m,x,E),this},"setMatrix3fv"),setMatrix4fv:r(function(m,x,E,A){return A===void 0&&(A=this.currentShader),A.setMatrix4fv(m,x,E),this},"setMatrix4fv"),destroy:r(function(){this.emit(l.DESTROY,this);var m,x=this.shaders;for(m=0;m<x.length;m++)x[m].destroy();var E=this.renderTargets;for(m=0;m<E.length;m++)E[m].destroy();var A=this.renderer;return A.deleteBuffer(this.vertexBuffer),A.off(f.RESIZE,this.resize,this),A.off(f.PRE_RENDER,this.onPreRender,this),A.off(f.RENDER,this.onRender,this),A.off(f.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this},"destroy")});n.exports=g},74797:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95428),T=s(72905),c=s(19715),l=s(83419),u=s(8054),h=s(50792),f=s(92503),v=s(50030),d=s(37867),p=s(29747),g=s(7530),m=s(32302),x=s(97480),E=s(69442),A=s(70554),R=s(88815),P=s(26128),O=s(1482),L=s(82751),w=s(84387),M=s(93567),b=s(57183),D=new l({Extends:h,initialize:r(function(N){h.call(this);var B=N.config,Y={alpha:B.transparent,desynchronized:B.desynchronized,depth:!0,antialias:B.antialiasGL,premultipliedAlpha:B.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:B.failIfMajorPerformanceCaveat,powerPreference:B.powerPreference,preserveDrawingBuffer:B.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:B.clearBeforeRender,antialias:B.antialias,backgroundColor:B.backgroundColor,contextCreation:Y,roundPixels:B.roundPixels,maxTextures:B.maxTextures,maxTextureSize:B.maxTextureSize,batchSize:B.batchSize,maxLights:B.maxLights,mipmapFilter:B.mipmapFilter},this.game=N,this.type=u.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=N.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=p,this.contextRestoredHandler=p,this.previousContextLostHandler=p,this.previousContextRestoredHandler=p,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},"WebGLRenderer"),init:r(function(F){var N,B=this.game,Y=this.canvas,W=F.backgroundColor;if(B.config.context?N=B.config.context:N=Y.getContext("webgl",F.contextCreation)||Y.getContext("experimental-webgl",F.contextCreation),!N||N.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=N,this.setExtensions(),this.setContextHandlers(),B.context=N;for(var z=0;z<=27;z++)this.blendModes.push({func:[N.ONE,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_ADD});this.blendModes[1].func=[N.ONE,N.DST_ALPHA],this.blendModes[2].func=[N.DST_COLOR,N.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[N.ONE,N.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[N.ZERO,N.ONE_MINUS_SRC_ALPHA],equation:N.FUNC_REVERSE_SUBTRACT},this.glFormats=[N.BYTE,N.SHORT,N.UNSIGNED_BYTE,N.UNSIGNED_SHORT,N.FLOAT],this.glFuncMap={mat2:{func:N.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:N.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:N.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:N.uniform1f,length:1},"1fv":{func:N.uniform1fv,length:1},"1i":{func:N.uniform1i,length:1},"1iv":{func:N.uniform1iv,length:1},"2f":{func:N.uniform2f,length:2},"2fv":{func:N.uniform2fv,length:1},"2i":{func:N.uniform2i,length:2},"2iv":{func:N.uniform2iv,length:1},"3f":{func:N.uniform3f,length:3},"3fv":{func:N.uniform3fv,length:1},"3i":{func:N.uniform3i,length:3},"3iv":{func:N.uniform3iv,length:1},"4f":{func:N.uniform4f,length:4},"4fv":{func:N.uniform4fv,length:1},"4i":{func:N.uniform4i,length:4},"4iv":{func:N.uniform4iv,length:1}},(!F.maxTextures||F.maxTextures===-1)&&(F.maxTextures=N.getParameter(N.MAX_TEXTURE_IMAGE_UNITS)),F.maxTextureSize||(F.maxTextureSize=N.getParameter(N.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),N.disable(N.DEPTH_TEST),N.disable(N.CULL_FACE),N.enable(N.BLEND),N.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),N.clear(N.COLOR_BUFFER_BIT);var X=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return X.indexOf(F.mipmapFilter)!==-1&&(this.mipmapFilter=N[F.mipmapFilter]),this.maxTextures=A.checkShaderMax(N,F.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new g(this),this.setBlendMode(u.BlendModes.NORMAL),this.projectionMatrix=new d().identity(),B.textures.once(E.READY,this.boot,this),this},"init"),boot:r(function(){var F=this.game,N=this.pipelines,B=F.scale.baseSize,Y=B.width,W=B.height;this.width=Y,this.height=W,this.isBooted=!0,this.renderTarget=new m(this,Y,W,1,0,!0,!0),this.maskTarget=new m(this,Y,W,1,0,!0,!0),this.maskSource=new m(this,Y,W,1,0,!0,!0);var z=F.config;N.boot(z.pipeline,z.defaultPipeline,z.autoMobilePipeline),this.blankTexture=F.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=F.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=F.textures.getFrame("__WHITE").glTexture;var X=this.gl;X.bindFramebuffer(X.FRAMEBUFFER,null),X.enable(X.SCISSOR_TEST),F.scale.on(x.RESIZE,this.onResize,this),this.resize(Y,W)},"boot"),setExtensions:r(function(){var F=this.gl,N=F.getSupportedExtensions();this.supportedExtensions=N;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=N.indexOf(B)>-1?F.getExtension(B):null;var Y="OES_vertex_array_object";this.vaoExtension=N.indexOf(Y)>-1?F.getExtension(Y):null},"setExtensions"),setContextHandlers:r(function(F,N){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof F=="function"?this.contextLostHandler=F.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof N=="function"?this.contextRestoredHandler=N.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},"setContextHandlers"),dispatchContextLost:r(function(F){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(f.LOSE_WEBGL,this),F.preventDefault()},"dispatchContextLost"),dispatchContextRestored:r(function(F){var N=this.gl;if(!N.isContextLost()){this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(u.BlendModes.NORMAL),N.disable(N.BLEND),N.disable(N.DEPTH_TEST),N.enable(N.CULL_FACE),this.compression=this.getCompressedTextures();var B=r(function(Y){Y.createResource()},"wrapperCreateResource");o(this.glTextureWrappers,B),o(this.glBufferWrappers,B),o(this.glFramebufferWrappers,B),o(this.glProgramWrappers,B),o(this.glAttribLocationWrappers,B),o(this.glUniformLocationWrappers,B),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(f.RESTORE_WEBGL,this),F.preventDefault()}},"dispatchContextRestored"),createTemporaryTextures:r(function(){for(var F=this.gl,N=0;N<this.maxTextures;N++){var B=F.createTexture();F.activeTexture(F.TEXTURE0+N),F.bindTexture(F.TEXTURE_2D,B),F.texImage2D(F.TEXTURE_2D,0,F.RGBA,1,1,0,F.RGBA,F.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(N)}},"createTemporaryTextures"),captureFrame:r(function(F,N){},"captureFrame"),captureNextFrame:r(function(){},"captureNextFrame"),getFps:r(function(){},"getFps"),log:r(function(){},"log"),startCapture:r(function(F,N,B){},"startCapture"),stopCapture:r(function(){},"stopCapture"),onCapture:r(function(F){},"onCapture"),onResize:r(function(F,N){(N.width!==this.width||N.height!==this.height)&&this.resize(N.width,N.height)},"onResize"),beginCapture:r(function(F,N){F===void 0&&(F=this.width),N===void 0&&(N=this.height),this.renderTarget.bind(!0,F,N),this.setProjectionMatrix(F,N)},"beginCapture"),endCapture:r(function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},"endCapture"),resize:r(function(F,N){var B=this.gl;return this.width=F,this.height=N,this.setProjectionMatrix(F,N),B.viewport(0,0,F,N),this.drawingBufferHeight=B.drawingBufferHeight,B.scissor(0,B.drawingBufferHeight-N,F,N),this.defaultScissor[2]=F,this.defaultScissor[3]=N,this.emit(f.RESIZE,F,N),this},"resize"),getCompressedTextures:r(function(){var F="WEBGL_compressed_texture_",N="WEBKIT_"+F,B="EXT_texture_compression_",Y=r(function(z,X){var H=z.getExtension(F+X)||z.getExtension(N+X)||z.getExtension(B+X);if(H){var V={};for(var G in H)V[H[G]]=G;return V}},"hasExt"),W=this.gl;return{ETC:Y(W,"etc"),ETC1:Y(W,"etc1"),ATC:Y(W,"atc"),ASTC:Y(W,"astc"),BPTC:Y(W,"bptc"),RGTC:Y(W,"rgtc"),PVRTC:Y(W,"pvrtc"),S3TC:Y(W,"s3tc"),S3TCSRGB:Y(W,"s3tc_srgb"),IMG:!0}},"getCompressedTextures"),getCompressedTextureName:r(function(F,N){var B=this.compression[F.toUpperCase()];if(N in B)return B[N]},"getCompressedTextureName"),supportsCompressedTexture:r(function(F,N){var B=this.compression[F.toUpperCase()];return B?N?N in B:!0:!1},"supportsCompressedTexture"),getAspectRatio:r(function(){return this.width/this.height},"getAspectRatio"),setProjectionMatrix:r(function(F,N){return(F!==this.projectionWidth||N!==this.projectionHeight)&&(this.projectionWidth=F,this.projectionHeight=N,this.projectionMatrix.ortho(0,F,N,0,-1e3,1e3)),this},"setProjectionMatrix"),resetProjectionMatrix:r(function(){return this.setProjectionMatrix(this.width,this.height)},"resetProjectionMatrix"),hasExtension:r(function(F){return this.supportedExtensions?this.supportedExtensions.indexOf(F):!1},"hasExtension"),getExtension:r(function(F){return this.hasExtension(F)?(F in this.extensions||(this.extensions[F]=this.gl.getExtension(F)),this.extensions[F]):null},"getExtension"),flush:r(function(){this.pipelines.flush()},"flush"),pushScissor:r(function(F,N,B,Y,W){W===void 0&&(W=this.drawingBufferHeight);var z=this.scissorStack,X=[F,N,B,Y];return z.push(X),this.setScissor(F,N,B,Y,W),this.currentScissor=X,X},"pushScissor"),setScissor:r(function(F,N,B,Y,W){W===void 0&&(W=this.drawingBufferHeight);var z=this.gl,X=this.currentScissor,H=B>0&&Y>0;if(X&&H){var V=X[0],G=X[1],k=X[2],U=X[3];H=V!==F||G!==N||k!==B||U!==Y}H&&(this.flush(),z.scissor(F,W-N-Y,B,Y))},"setScissor"),resetScissor:r(function(){var F=this.gl;F.enable(F.SCISSOR_TEST);var N=this.currentScissor;if(N){var B=N[0],Y=N[1],W=N[2],z=N[3];W>0&&z>0&&F.scissor(B,this.drawingBufferHeight-Y-z,W,z)}},"resetScissor"),popScissor:r(function(){var F=this.scissorStack;F.pop();var N=F[F.length-1];N&&this.setScissor(N[0],N[1],N[2],N[3]),this.currentScissor=N},"popScissor"),hasActiveStencilMask:r(function(){var F=this.currentMask.mask,N=this.currentCameraMask.mask;return F&&F.isStencil||N&&N.isStencil},"hasActiveStencilMask"),resetViewport:r(function(){var F=this.gl;F.viewport(0,0,this.width,this.height),this.drawingBufferHeight=F.drawingBufferHeight},"resetViewport"),setBlendMode:r(function(F,N){N===void 0&&(N=!1);var B=this.gl,Y=this.blendModes[F];return N||F!==u.BlendModes.SKIP_CHECK&&this.currentBlendMode!==F?(this.flush(),B.enable(B.BLEND),B.blendEquation(Y.equation),Y.func.length>2?B.blendFuncSeparate(Y.func[0],Y.func[1],Y.func[2],Y.func[3]):B.blendFunc(Y.func[0],Y.func[1]),this.currentBlendMode=F,!0):!1},"setBlendMode"),addBlendMode:r(function(F,N){var B=this.blendModes.push({func:F,equation:N});return B-1},"addBlendMode"),updateBlendMode:r(function(F,N,B){return this.blendModes[F]&&(this.blendModes[F].func=N,B&&(this.blendModes[F].equation=B)),this},"updateBlendMode"),removeBlendMode:r(function(F){return F>17&&this.blendModes[F]&&this.blendModes.splice(F,1),this},"removeBlendMode"),pushFramebuffer:r(function(F,N,B,Y,W){return F===this.currentFramebuffer?this:(this.fboStack.push(F),this.setFramebuffer(F,N,B,Y,W))},"pushFramebuffer"),setFramebuffer:r(function(F,N,B,Y,W){if(N===void 0&&(N=!1),B===void 0&&(B=!0),Y===void 0&&(Y=null),W===void 0&&(W=!1),F===this.currentFramebuffer)return this;var z=this.gl,X=this.width,H=this.height;return F&&F.renderTexture&&B?(X=F.renderTexture.width,H=F.renderTexture.height):this.flush(),F?z.bindFramebuffer(z.FRAMEBUFFER,F.webGLFramebuffer):z.bindFramebuffer(z.FRAMEBUFFER,null),B&&z.viewport(0,0,X,H),Y&&z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Y.webGLTexture,0),W&&(z.clearColor(0,0,0,0),z.clear(z.COLOR_BUFFER_BIT)),N&&(F?(this.drawingBufferHeight=H,this.pushScissor(0,0,X,H)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=F,this},"setFramebuffer"),popFramebuffer:r(function(F,N){F===void 0&&(F=!1),N===void 0&&(N=!0);var B=this.fboStack;B.pop();var Y=B[B.length-1];return Y||(Y=null),this.setFramebuffer(Y,F,N),Y},"popFramebuffer"),restoreFramebuffer:r(function(F,N){F===void 0&&(F=!1),N===void 0&&(N=!0);var B=this.fboStack,Y=B[B.length-1];Y||(Y=null),this.currentFramebuffer=null,this.setFramebuffer(Y,F,N)},"restoreFramebuffer"),setProgram:r(function(F){return F!==this.currentProgram?(this.flush(),this.gl.useProgram(F.webGLProgram),this.currentProgram=F,!0):!1},"setProgram"),resetProgram:r(function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},"resetProgram"),createTextureFromSource:r(function(F,N,B,Y,W){W===void 0&&(W=!1);var z=this.gl,X=z.NEAREST,H=z.NEAREST,V=z.CLAMP_TO_EDGE,G=null;N=F?F.width:N,B=F?F.height:B;var k=v(N,B);if(k&&!W&&(V=z.REPEAT),Y===u.ScaleModes.LINEAR&&this.config.antialias){var U=F&&F.compressed,I=!U&&k||U&&F.mipmaps.length>1;X=this.mipmapFilter&&I?this.mipmapFilter:z.LINEAR,H=z.LINEAR}return!F&&typeof N=="number"&&typeof B=="number"?G=this.createTexture2D(0,X,H,V,V,z.RGBA,null,N,B):G=this.createTexture2D(0,X,H,V,V,z.RGBA,F),G},"createTextureFromSource"),createTexture2D:r(function(F,N,B,Y,W,z,X,H,V,G,k,U){typeof H!="number"&&(H=X?X.width:1),typeof V!="number"&&(V=X?X.height:1);var I=new L(this.gl,F,N,B,Y,W,z,X,H,V,G,k,U);return this.glTextureWrappers.push(I),I},"createTexture2D"),createFramebuffer:r(function(F,N,B,Y){this.currentFramebuffer=null;var W=new w(this.gl,F,N,B,Y);return this.glFramebufferWrappers.push(W),W},"createFramebuffer"),beginBitmapMask:r(function(F,N){var B=this.gl;B&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==F&&(this.currentMask.mask=F,this.currentMask.camera=N))},"beginBitmapMask"),drawBitmapMask:r(function(F,N,B){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),F.renderWebGL(this,F,N),this.maskSource.unbind(!0),this.maskTarget.unbind();var Y=this.gl,W=this.getCurrentStencilMask();W?(Y.enable(Y.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(B),Y.activeTexture(Y.TEXTURE0),Y.bindTexture(Y.TEXTURE_2D,this.maskTarget.texture.webGLTexture),Y.activeTexture(Y.TEXTURE1),Y.bindTexture(Y.TEXTURE_2D,this.maskSource.texture.webGLTexture)},"drawBitmapMask"),createProgram:r(function(F,N){var B=new O(this.gl,F,N);return this.glProgramWrappers.push(B),B},"createProgram"),createVertexBuffer:r(function(F,N){var B=this.gl,Y=new P(B,F,B.ARRAY_BUFFER,N);return this.glBufferWrappers.push(Y),Y},"createVertexBuffer"),createAttribLocation:r(function(F,N){var B=new M(this.gl,F,N);return this.glAttribLocationWrappers.push(B),B},"createAttribLocation"),createUniformLocation:r(function(F,N){var B=new b(this.gl,F,N);return this.glUniformLocationWrappers.push(B),B},"createUniformLocation"),createIndexBuffer:r(function(F,N){var B=this.gl,Y=new P(B,F,B.ELEMENT_ARRAY_BUFFER,N);return this.glBufferWrappers.push(Y),Y},"createIndexBuffer"),deleteTexture:r(function(F){if(F)return T(this.glTextureWrappers,F),F.destroy(),this},"deleteTexture"),deleteFramebuffer:r(function(F){return F?(T(this.fboStack,F),T(this.glFramebufferWrappers,F),F.destroy(),this):this},"deleteFramebuffer"),deleteProgram:r(function(F){return F&&(T(this.glProgramWrappers,F),F.destroy()),this},"deleteProgram"),deleteAttribLocation:r(function(F){return F&&(T(this.glAttribLocationWrappers,F),F.destroy()),this},"deleteAttribLocation"),deleteUniformLocation:r(function(F){return F&&(T(this.glUniformLocationWrappers,F),F.destroy()),this},"deleteUniformLocation"),deleteBuffer:r(function(F){return F?(T(this.glBufferWrappers,F),F.destroy(),this):this},"deleteBuffer"),preRenderCamera:r(function(F){var N=F.x,B=F.y,Y=F.width,W=F.height,z=F.backgroundColor;if(F.emit(c.PRE_RENDER,F),this.pipelines.preBatchCamera(F),this.pushScissor(N,B,Y,W),F.mask&&(this.currentCameraMask.mask=F.mask,this.currentCameraMask.camera=F._maskCamera,F.mask.preRenderWebGL(this,F,F._maskCamera)),z.alphaGL>0){var X=this.pipelines.setMulti();X.drawFillRect(N,B,Y,W,A.getTintFromFloats(z.blueGL,z.greenGL,z.redGL,1),z.alphaGL)}},"preRenderCamera"),getCurrentStencilMask:r(function(){var F=null,N=this.maskStack,B=this.currentCameraMask;return N.length>0?F=N[N.length-1]:B.mask&&B.mask.isStencil&&(F=B),F},"getCurrentStencilMask"),postRenderCamera:r(function(F){var N=F.flashEffect,B=F.fadeEffect;if(N.isRunning||B.isRunning||B.isComplete){var Y=this.pipelines.setMulti();N.postRenderWebGL(Y,A.getTintFromFloats),B.postRenderWebGL(Y,A.getTintFromFloats)}F.dirty=!1,this.popScissor(),F.mask&&(this.currentCameraMask.mask=null,F.mask.postRenderWebGL(this,F._maskCamera)),this.pipelines.postBatchCamera(F),F.emit(c.POST_RENDER,F)},"postRenderCamera"),preRender:r(function(){if(!this.contextLost){var F=this.gl;if(F.bindFramebuffer(F.FRAMEBUFFER,null),this.emit(f.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var N=this.config.backgroundColor;F.clearColor(N.redGL,N.greenGL,N.blueGL,N.alphaGL),F.clear(F.COLOR_BUFFER_BIT|F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)}F.enable(F.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&F.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(f.PRE_RENDER)}},"preRender"),render:r(function(F,N,B){if(!this.contextLost){var Y=N.length;if(this.emit(f.RENDER,F,B),this.preRenderCamera(B),Y===0){this.setBlendMode(u.BlendModes.NORMAL),this.postRenderCamera(B);return}this.currentType="";for(var W=this.currentMask,z=0;z<Y;z++){this.finalType=z===Y-1;var X=N[z],H=X.mask;W=this.currentMask,W.mask&&W.mask!==H&&W.mask.postRenderWebGL(this,W.camera),H&&W.mask!==H&&H.preRenderWebGL(this,X,B),X.blendMode!==this.currentBlendMode&&this.setBlendMode(X.blendMode);var V=X.type;V!==this.currentType&&(this.newType=!0,this.currentType=V),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=N[z+1].type===this.currentType,X.renderWebGL(this,X,B),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(u.BlendModes.NORMAL),this.postRenderCamera(B)}},"render"),postRender:r(function(){if(!this.contextLost){this.flush(),this.emit(f.POST_RENDER);var F=this.snapshotState;F.callback&&(R(this.gl,F),F.callback=null)}},"postRender"),clearStencilMask:r(function(){this.gl.disable(this.gl.STENCIL_TEST)},"clearStencilMask"),restoreStencilMask:r(function(){var F=this.gl,N=this.getCurrentStencilMask();if(N){var B=N.mask;F.enable(F.STENCIL_TEST),B.invertAlpha?F.stencilFunc(F.NOTEQUAL,B.level,255):F.stencilFunc(F.EQUAL,B.level,255)}},"restoreStencilMask"),snapshot:r(function(F,N,B){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,F,N,B)},"snapshot"),snapshotArea:r(function(F,N,B,Y,W,z,X){var H=this.snapshotState;return H.callback=W,H.type=z,H.encoder=X,H.getPixel=!1,H.x=F,H.y=N,H.width=B,H.height=Y,this},"snapshotArea"),snapshotPixel:r(function(F,N,B){return this.snapshotArea(F,N,1,1,B),this.snapshotState.getPixel=!0,this},"snapshotPixel"),snapshotFramebuffer:r(function(F,N,B,Y,W,z,X,H,V,G,k){W===void 0&&(W=!1),z===void 0&&(z=0),X===void 0&&(X=0),H===void 0&&(H=N),V===void 0&&(V=B),G==="pixel"&&(W=!0,G="image/png");var U=this.currentFramebuffer;this.snapshotArea(z,X,H,V,Y,G,k);var I=this.snapshotState;return I.getPixel=W,I.isFramebuffer=!0,I.bufferWidth=N,I.bufferHeight=B,I.width=Math.min(I.width,N),I.height=Math.min(I.height,B),this.setFramebuffer(F),R(this.gl,I),this.setFramebuffer(U),I.callback=null,I.isFramebuffer=!1,this},"snapshotFramebuffer"),canvasToTexture:r(function(F,N,B,Y){B===void 0&&(B=!1),Y===void 0&&(Y=!1);var W=this.gl,z=W.NEAREST,X=W.NEAREST,H=F.width,V=F.height,G=W.CLAMP_TO_EDGE,k=v(H,V);return!B&&k&&(G=W.REPEAT),this.config.antialias&&(z=k&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,X=W.LINEAR),N?(N.update(F,H,V,Y,G,G,z,X,N.format),N):this.createTexture2D(0,z,X,G,G,W.RGBA,F,H,V,!0,!1,Y)},"canvasToTexture"),createCanvasTexture:r(function(F,N,B){return N===void 0&&(N=!1),B===void 0&&(B=!1),this.canvasToTexture(F,null,N,B)},"createCanvasTexture"),updateCanvasTexture:r(function(F,N,B,Y){return B===void 0&&(B=!1),Y===void 0&&(Y=!1),this.canvasToTexture(F,N,Y,B)},"updateCanvasTexture"),videoToTexture:r(function(F,N,B,Y){B===void 0&&(B=!1),Y===void 0&&(Y=!1);var W=this.gl,z=W.NEAREST,X=W.NEAREST,H=F.videoWidth,V=F.videoHeight,G=W.CLAMP_TO_EDGE,k=v(H,V);return!B&&k&&(G=W.REPEAT),this.config.antialias&&(z=k&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,X=W.LINEAR),N?(N.update(F,H,V,Y,G,G,z,X,N.format),N):this.createTexture2D(0,z,X,G,G,W.RGBA,F,H,V,!0,!0,Y)},"videoToTexture"),createVideoTexture:r(function(F,N,B){return N===void 0&&(N=!1),B===void 0&&(B=!1),this.videoToTexture(F,null,N,B)},"createVideoTexture"),updateVideoTexture:r(function(F,N,B,Y){return B===void 0&&(B=!1),Y===void 0&&(Y=!1),this.videoToTexture(F,N,Y,B)},"updateVideoTexture"),createUint8ArrayTexture:r(function(F,N,B){var Y=this.gl,W=Y.NEAREST,z=Y.NEAREST,X=Y.CLAMP_TO_EDGE,H=v(N,B);return H&&(X=Y.REPEAT),this.createTexture2D(0,W,z,X,X,Y.RGBA,F,N,B)},"createUint8ArrayTexture"),setTextureFilter:r(function(F,N){var B=this.gl,Y=N===0?B.LINEAR:B.NEAREST;B.activeTexture(B.TEXTURE0);var W=B.getParameter(B.TEXTURE_BINDING_2D);return B.bindTexture(B.TEXTURE_2D,F.webGLTexture),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,Y),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,Y),F.minFilter=Y,F.magFilter=Y,W&&B.bindTexture(B.TEXTURE_2D,W),this},"setTextureFilter"),getMaxTextureSize:r(function(){return this.config.maxTextureSize},"getMaxTextureSize"),destroy:r(function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var F=r(function(N){N.destroy()},"wrapperDestroy");o(this.glAttribLocationWrappers,F),o(this.glBufferWrappers,F),o(this.glFramebufferWrappers,F),o(this.glProgramWrappers,F),o(this.glTextureWrappers,F),o(this.glUniformLocationWrappers,F),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null},"destroy")});n.exports=D},38683:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95428),c=s(95540),l=s(14500),u=new o({initialize:r(function(f,v,d,p,g){this.pipeline=f,this.name=v,this.renderer=f.renderer,this.gl=this.renderer.gl,this.fragSrc=p,this.vertSrc=d,this.program=this.renderer.createProgram(d,p),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(g),this.createUniforms()},"WebGLShader"),createAttributes:r(function(h){var f=0,v=0,d=[];this.vertexComponentCount=0;for(var p=0;p<h.length;p++){var g=h[p],m=g.name,x=c(g,"size",1),E=c(g,"type",l.FLOAT),A=E.enum,R=E.size,P=!!g.normalized;d.push({name:m,size:x,type:A,normalized:P,offset:v,enabled:!1,location:-1}),R===4?f+=x:f++,v+=x*R}this.vertexSize=v,this.vertexComponentCount=f,this.attributes=d},"createAttributes"),bind:r(function(h,f){return h===void 0&&(h=!1),f===void 0&&(f=!1),f&&this.pipeline.flush(),this.renderer.setProgram(this.program),h&&this.setAttribPointers(),this},"bind"),rebind:r(function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},"rebind"),setAttribPointers:r(function(h){h===void 0&&(h=!1);for(var f=this.gl,v=this.renderer,d=this.vertexSize,p=this.attributes,g=this.program,m=0;m<p.length;m++){var x=p[m],E=x.size,A=x.type,R=x.offset,P=x.enabled,O=x.location,L=!!x.normalized;if(h){O!==-1&&v.deleteAttribLocation(O);var w=this.renderer.createAttribLocation(g,x.name);w.webGLAttribLocation>=0?(f.enableVertexAttribArray(w.webGLAttribLocation),f.vertexAttribPointer(w.webGLAttribLocation,E,A,L,d,R),x.enabled=!0,x.location=w):w.webGLAttribLocation!==-1&&f.disableVertexAttribArray(w.webGLAttribLocation)}else P?f.vertexAttribPointer(O.webGLAttribLocation,E,A,L,d,R):!P&&O!==-1&&O.webGLAttribLocation>-1&&(f.disableVertexAttribArray(O.webGLAttribLocation),x.location=-1)}return this},"setAttribPointers"),createUniforms:r(function(){var h=this.gl,f=this.program,v=this.uniforms,d,p,g,m=h.getProgramParameter(f.webGLProgram,h.ACTIVE_UNIFORMS);for(d=0;d<m;d++){var x=h.getActiveUniform(f.webGLProgram,d);if(x){p=x.name,g=this.renderer.createUniformLocation(f,p),g!==null&&(v[p]={name:p,location:g,setter:null,value1:null,value2:null,value3:null,value4:null});var E=p.indexOf("[");E>0&&(p=p.substr(0,E),v.hasOwnProperty(p)||(g=this.renderer.createUniformLocation(f,p),g!==null&&(v[p]={name:p,location:g,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},"createUniforms"),syncUniforms:r(function(){var h=this.gl;this.renderer.setProgram(this.program);for(var f in this.uniforms){var v=this.uniforms[f];v.setter&&v.setter.call(h,v.location.webGLUniformLocation,v.value1,v.value2,v.value3,v.value4)}},"syncUniforms"),hasUniform:r(function(h){return this.uniforms.hasOwnProperty(h)},"hasUniform"),resetUniform:r(function(h){var f=this.uniforms[h];return f&&(f.value1=null,f.value2=null,f.value3=null,f.value4=null),this},"resetUniform"),setUniform1:r(function(h,f,v,d){var p=this.uniforms[f];return p?((d||p.value1!==v)&&(p.setter||(p.setter=h),p.value1=v,this.renderer.setProgram(this.program),h.call(this.gl,p.location.webGLUniformLocation,v),this.pipeline.currentShader=this),this):this},"setUniform1"),setUniform2:r(function(h,f,v,d,p){var g=this.uniforms[f];return g?((p||g.value1!==v||g.value2!==d)&&(g.setter||(g.setter=h),g.value1=v,g.value2=d,this.renderer.setProgram(this.program),h.call(this.gl,g.location.webGLUniformLocation,v,d),this.pipeline.currentShader=this),this):this},"setUniform2"),setUniform3:r(function(h,f,v,d,p,g){var m=this.uniforms[f];return m?((g||m.value1!==v||m.value2!==d||m.value3!==p)&&(m.setter||(m.setter=h),m.value1=v,m.value2=d,m.value3=p,this.renderer.setProgram(this.program),h.call(this.gl,m.location.webGLUniformLocation,v,d,p),this.pipeline.currentShader=this),this):this},"setUniform3"),setUniform4:r(function(h,f,v,d,p,g,m){var x=this.uniforms[f];return x?((m||x.value1!==v||x.value2!==d||x.value3!==p||x.value4!==g)&&(x.setter||(x.setter=h),x.value1=v,x.value2=d,x.value3=p,x.value4=g,this.renderer.setProgram(this.program),h.call(this.gl,x.location.webGLUniformLocation,v,d,p,g),this.pipeline.currentShader=this),this):this},"setUniform4"),setBoolean:r(function(h,f){return this.setUniform1(this.gl.uniform1i,h,Number(f))},"setBoolean"),set1f:r(function(h,f){return this.setUniform1(this.gl.uniform1f,h,f)},"set1f"),set2f:r(function(h,f,v){return this.setUniform2(this.gl.uniform2f,h,f,v)},"set2f"),set3f:r(function(h,f,v,d){return this.setUniform3(this.gl.uniform3f,h,f,v,d)},"set3f"),set4f:r(function(h,f,v,d,p){return this.setUniform4(this.gl.uniform4f,h,f,v,d,p)},"set4f"),set1fv:r(function(h,f){return this.setUniform1(this.gl.uniform1fv,h,f,!0)},"set1fv"),set2fv:r(function(h,f){return this.setUniform1(this.gl.uniform2fv,h,f,!0)},"set2fv"),set3fv:r(function(h,f){return this.setUniform1(this.gl.uniform3fv,h,f,!0)},"set3fv"),set4fv:r(function(h,f){return this.setUniform1(this.gl.uniform4fv,h,f,!0)},"set4fv"),set1iv:r(function(h,f){return this.setUniform1(this.gl.uniform1iv,h,f,!0)},"set1iv"),set2iv:r(function(h,f){return this.setUniform1(this.gl.uniform2iv,h,f,!0)},"set2iv"),set3iv:r(function(h,f){return this.setUniform1(this.gl.uniform3iv,h,f,!0)},"set3iv"),set4iv:r(function(h,f){return this.setUniform1(this.gl.uniform4iv,h,f,!0)},"set4iv"),set1i:r(function(h,f){return this.setUniform1(this.gl.uniform1i,h,f)},"set1i"),set2i:r(function(h,f,v){return this.setUniform2(this.gl.uniform2i,h,f,v)},"set2i"),set3i:r(function(h,f,v,d){return this.setUniform3(this.gl.uniform3i,h,f,v,d)},"set3i"),set4i:r(function(h,f,v,d,p){return this.setUniform4(this.gl.uniform4i,h,f,v,d,p)},"set4i"),setMatrix2fv:r(function(h,f,v){return this.setUniform2(this.gl.uniformMatrix2fv,h,f,v,!0)},"setMatrix2fv"),setMatrix3fv:r(function(h,f,v){return this.setUniform2(this.gl.uniformMatrix3fv,h,f,v,!0)},"setMatrix3fv"),setMatrix4fv:r(function(h,f,v){return this.setUniform2(this.gl.uniformMatrix4fv,h,f,v,!0)},"setMatrix4fv"),createProgram:r(function(h,f){return h===void 0&&(h=this.vertSrc),f===void 0&&(f=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=h,this.fragSrc=f,this.program=this.renderer.createProgram(h,f),this.createUniforms(),this.rebind()},"createProgram"),destroy:r(function(){var h=this.renderer;T(this.uniforms,function(f){h.deleteUniformLocation(f.location)}),this.uniforms=null,T(this.attributes,function(f){h.deleteAttribLocation(f.location)}),this.attributes=null,h.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null},"destroy")});n.exports=u},14500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};n.exports=C},4159:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(14500),T=s(79291),c={PipelineManager:s(7530),Pipelines:s(96615),RenderTarget:s(32302),Utils:s(70554),WebGLPipeline:s(29100),WebGLRenderer:s(74797),WebGLShader:s(38683),Wrappers:s(9503)};c=T(!1,c,o),n.exports=c},31302:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95540),c=s(78908),l=s(85191),u=s(14500),h=s(29100),f=new o({Extends:h,initialize:r(function(d){d.fragShader=T(d,"fragShader",c),d.vertShader=T(d,"vertShader",l),d.batchSize=T(d,"batchSize",1),d.vertices=T(d,"vertices",[-1,1,-1,-7,7,1]),d.attributes=T(d,"attributes",[{name:"inPosition",size:2,type:u.FLOAT}]),h.call(this,d)},"BitmapMaskPipeline"),boot:r(function(){h.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},"boot"),resize:r(function(v,d){h.prototype.resize.call(this,v,d),this.set2f("uResolution",v,d)},"resize"),beginMask:r(function(v,d,p){this.renderer.beginBitmapMask(v,p)},"beginMask"),endMask:r(function(v,d,p){var g=this.gl,m=this.renderer,x=v.bitmapMask;x&&g&&(m.drawBitmapMask(x,d,this),p&&this.set2f("uResolution",p.width,p.height),this.set1i("uInvertMaskAlpha",v.invertAlpha),g.drawArrays(this.topology,0,3),p&&this.set2f("uResolution",this.width,this.height),g.bindTexture(g.TEXTURE_2D,null))},"endMask")});n.exports=f},92651:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(58918),c=s(14811),l=s(95540),u=s(43558),h=s(89350),f=s(70554),v=new o({Extends:u,initialize:r(function(p){p.shaders=[f.setGlowQuality(h.FXGlowFrag,p.game),h.FXShadowFrag,h.FXPixelateFrag,h.FXVignetteFrag,h.FXShineFrag,h.FXBlurLowFrag,h.FXBlurMedFrag,h.FXBlurHighFrag,h.FXGradientFrag,h.FXBloomFrag,h.ColorMatrixFrag,h.FXCircleFrag,h.FXBarrelFrag,h.FXDisplacementFrag,h.FXWipeFrag,h.FXBokehFrag],u.call(this,p);var g=this.game;this.glow=new T.Glow(g),this.shadow=new T.Shadow(g),this.pixelate=new T.Pixelate(g),this.vignette=new T.Vignette(g),this.shine=new T.Shine(g),this.gradient=new T.Gradient(g),this.circle=new T.Circle(g),this.barrel=new T.Barrel(g),this.wipe=new T.Wipe(g),this.bokeh=new T.Bokeh(g);var m=[];m[c.GLOW]=this.onGlow,m[c.SHADOW]=this.onShadow,m[c.PIXELATE]=this.onPixelate,m[c.VIGNETTE]=this.onVignette,m[c.SHINE]=this.onShine,m[c.BLUR]=this.onBlur,m[c.GRADIENT]=this.onGradient,m[c.BLOOM]=this.onBloom,m[c.COLOR_MATRIX]=this.onColorMatrix,m[c.CIRCLE]=this.onCircle,m[c.BARREL]=this.onBarrel,m[c.DISPLACEMENT]=this.onDisplacement,m[c.WIPE]=this.onWipe,m[c.BOKEH]=this.onBokeh,this.fxHandlers=m,this.source,this.target,this.swap},"FXPipeline"),onDraw:r(function(d,p,g){this.source=d,this.target=p,this.swap=g;var m=d.width,x=d.height,E=this.tempSprite,A=this.fxHandlers;if(E&&E.preFX)for(var R=E.preFX.list,P=0;P<R.length;P++){var O=R[P];O.active&&A[O.type].call(this,O,m,x)}this.drawToGame(this.source)},"onDraw"),runDraw:r(function(){var d=this.source,p=this.target;this.copy(d,p),this.source=p,this.target=d},"runDraw"),onGlow:r(function(d,p,g){var m=this.shaders[c.GLOW];this.setShader(m),this.glow.onPreRender(d,m,p,g),this.runDraw()},"onGlow"),onShadow:r(function(d){var p=this.shaders[c.SHADOW];this.setShader(p),this.shadow.onPreRender(d,p),this.runDraw()},"onShadow"),onPixelate:r(function(d,p,g){var m=this.shaders[c.PIXELATE];this.setShader(m),this.pixelate.onPreRender(d,m,p,g),this.runDraw()},"onPixelate"),onVignette:r(function(d){var p=this.shaders[c.VIGNETTE];this.setShader(p),this.vignette.onPreRender(d,p),this.runDraw()},"onVignette"),onShine:r(function(d,p,g){var m=this.shaders[c.SHINE];this.setShader(m),this.shine.onPreRender(d,m,p,g),this.runDraw()},"onShine"),onBlur:r(function(d,p,g){var m=l(d,"quality"),x=this.shaders[c.BLUR+m];this.setShader(x),this.set1i("uMainSampler",0),this.set2f("resolution",p,g),this.set1f("strength",l(d,"strength")),this.set3fv("color",l(d,"glcolor"));for(var E=l(d,"x"),A=l(d,"y"),R=l(d,"steps"),P=0;P<R;P++)this.set2f("offset",E,0),this.runDraw(),this.set2f("offset",0,A),this.runDraw()},"onBlur"),onGradient:r(function(d){var p=this.shaders[c.GRADIENT];this.setShader(p),this.gradient.onPreRender(d,p),this.runDraw()},"onGradient"),onBloom:r(function(d,p,g){var m=this.shaders[c.BLOOM];this.copySprite(this.source,this.swap),this.setShader(m),this.set1i("uMainSampler",0),this.set1f("strength",l(d,"blurStrength")),this.set3fv("color",l(d,"glcolor"));for(var x=2/p*l(d,"offsetX"),E=2/g*l(d,"offsetY"),A=l(d,"steps"),R=0;R<A;R++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,E),this.runDraw();this.blendFrames(this.swap,this.source,this.target,l(d,"strength")),this.copySprite(this.target,this.source)},"onBloom"),onColorMatrix:r(function(d){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",d.getData()),this.set1f("uAlpha",d.alpha),this.runDraw()},"onColorMatrix"),onCircle:r(function(d,p,g){var m=this.shaders[c.CIRCLE];this.setShader(m),this.circle.onPreRender(d,m,p,g),this.runDraw()},"onCircle"),onBarrel:r(function(d){var p=this.shaders[c.BARREL];this.setShader(p),this.barrel.onPreRender(d,p),this.runDraw()},"onBarrel"),onDisplacement:r(function(d){this.setShader(this.shaders[c.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",d.x,d.y),this.bindTexture(d.glTexture,1),this.runDraw()},"onDisplacement"),onWipe:r(function(d){var p=this.shaders[c.WIPE];this.setShader(p),this.wipe.onPreRender(d,p),this.runDraw()},"onWipe"),onBokeh:r(function(d,p,g){var m=this.shaders[c.BOKEH];this.setShader(m),this.bokeh.onPreRender(d,m,p,g),this.runDraw()},"onBokeh"),destroy:r(function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,u.prototype.destroy.call(this),this},"destroy")});n.exports=v},96569:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95540),c=s(31063),l=s(57516),u=s(61340),h=s(26099),f=s(29100),v=new o({Extends:l,initialize:r(function(p){var g=T(p,"fragShader",c);p.fragShader=g.replace("%LIGHT_COUNT%",p.game.renderer.config.maxLights),l.call(this,p),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new h,this._tempMatrix=new u,this._tempMatrix2=new u},"LightPipeline"),boot:r(function(){f.prototype.boot.call(this)},"boot"),onRender:r(function(d,p){var g=d.sys.lights;if(this.lightsActive=!1,!(!g||!g.active)){var m=g.getLights(p),x=m.length;this.lightsActive=!0;var E,A=this.renderer,R=A.height,P=p.matrix,O=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",p.x,p.y,p.rotation,p.zoom),this.set3f("uAmbientLightColor",g.ambientColor.r,g.ambientColor.g,g.ambientColor.b),this.set1i("uLightCount",x),E=0;E<x;E++){var L=m[E].light,w=L.color,M="uLights["+E+"].";P.transformPoint(L.x,L.y,O),this.set2f(M+"position",O.x-p.scrollX*L.scrollFactorX*p.zoom,R-(O.y-p.scrollY*L.scrollFactorY*p.zoom)),this.set3f(M+"color",w.r,w.g,w.b),this.set1f(M+"intensity",L.intensity),this.set1f(M+"radius",L.radius)}this.currentNormalMapRotation=null}},"onRender"),setNormalMapRotation:r(function(d){if(d!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var p=this.inverseRotationMatrix;if(d){var g=-d,m=Math.cos(g),x=Math.sin(g);p[1]=x,p[3]=-x,p[0]=p[4]=m}else p[0]=p[4]=1,p[1]=p[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,p),this.currentNormalMapRotation=d}},"setNormalMapRotation"),setTexture2D:r(function(d,p){var g=this.renderer;d===void 0&&(d=g.whiteTexture);var m=this.getNormalMap(p);this.isNewNormalMap(d,m)&&(this.flush(),this.createBatch(d),this.addTextureToBatch(m),this.currentNormalMap=m);var x=0;if(p&&p.parentContainer){var E=p.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);x=E.rotationNormalized}else p&&(x=p.rotation);return this.currentBatch===null&&(this.createBatch(d),this.addTextureToBatch(m)),this.setNormalMapRotation(x),0},"setTexture2D"),setGameObject:r(function(d,p){p===void 0&&(p=d.frame);var g=p.glTexture,m=this.getNormalMap(d);if(this.isNewNormalMap(g,m)&&(this.flush(),this.createBatch(g),this.addTextureToBatch(m),this.currentNormalMap=m),d.parentContainer){var x=d.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(x.rotationNormalized)}else this.setNormalMapRotation(d.rotation);return this.currentBatch===null&&(this.createBatch(g),this.addTextureToBatch(m)),0},"setGameObject"),isNewNormalMap:r(function(d,p){return this.currentTexture!==d||this.currentNormalMap!==p},"isNewNormalMap"),getNormalMap:r(function(d){var p;if(d)d.displayTexture?p=d.displayTexture.dataSource[d.displayFrame.sourceIndex]:d.texture?p=d.texture.dataSource[d.frame.sourceIndex]:d.tileset&&(Array.isArray(d.tileset)?p=d.tileset[0].image.dataSource[0]:p=d.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return p?p.glTexture:this.renderer.normalTexture},"getNormalMap"),batchSprite:r(function(d,p,g){this.lightsActive&&l.prototype.batchSprite.call(this,d,p,g)},"batchSprite"),batchTexture:r(function(d,p,g,m,x,E,A,R,P,O,L,w,M,b,D,F,N,B,Y,W,z,X,H,V,G,k,U,I,$,K,Z,J){this.lightsActive&&l.prototype.batchTexture.call(this,d,p,g,m,x,E,A,R,P,O,L,w,M,b,D,F,N,B,Y,W,z,X,H,V,G,k,U,I,$,K,Z,J)},"batchTexture"),batchTextureFrame:r(function(d,p,g,m,x,E,A){this.lightsActive&&l.prototype.batchTextureFrame.call(this,d,p,g,m,x,E,A)},"batchTextureFrame")});n.exports=v},56527:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95540),c=s(57516),l=s(45561),u=s(60722),h=s(14500),f=s(29100),v=new o({Extends:c,initialize:r(function(p){p.fragShader=T(p,"fragShader",l),p.vertShader=T(p,"vertShader",u),p.attributes=T(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),p.forceZero=!0,p.resizeUniform="uResolution",c.call(this,p)},"MobilePipeline"),boot:r(function(){f.prototype.boot.call(this);var d=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",d.width,d.height)},"boot")});n.exports=v},57516:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(94811),c=s(95540),l=s(98840),u=s(44667),h=s(61340),f=s(70554),v=s(14500),d=s(29100),p=new o({Extends:d,initialize:r(function(m){var x=m.game.renderer,E=c(m,"fragShader",l);m.fragShader=f.parseFragmentShaderMaxTextures(E,x.maxTextures),m.vertShader=c(m,"vertShader",u),m.attributes=c(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:v.UNSIGNED_BYTE,normalized:!0}]),m.resizeUniform="uResolution",d.call(this,m),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.calcMatrix=new h,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},"MultiPipeline"),boot:r(function(){d.prototype.boot.call(this);var g=this.renderer;this.set1iv("uMainSampler",g.textureIndexes),this.set2f("uResolution",g.width,g.height)},"boot"),batchSprite:r(function(g,m,x){this.manager.set(this,g);var E=this._tempMatrix1,A=this._tempMatrix2,R=this._tempMatrix3,P=g.frame,O=P.glTexture,L=P.u0,w=P.v0,M=P.u1,b=P.v1,D=P.x,F=P.y,N=P.cutWidth,B=P.cutHeight,Y=P.customPivot,W=g.displayOriginX,z=g.displayOriginY,X=-W+D,H=-z+F;if(g.isCropped){var V=g._crop;(V.flipX!==g.flipX||V.flipY!==g.flipY)&&P.updateCropUVs(V,g.flipX,g.flipY),L=V.u0,w=V.v0,M=V.u1,b=V.v1,N=V.width,B=V.height,D=V.x,F=V.y,X=-W+D,H=-z+F}var G=1,k=1;g.flipX&&(Y||(X+=-P.realWidth+W*2),G=-1),g.flipY&&(Y||(H+=-P.realHeight+z*2),k=-1);var U=g.x,I=g.y;m.roundPixels&&(U=Math.floor(U),I=Math.floor(I)),A.applyITRS(U,I,g.rotation,g.scaleX*G,g.scaleY*k),E.copyFrom(m.matrix),x?(E.multiplyWithOffset(x,-m.scrollX*g.scrollFactorX,-m.scrollY*g.scrollFactorY),A.e=U,A.f=I):(A.e-=m.scrollX*g.scrollFactorX,A.f-=m.scrollY*g.scrollFactorY),E.multiply(A,R);var $=R.setQuad(X,H,X+N,H+B,m.renderRoundPixels),K=f.getTintAppendFloatAlpha,Z=m.alpha,J=K(g.tintTopLeft,Z*g._alphaTL),Q=K(g.tintTopRight,Z*g._alphaTR),q=K(g.tintBottomLeft,Z*g._alphaBL),j=K(g.tintBottomRight,Z*g._alphaBR);this.shouldFlush(6)&&this.flush();var tt=this.setGameObject(g,P);this.manager.preBatch(g),this.batchQuad(g,$[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],L,w,M,b,J,Q,q,j,g.tintFill,O,tt),this.manager.postBatch(g)},"batchSprite"),batchTexture:r(function(g,m,x,E,A,R,P,O,L,w,M,b,D,F,N,B,Y,W,z,X,H,V,G,k,U,I,$,K,Z,J,Q,q,j){j===void 0&&(j=!1),this.manager.set(this,g);var tt=this._tempMatrix1,st=this._tempMatrix2,_=this._tempMatrix3,ht=W/x+$,ot=z/E+K,lt=(W+X)/x+$,et=(z+H)/E+K,nt=P,at=O,ct=-B,Et=-Y;if(g.isCropped){var bt=g._crop,yt=bt.width,St=bt.height;nt=yt,at=St,P=yt,O=St,W=bt.x,z=bt.y;var Vt=W,ne=z;b&&(Vt=X-bt.x-yt),D&&(ne=H-bt.y-St),ht=Vt/x+$,ot=ne/E+K,lt=(Vt+yt)/x+$,et=(ne+St)/E+K,ct=-B+W,Et=-Y+z}D=D^(!Q&&m.isRenderTexture?1:0),b&&(nt*=-1,ct+=P),D&&(at*=-1,Et+=O),Z.roundPixels&&(A=Math.floor(A),R=Math.floor(R)),st.applyITRS(A,R,M,L,w),tt.copyFrom(Z.matrix),J?(tt.multiplyWithOffset(J,-Z.scrollX*F,-Z.scrollY*N),st.e=A,st.f=R):(st.e-=Z.scrollX*F,st.f-=Z.scrollY*N),tt.multiply(st,_);var Ft=_.setQuad(ct,Et,ct+nt,Et+at,Z.renderRoundPixels);q==null&&(q=this.setTexture2D(m)),g&&!j&&this.manager.preBatch(g),this.batchQuad(g,Ft[0],Ft[1],Ft[2],Ft[3],Ft[4],Ft[5],Ft[6],Ft[7],ht,ot,lt,et,V,G,k,U,I,m,q),g&&!j&&this.manager.postBatch(g)},"batchTexture"),batchTextureFrame:r(function(g,m,x,E,A,R,P){this.manager.set(this);var O=this._tempMatrix1.copyFrom(R),L=this._tempMatrix2;P?O.multiply(P,L):L=O;var w=L.setQuad(m,x,m+g.width,x+g.height),M=this.setTexture2D(g.source.glTexture);E=f.getTintAppendFloatAlpha(E,A),this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],g.u0,g.v0,g.u1,g.v1,E,E,E,E,0,g.glTexture,M)},"batchTextureFrame"),batchFillRect:r(function(g,m,x,E,A,R){this.renderer.pipelines.set(this);var P=this.calcMatrix;R&&R.multiply(A,P);var O=P.setQuad(g,m,g+x,m+E),L=this.fillTint;this.batchQuad(null,O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],0,0,1,1,L.TL,L.TR,L.BL,L.BR,2)},"batchFillRect"),batchFillTriangle:r(function(g,m,x,E,A,R,P,O){this.renderer.pipelines.set(this);var L=this.calcMatrix;O&&O.multiply(P,L);var w=L.getX(g,m),M=L.getY(g,m),b=L.getX(x,E),D=L.getY(x,E),F=L.getX(A,R),N=L.getY(A,R),B=this.fillTint;this.batchTri(null,w,M,b,D,F,N,0,0,1,1,B.TL,B.TR,B.BL,2)},"batchFillTriangle"),batchStrokeTriangle:r(function(g,m,x,E,A,R,P,O,L){var w=this.tempTriangle;w[0].x=g,w[0].y=m,w[0].width=P,w[1].x=x,w[1].y=E,w[1].width=P,w[2].x=A,w[2].y=R,w[2].width=P,w[3].x=g,w[3].y=m,w[3].width=P,this.batchStrokePath(w,P,!1,O,L)},"batchStrokeTriangle"),batchFillPath:r(function(g,m,x){this.renderer.pipelines.set(this);var E=this.calcMatrix;x&&x.multiply(m,E);for(var A=g.length,R=this.polygonCache,P,O,L=this.fillTint.TL,w=this.fillTint.TR,M=this.fillTint.BL,b=0;b<A;++b)O=g[b],R.push(O.x,O.y);P=T(R),A=P.length;for(var D=0;D<A;D+=3){var F=P[D+0]*2,N=P[D+1]*2,B=P[D+2]*2,Y=R[F+0],W=R[F+1],z=R[N+0],X=R[N+1],H=R[B+0],V=R[B+1],G=E.getX(Y,W),k=E.getY(Y,W),U=E.getX(z,X),I=E.getY(z,X),$=E.getX(H,V),K=E.getY(H,V);this.batchTri(null,G,k,U,I,$,K,0,0,1,1,L,w,M,2)}R.length=0},"batchFillPath"),batchStrokePath:r(function(g,m,x,E,A){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var R=g.length-1,P=0;P<R;P++){var O=g[P],L=g[P+1];this.batchLine(O.x,O.y,L.x,L.y,O.width/2,L.width/2,m,P,!x&&P===R-1,E,A)}},"batchStrokePath"),batchLine:r(function(g,m,x,E,A,R,P,O,L,w,M){this.renderer.pipelines.set(this);var b=this.calcMatrix;M&&M.multiply(w,b);var D=x-g,F=E-m,N=Math.sqrt(D*D+F*F);if(N!==0){var B=A*(E-m)/N,Y=A*(g-x)/N,W=R*(E-m)/N,z=R*(g-x)/N,X=x-W,H=E-z,V=g-B,G=m-Y,k=x+W,U=E+z,I=g+B,$=m+Y,K=b.getX(X,H),Z=b.getY(X,H),J=b.getX(V,G),Q=b.getY(V,G),q=b.getX(k,U),j=b.getY(k,U),tt=b.getX(I,$),st=b.getY(I,$),_=this.strokeTint,ht=_.TL,ot=_.TR,lt=_.BL,et=_.BR;if(this.batchQuad(null,tt,st,J,Q,K,Z,q,j,0,0,1,1,ht,ot,lt,et,2),!(P<=2)){var nt=this.prevQuad,at=this.firstQuad;O>0&&nt[4]?this.batchQuad(null,tt,st,J,Q,nt[0],nt[1],nt[2],nt[3],0,0,1,1,ht,ot,lt,et,2):(at[0]=tt,at[1]=st,at[2]=J,at[3]=Q,at[4]=1),L&&at[4]?this.batchQuad(null,K,Z,q,j,at[0],at[1],at[2],at[3],0,0,1,1,ht,ot,lt,et,2):(nt[0]=K,nt[1]=Z,nt[2]=q,nt[3]=j,nt[4]=1)}}},"batchLine"),destroy:r(function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,d.prototype.destroy.call(this),this},"destroy")});n.exports=p},43439:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95540),c=s(4127),l=s(89924),u=s(29100),h=new o({Extends:u,initialize:r(function(v){v.vertShader=T(v,"vertShader",l),v.fragShader=T(v,"fragShader",c),v.attributes=T(v,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),u.call(this,v)},"PointLightPipeline"),onRender:r(function(f,v){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",v.zoom)},"onRender"),batchPointLight:r(function(f,v,d,p,g,m,x,E,A,R,P,O){var L=f.color,w=f.intensity,M=f.radius,b=f.attenuation,D=L.r*w,F=L.g*w,N=L.b*w,B=v.alpha*f.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(d,p,P,O,M,b,D,F,N,B),this.batchLightVert(g,m,P,O,M,b,D,F,N,B),this.batchLightVert(x,E,P,O,M,b,D,F,N,B),this.batchLightVert(d,p,P,O,M,b,D,F,N,B),this.batchLightVert(x,E,P,O,M,b,D,F,N,B),this.batchLightVert(A,R,P,O,M,b,D,F,N,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},"batchPointLight"),batchLightVert:r(function(f,v,d,p,g,m,x,E,A,R){var P=this.vertexViewF32,O=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++O]=f,P[++O]=v,P[++O]=d,P[++O]=p,P[++O]=g,P[++O]=m,P[++O]=x,P[++O]=E,P[++O]=A,P[++O]=R,this.vertexCount++},"batchLightVert")});n.exports=h},84057:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(89422),c=s(95540),l=s(27681),u=s(49627),h=s(29100),f=new o({Extends:h,initialize:r(function(d){d.renderTarget=c(d,"renderTarget",1),d.fragShader=c(d,"fragShader",l),d.vertShader=c(d,"vertShader",u),d.attributes=c(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.batchSize=1,d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],h.call(this,d),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new T,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},"PostFXPipeline"),bootFX:r(function(){h.prototype.boot.call(this);var v=this.manager.UTILITY_PIPELINE;this.fullFrame1=v.fullFrame1,this.fullFrame2=v.fullFrame2,this.halfFrame1=v.halfFrame1,this.halfFrame2=v.halfFrame2;var d=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",d.width,d.height);for(var p=this.renderTargets,g=0;g<p.length;g++)p[g].autoResize=!0},"bootFX"),postBatch:r(function(v){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},"postBatch"),onDraw:r(function(v){this.bindAndDraw(v)},"onDraw"),getController:r(function(v){return v!==void 0?v:this.controller?this.controller:this},"getController"),copySprite:r(function(v,d,p){p===void 0&&(p=!1);var g=this.gl;g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,v.texture.webGLTexture);var m=g.getParameter(g.FRAMEBUFFER_BINDING);g.bindFramebuffer(g.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,d.texture.webGLTexture,0),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),p&&(g.bindTexture(g.TEXTURE_2D,null),g.bindFramebuffer(g.FRAMEBUFFER,m))},"copySprite"),copyFrame:r(function(v,d,p,g,m){this.manager.copyFrame(v,d,p,g,m)},"copyFrame"),copyToGame:r(function(v){this.manager.copyToGame(v)},"copyToGame"),drawFrame:r(function(v,d,p){this.manager.drawFrame(v,d,p,this.colorMatrix)},"drawFrame"),blendFrames:r(function(v,d,p,g,m){this.manager.blendFrames(v,d,p,g,m)},"blendFrames"),blendFramesAdditive:r(function(v,d,p,g,m){this.manager.blendFramesAdditive(v,d,p,g,m)},"blendFramesAdditive"),clearFrame:r(function(v,d){this.manager.clearFrame(v,d)},"clearFrame"),blitFrame:r(function(v,d,p,g,m,x){this.manager.blitFrame(v,d,p,g,m,x)},"blitFrame"),copyFrameRect:r(function(v,d,p,g,m,x,E,A){this.manager.copyFrameRect(v,d,p,g,m,x,E,A)},"copyFrameRect"),bindAndDraw:r(function(v,d,p,g,m){p===void 0&&(p=!0),g===void 0&&(g=!0);var x=this.gl,E=this.renderer;this.bind(m),this.set1i("uMainSampler",0),d?(x.viewport(0,0,d.width,d.height),x.bindFramebuffer(x.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,d.texture.webGLTexture,0),p&&(g?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT))):(E.popFramebuffer(!1,!1),E.currentFramebuffer||x.viewport(0,0,E.width,E.height)),E.restoreStencilMask(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,v.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),d&&(x.bindTexture(x.TEXTURE_2D,null),x.bindFramebuffer(x.FRAMEBUFFER,E.currentFramebuffer.webGLFramebuffer))},"bindAndDraw"),destroy:r(function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),h.prototype.destroy.call(this),this},"destroy")});n.exports=f},43558:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),T=s(67502),c=s(83419),l=s(96293),u=s(95540),h=s(57516),f=s(27681),v=s(87841),d=s(32302),p=s(45561),g=s(60722),m=s(29100),x=new c({Extends:h,initialize:r(function(A){var R=u(A,"fragShader",f),P=u(A,"vertShader",g),O=u(A,"drawShader",f),L=[{name:"DrawSprite",fragShader:p,vertShader:g},{name:"CopySprite",fragShader:R,vertShader:P},{name:"DrawGame",fragShader:O,vertShader:g},{name:"ColorMatrix",fragShader:l}],w=u(A,"shaders",[]);A.shaders=L.concat(w),A.vertShader||(A.vertShader=P),A.batchSize=1,h.call(this,A),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new v,this.targetBounds=new v,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},"PreFXPipeline"),boot:r(function(){m.prototype.boot.call(this);var E=this.shaders,A=this.renderer;this.drawSpriteShader=E[0],this.copyShader=E[1],this.gameShader=E[2],this.colorMatrixShader=E[3],this.fsTarget=new d(A,A.width,A.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var R=new ArrayBuffer(168);this.quadVertexData=R,this.quadVertexViewF32=new Float32Array(R),this.quadVertexBuffer=A.createVertexBuffer(R,this.gl.STATIC_DRAW),this.onResize(A.width,A.height),this.currentShader=this.copyShader,this.set2f("uResolution",A.width,A.height)},"boot"),onResize:r(function(E,A){var R=this.quadVertexViewF32;R[1]=A,R[22]=A,R[14]=E,R[28]=E,R[35]=E,R[36]=A},"onResize"),batchQuad:r(function(E,A,R,P,O,L,w,M,b,D,F,N,B,Y,W,z,X,H,V){var G=Math.min(A,P,L,M),k=Math.min(R,O,w,b),U=Math.max(A,P,L,M),I=Math.max(R,O,w,b),$=U-G,K=I-k,Z=this.spriteBounds.setTo(G,k,$,K),J=E?E.preFX.padding:0,Q=$+J*2,q=K+J*2,j=Math.abs(Math.max(Q,q)),tt=this.manager.getRenderTarget(j),st=this.targetBounds.setTo(0,0,tt.width,tt.height);T(st,Math.round(Z.centerX),Math.round(Z.centerY)),this.tempSprite=E;var _=this.gl,ht=this.renderer;ht.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ht.width,ht.height),this.flipProjectionMatrix(!0),E&&(this.onDrawSprite(E,tt),E.preFX.onFX(this));var ot=this.fsTarget;return this.flush(),_.viewport(0,0,ht.width,ht.height),_.bindFramebuffer(_.FRAMEBUFFER,ot.framebuffer.webGLFramebuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,ot.texture.webGLTexture,0),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),this.setTexture2D(V),this.batchVert(A,R,D,F,0,H,Y),this.batchVert(P,O,D,B,0,H,z),this.batchVert(L,w,N,B,0,H,X),this.batchVert(A,R,D,F,0,H,Y),this.batchVert(L,w,N,B,0,H,X),this.batchVert(M,b,N,F,0,H,W),this.flush(),this.flipProjectionMatrix(!1),_.activeTexture(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,tt.texture.webGLTexture),_.copyTexSubImage2D(_.TEXTURE_2D,0,0,0,st.x,st.y,st.width,st.height),_.bindFramebuffer(_.FRAMEBUFFER,null),_.bindTexture(_.TEXTURE_2D,null),this.onBatch(E),this.currentShader=this.copyShader,this.onDraw(tt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},"batchQuad"),onDrawSprite:r(function(){},"onDrawSprite"),onCopySprite:r(function(){},"onCopySprite"),copySprite:r(function(E,A,R,P,O,L,w){R===void 0&&(R=!0),P===void 0&&(P=!0),O===void 0&&(O=!1),w===void 0&&(w=this.copyShader);var M=this.gl,b=this.tempSprite;L&&(w=this.colorMatrixShader),this.currentShader=w;var D=this.setVertexBuffer(this.quadVertexBuffer);w.bind(D,!1);var F=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",F.width,F.height),b.preFX.onFXCopy(this),this.onCopySprite(E,A,b),L&&(this.set1fv("uColorMatrix",L.getData()),this.set1f("uAlpha",L.alpha)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,E.texture.webGLTexture),E.height>A.height)M.viewport(0,0,E.width,E.height),this.setTargetUVs(E,A);else{var N=A.height-E.height;M.viewport(0,N,E.width,E.height),this.resetUVs()}if(M.bindFramebuffer(M.FRAMEBUFFER,A.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,A.texture.webGLTexture,0),R&&(M.clearColor(0,0,0,+!P),M.clear(M.COLOR_BUFFER_BIT)),O){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),O&&this.renderer.setBlendMode(B),M.bindFramebuffer(M.FRAMEBUFFER,null)},"copySprite"),copy:r(function(E,A){var R=this.gl;this.set1i("uMainSampler",0),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,E.texture.webGLTexture),R.viewport(0,0,E.width,E.height),this.setUVs(0,0,0,1,1,1,1,0),R.bindFramebuffer(R.FRAMEBUFFER,A.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,A.texture.webGLTexture,0),R.clearColor(0,0,0,0),R.clear(R.COLOR_BUFFER_BIT),R.bufferData(R.ARRAY_BUFFER,this.quadVertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null)},"copy"),blendFrames:r(function(E,A,R,P,O){this.manager.blendFrames(E,A,R,P,O)},"blendFrames"),blendFramesAdditive:r(function(E,A,R,P,O){this.manager.blendFramesAdditive(E,A,R,P,O)},"blendFramesAdditive"),drawToGame:r(function(E){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(E)},"drawToGame"),copyToGame:r(function(E){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(E)},"copyToGame"),bindAndDraw:r(function(E){var A=this.gl,R=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(E.texture);var P=this._tempMatrix1.loadIdentity(),O=this.targetBounds.x,L=this.targetBounds.y,w=O+E.width,M=L+E.height,b=P.getX(O,L),D=P.getX(O,M),F=P.getX(w,M),N=P.getX(w,L),B=P.getY(O,L),Y=P.getY(O,M),W=P.getY(w,M),z=P.getY(w,L),X=16777215;this.batchVert(b,B,0,0,0,0,X),this.batchVert(D,Y,0,1,0,0,X),this.batchVert(F,W,1,1,0,0,X),this.batchVert(b,B,0,0,0,0,X),this.batchVert(F,W,1,1,0,0,X),this.batchVert(N,z,1,0,0,0,X),R.restoreFramebuffer(!1,!0),R.currentFramebuffer||A.viewport(0,0,R.width,R.height),R.restoreStencilMask(),this.flush(),this.tempSprite=null},"bindAndDraw"),onDraw:r(function(E){this.drawToGame(E)},"onDraw"),setUVs:r(function(E,A,R,P,O,L,w,M){var b=this.quadVertexViewF32;b[2]=E,b[3]=A,b[9]=R,b[10]=P,b[16]=O,b[17]=L,b[23]=E,b[24]=A,b[30]=O,b[31]=L,b[37]=w,b[38]=M},"setUVs"),setTargetUVs:r(function(E,A){var R=A.height/E.height;R>.5?R=.5-(R-.5):R=.5+(.5-R),this.setUVs(0,R,0,1+R,1,1+R,1,R)},"setTargetUVs"),resetUVs:r(function(){this.setUVs(0,0,0,1,1,1,1,0)},"resetUVs"),destroy:r(function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,h.prototype.destroy.call(this),this},"destroy")});n.exports=x},81041:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95540),c=s(57516),l=new o({Extends:c,initialize:r(function(h){h.topology=5,h.batchSize=T(h,"batchSize",256),c.call(this,h)},"RopePipeline")});n.exports=l},12385:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95540),c=s(57516),l=s(45561),u=s(60722),h=s(29100),f=new o({Extends:c,initialize:r(function(d){d.fragShader=T(d,"fragShader",l),d.vertShader=T(d,"vertShader",u),d.forceZero=!0,c.call(this,d)},"SinglePipeline"),boot:r(function(){h.prototype.boot.call(this);var v=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",v.width,v.height)},"boot")});n.exports=f},7589:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35407),T=s(10312),c=s(83419),l=s(89422),u=s(96293),h=s(36682),f=s(95540),v=s(48247),d=s(49627),p=s(29100),g=new c({Extends:p,initialize:r(function(x){x.renderTarget=f(x,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),x.vertShader=f(x,"vertShader",d),x.shaders=f(x,"shaders",[{name:"Copy",fragShader:h},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:v},{name:"ColorMatrix",fragShader:u}]),x.attributes=f(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),x.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],x.batchSize=1,p.call(this,x),this.colorMatrix=new l,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},"UtilityPipeline"),boot:r(function(){p.prototype.boot.call(this);var m=this.shaders,x=this.renderTargets;this.copyShader=m[0],this.addShader=m[1],this.linearShader=m[2],this.colorMatrixShader=m[3],this.fullFrame1=x[0],this.fullFrame2=x[1],this.halfFrame1=x[2],this.halfFrame2=x[3]},"boot"),copyFrame:r(function(m,x,E,A,R){E===void 0&&(E=1),A===void 0&&(A=!0),R===void 0&&(R=!0);var P=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",E),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,m.texture.webGLTexture),x?(P.viewport(0,0,x.width,x.height),P.bindFramebuffer(P.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,x.texture.webGLTexture,0)):P.viewport(0,0,m.width,m.height),A&&(R?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},"copyFrame"),blitFrame:r(function(m,x,E,A,R,P,O){E===void 0&&(E=1),A===void 0&&(A=!0),R===void 0&&(R=!0),P===void 0&&(P=!1),O===void 0&&(O=!1);var L=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",E),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,m.texture.webGLTexture),m.height>x.height)L.viewport(0,0,m.width,m.height),this.setTargetUVs(m,x);else{var w=x.height-m.height;L.viewport(0,w,m.width,m.height)}if(L.bindFramebuffer(L.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,x.texture.webGLTexture,0),A&&(R?L.clearColor(0,0,0,0):L.clearColor(0,0,0,1),L.clear(L.COLOR_BUFFER_BIT)),P){var M=this.renderer.currentBlendMode;this.renderer.setBlendMode(T.ERASE)}O&&this.flipY(),L.bufferData(L.ARRAY_BUFFER,this.vertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),P&&this.renderer.setBlendMode(M),L.bindFramebuffer(L.FRAMEBUFFER,null),L.bindTexture(L.TEXTURE_2D,null),this.resetUVs()},"blitFrame"),copyFrameRect:r(function(m,x,E,A,R,P,O,L){O===void 0&&(O=!0),L===void 0&&(L=!0);var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,m.texture.webGLTexture,0),O&&(L?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,x.texture.webGLTexture),w.copyTexSubImage2D(w.TEXTURE_2D,0,0,0,E,A,R,P),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},"copyFrameRect"),copyToGame:r(function(m){var x=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,m.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6)},"copyToGame"),drawFrame:r(function(m,x,E,A){E===void 0&&(E=!0),A===void 0&&(A=this.colorMatrix);var R=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,m.texture.webGLTexture),x?(R.viewport(0,0,x.width,x.height),R.bindFramebuffer(R.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,x.texture.webGLTexture,0)):R.viewport(0,0,m.width,m.height),E?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},"drawFrame"),blendFrames:r(function(m,x,E,A,R,P){A===void 0&&(A=1),R===void 0&&(R=!0),P===void 0&&(P=this.linearShader);var O=this.gl;this.setShader(P),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",A),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,m.texture.webGLTexture),O.activeTexture(O.TEXTURE1),O.bindTexture(O.TEXTURE_2D,x.texture.webGLTexture),E?(O.bindFramebuffer(O.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,E.texture.webGLTexture,0),O.viewport(0,0,E.width,E.height)):O.viewport(0,0,m.width,m.height),R?O.clearColor(0,0,0,0):O.clearColor(0,0,0,1),O.clear(O.COLOR_BUFFER_BIT),O.bufferData(O.ARRAY_BUFFER,this.vertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),O.bindFramebuffer(O.FRAMEBUFFER,null),O.bindTexture(O.TEXTURE_2D,null)},"blendFrames"),blendFramesAdditive:r(function(m,x,E,A,R){this.blendFrames(m,x,E,A,R,this.addShader)},"blendFramesAdditive"),clearFrame:r(function(m,x){x===void 0&&(x=!0);var E=this.gl;E.viewport(0,0,m.width,m.height),E.bindFramebuffer(E.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),x?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT);var A=this.renderer.currentFramebuffer;E.bindFramebuffer(E.FRAMEBUFFER,A.webGLFramebuffer)},"clearFrame"),setUVs:r(function(m,x,E,A,R,P,O,L){var w=this.vertexViewF32;w[2]=m,w[3]=x,w[6]=E,w[7]=A,w[10]=R,w[11]=P,w[14]=m,w[15]=x,w[18]=R,w[19]=P,w[22]=O,w[23]=L},"setUVs"),setTargetUVs:r(function(m,x){var E=x.height/m.height;E>.5?E=.5-(E-.5):E=.5+(.5-E),this.setUVs(0,E,0,1+E,1,1+E,1,E)},"setTargetUVs"),flipX:r(function(){this.setUVs(1,0,1,1,0,1,0,0)},"flipX"),flipY:r(function(){this.setUVs(0,1,0,0,1,0,1,1)},"flipY"),resetUVs:r(function(){this.setUVs(0,0,0,1,1,1,1,0)},"resetUVs")});n.exports=g},36060:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};n.exports=C},84817:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineafterflush"},36712:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebeforeflush"},40285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebind"},65918:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineboot"},92852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinedestroy"},56072:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinerebind"},57566:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineresize"},77085:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_FLUSH:s(84817),BEFORE_FLUSH:s(36712),BIND:s(40285),BOOT:s(65918),DESTROY:s(92852),REBIND:s(56072),RESIZE:s(57566)}},54812:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(99155),c=s(84057),l=new o({Extends:c,initialize:r(function(h){c.call(this,{game:h,fragShader:T}),this.amount=1},"BarrelFXPipeline"),onPreRender:r(function(u,h){u=this.getController(u),this.set1f("amount",u.amount,h)},"onPreRender")});n.exports=l},67329:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(24400),c=s(84057),l=new o({Extends:c,initialize:r(function(h){c.call(this,{game:h,fragShader:T}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},"BloomFXPipeline"),onPreRender:r(function(u){u=this.getController(u),this.set1f("strength",u.blurStrength),this.set3fv("color",u.glcolor)},"onPreRender"),onDraw:r(function(u){var h=this.getController(),f=this.fullFrame1,v=this.fullFrame2;this.copyFrame(u,v);for(var d=2/u.width*h.offsetX,p=2/u.height*h.offsetY,g=0;g<h.steps;g++)this.set2f("offset",d,0),this.copySprite(u,f),this.set2f("offset",0,p),this.copySprite(f,u);this.blendFrames(v,u,f,h.strength),this.copyToGame(f)},"onDraw")});n.exports=l},8861:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(41514),c=s(51078),l=s(94328),u=s(84057),h=new o({Extends:u,initialize:r(function(v){u.call(this,{game:v,shaders:[{name:"Gaussian5",fragShader:T},{name:"Gaussian9",fragShader:c},{name:"Gaussian13",fragShader:l}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},"BlurFXPipeline"),setQualityLow:r(function(){return this.activeShader=this.shaders[0],this},"setQualityLow"),setQualityMedium:r(function(){return this.activeShader=this.shaders[1],this},"setQualityMedium"),setQualityHigh:r(function(){return this.activeShader=this.shaders[2],this},"setQualityHigh"),onDraw:r(function(f){var v=this.getController(),d=this.gl,p=this.fullFrame1,g=d.getParameter(d.FRAMEBUFFER_BINDING);this.bind(this.shaders[v.quality]),d.activeTexture(d.TEXTURE0),d.viewport(0,0,f.width,f.height),this.set1i("uMainSampler",0),this.set2f("resolution",f.width,f.height),this.set1f("strength",v.strength),this.set3fv("color",v.glcolor);for(var m=0;m<v.steps;m++)this.set2f("offset",v.x,0),this.copySprite(f,p),this.set2f("offset",0,v.y),this.copySprite(p,f);d.bindFramebuffer(d.FRAMEBUFFER,g),d.bindTexture(d.TEXTURE_2D,null),this.copyToGame(f)},"onDraw")});n.exports=h},51051:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(90610),c=s(84057),l=new o({Extends:c,initialize:r(function(h){c.call(this,{game:h,fragShader:T}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},"BokehFXPipeline"),onPreRender:r(function(u,h,f,v){u=this.getController(u),this.set1f("radius",u.radius,h),this.set1f("amount",u.amount,h),this.set1f("contrast",u.contrast,h),this.set1f("strength",u.strength,h),this.set2f("blur",u.blurX,u.blurY,h),this.setBoolean("isTiltShift",u.isTiltShift,h),f&&v&&this.set2f("resolution",f,v,h)},"onPreRender"),onDraw:r(function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)},"onDraw")});n.exports=l},89428:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(91899),c=s(84057),l=new o({Extends:c,initialize:r(function(h){c.call(this,{game:h,fragShader:T}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},"CircleFXPipeline"),onPreRender:r(function(u,h,f,v){u=this.getController(u),this.set1f("scale",u.scale,h),this.set1f("feather",u.feather,h),this.set1f("thickness",u.thickness,h),this.set3fv("color",u.glcolor,h),this.set4fv("backgroundColor",u.glcolor2,h),f&&v&&this.set2f("resolution",f,v,h)},"onPreRender"),onDraw:r(function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)},"onDraw")});n.exports=l},88904:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(84057),c=new o({Extends:T,initialize:r(function(u){T.call(this,{game:u})},"ColorMatrixFXPipeline"),onDraw:r(function(l){var u=this.fullFrame1;this.controller?this.manager.drawFrame(l,u,!0,this.controller):this.drawFrame(l,u),this.copyToGame(u)},"onDraw")});n.exports=c},63563:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(47838),c=s(84057),l=new o({Extends:c,initialize:r(function(h){c.call(this,{game:h,fragShader:T}),this.x=.005,this.y=.005,this.glTexture},"DisplacementFXPipeline"),onBoot:r(function(){this.setTexture("__WHITE")},"onBoot"),setTexture:r(function(u){var h=this.game.textures.getFrame(u);h&&(this.glTexture=h.glTexture)},"setTexture"),onDraw:r(function(u){var h=this.getController(),f=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",h.x,h.y),this.bindTexture(h.glTexture,1),this.copySprite(u,f),this.copyToGame(f)},"onDraw")});n.exports=l},94045:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95540),c=s(98656),l=s(84057),u=s(70554),h=new o({Extends:l,initialize:r(function(v,d){var p=T(d,"quality",.1),g=T(d,"distance",10);l.call(this,{game:v,fragShader:u.setGlowQuality(c,v,p,g)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},"GlowFXPipeline"),onPreRender:r(function(f,v,d,p){f=this.getController(f),this.set1f("outerStrength",f.outerStrength,v),this.set1f("innerStrength",f.innerStrength,v),this.set4fv("glowColor",f.glcolor,v),this.setBoolean("knockout",f.knockout,v),d&&p&&this.set2f("resolution",d,p,v)},"onPreRender"),onDraw:r(function(f){this.set2f("resolution",f.width,f.height),this.bindAndDraw(f)},"onDraw")});n.exports=h},74088:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(70463),c=s(84057),l=new o({Extends:c,initialize:r(function(h){c.call(this,{game:h,fragShader:T}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},"GradientFXPipeline"),onPreRender:r(function(u,h){u=this.getController(u),this.set1f("alpha",u.alpha,h),this.set1i("size",u.size,h),this.set3fv("color1",u.glcolor1,h),this.set3fv("color2",u.glcolor2,h),this.set2f("positionFrom",u.fromX,u.fromY,h),this.set2f("positionTo",u.toX,u.toY,h)},"onPreRender")});n.exports=l},99636:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(50831),c=s(84057),l=new o({Extends:c,initialize:r(function(h){c.call(this,{game:h,fragShader:T}),this.amount=1},"PixelateFXPipeline"),onPreRender:r(function(u,h,f,v){u=this.getController(u),this.set1f("amount",u.amount,h),f&&v&&this.set2f("resolution",f,v,h)},"onPreRender"),onDraw:r(function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)},"onDraw")});n.exports=l},34700:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(92595),c=s(84057),l=new o({Extends:c,initialize:r(function(h){c.call(this,{game:h,fragShader:T}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},"ShadowFXPipeline"),onPreRender:r(function(u,h){u=this.getController(u);var f=u.samples;this.set1i("samples",f,h),this.set1f("intensity",u.intensity,h),this.set1f("decay",u.decay,h),this.set1f("power",u.power/f,h),this.set2f("lightPosition",u.x,u.y,h),this.set4fv("color",u.glcolor,h)},"onPreRender")});n.exports=l},91157:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(72464),c=s(84057),l=new o({Extends:c,initialize:r(function(h){c.call(this,{game:h,fragShader:T}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},"ShineFXPipeline"),onPreRender:r(function(u,h,f,v){u=this.getController(u),this.setTime("time",h),this.set1f("speed",u.speed,h),this.set1f("lineWidth",u.lineWidth,h),this.set1f("gradient",u.gradient,h),this.setBoolean("reveal",u.reveal,h),f&&v&&this.set2f("resolution",f,v,h)},"onPreRender"),onDraw:r(function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)},"onDraw")});n.exports=l},27797:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(39249),c=s(84057),l=new o({Extends:c,initialize:r(function(h){c.call(this,{game:h,fragShader:T}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},"VignetteFXPipeline"),onPreRender:r(function(u,h){u=this.getController(u),this.set1f("radius",u.radius,h),this.set1f("strength",u.strength,h),this.set2f("position",u.x,u.y,h)},"onPreRender")});n.exports=l},67603:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(2878),c=s(84057),l=new o({Extends:c,initialize:r(function(h){c.call(this,{game:h,fragShader:T}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},"WipeFXPipeline"),onPreRender:r(function(u,h){u=this.getController(u);var f=u.progress,v=u.wipeWidth,d=u.direction,p=u.axis;this.set4f("config",f,v,d,p,h),this.setBoolean("reveal",u.reveal,h)},"onPreRender")});n.exports=l},58918:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:s(54812),Bloom:s(67329),Blur:s(8861),Bokeh:s(51051),Circle:s(89428),ColorMatrix:s(88904),Displacement:s(63563),Glow:s(94045),Gradient:s(74088),Pixelate:s(99636),Shadow:s(34700),Shine:s(91157),Vignette:s(27797),Wipe:s(67603)};n.exports=o},96615:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36060),T=s(79291),c={FX:s(58918),BitmapMaskPipeline:s(31302),Events:s(77085),FXPipeline:s(92651),LightPipeline:s(96569),MobilePipeline:s(56527),MultiPipeline:s(57516),PointLightPipeline:s(43439),PostFXPipeline:s(84057),PreFXPipeline:s(43558),RopePipeline:s(81041),SinglePipeline:s(12385),UtilityPipeline:s(7589)};c=T(!1,c,o),n.exports=c},35407:n=>{n.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:n=>{n.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:n=>{n.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:n=>{n.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:n=>{n.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:n=>{n.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:n=>{n.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:n=>{n.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:n=>{n.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:n=>{n.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:n=>{n.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:n=>{n.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:n=>{n.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:n=>{n.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:n=>{n.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:n=>{n.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:n=>{n.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:n=>{n.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:n=>{n.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:n=>{n.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:n=>{n.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:n=>{n.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(n,C,s)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AddBlendFrag:s(35407),BitmapMaskFrag:s(78908),BitmapMaskVert:s(85191),ColorMatrixFrag:s(96293),CopyFrag:s(36682),FXBarrelFrag:s(99155),FXBloomFrag:s(24400),FXBlurHighFrag:s(94328),FXBlurLowFrag:s(41514),FXBlurMedFrag:s(51078),FXBokehFrag:s(90610),FXCircleFrag:s(91899),FXDisplacementFrag:s(47838),FXGlowFrag:s(98656),FXGradientFrag:s(70463),FXPixelateFrag:s(50831),FXShadowFrag:s(92595),FXShineFrag:s(72464),FXVignetteFrag:s(39249),FXWipeFrag:s(2878),LightFrag:s(31063),LinearBlendFrag:s(48247),MeshFrag:s(41214),MeshVert:s(39653),MobileFrag:s(62143),MobileVert:s(47940),MultiFrag:s(98840),MultiVert:s(44667),PointLightFrag:s(4127),PointLightVert:s(89924),PostFXFrag:s(27681),QuadVert:s(49627),SingleFrag:s(45561),SingleVert:s(60722)}},93567:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h){this.webGLAttribLocation=-1,this.gl=l,this.program=u,this.name=h,this.createResource()},"WebGLAttribLocationWrapper"),createResource:r(function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var c=this.gl;c.isContextLost()||(this.webGLAttribLocation=c.getAttribLocation(this.program.webGLProgram,this.name))},"createResource"),destroy:r(function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1},"destroy")});n.exports=T},26128:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h,f){this.webGLBuffer=null,this.gl=l,this.initialDataOrSize=u,this.bufferType=h,this.bufferUsage=f,this.createResource()},"WebGLBufferWrapper"),createResource:r(function(){if(this.initialDataOrSize!==null){var c=this.gl;if(!c.isContextLost()){var l=this.bufferType,u=c.createBuffer();this.webGLBuffer=u,c.bindBuffer(l,this.webGLBuffer),c.bufferData(l,this.initialDataOrSize,this.bufferUsage),c.bindBuffer(l,null)}}},"createResource"),destroy:r(function(){var c=this.gl;c.isContextLost()||c.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null},"destroy")});n.exports=T},84387:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},c=new o({initialize:r(function(u,h,f,v,d){this.webGLFramebuffer=null,this.gl=u,this.width=h,this.height=f,this.renderTexture=v,this.addDepthStencilBuffer=!!d,this.createResource()},"WebGLFramebufferWrapper"),createResource:r(function(){var l=this.gl;if(!l.isContextLost()){var u=this.renderTexture,h=0,f=l.createFramebuffer();if(this.webGLFramebuffer=f,l.bindFramebuffer(l.FRAMEBUFFER,f),u.isRenderTexture=!0,u.isAlphaPremultiplied=!1,l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,u.webGLTexture,0),h=l.checkFramebufferStatus(l.FRAMEBUFFER),h!==l.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(T[h]||h));if(this.addDepthStencilBuffer){var v=l.createRenderbuffer();l.bindRenderbuffer(l.RENDERBUFFER,v),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,this.width,this.height),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,v)}l.bindFramebuffer(l.FRAMEBUFFER,null)}},"createResource"),destroy:r(function(){if(this.webGLFramebuffer!==null){var l=this.gl;if(!l.isContextLost()){l.bindFramebuffer(l.FRAMEBUFFER,this.webGLFramebuffer);var u=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);u!==null&&(l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,null,0),l.deleteTexture(u));var h=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);h!==null&&l.deleteRenderbuffer(h),l.bindFramebuffer(l.FRAMEBUFFER,null),l.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}},"destroy")});n.exports=c},1482:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h){this.webGLProgram=null,this.gl=l,this.vertexSource=u,this.fragmentSource=h,this.createResource()},"WebGLProgramWrapper"),createResource:r(function(){var c=this.gl;if(!c.isContextLost()){var l=c.createProgram(),u=c.createShader(c.VERTEX_SHADER),h=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(u,this.vertexSource),c.shaderSource(h,this.fragmentSource),c.compileShader(u),c.compileShader(h);var f=`Shader failed:
`;if(!c.getShaderParameter(u,c.COMPILE_STATUS))throw new Error("Vertex "+f+c.getShaderInfoLog(u));if(!c.getShaderParameter(h,c.COMPILE_STATUS))throw new Error("Fragment "+f+c.getShaderInfoLog(h));if(c.attachShader(l,u),c.attachShader(l,h),c.linkProgram(l),!c.getProgramParameter(l,c.LINK_STATUS))throw new Error("Link "+f+c.getProgramInfoLog(l));c.useProgram(l),this.webGLProgram=l}},"createResource"),destroy:r(function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)},"destroy")});n.exports=T},82751:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(50030),c=new o({initialize:r(function(u,h,f,v,d,p,g,m,x,E,A,R,P){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=u,this.mipLevel=h,this.minFilter=f,this.magFilter=v,this.wrapT=d,this.wrapS=p,this.format=g,this.pixels=m,this.width=x,this.height=E,this.pma=A??!0,this.forceSize=!!R,this.flipY=!!P,this.__SPECTOR_Metadata={},this.createResource()},"WebGLTextureWrapper"),createResource:r(function(){var l=this.gl;if(!l.isContextLost()){if(this.pixels instanceof c){this.webGLTexture=this.pixels.webGLTexture;return}var u=l.createTexture();u.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=u,this._processTexture()}},"createResource"),update:r(function(l,u,h,f,v,d,p,g,m){if(!(u===0||h===0)){this.pixels=l,this.width=u,this.height=h,this.flipY=f,this.wrapS=v,this.wrapT=d,this.minFilter=p,this.magFilter=g,this.format=m;var x=this.gl;x.isContextLost()||this._processTexture()}},"update"),_processTexture:r(function(){var l=this.gl;l.activeTexture(l.TEXTURE0);var u=l.getParameter(l.TEXTURE_BINDING_2D);l.bindTexture(l.TEXTURE_2D,this.webGLTexture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this.minFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this.magFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,this.wrapS),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,this.wrapT),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,this.flipY);var h=this.pixels,f=this.mipLevel,v=this.width,d=this.height,p=this.format,g=!1;if(h==null)l.texImage2D(l.TEXTURE_2D,f,p,v,d,0,p,l.UNSIGNED_BYTE,null),g=T(v,d);else if(h.compressed){v=h.width,d=h.height,g=h.generateMipmap;for(var m=0;m<h.mipmaps.length;m++)l.compressedTexImage2D(l.TEXTURE_2D,m,h.internalFormat,h.mipmaps[m].width,h.mipmaps[m].height,0,h.mipmaps[m].data)}else h instanceof Uint8Array?(l.texImage2D(l.TEXTURE_2D,f,p,v,d,0,p,l.UNSIGNED_BYTE,h),g=T(v,d)):(this.forceSize||(v=h.width,d=h.height),l.texImage2D(l.TEXTURE_2D,f,p,p,l.UNSIGNED_BYTE,h),g=T(v,d));g&&l.generateMipmap(l.TEXTURE_2D),u?l.bindTexture(l.TEXTURE_2D,u):l.bindTexture(l.TEXTURE_2D,null)},"_processTexture"),spectorMetadata:{get:r(function(){return this.__SPECTOR_Metadata},"get"),set:r(function(l){this.__SPECTOR_Metadata=l,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=l)},"set")},destroy:r(function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof c||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)},"destroy")});n.exports=c},57183:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h){this.webGLUniformLocation=null,this.gl=l,this.program=u,this.name=h,this.createResource()},"WebGLUniformLocationWrapper"),createResource:r(function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var c=this.gl;c.isContextLost()||(this.webGLUniformLocation=c.getUniformLocation(this.program.webGLProgram,this.name))},"createResource"),destroy:r(function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null},"destroy")});n.exports=T},9503:(n,C,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:s(93567),WebGLBufferWrapper:s(26128),WebGLProgramWrapper:s(1482),WebGLTextureWrapper:s(82751),WebGLFramebufferWrapper:s(84387),WebGLUniformLocationWrapper:s(57183)};n.exports=o},76531:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13560),T=s(83419),c=s(45319),l=s(50792),u=s(97480),h=s(8443),f=s(57811),v=s(74403),d=s(45818),p=s(29747),g=s(87841),m=s(86555),x=s(56583),E=s(26099),A=s(38058),R=new T({Extends:l,initialize:r(function(O){l.call(this),this.game=O,this.canvas,this.canvasBounds=new g,this.parent=null,this.parentIsWindow=!1,this.parentSize=new m,this.gameSize=new m,this.baseSize=new m,this.displaySize=new m,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new E(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:p,windowResize:p,fullScreenChange:p,fullScreenError:p}},"ScaleManager"),preBoot:r(function(){this.parseConfig(this.game.config),this.game.events.once(h.BOOT,this.boot,this)},"preBoot"),boot:r(function(){var P=this.game;this.canvas=P.canvas,this.fullscreen=P.device.fullscreen;var O=this.scaleMode;O!==o.SCALE_MODE.RESIZE&&O!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(O),O===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),P.events.on(h.PRE_STEP,this.step,this),P.events.once(h.READY,this.refresh,this),P.events.once(h.DESTROY,this.destroy,this),this.startListeners()},"boot"),parseConfig:r(function(P){this.getParent(P),this.getParentBounds();var O=P.width,L=P.height,w=P.scaleMode,M=P.zoom,b=P.autoRound;if(typeof O=="string")if(O.substr(-1)!=="%")O=parseInt(O,10);else{var D=this.parentSize.width;D===0&&(D=window.innerWidth);var F=parseInt(O,10)/100;O=Math.floor(D*F)}if(typeof L=="string")if(L.substr(-1)!=="%")L=parseInt(L,10);else{var N=this.parentSize.height;N===0&&(N=window.innerHeight);var B=parseInt(L,10)/100;L=Math.floor(N*B)}this.scaleMode=w,this.autoRound=b,this.autoCenter=P.autoCenter,this.resizeInterval=P.resizeInterval,b&&(O=Math.floor(O),L=Math.floor(L)),this.gameSize.setSize(O,L),M===o.ZOOM.MAX_ZOOM&&(M=this.getMaxZoom()),this.zoom=M,M!==1&&(this._resetZoom=!0),this.baseSize.setSize(O,L),b&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),P.minWidth>0&&this.displaySize.setMin(P.minWidth*M,P.minHeight*M),P.maxWidth>0&&this.displaySize.setMax(P.maxWidth*M,P.maxHeight*M),this.displaySize.setSize(O,L),(P.snapWidth>0||P.snapHeight>0)&&this.displaySize.setSnap(P.snapWidth,P.snapHeight),this.orientation=d(O,L)},"parseConfig"),getParent:r(function(P){var O=P.parent;if(O!==null){if(this.parent=v(O),this.parentIsWindow=this.parent===document.body,P.expandParent&&P.scaleMode!==o.SCALE_MODE.NONE){var L=this.parent.getBoundingClientRect();(this.parentIsWindow||L.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",L=this.parent.getBoundingClientRect(),!this.parentIsWindow&&L.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}P.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=v(P.fullscreenTarget))}},"getParent"),getParentBounds:r(function(){if(!this.parent)return!1;var P=this.parentSize,O=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(O.height=f(!0));var L=O.width,w=O.height;if(P.width!==L||P.height!==w)return P.setSize(L,w),!0;if(this.canvas){var M=this.canvasBounds,b=this.canvas.getBoundingClientRect();if(b.x!==M.x||b.y!==M.y)return!0}return!1},"getParentBounds"),lockOrientation:r(function(P){var O=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return O?O.call(screen,P):!1},"lockOrientation"),setParentSize:r(function(P,O){return this.parentSize.setSize(P,O),this.refresh()},"setParentSize"),setGameSize:r(function(P,O){var L=this.autoRound;L&&(P=Math.floor(P),O=Math.floor(O));var w=this.width,M=this.height;return this.gameSize.resize(P,O),this.baseSize.resize(P,O),L&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(P/O),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(w,M)},"setGameSize"),resize:r(function(P,O){var L=this.zoom,w=this.autoRound;w&&(P=Math.floor(P),O=Math.floor(O));var M=this.width,b=this.height;this.gameSize.resize(P,O),this.baseSize.resize(P,O),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(P*L,O*L),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var D=this.canvas.style,F=P*L,N=O*L;return w&&(F=Math.floor(F),N=Math.floor(N)),(F!==P||N!==O)&&(D.width=F+"px",D.height=N+"px"),this.refresh(M,b)},"resize"),setZoom:r(function(P){return this.zoom=P,this._resetZoom=!0,this.refresh()},"setZoom"),setMaxZoom:r(function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},"setMaxZoom"),setSnap:r(function(P,O){return P===void 0&&(P=0),O===void 0&&(O=P),this.displaySize.setSnap(P,O),this.refresh()},"setSnap"),refresh:r(function(P,O){P===void 0&&(P=this.width),O===void 0&&(O=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var L=this.game.domContainer;if(L){this.baseSize.setCSS(L);var w=this.canvas.style,M=L.style;M.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",M.marginLeft=w.marginLeft,M.marginTop=w.marginTop}return this.emit(u.RESIZE,this.gameSize,this.baseSize,this.displaySize,P,O),this},"refresh"),updateOrientation:r(function(){if(this._checkOrientation){this._checkOrientation=!1;var P=d(this.width,this.height);P!==this.orientation&&(this.orientation=P,this.emit(u.ORIENTATION_CHANGE,P))}},"updateOrientation"),updateScale:r(function(){var P=this.canvas.style,O=this.gameSize.width,L=this.gameSize.height,w,M,b=this.zoom,D=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(O*b,L*b),w=this.displaySize.width,M=this.displaySize.height,D&&(w=Math.floor(w),M=Math.floor(M)),this._resetZoom&&(P.width=w+"px",P.height=M+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),w=this.displaySize.width,M=this.displaySize.height,D&&(w=Math.floor(w),M=Math.floor(M)),this.canvas.width=w,this.canvas.height=M;else if(this.scaleMode===o.SCALE_MODE.EXPAND){var F=this.game.config.width,N=this.game.config.height,B=this.parentSize.width,Y=this.parentSize.height,W=B/F,z=Y/N,X,H;W<z?(X=F,H=W!==0?Y/W:N):(X=z!==0?B/z:F,H=N);var V=c(X,this.displaySize.minWidth,this.displaySize.maxWidth),G=c(H,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(V,G),this.gameSize.setSize(V,G),D&&(V=Math.floor(V),G=Math.floor(G)),this.canvas.width=V,this.canvas.height=G;var k=B*(V/X),U=Y*(G/H);this.displaySize.setSize(k,U),w=this.displaySize.width,M=this.displaySize.height,D&&(w=Math.floor(w),M=Math.floor(M)),P.width=w+"px",P.height=M+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),w=this.displaySize.width,M=this.displaySize.height,D&&(w=Math.floor(w),M=Math.floor(M)),P.width=w+"px",P.height=M+"px";this.getParentBounds(),this.updateCenter()},"updateScale"),getMaxZoom:r(function(){var P=x(this.parentSize.width,this.gameSize.width,0,!0),O=x(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(P,O),1)},"getMaxZoom"),updateCenter:r(function(){var P=this.autoCenter;if(P!==o.CENTER.NO_CENTER){var O=this.canvas,L=O.style,w=O.getBoundingClientRect(),M=w.width,b=w.height,D=Math.floor((this.parentSize.width-M)/2),F=Math.floor((this.parentSize.height-b)/2);P===o.CENTER.CENTER_HORIZONTALLY?F=0:P===o.CENTER.CENTER_VERTICALLY&&(D=0),L.marginLeft=D+"px",L.marginTop=F+"px"}},"updateCenter"),updateBounds:r(function(){var P=this.canvasBounds,O=this.canvas.getBoundingClientRect();P.x=O.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),P.y=O.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),P.width=O.width,P.height=O.height},"updateBounds"),transformX:r(function(P){return(P-this.canvasBounds.left)*this.displayScale.x},"transformX"),transformY:r(function(P){return(P-this.canvasBounds.top)*this.displayScale.y},"transformY"),startFullscreen:r(function(P){P===void 0&&(P={navigationUI:"hide"});var O=this.fullscreen;if(!O.available){this.emit(u.FULLSCREEN_UNSUPPORTED);return}if(!O.active){var L=this.getFullscreenTarget();O.keyboard?L[O.request](Element.ALLOW_KEYBOARD_INPUT):L[O.request](P)}},"startFullscreen"),fullscreenSuccessHandler:r(function(){this.getParentBounds(),this.refresh(),this.emit(u.ENTER_FULLSCREEN)},"fullscreenSuccessHandler"),fullscreenErrorHandler:r(function(P){this.removeFullscreenTarget(),this.emit(u.FULLSCREEN_FAILED,P)},"fullscreenErrorHandler"),getFullscreenTarget:r(function(){if(!this.fullscreenTarget){var P=document.createElement("div");P.style.margin="0",P.style.padding="0",P.style.width="100%",P.style.height="100%",this.fullscreenTarget=P,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var O=this.canvas.parentNode;O.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},"getFullscreenTarget"),removeFullscreenTarget:r(function(){if(this._createdFullscreenTarget){var P=this.fullscreenTarget;if(P&&P.parentNode){var O=P.parentNode;O.insertBefore(this.canvas,P),O.removeChild(P)}}},"removeFullscreenTarget"),stopFullscreen:r(function(){var P=this.fullscreen;if(!P.available)return this.emit(u.FULLSCREEN_UNSUPPORTED),!1;P.active&&document[P.cancel](),this.removeFullscreenTarget()},"stopFullscreen"),leaveFullScreenSuccessHandler:r(function(){this.getParentBounds(),this.emit(u.LEAVE_FULLSCREEN),this.refresh()},"leaveFullScreenSuccessHandler"),toggleFullscreen:r(function(P){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(P)},"toggleFullscreen"),startListeners:r(function(){var P=this,O=this.domlisteners;if(O.orientationChange=function(){P.updateBounds(),P._checkOrientation=!0,P.dirty=!0,P.refresh()},O.windowResize=function(){P.updateBounds(),P.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",O.orientationChange,!1):window.addEventListener("orientationchange",O.orientationChange,!1),window.addEventListener("resize",O.windowResize,!1),this.fullscreen.available){O.fullScreenChange=function(w){return P.onFullScreenChange(w)},O.fullScreenError=function(w){return P.onFullScreenError(w)};var L=["webkit","moz",""];L.forEach(function(w){document.addEventListener(w+"fullscreenchange",O.fullScreenChange,!1),document.addEventListener(w+"fullscreenerror",O.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",O.fullScreenChange,!1),document.addEventListener("MSFullscreenError",O.fullScreenError,!1)}},"startListeners"),onFullScreenChange:r(function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},"onFullScreenChange"),onFullScreenError:r(function(){this.removeFullscreenTarget()},"onFullScreenError"),getViewPort:r(function(P,O){P instanceof A||(O=P,P=void 0),O===void 0&&(O=new g);var L=this.baseSize,w=this.parentSize,M=this.canvasBounds,b=this.displayScale,D=M.x>=0?0:-(M.x*b.x),F=M.y>=0?0:-(M.y*b.y),N;w.width>=M.width?N=L.width:N=L.width-(M.width-w.width)*b.x;var B;return w.height>=M.height?B=L.height:B=L.height-(M.height-w.height)*b.y,O.setTo(D,F,N,B),P&&(O.width/=P.zoomX,O.height/=P.zoomY,O.centerX=P.centerX+P.scrollX,O.centerY=P.centerY+P.scrollY),O},"getViewPort"),step:r(function(P,O){this.parent&&(this._lastCheck+=O,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},"step"),stopListeners:r(function(){var P=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",P.orientationChange,!1):window.removeEventListener("orientationchange",P.orientationChange,!1),window.removeEventListener("resize",P.windowResize,!1);var O=["webkit","moz",""];O.forEach(function(L){document.removeEventListener(L+"fullscreenchange",P.fullScreenChange,!1),document.removeEventListener(L+"fullscreenerror",P.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",P.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",P.fullScreenError,!1)},"stopListeners"),destroy:r(function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},"destroy"),isFullscreen:{get:r(function(){return this.fullscreen.active},"get")},width:{get:r(function(){return this.gameSize.width},"get")},height:{get:r(function(){return this.gameSize.height},"get")},isPortrait:{get:r(function(){return this.orientation===o.ORIENTATION.PORTRAIT},"get")},isLandscape:{get:r(function(){return this.orientation===o.ORIENTATION.LANDSCAPE},"get")},isGamePortrait:{get:r(function(){return this.height>this.width},"get")},isGameLandscape:{get:r(function(){return this.width>this.height},"get")}});n.exports=R},64743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:s(64743),ORIENTATION:s(39218),SCALE_MODE:s(81050),ZOOM:s(80805)};n.exports=o},56139:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="enterfullscreen"},2336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenfailed"},47412:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenunsupported"},51452:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="leavefullscreen"},20666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="orientationchange"},47945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},97480:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ENTER_FULLSCREEN:s(56139),FULLSCREEN_FAILED:s(2336),FULLSCREEN_UNSUPPORTED:s(47412),LEAVE_FULLSCREEN:s(51452),ORIENTATION_CHANGE:s(20666),RESIZE:s(47945)}},93364:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),T=s(13560),c={Center:s(64743),Events:s(97480),Orientation:s(39218),ScaleManager:s(76531),ScaleModes:s(81050),Zoom:s(80805)};c=o(!1,c,T.CENTER),c=o(!1,c,T.ORIENTATION),c=o(!1,c,T.SCALE_MODE),c=o(!1,c,T.ZOOM),n.exports=c},27397:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),T=s(35355),c=r(function(l){var u=l.game.config.defaultPhysicsSystem,h=o(l.settings,"physics",!1);if(!(!u&&!h)){var f=[];if(u&&f.push(T(u+"Physics")),h)for(var v in h)v=T(v.concat("Physics")),f.indexOf(v)===-1&&f.push(v);return f}},"GetPhysicsPlugins");n.exports=c},52106:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),T=r(function(c){var l=c.plugins.getDefaultScenePlugins(),u=o(c.settings,"plugins",!1);return Array.isArray(u)?u:l||[]},"GetScenePlugins");n.exports=T},87033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};n.exports=C},97482:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(2368),c=new o({initialize:r(function(u){this.sys=new T(this,u),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},"Scene"),update:r(function(){},"update")});n.exports=c},60903:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(89993),c=s(44594),l=s(8443),u=s(35154),h=s(54899),f=s(29747),v=s(97482),d=s(2368),p=new o({initialize:r(function(m,x){if(this.game=m,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,x){Array.isArray(x)||(x=[x]);for(var E=0;E<x.length;E++)this._pending.push({key:"default",scene:x[E],autoStart:E===0,data:{}})}m.events.once(l.READY,this.bootQueue,this)},"SceneManager"),bootQueue:r(function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new v),this.game.events.emit(l.SYSTEM_READY,this.systemScene,this);var g,m,x,E;for(g=0;g<this._pending.length;g++){m=this._pending[g],x=m.key,E=m.scene;var A;E instanceof v?A=this.createSceneFromInstance(x,E):typeof E=="object"?A=this.createSceneFromObject(x,E):typeof E=="function"&&(A=this.createSceneFromFunction(x,E)),x=A.sys.settings.key,this.keys[x]=A,this.scenes.push(A),this._data[x]&&(A.sys.settings.data=this._data[x].data,this._data[x].autoStart&&(m.autoStart=!0)),(m.autoStart||A.sys.settings.active)&&this._start.push(x)}for(this._pending.length=0,this._data={},this.isBooted=!0,g=0;g<this._start.length;g++)m=this._start[g],this.start(m);this._start.length=0}},"bootQueue"),processQueue:r(function(){var g=this._pending.length,m=this._queue.length;if(!(g===0&&m===0)){var x,E;if(g){for(x=0;x<g;x++)E=this._pending[x],this.add(E.key,E.scene,E.autoStart,E.data);for(x=0;x<this._start.length;x++)E=this._start[x],this.start(E);this._start.length=0,this._pending.length=0}for(x=0;x<this._queue.length;x++)E=this._queue[x],this[E.op](E.keyA,E.keyB,E.data);this._queue.length=0}},"processQueue"),add:r(function(g,m,x,E){if(x===void 0&&(x=!1),E===void 0&&(E={}),this.isProcessing||!this.isBooted)return this._pending.push({key:g,scene:m,autoStart:x,data:E}),this.isBooted||(this._data[g]={data:E}),null;g=this.getKey(g,m);var A;return m instanceof v?A=this.createSceneFromInstance(g,m):typeof m=="object"?(m.key=g,A=this.createSceneFromObject(g,m)):typeof m=="function"&&(A=this.createSceneFromFunction(g,m)),A.sys.settings.data=E,g=A.sys.settings.key,this.keys[g]=A,this.scenes.push(A),(x||A.sys.settings.active)&&(this._pending.length?this._start.push(g):this.start(g)),A},"add"),remove:r(function(g){if(this.isProcessing)return this.queueOp("remove",g);var m=this.getScene(g);if(!m||m.sys.isTransitioning())return this;var x=this.scenes.indexOf(m),E=m.sys.settings.key;return x>-1&&(delete this.keys[E],this.scenes.splice(x,1),this._start.indexOf(E)>-1&&(x=this._start.indexOf(E),this._start.splice(x,1)),m.sys.destroy()),this},"remove"),bootScene:r(function(g){var m=g.sys,x=m.settings;m.sceneUpdate=f,g.init&&(g.init.call(g,x.data),x.status=T.INIT,x.isTransition&&m.events.emit(c.TRANSITION_INIT,x.transitionFrom,x.transitionDuration));var E;m.load&&(E=m.load,E.reset()),E&&g.preload?(g.preload.call(g),x.status=T.LOADING,E.once(h.COMPLETE,this.loadComplete,this),E.start()):this.create(g)},"bootScene"),loadComplete:r(function(g){this.create(g.scene)},"loadComplete"),payloadComplete:r(function(g){this.bootScene(g.scene)},"payloadComplete"),update:r(function(g,m){this.processQueue(),this.isProcessing=!0;for(var x=this.scenes.length-1;x>=0;x--){var E=this.scenes[x].sys;E.settings.status>T.START&&E.settings.status<=T.RUNNING&&E.step(g,m),E.scenePlugin&&E.scenePlugin._target&&E.scenePlugin.step(g,m)}},"update"),render:r(function(g){for(var m=0;m<this.scenes.length;m++){var x=this.scenes[m].sys;x.settings.visible&&x.settings.status>=T.LOADING&&x.settings.status<T.SLEEPING&&x.render(g)}this.isProcessing=!1},"render"),create:r(function(g){var m=g.sys,x=m.settings;g.create&&(x.status=T.CREATING,g.create.call(g,x.data),x.status===T.DESTROYED)||(x.isTransition&&m.events.emit(c.TRANSITION_START,x.transitionFrom,x.transitionDuration),g.update&&(m.sceneUpdate=g.update),x.status=T.RUNNING,m.events.emit(c.CREATE,g))},"create"),createSceneFromFunction:r(function(g,m){var x=new m;if(x instanceof v){var E=x.sys.settings.key;if(E!==""&&(g=E),this.keys.hasOwnProperty(g))throw new Error("Cannot add Scene with duplicate key: "+g);return this.createSceneFromInstance(g,x)}else return x.sys=new d(x),x.sys.settings.key=g,x.sys.init(this.game),x},"createSceneFromFunction"),createSceneFromInstance:r(function(g,m){var x=m.sys.settings.key;return x===""&&(m.sys.settings.key=g),m.sys.init(this.game),m},"createSceneFromInstance"),createSceneFromObject:r(function(g,m){var x=new v(m),E=x.sys.settings.key;E!==""?g=E:x.sys.settings.key=g,x.sys.init(this.game);for(var A=["init","preload","create","update","render"],R=0;R<A.length;R++){var P=u(m,A[R],null);P&&(x[A[R]]=P)}if(m.hasOwnProperty("extend")){for(var O in m.extend)if(m.extend.hasOwnProperty(O)){var L=m.extend[O];O==="data"&&x.hasOwnProperty("data")&&typeof L=="object"?x.data.merge(L):O!=="sys"&&(x[O]=L)}}return x},"createSceneFromObject"),getKey:r(function(g,m){if(g||(g="default"),typeof m=="function")return g;if(m instanceof v?g=m.sys.settings.key:typeof m=="object"&&m.hasOwnProperty("key")&&(g=m.key),this.keys.hasOwnProperty(g))throw new Error("Cannot add Scene with duplicate key: "+g);return g},"getKey"),getScenes:r(function(g,m){g===void 0&&(g=!0),m===void 0&&(m=!1);for(var x=[],E=this.scenes,A=0;A<E.length;A++){var R=E[A];R&&(!g||g&&R.sys.isActive())&&x.push(R)}return m?x.reverse():x},"getScenes"),getScene:r(function(g){if(typeof g=="string"){if(this.keys[g])return this.keys[g]}else for(var m=0;m<this.scenes.length;m++)if(g===this.scenes[m])return g;return null},"getScene"),isActive:r(function(g){var m=this.getScene(g);return m?m.sys.isActive():null},"isActive"),isPaused:r(function(g){var m=this.getScene(g);return m?m.sys.isPaused():null},"isPaused"),isVisible:r(function(g){var m=this.getScene(g);return m?m.sys.isVisible():null},"isVisible"),isSleeping:r(function(g){var m=this.getScene(g);return m?m.sys.isSleeping():null},"isSleeping"),pause:r(function(g,m){var x=this.getScene(g);return x&&x.sys.pause(m),this},"pause"),resume:r(function(g,m){var x=this.getScene(g);return x&&x.sys.resume(m),this},"resume"),sleep:r(function(g,m){var x=this.getScene(g);return x&&!x.sys.isTransitioning()&&x.sys.sleep(m),this},"sleep"),wake:r(function(g,m){var x=this.getScene(g);return x&&x.sys.wake(m),this},"wake"),run:r(function(g,m){var x=this.getScene(g);if(!x){for(var E=0;E<this._pending.length;E++)if(this._pending[E].key===g){this.queueOp("start",g,m);break}return this}x.sys.isSleeping()?x.sys.wake(m):x.sys.isPaused()?x.sys.resume(m):this.start(g,m)},"run"),start:r(function(g,m){if(!this.isBooted)return this._data[g]={autoStart:!0,data:m},this;var x=this.getScene(g);if(!x)return console.warn("Scene key not found: "+g),this;var E=x.sys,A=E.settings.status;if(A>=T.START&&A<=T.CREATING)return this;if(A>=T.RUNNING&&A<=T.SLEEPING)E.shutdown(),E.sceneUpdate=f,E.start(m);else{E.sceneUpdate=f,E.start(m);var R;if(E.load&&(R=E.load),R&&E.settings.hasOwnProperty("pack")&&(R.reset(),R.addPack({payload:E.settings.pack})))return E.settings.status=T.LOADING,R.once(h.COMPLETE,this.payloadComplete,this),R.start(),this}return this.bootScene(x),this},"start"),stop:r(function(g,m){var x=this.getScene(g);if(x&&!x.sys.isTransitioning()&&x.sys.settings.status!==T.SHUTDOWN){var E=x.sys.load;E&&(E.off(h.COMPLETE,this.loadComplete,this),E.off(h.COMPLETE,this.payloadComplete,this)),x.sys.shutdown(m)}return this},"stop"),switch:r(function(g,m,x){var E=this.getScene(g),A=this.getScene(m);return E&&A&&E!==A&&(this.sleep(g),this.isSleeping(m)?this.wake(m,x):this.start(m,x)),this},"switch"),getAt:r(function(g){return this.scenes[g]},"getAt"),getIndex:r(function(g){var m=this.getScene(g);return this.scenes.indexOf(m)},"getIndex"),bringToTop:r(function(g){if(this.isProcessing)return this.queueOp("bringToTop",g);var m=this.getIndex(g),x=this.scenes;if(m!==-1&&m<x.length){var E=this.getScene(g);x.splice(m,1),x.push(E)}return this},"bringToTop"),sendToBack:r(function(g){if(this.isProcessing)return this.queueOp("sendToBack",g);var m=this.getIndex(g);if(m!==-1&&m>0){var x=this.getScene(g);this.scenes.splice(m,1),this.scenes.unshift(x)}return this},"sendToBack"),moveDown:r(function(g){if(this.isProcessing)return this.queueOp("moveDown",g);var m=this.getIndex(g);if(m>0){var x=m-1,E=this.getScene(g),A=this.getAt(x);this.scenes[m]=A,this.scenes[x]=E}return this},"moveDown"),moveUp:r(function(g){if(this.isProcessing)return this.queueOp("moveUp",g);var m=this.getIndex(g);if(m<this.scenes.length-1){var x=m+1,E=this.getScene(g),A=this.getAt(x);this.scenes[m]=A,this.scenes[x]=E}return this},"moveUp"),moveAbove:r(function(g,m){if(g===m)return this;if(this.isProcessing)return this.queueOp("moveAbove",g,m);var x=this.getIndex(g),E=this.getIndex(m);if(x!==-1&&E!==-1&&E<x){var A=this.getAt(E);this.scenes.splice(E,1),this.scenes.splice(x+(E>x),0,A)}return this},"moveAbove"),moveBelow:r(function(g,m){if(g===m)return this;if(this.isProcessing)return this.queueOp("moveBelow",g,m);var x=this.getIndex(g),E=this.getIndex(m);if(x!==-1&&E!==-1&&E>x){var A=this.getAt(E);this.scenes.splice(E,1),x===0?this.scenes.unshift(A):this.scenes.splice(x-(E<x),0,A)}return this},"moveBelow"),queueOp:r(function(g,m,x,E){return this._queue.push({op:g,keyA:m,keyB:x,data:E}),this},"queueOp"),swapPosition:r(function(g,m){if(g===m)return this;if(this.isProcessing)return this.queueOp("swapPosition",g,m);var x=this.getIndex(g),E=this.getIndex(m);if(x!==E&&x!==-1&&E!==-1){var A=this.getAt(x);this.scenes[x]=this.scenes[E],this.scenes[E]=A}return this},"swapPosition"),dump:r(function(){for(var g=[],m=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],x=0;x<this.scenes.length;x++){var E=this.scenes[x].sys,A=E.settings.visible&&(E.settings.status===T.RUNNING||E.settings.status===T.PAUSED)?"[*] ":"[-] ";A+=E.settings.key+" ("+m[E.settings.status]+")",g.push(A)}g.join(`
`)},"dump"),destroy:r(function(){for(var g=0;g<this.scenes.length;g++){var m=this.scenes[g].sys;m.destroy()}this.systemScene.sys.destroy(),this.update=f,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null},"destroy")});n.exports=p},52209:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=s(83419),c=s(44594),l=s(95540),u=s(37277),h=new T({initialize:r(function(v){this.scene=v,this.systems=v.sys,this.settings=v.sys.settings,this.key=v.sys.settings.key,this.manager=v.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,v.sys.events.once(c.BOOT,this.boot,this),v.sys.events.on(c.START,this.pluginStart,this)},"ScenePlugin"),boot:r(function(){this.systems.events.once(c.DESTROY,this.destroy,this)},"boot"),pluginStart:r(function(){this._target=null,this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},"pluginStart"),start:r(function(f,v){return f===void 0&&(f=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",f,v),this},"start"),restart:r(function(f){var v=this.key;return this.manager.queueOp("stop",v),this.manager.queueOp("start",v,f),this},"restart"),transition:r(function(f){f===void 0&&(f={});var v=l(f,"target",!1),d=this.manager.getScene(v);if(!v||!this.checkValidTransition(d))return!1;var p=l(f,"duration",1e3);this._elapsed=0,this._target=d,this._duration=p,this._willSleep=l(f,"sleep",!1),this._willRemove=l(f,"remove",!1);var g=l(f,"onUpdate",null);g&&(this._onUpdate=g,this._onUpdateScope=l(f,"onUpdateScope",this.scene));var m=l(f,"allowInput",!1);this.settings.transitionAllowInput=m;var x=d.sys.settings;x.isTransition=!0,x.transitionFrom=this.scene,x.transitionDuration=p,x.transitionAllowInput=m,l(f,"moveAbove",!1)?this.manager.moveAbove(this.key,v):l(f,"moveBelow",!1)&&this.manager.moveBelow(this.key,v),d.sys.isSleeping()?d.sys.wake(l(f,"data")):this.manager.start(v,l(f,"data"));var E=l(f,"onStart",null),A=l(f,"onStartScope",this.scene);return E&&E.call(A,this.scene,d,p),this.systems.events.emit(c.TRANSITION_OUT,d,p),!0},"transition"),checkValidTransition:r(function(f){return!(!f||f.sys.isActive()||f.sys.isTransitioning()||f===this.scene||this.systems.isTransitioning())},"checkValidTransition"),step:r(function(f,v){this._elapsed+=v,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},"step"),transitionComplete:r(function(){var f=this._target.sys,v=this._target.sys.settings;f.events.emit(c.TRANSITION_COMPLETE,this.scene),v.isTransition=!1,v.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},"transitionComplete"),add:r(function(f,v,d,p){return this.manager.add(f,v,d,p)},"add"),launch:r(function(f,v){return f&&f!==this.key&&this.manager.queueOp("start",f,v),this},"launch"),run:r(function(f,v){return f&&f!==this.key&&this.manager.queueOp("run",f,v),this},"run"),pause:r(function(f,v){return f===void 0&&(f=this.key),this.manager.queueOp("pause",f,v),this},"pause"),resume:r(function(f,v){return f===void 0&&(f=this.key),this.manager.queueOp("resume",f,v),this},"resume"),sleep:r(function(f,v){return f===void 0&&(f=this.key),this.manager.queueOp("sleep",f,v),this},"sleep"),wake:r(function(f,v){return f===void 0&&(f=this.key),this.manager.queueOp("wake",f,v),this},"wake"),switch:r(function(f,v){return f!==this.key&&this.manager.queueOp("switch",this.key,f,v),this},"switch"),stop:r(function(f,v){return f===void 0&&(f=this.key),this.manager.queueOp("stop",f,v),this},"stop"),setActive:r(function(f,v,d){v===void 0&&(v=this.key);var p=this.manager.getScene(v);return p&&p.sys.setActive(f,d),this},"setActive"),setVisible:r(function(f,v){v===void 0&&(v=this.key);var d=this.manager.getScene(v);return d&&d.sys.setVisible(f),this},"setVisible"),isSleeping:r(function(f){return f===void 0&&(f=this.key),this.manager.isSleeping(f)},"isSleeping"),isActive:r(function(f){return f===void 0&&(f=this.key),this.manager.isActive(f)},"isActive"),isPaused:r(function(f){return f===void 0&&(f=this.key),this.manager.isPaused(f)},"isPaused"),isVisible:r(function(f){return f===void 0&&(f=this.key),this.manager.isVisible(f)},"isVisible"),swapPosition:r(function(f,v){return v===void 0&&(v=this.key),f!==v&&this.manager.swapPosition(f,v),this},"swapPosition"),moveAbove:r(function(f,v){return v===void 0&&(v=this.key),f!==v&&this.manager.moveAbove(f,v),this},"moveAbove"),moveBelow:r(function(f,v){return v===void 0&&(v=this.key),f!==v&&this.manager.moveBelow(f,v),this},"moveBelow"),remove:r(function(f){return f===void 0&&(f=this.key),this.manager.remove(f),this},"remove"),moveUp:r(function(f){return f===void 0&&(f=this.key),this.manager.moveUp(f),this},"moveUp"),moveDown:r(function(f){return f===void 0&&(f=this.key),this.manager.moveDown(f),this},"moveDown"),bringToTop:r(function(f){return f===void 0&&(f=this.key),this.manager.bringToTop(f),this},"bringToTop"),sendToBack:r(function(f){return f===void 0&&(f=this.key),this.manager.sendToBack(f),this},"sendToBack"),get:r(function(f){return this.manager.getScene(f)},"get"),getStatus:r(function(f){var v=this.manager.getScene(f);if(v)return v.sys.getStatus()},"getStatus"),getIndex:r(function(f){return f===void 0&&(f=this.key),this.manager.getIndex(f)},"getIndex"),shutdown:r(function(){var f=this.systems.events;f.off(c.SHUTDOWN,this.shutdown,this),f.off(c.TRANSITION_OUT)},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null},"destroy")});u.register("ScenePlugin",h,"scenePlugin"),n.exports=h},55681:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89993),T=s(35154),c=s(46975),l=s(87033),u={create:r(function(h){return typeof h=="string"?h={key:h}:h===void 0&&(h={}),{status:o.PENDING,key:T(h,"key",""),active:T(h,"active",!1),visible:T(h,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:T(h,"pack",!1),cameras:T(h,"cameras",null),map:T(h,"map",c(l,T(h,"mapAdd",{}))),physics:T(h,"physics",{}),loader:T(h,"loader",{}),plugins:T(h,"plugins",!1),input:T(h,"input",{})}},"create")};n.exports=u},2368:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(89993),c=s(42363),l=s(44594),u=s(27397),h=s(52106),f=s(29747),v=s(55681),d=new o({initialize:r(function(g,m){this.scene=g,this.game,this.renderer,this.config=m,this.settings=v.create(m),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=f},"Systems"),init:r(function(p){this.settings.status=T.INIT,this.sceneUpdate=f,this.game=p,this.renderer=p.renderer,this.canvas=p.canvas,this.context=p.context;var g=p.plugins;this.plugins=g,g.addToScene(this,c.Global,[c.CoreScene,h(this),u(this)]),this.events.emit(l.BOOT,this),this.settings.isBooted=!0},"init"),step:r(function(p,g){var m=this.events;m.emit(l.PRE_UPDATE,p,g),m.emit(l.UPDATE,p,g),this.sceneUpdate.call(this.scene,p,g),m.emit(l.POST_UPDATE,p,g)},"step"),render:r(function(p){var g=this.displayList;g.depthSort(),this.events.emit(l.PRE_RENDER,p),this.cameras.render(p,g),this.events.emit(l.RENDER,p)},"render"),queueDepthSort:r(function(){this.displayList.queueDepthSort()},"queueDepthSort"),depthSort:r(function(){this.displayList.depthSort()},"depthSort"),pause:r(function(p){var g=this.settings,m=this.getStatus();return m!==T.CREATING&&m!==T.RUNNING?console.warn("Cannot pause non-running Scene",g.key):this.settings.active&&(g.status=T.PAUSED,g.active=!1,this.events.emit(l.PAUSE,this,p)),this},"pause"),resume:r(function(p){var g=this.events,m=this.settings;return this.settings.active||(m.status=T.RUNNING,m.active=!0,g.emit(l.RESUME,this,p)),this},"resume"),sleep:r(function(p){var g=this.settings,m=this.getStatus();return m!==T.CREATING&&m!==T.RUNNING?console.warn("Cannot sleep non-running Scene",g.key):(g.status=T.SLEEPING,g.active=!1,g.visible=!1,this.events.emit(l.SLEEP,this,p)),this},"sleep"),wake:r(function(p){var g=this.events,m=this.settings;return m.status=T.RUNNING,m.active=!0,m.visible=!0,g.emit(l.WAKE,this,p),m.isTransition&&g.emit(l.TRANSITION_WAKE,m.transitionFrom,m.transitionDuration),this},"wake"),getData:r(function(){return this.settings.data},"getData"),getStatus:r(function(){return this.settings.status},"getStatus"),canInput:r(function(){var p=this.settings.status;return p>T.PENDING&&p<=T.RUNNING},"canInput"),isSleeping:r(function(){return this.settings.status===T.SLEEPING},"isSleeping"),isActive:r(function(){return this.settings.status===T.RUNNING},"isActive"),isPaused:r(function(){return this.settings.status===T.PAUSED},"isPaused"),isTransitioning:r(function(){return this.settings.isTransition||this.scenePlugin._target!==null},"isTransitioning"),isTransitionOut:r(function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},"isTransitionOut"),isTransitionIn:r(function(){return this.settings.isTransition},"isTransitionIn"),isVisible:r(function(){return this.settings.visible},"isVisible"),setVisible:r(function(p){return this.settings.visible=p,this},"setVisible"),setActive:r(function(p,g){return p?this.resume(g):this.pause(g)},"setActive"),start:r(function(p){var g=this.events,m=this.settings;p&&(m.data=p),m.status=T.START,m.active=!0,m.visible=!0,g.emit(l.START,this),g.emit(l.READY,this,p)},"start"),shutdown:r(function(p){var g=this.events,m=this.settings;g.off(l.TRANSITION_INIT),g.off(l.TRANSITION_START),g.off(l.TRANSITION_COMPLETE),g.off(l.TRANSITION_OUT),m.status=T.SHUTDOWN,m.active=!1,m.visible=!1,g.emit(l.SHUTDOWN,this,p)},"shutdown"),destroy:r(function(){var p=this.events,g=this.settings;g.status=T.DESTROYED,g.active=!1,g.visible=!1,p.emit(l.DESTROY,this),p.removeAllListeners();for(var m=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],x=0;x<m.length;x++)this[m[x]]=null},"destroy")});n.exports=d},89993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};n.exports=C},69830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},7919:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},46763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="create"},11763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},71555:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},36735:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postupdate"},3809:n=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},90716:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},58262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},91633:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},10319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},87132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},81961:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},90194:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleep"},6265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},33178:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioncomplete"},43063:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioninit"},11259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionout"},61611:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionstart"},45209:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionwake"},22966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},21747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wake"},44594:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:s(69830),BOOT:s(7919),CREATE:s(46763),DESTROY:s(11763),PAUSE:s(71555),POST_UPDATE:s(36735),PRE_RENDER:s(3809),PRE_UPDATE:s(90716),READY:s(58262),REMOVED_FROM_SCENE:s(91633),RENDER:s(10319),RESUME:s(87132),SHUTDOWN:s(81961),SLEEP:s(90194),START:s(6265),TRANSITION_COMPLETE:s(33178),TRANSITION_INIT:s(43063),TRANSITION_OUT:s(11259),TRANSITION_START:s(61611),TRANSITION_WAKE:s(45209),UPDATE:s(22966),WAKE:s(21747)}},62194:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89993),T=s(79291),c={Events:s(44594),GetPhysicsPlugins:s(27397),GetScenePlugins:s(52106),SceneManager:s(60903),ScenePlugin:s(52209),Settings:s(55681),Systems:s(2368)};c=T(!1,c,o),n.exports=c},30341:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(50792),c=s(14463),l=s(79291),u=s(29747),h=new o({Extends:T,initialize:r(function(v,d,p){T.call(this),this.manager=v,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=l(this.config,p),this.markers={},this.currentMarker=null,this.pendingRemove=!1},"BaseSound"),addMarker:r(function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(console.error("addMarker "+f.name+" already exists in Sound"),!1):(f=l(!0,{name:"",start:0,duration:this.totalDuration-(f.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},f),this.markers[f.name]=f,!0)},"addMarker"),updateMarker:r(function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(this.markers[f.name]=l(!0,this.markers[f.name],f),!0):(console.warn("Audio Marker: "+f.name+" missing in Sound: "+this.key),!1)},"updateMarker"),removeMarker:r(function(f){var v=this.markers[f];return v?(this.markers[f]=null,v):null},"removeMarker"),play:r(function(f,v){if(f===void 0&&(f=""),typeof f=="object"&&(v=f,f=""),typeof f!="string")return!1;if(!f)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[f])return console.warn("Marker: "+f+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[f],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=l(this.currentConfig,v),this.isPlaying=!0,this.isPaused=!1,!0},"play"),pause:r(function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},"pause"),resume:r(function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},"resume"),stop:r(function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},"stop"),applyConfig:r(function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},"applyConfig"),resetConfig:r(function(){this.currentConfig.seek=0,this.currentConfig.delay=0},"resetConfig"),update:u,calculateRate:r(function(){var f=1.0005777895065548,v=this.currentConfig.detune+this.manager.detune,d=Math.pow(f,v);this.totalRate=this.currentConfig.rate*this.manager.rate*d},"calculateRate"),destroy:r(function(){this.pendingRemove||(this.stop(),this.emit(c.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)},"destroy")});n.exports=h},85034:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(41786),c=s(50792),l=s(14463),u=s(8443),h=s(46710),f=s(58731),v=s(29747),d=s(26099),p=new o({Extends:c,initialize:r(function(m){c.call(this),this.game=m,this.jsonCache=m.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new d;var x=m.events;x.on(u.BLUR,this.onGameBlur,this),x.on(u.FOCUS,this.onGameFocus,this),x.on(u.PRE_STEP,this.update,this),x.once(u.DESTROY,this.destroy,this)},"BaseSoundManager"),add:v,addAudioSprite:r(function(g,m){m===void 0&&(m={});var x=this.add(g,m);x.spritemap=this.jsonCache.get(g).spritemap;for(var E in x.spritemap)if(x.spritemap.hasOwnProperty(E)){var A=T(m),R=x.spritemap[E];A.loop=R.hasOwnProperty("loop")?R.loop:!1,x.addMarker({name:E,start:R.start,duration:R.end-R.start,config:A})}return x},"addAudioSprite"),get:r(function(g){return f(this.sounds,"key",g)},"get"),getAll:r(function(g){return g?h(this.sounds,"key",g):h(this.sounds)},"getAll"),getAllPlaying:r(function(){return h(this.sounds,"isPlaying",!0)},"getAllPlaying"),play:r(function(g,m){var x=this.add(g);return x.once(l.COMPLETE,x.destroy,x),m?m.name?(x.addMarker(m),x.play(m.name)):x.play(m):x.play()},"play"),playAudioSprite:r(function(g,m,x){var E=this.addAudioSprite(g);return E.once(l.COMPLETE,E.destroy,E),E.play(m,x)},"playAudioSprite"),remove:r(function(g){var m=this.sounds.indexOf(g);return m!==-1?(g.destroy(),this.sounds.splice(m,1),!0):!1},"remove"),removeAll:r(function(){this.sounds.forEach(function(g){g.destroy()}),this.sounds.length=0},"removeAll"),removeByKey:r(function(g){for(var m=0,x=this.sounds.length-1;x>=0;x--){var E=this.sounds[x];E.key===g&&(E.destroy(),this.sounds.splice(x,1),m++)}return m},"removeByKey"),pauseAll:r(function(){this.forEachActiveSound(function(g){g.pause()}),this.emit(l.PAUSE_ALL,this)},"pauseAll"),resumeAll:r(function(){this.forEachActiveSound(function(g){g.resume()}),this.emit(l.RESUME_ALL,this)},"resumeAll"),setListenerPosition:v,stopAll:r(function(){this.forEachActiveSound(function(g){g.stop()}),this.emit(l.STOP_ALL,this)},"stopAll"),stopByKey:r(function(g){var m=0;return this.getAll(g).forEach(function(x){x.stop()&&m++}),m},"stopByKey"),isPlaying:r(function(g){var m=this.sounds,x=m.length-1,E;if(g===void 0){for(;x>=0;x--)if(E=this.sounds[x],E.isPlaying)return!0}else for(;x>=0;x--)if(E=this.sounds[x],E.key===g&&E.isPlaying)return!0;return!1},"isPlaying"),unlock:v,onBlur:v,onFocus:v,onGameBlur:r(function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},"onGameBlur"),onGameFocus:r(function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},"onGameFocus"),update:r(function(g,m){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(l.UNLOCKED,this));for(var x=this.sounds.length-1;x>=0;x--)this.sounds[x].pendingRemove&&this.sounds.splice(x,1);this.sounds.forEach(function(E){E.update(g,m)})},"update"),destroy:r(function(){this.game.events.off(u.BLUR,this.onGameBlur,this),this.game.events.off(u.FOCUS,this.onGameFocus,this),this.game.events.off(u.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},"destroy"),forEachActiveSound:r(function(g,m){var x=this;this.sounds.forEach(function(E,A){E&&!E.pendingRemove&&g.call(m||x,E,A,x.sounds)})},"forEachActiveSound"),setRate:r(function(g){return this.rate=g,this},"setRate"),rate:{get:r(function(){return this._rate},"get"),set:r(function(g){this._rate=g,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(l.GLOBAL_RATE,this,g)},"set")},setDetune:r(function(g){return this.detune=g,this},"setDetune"),detune:{get:r(function(){return this._detune},"get"),set:r(function(g){this._detune=g,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(l.GLOBAL_DETUNE,this,g)},"set")}});n.exports=p},14747:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33684),T=s(25960),c=s(57490),l={create:r(function(u){var h=u.config.audio,f=u.device.audio;return h.noAudio||!f.webAudio&&!f.audioData?new T(u):f.webAudio&&!h.disableWebAudio?new c(u):new o(u)},"create")};n.exports=l},19723:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},98882:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decodedall"},57506:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decoded"},73146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},11305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},40577:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},30333:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},20394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},21802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},1299:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="looped"},99190:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},97125:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},89259:n=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pan"},79986:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},17586:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},19618:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},42306:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},10387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},48959:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},9960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seek"},19180:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stopall"},98328:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},50401:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},52498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},14463:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:s(19723),DECODED:s(57506),DECODED_ALL:s(98882),DESTROY:s(73146),DETUNE:s(11305),GLOBAL_DETUNE:s(40577),GLOBAL_MUTE:s(30333),GLOBAL_RATE:s(20394),GLOBAL_VOLUME:s(21802),LOOP:s(99190),LOOPED:s(1299),MUTE:s(97125),PAN:s(89259),PAUSE_ALL:s(79986),PAUSE:s(17586),PLAY:s(19618),RATE:s(42306),RESUME_ALL:s(10387),RESUME:s(48959),SEEK:s(9960),STOP_ALL:s(19180),STOP:s(98328),UNLOCKED:s(50401),VOLUME:s(52498)}},64895:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30341),T=s(83419),c=s(14463),l=s(45319),u=new T({Extends:o,initialize:r(function(f,v,d){if(d===void 0&&(d={}),this.tags=f.game.cache.audio.get(v),!this.tags)throw new Error('No cached audio asset with key "'+v);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,f,v,d)},"HTML5AudioSound"),play:r(function(h,f){return this.manager.isLocked(this,"play",[h,f])||!o.prototype.play.call(this,h,f)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.PLAY,this),!0)},"play"),pause:r(function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(c.PAUSE,this),!0)},"pause"),resume:r(function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.RESUME,this),!0)},"resume"),stop:r(function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(c.STOP,this),!0)},"stop"),pickAndPlayAudioTag:r(function(){if(!this.pickAudioTag())return this.reset(),!1;var h=this.currentConfig.seek,f=this.currentConfig.delay,v=(this.currentMarker?this.currentMarker.start:0)+h;return this.previousTime=v,this.audio.currentTime=v,this.applyConfig(),f===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+f*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},"pickAndPlayAudioTag"),pickAudioTag:r(function(){if(this.audio)return!0;for(var h=0;h<this.tags.length;h++){var f=this.tags[h];if(f.dataset.used==="false")return f.dataset.used="true",this.audio=f,!0}if(!this.manager.override)return!1;var v=[];this.manager.forEachActiveSound(function(p){p.key===this.key&&p.audio&&v.push(p)},this),v.sort(function(p,g){return p.loop===g.loop?g.seek/g.duration-p.seek/p.duration:p.loop?1:-1});var d=v[0];return this.audio=d.audio,d.reset(),d.audio=null,d.startTime=0,d.previousTime=0,!0},"pickAudioTag"),playCatchPromise:r(function(){var h=this.audio.play();h&&h.catch(function(f){console.warn(f)})},"playCatchPromise"),stopAndReleaseAudioTag:r(function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},"stopAndReleaseAudioTag"),reset:r(function(){o.prototype.stop.call(this)},"reset"),onBlur:r(function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},"onBlur"),onFocus:r(function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},"onFocus"),update:r(function(h){if(this.isPlaying){if(this.startTime>0){this.startTime<h-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,h-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var f=this.currentMarker?this.currentMarker.start:0,v=f+this.duration,d=this.audio.currentTime;if(this.currentConfig.loop)d>=v-this.manager.loopEndOffset?(this.audio.currentTime=f+Math.max(0,d-v),d=this.audio.currentTime):d<f&&(this.audio.currentTime+=f,d=this.audio.currentTime),d<this.previousTime&&this.emit(c.LOOPED,this);else if(d>=v){this.reset(),this.stopAndReleaseAudioTag(),this.emit(c.COMPLETE,this);return}this.previousTime=d}},"update"),destroy:r(function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},"destroy"),updateMute:r(function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},"updateMute"),updateVolume:r(function(){this.audio&&(this.audio.volume=l(this.currentConfig.volume*this.manager.volume,0,1))},"updateVolume"),calculateRate:r(function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},"calculateRate"),mute:{get:r(function(){return this.currentConfig.mute},"get"),set:r(function(h){this.currentConfig.mute=h,!this.manager.isLocked(this,"mute",h)&&(this.updateMute(),this.emit(c.MUTE,this,h))},"set")},setMute:r(function(h){return this.mute=h,this},"setMute"),volume:{get:r(function(){return this.currentConfig.volume},"get"),set:r(function(h){this.currentConfig.volume=h,!this.manager.isLocked(this,"volume",h)&&(this.updateVolume(),this.emit(c.VOLUME,this,h))},"set")},setVolume:r(function(h){return this.volume=h,this},"setVolume"),rate:{get:r(function(){return this.currentConfig.rate},"get"),set:r(function(h){this.currentConfig.rate=h,!this.manager.isLocked(this,c.RATE,h)&&(this.calculateRate(),this.emit(c.RATE,this,h))},"set")},setRate:r(function(h){return this.rate=h,this},"setRate"),detune:{get:r(function(){return this.currentConfig.detune},"get"),set:r(function(h){this.currentConfig.detune=h,!this.manager.isLocked(this,c.DETUNE,h)&&(this.calculateRate(),this.emit(c.DETUNE,this,h))},"set")},setDetune:r(function(h){return this.detune=h,this},"setDetune"),seek:{get:r(function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},"get"),set:r(function(h){this.manager.isLocked(this,"seek",h)||this.startTime>0||(this.isPlaying||this.isPaused)&&(h=Math.min(Math.max(0,h),this.duration),this.isPlaying?(this.previousTime=h,this.audio.currentTime=h):this.isPaused&&(this.currentConfig.seek=h),this.emit(c.SEEK,this,h))},"set")},setSeek:r(function(h){return this.seek=h,this},"setSeek"),loop:{get:r(function(){return this.currentConfig.loop},"get"),set:r(function(h){this.currentConfig.loop=h,!this.manager.isLocked(this,"loop",h)&&(this.audio&&(this.audio.loop=h),this.emit(c.LOOP,this,h))},"set")},setLoop:r(function(h){return this.loop=h,this},"setLoop"),pan:{get:r(function(){return this.currentConfig.pan},"get"),set:r(function(h){this.currentConfig.pan=h,this.emit(c.PAN,this,h)},"set")},setPan:r(function(h){return this.pan=h,this},"setPan")});n.exports=u},33684:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85034),T=s(83419),c=s(14463),l=s(64895),u=new T({Extends:o,initialize:r(function(f){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,f)},"HTML5AudioSoundManager"),add:r(function(h,f){var v=new l(this,h,f);return this.sounds.push(v),v},"add"),unlock:r(function(){this.locked=!1;var h=this;if(this.game.cache.audio.entries.each(function(p,g){for(var m=0;m<g.length;m++)if(g[m].dataset.locked==="true")return h.locked=!0,!1;return!0}),!!this.locked){var f=!1,v=r(function(){f=!0},"detectMove"),d=r(function(){if(f){f=!1;return}document.body.removeEventListener("touchmove",v),document.body.removeEventListener("touchend",d);var p=[];if(h.game.cache.audio.entries.each(function(m,x){for(var E=0;E<x.length;E++){var A=x[E];A.dataset.locked==="true"&&p.push(A)}return!0}),p.length!==0){var g=p[p.length-1];g.oncanplaythrough=function(){g.oncanplaythrough=null,p.forEach(function(m){m.dataset.locked="false"}),h.unlocked=!0},p.forEach(function(m){m.load()})}},"unlock");this.once(c.UNLOCKED,function(){for(this.forEachActiveSound(function(g){g.currentMarker===null&&g.duration===0&&(g.duration=g.tags[0].duration),g.totalDuration=g.tags[0].duration});this.lockedActionsQueue.length;){var p=this.lockedActionsQueue.shift();p.sound[p.prop].apply?p.sound[p.prop].apply(p.sound,p.value||[]):p.sound[p.prop]=p.value}},this),document.body.addEventListener("touchmove",v,!1),document.body.addEventListener("touchend",d,!1)}},"unlock"),onBlur:r(function(){this.forEachActiveSound(function(h){h.isPlaying&&(this.onBlurPausedSounds.push(h),h.onBlur())})},"onBlur"),onFocus:r(function(){this.onBlurPausedSounds.forEach(function(h){h.onFocus()}),this.onBlurPausedSounds.length=0},"onFocus"),destroy:r(function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},"destroy"),isLocked:r(function(h,f,v){return h.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:h,prop:f,value:v}),!0):!1},"isLocked"),setMute:r(function(h){return this.mute=h,this},"setMute"),mute:{get:r(function(){return this._mute},"get"),set:r(function(h){this._mute=h,this.forEachActiveSound(function(f){f.updateMute()}),this.emit(c.GLOBAL_MUTE,this,h)},"set")},setVolume:r(function(h){return this.volume=h,this},"setVolume"),volume:{get:r(function(){return this._volume},"get"),set:r(function(h){this._volume=h,this.forEachActiveSound(function(f){f.updateVolume()}),this.emit(c.GLOBAL_VOLUME,this,h)},"set")}});n.exports=u},23717:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SoundManagerCreator:s(14747),Events:s(14463),BaseSound:s(30341),BaseSoundManager:s(85034),WebAudioSound:s(71741),WebAudioSoundManager:s(57490),HTML5AudioSound:s(64895),HTML5AudioSoundManager:s(33684),NoAudioSound:s(4603),NoAudioSoundManager:s(25960)}},4603:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30341),T=s(83419),c=s(50792),l=s(79291),u=s(29747),h=r(function(){return!1},"returnFalse"),f=r(function(){return null},"returnNull"),v=r(function(){return this},"returnThis"),d=new T({Extends:c,initialize:r(function(g,m,x){x===void 0&&(x={}),c.call(this),this.manager=g,this.key=m,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=l({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},x),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},"NoAudioSound"),addMarker:h,updateMarker:h,removeMarker:f,play:h,pause:h,resume:h,stop:h,setMute:v,setVolume:v,setRate:v,setDetune:v,setSeek:v,setLoop:v,setPan:v,applyConfig:f,resetConfig:f,update:u,calculateRate:f,destroy:r(function(){o.prototype.destroy.call(this)},"destroy")});n.exports=d},25960:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85034),T=s(83419),c=s(50792),l=s(4603),u=s(29747),h=new T({Extends:c,initialize:r(function(v){c.call(this),this.game=v,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},"NoAudioSoundManager"),add:r(function(f,v){var d=new l(this,f,v);return this.sounds.push(d),d},"add"),addAudioSprite:r(function(f,v){var d=this.add(f,v);return d.spritemap={},d},"addAudioSprite"),get:r(function(f){return o.prototype.get.call(this,f)},"get"),getAll:r(function(f){return o.prototype.getAll.call(this,f)},"getAll"),play:r(function(f,v){return!1},"play"),playAudioSprite:r(function(f,v,d){return!1},"playAudioSprite"),remove:r(function(f){return o.prototype.remove.call(this,f)},"remove"),removeAll:r(function(){return o.prototype.removeAll.call(this)},"removeAll"),removeByKey:r(function(f){return o.prototype.removeByKey.call(this,f)},"removeByKey"),stopByKey:r(function(f){return o.prototype.stopByKey.call(this,f)},"stopByKey"),onBlur:u,onFocus:u,onGameBlur:u,onGameFocus:u,pauseAll:u,resumeAll:u,stopAll:u,update:u,setRate:u,setDetune:u,setMute:u,setVolume:u,unlock:u,forEachActiveSound:r(function(f,v){o.prototype.forEachActiveSound.call(this,f,v)},"forEachActiveSound"),destroy:r(function(){o.prototype.destroy.call(this)},"destroy")});n.exports=h},71741:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30341),T=s(83419),c=s(14463),l=s(95540),u=new T({Extends:o,initialize:r(function(f,v,d){if(d===void 0&&(d={}),this.audioBuffer=f.game.cache.audio.get(v),!this.audioBuffer)throw new Error('Audio key "'+v+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=f.context.createGain(),this.volumeNode=f.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),f.context.createPanner&&(this.spatialNode=f.context.createPanner(),this.volumeNode.connect(this.spatialNode)),f.context.createStereoPanner?(this.pannerNode=f.context.createStereoPanner(),f.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(f.destination)):f.context.createPanner?this.spatialNode.connect(f.destination):this.volumeNode.connect(f.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,f,v,d)},"WebAudioSound"),play:r(function(h,f){return o.prototype.play.call(this,h,f)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(c.PLAY,this),!0):!1},"play"),pause:r(function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(c.PAUSE,this),!0)},"pause"),resume:r(function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(c.RESUME,this),!0)},"resume"),stop:r(function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(c.STOP,this),!0):!1},"stop"),createAndStartBufferSource:r(function(){var h=this.currentConfig.seek,f=this.currentConfig.delay,v=this.manager.context.currentTime+f,d=(this.currentMarker?this.currentMarker.start:0)+h,p=this.duration-h;this.playTime=v-h,this.startTime=v,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,v),Math.max(0,d),Math.max(0,p)),this.resetConfig()},"createAndStartBufferSource"),createAndStartLoopBufferSource:r(function(){var h=this.getLoopTime(),f=this.currentMarker?this.currentMarker.start:0,v=this.duration;this.loopTime=h,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,h),Math.max(0,f),Math.max(0,v))},"createAndStartLoopBufferSource"),createBufferSource:r(function(){var h=this,f=this.manager.context.createBufferSource();return f.buffer=this.audioBuffer,f.connect(this.muteNode),f.onended=function(v){var d=v.target;(d===h.source||d===h.loopSource)&&(h.currentConfig.loop?h.hasLooped=!0:h.hasEnded=!0)},f},"createBufferSource"),stopAndRemoveBufferSource:r(function(){if(this.source){var h=this.source;this.source=null,h.stop(),h.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},"stopAndRemoveBufferSource"),stopAndRemoveLoopBufferSource:r(function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},"stopAndRemoveLoopBufferSource"),applyConfig:r(function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var h=this.currentConfig.source;if(h&&this.manager.context.createPanner){var f=this.spatialNode;f.panningModel=l(h,"panningModel","equalpower"),f.distanceModel=l(h,"distanceModel","inverse"),f.orientationX.value=l(h,"orientationX",0),f.orientationY.value=l(h,"orientationY",0),f.orientationZ.value=l(h,"orientationZ",-1),f.refDistance=l(h,"refDistance",1),f.maxDistance=l(h,"maxDistance",1e4),f.rolloffFactor=l(h,"rolloffFactor",1),f.coneInnerAngle=l(h,"coneInnerAngle",360),f.coneOuterAngle=l(h,"coneOuterAngle",0),f.coneOuterGain=l(h,"coneOuterGain",0),this.spatialSource=l(h,"follow",null),this.spatialSource||(f.positionX.value=l(h,"x",0),f.positionY.value=l(h,"y",0),f.positionZ.value=l(h,"z",0))}o.prototype.applyConfig.call(this)},"applyConfig"),x:{get:r(function(){return this.spatialNode?this.spatialNode.positionX:0},"get"),set:r(function(h){this.spatialNode&&(this.spatialNode.positionX.value=h)},"set")},y:{get:r(function(){return this.spatialNode?this.spatialNode.positionY:0},"get"),set:r(function(h){this.spatialNode&&(this.spatialNode.positionY.value=h)},"set")},update:r(function(){if(this.isPlaying&&this.spatialSource){var h=l(this.spatialSource,"x",null),f=l(this.spatialSource,"y",null);h&&h!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=h),f&&f!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=f)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(c.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(c.LOOPED,this))},"update"),destroy:r(function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},"destroy"),calculateRate:r(function(){o.prototype.calculateRate.call(this);var h=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,h),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,h)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},"calculateRate"),getCurrentTime:r(function(){for(var h=0,f=0;f<this.rateUpdates.length;f++){var v=0;f<this.rateUpdates.length-1?v=this.rateUpdates[f+1].time:v=this.manager.context.currentTime-this.playTime,h+=(v-this.rateUpdates[f].time)*this.rateUpdates[f].rate}return h},"getCurrentTime"),getLoopTime:r(function(){for(var h=0,f=0;f<this.rateUpdates.length-1;f++)h+=(this.rateUpdates[f+1].time-this.rateUpdates[f].time)*this.rateUpdates[f].rate;var v=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+v.time+(this.duration-h)/v.rate},"getLoopTime"),rate:{get:r(function(){return this.currentConfig.rate},"get"),set:r(function(h){this.currentConfig.rate=h,this.calculateRate(),this.emit(c.RATE,this,h)},"set")},setRate:r(function(h){return this.rate=h,this},"setRate"),detune:{get:r(function(){return this.currentConfig.detune},"get"),set:r(function(h){this.currentConfig.detune=h,this.calculateRate(),this.emit(c.DETUNE,this,h)},"set")},setDetune:r(function(h){return this.detune=h,this},"setDetune"),mute:{get:r(function(){return this.muteNode.gain.value===0},"get"),set:r(function(h){this.currentConfig.mute=h,this.muteNode.gain.setValueAtTime(h?0:1,0),this.emit(c.MUTE,this,h)},"set")},setMute:r(function(h){return this.mute=h,this},"setMute"),volume:{get:r(function(){return this.volumeNode.gain.value},"get"),set:r(function(h){this.currentConfig.volume=h,this.volumeNode.gain.setValueAtTime(h,0),this.emit(c.VOLUME,this,h)},"set")},setVolume:r(function(h){return this.volume=h,this},"setVolume"),seek:{get:r(function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},"get"),set:r(function(h){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(h=Math.min(Math.max(0,h),this.duration),this.currentConfig.seek=h,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(c.SEEK,this,h))},"set")},setSeek:r(function(h){return this.seek=h,this},"setSeek"),loop:{get:r(function(){return this.currentConfig.loop},"get"),set:r(function(h){this.currentConfig.loop=h,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),h&&this.createAndStartLoopBufferSource()),this.emit(c.LOOP,this,h)},"set")},setLoop:r(function(h){return this.loop=h,this},"setLoop"),pan:{get:r(function(){return this.pannerNode?this.pannerNode.pan.value:0},"get"),set:r(function(h){this.currentConfig.pan=h,this.pannerNode&&this.pannerNode.pan.setValueAtTime(h,this.manager.context.currentTime),this.emit(c.PAN,this,h)},"set")},setPan:r(function(h){return this.pan=h,this},"setPan")});n.exports=u},57490:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(53134),T=s(85034),c=s(83419),l=s(14463),u=s(8443),h=s(71741),f=s(95540),v=new c({Extends:T,initialize:r(function(p){this.context=this.createAudioContext(p),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",T.call(this,p),this.locked&&(p.isBooted?this.unlock():p.events.once(u.BOOT,this.unlock,this)),p.events.on(u.VISIBLE,this.onGameVisible,this)},"WebAudioSoundManager"),onGameVisible:r(function(){var d=this.context;window.setTimeout(function(){d&&(d.suspend(),d.resume())},100)},"onGameVisible"),createAudioContext:r(function(d){var p=d.config.audio;if(p.context)return p.context.resume(),p.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},"createAudioContext"),setAudioContext:r(function(d){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=d,this.masterMuteNode=d.createGain(),this.masterVolumeNode=d.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(d.destination),this.destination=this.masterMuteNode,this},"setAudioContext"),add:r(function(d,p){var g=new h(this,d,p);return this.sounds.push(g),g},"add"),decodeAudio:r(function(d,p){var g;Array.isArray(d)?g=d:g=[{key:d,data:p}];for(var m=this.game.cache.audio,x=g.length,E=0;E<g.length;E++){var A=g[E],R=A.key,P=A.data;typeof P=="string"&&(P=o(P));var O=(function(w,M){m.add(w,M),this.emit(l.DECODED,w),x--,x===0&&this.emit(l.DECODED_ALL)}).bind(this,R),L=(function(w,M){console.error("Error decoding audio: "+w+" - ",M?M.message:""),x--,x===0&&this.emit(l.DECODED_ALL)}).bind(this,R);this.context.decodeAudioData(P,O,L)}},"decodeAudio"),setListenerPosition:r(function(d,p){return d===void 0&&(d=this.game.scale.width/2),p===void 0&&(p=this.game.scale.height/2),this.listenerPosition.set(d,p),this},"setListenerPosition"),unlock:r(function(){var d=this,p=document.body,g=r(function m(){if(d.context&&p){var x=p.removeEventListener.bind(p);d.context.resume().then(function(){x("touchstart",m),x("touchend",m),x("mousedown",m),x("mouseup",m),x("keydown",m),d.unlocked=!0},function(){x("touchstart",m),x("touchend",m),x("mousedown",m),x("mouseup",m),x("keydown",m)})}},"unlockHandler");p&&(p.addEventListener("touchstart",g,!1),p.addEventListener("touchend",g,!1),p.addEventListener("mousedown",g,!1),p.addEventListener("mouseup",g,!1),p.addEventListener("keydown",g,!1))},"unlock"),onBlur:r(function(){this.locked||this.context.suspend()},"onBlur"),onFocus:r(function(){var d=this.context;d&&!this.locked&&(d.state==="suspended"||d.state==="interrupted")&&d.resume()},"onFocus"),update:r(function(d,p){var g=this.context.listener,m=f(this.listenerPosition,"x",null),x=f(this.listenerPosition,"y",null);if(g&&g.positionX!==void 0)m&&m!==this._spatialx&&(this._spatialx=g.positionX.value=m),x&&x!==this._spatialy&&(this._spatialy=g.positionY.value=x);else if(g){m&&m!==this._spatialx&&(this._spatialx=m),x&&x!==this._spatialy&&(this._spatialy=x);var E=f(g,"z",0);g.setPosition(this._spatialx||0,this._spatialy||0,E)}T.prototype.update.call(this,d,p),this.gameLostFocus||this.onFocus()},"update"),destroy:r(function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var d=this;this.context.close().then(function(){d.context=null})}this.game.events.off(u.VISIBLE,this.onGameVisible,this),T.prototype.destroy.call(this)},"destroy"),setMute:r(function(d){return this.mute=d,this},"setMute"),mute:{get:r(function(){return this.masterMuteNode.gain.value===0},"get"),set:r(function(d){this.masterMuteNode.gain.setValueAtTime(d?0:1,0),this.emit(l.GLOBAL_MUTE,this,d)},"set")},setVolume:r(function(d){return this.volume=d,this},"setVolume"),volume:{get:r(function(){return this.masterVolumeNode.gain.value},"get"),set:r(function(d){this.masterVolumeNode.gain.setValueAtTime(d,0),this.emit(l.GLOBAL_VOLUME,this,d)},"set")}});n.exports=v},73162:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37105),T=s(83419),c=s(29747),l=s(19186),u=new T({initialize:r(function(f){this.parent=f,this.list=[],this.position=0,this.addCallback=c,this.removeCallback=c,this._sortKey=""},"List"),add:r(function(h,f){return f?o.Add(this.list,h):o.Add(this.list,h,0,this.addCallback,this)},"add"),addAt:r(function(h,f,v){return v?o.AddAt(this.list,h,f):o.AddAt(this.list,h,f,0,this.addCallback,this)},"addAt"),getAt:r(function(h){return this.list[h]},"getAt"),getIndex:r(function(h){return this.list.indexOf(h)},"getIndex"),sort:r(function(h,f){return h?(f===void 0&&(f=r(function(v,d){return v[h]-d[h]},"handler")),l(this.list,f),this):this},"sort"),getByName:r(function(h){return o.GetFirst(this.list,"name",h)},"getByName"),getRandom:r(function(h,f){return o.GetRandom(this.list,h,f)},"getRandom"),getFirst:r(function(h,f,v,d){return o.GetFirst(this.list,h,f,v,d)},"getFirst"),getAll:r(function(h,f,v,d){return o.GetAll(this.list,h,f,v,d)},"getAll"),count:r(function(h,f){return o.CountAllMatching(this.list,h,f)},"count"),swap:r(function(h,f){o.Swap(this.list,h,f)},"swap"),moveTo:r(function(h,f){return o.MoveTo(this.list,h,f)},"moveTo"),moveAbove:r(function(h,f){return o.MoveAbove(this.list,h,f)},"moveAbove"),moveBelow:r(function(h,f){return o.MoveBelow(this.list,h,f)},"moveBelow"),remove:r(function(h,f){return f?o.Remove(this.list,h):o.Remove(this.list,h,this.removeCallback,this)},"remove"),removeAt:r(function(h,f){return f?o.RemoveAt(this.list,h):o.RemoveAt(this.list,h,this.removeCallback,this)},"removeAt"),removeBetween:r(function(h,f,v){return v?o.RemoveBetween(this.list,h,f):o.RemoveBetween(this.list,h,f,this.removeCallback,this)},"removeBetween"),removeAll:r(function(h){for(var f=this.list.length;f--;)this.remove(this.list[f],h);return this},"removeAll"),bringToTop:r(function(h){return o.BringToTop(this.list,h)},"bringToTop"),sendToBack:r(function(h){return o.SendToBack(this.list,h)},"sendToBack"),moveUp:r(function(h){return o.MoveUp(this.list,h),h},"moveUp"),moveDown:r(function(h){return o.MoveDown(this.list,h),h},"moveDown"),reverse:r(function(){return this.list.reverse(),this},"reverse"),shuffle:r(function(){return o.Shuffle(this.list),this},"shuffle"),replace:r(function(h,f){return o.Replace(this.list,h,f)},"replace"),exists:r(function(h){return this.list.indexOf(h)>-1},"exists"),setAll:r(function(h,f,v,d){return o.SetAll(this.list,h,f,v,d),this},"setAll"),each:r(function(h,f){for(var v=[null],d=2;d<arguments.length;d++)v.push(arguments[d]);for(d=0;d<this.list.length;d++)v[0]=this.list[d],h.apply(f,v)},"each"),shutdown:r(function(){this.removeAll(),this.list=[]},"shutdown"),destroy:r(function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},"destroy"),length:{get:r(function(){return this.list.length},"get")},first:{get:r(function(){return this.position=0,this.list.length>0?this.list[0]:null},"get")},last:{get:r(function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null},"get")},next:{get:r(function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null},"get")},previous:{get:r(function(){return this.position>0?(this.position--,this.list[this.position]):null},"get")}});n.exports=u},90330:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l){this.entries={},this.size=0,this.setAll(l)},"Map"),setAll:r(function(c){if(Array.isArray(c))for(var l=0;l<c.length;l++)this.set(c[l][0],c[l][1]);return this},"setAll"),set:r(function(c,l){return this.has(c)||this.size++,this.entries[c]=l,this},"set"),get:r(function(c){if(this.has(c))return this.entries[c]},"get"),getArray:r(function(){var c=[],l=this.entries;for(var u in l)c.push(l[u]);return c},"getArray"),has:r(function(c){return this.entries.hasOwnProperty(c)},"has"),delete:r(function(c){return this.has(c)&&(delete this.entries[c],this.size--),this},"delete"),clear:r(function(){return Object.keys(this.entries).forEach(function(c){delete this.entries[c]},this),this.size=0,this},"clear"),keys:r(function(){return Object.keys(this.entries)},"keys"),values:r(function(){var c=[],l=this.entries;for(var u in l)c.push(l[u]);return c},"values"),dump:r(function(){var c=this.entries;console.group("Map");for(var l in c)c[l];console.groupEnd()},"dump"),each:r(function(c){var l=this.entries;for(var u in l)if(c(u,l[u])===!1)break;return this},"each"),contains:r(function(c){var l=this.entries;for(var u in l)if(l[u]===c)return!0;return!1},"contains"),merge:r(function(c,l){l===void 0&&(l=!1);var u=this.entries,h=c.entries;for(var f in h)u.hasOwnProperty(f)&&l?u[f]=h[f]:this.set(f,h[f]);return this},"merge")});n.exports=T},25774:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(50792),c=s(82348),l=new o({Extends:T,initialize:r(function(){T.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},"ProcessQueue"),isActive:r(function(u){return this._active.indexOf(u)>-1},"isActive"),isPending:r(function(u){return this._toProcess>0&&this._pending.indexOf(u)>-1},"isPending"),isDestroying:r(function(u){return this._destroy.indexOf(u)>-1},"isDestroying"),add:r(function(u){return this.checkQueue&&this.isActive(u)&&!this.isDestroying(u)||this.isPending(u)||(this._pending.push(u),this._toProcess++),u},"add"),remove:r(function(u){if(this.isPending(u)){var h=this._pending,f=h.indexOf(u);f!==-1&&h.splice(f,1)}else this.isActive(u)&&(this._destroy.push(u),this._toProcess++);return u},"remove"),removeAll:r(function(){for(var u=this._active,h=this._destroy,f=u.length;f--;)h.push(u[f]),this._toProcess++;return this},"removeAll"),update:r(function(){if(this._toProcess===0)return this._active;var u=this._destroy,h=this._active,f,v;for(f=0;f<u.length;f++){v=u[f];var d=h.indexOf(v);d!==-1&&(h.splice(d,1),this.emit(c.PROCESS_QUEUE_REMOVE,v))}for(u.length=0,u=this._pending,f=0;f<u.length;f++)v=u[f],(!this.checkQueue||this.checkQueue&&h.indexOf(v)===-1)&&(h.push(v),this.emit(c.PROCESS_QUEUE_ADD,v));return u.length=0,this._toProcess=0,h},"update"),getActive:r(function(){return this._active},"getActive"),length:{get:r(function(){return this._active.length},"get")},destroy:r(function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]},"destroy")});n.exports=l},59542:(n,C,s)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43886);function T(P){if(!(this instanceof T))return new T(P);this._maxEntries=Math.max(4,P||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}r(T,"rbush"),T.prototype={all:r(function(){return this._all(this.data,[])},"all"),search:r(function(P){var O=this.data,L=[],w=this.toBBox;if(!E(P,O))return L;for(var M=[],b,D,F,N;O;){for(b=0,D=O.children.length;b<D;b++)F=O.children[b],N=O.leaf?w(F):F,E(P,N)&&(O.leaf?L.push(F):x(P,N)?this._all(F,L):M.push(F));O=M.pop()}return L},"search"),collides:r(function(P){var O=this.data,L=this.toBBox;if(!E(P,O))return!1;for(var w=[],M,b,D,F;O;){for(M=0,b=O.children.length;M<b;M++)if(D=O.children[M],F=O.leaf?L(D):D,E(P,F)){if(O.leaf||x(P,F))return!0;w.push(D)}O=w.pop()}return!1},"collides"),load:r(function(P){if(!(P&&P.length))return this;if(P.length<this._minEntries){for(var O=0,L=P.length;O<L;O++)this.insert(P[O]);return this}var w=this._build(P.slice(),0,P.length-1,0);if(!this.data.children.length)this.data=w;else if(this.data.height===w.height)this._splitRoot(this.data,w);else{if(this.data.height<w.height){var M=this.data;this.data=w,w=M}this._insert(w,this.data.height-w.height-1,!0)}return this},"load"),insert:r(function(P){return P&&this._insert(P,this.data.height-1),this},"insert"),clear:r(function(){return this.data=A([]),this},"clear"),remove:r(function(P,O){if(!P)return this;for(var L=this.data,w=this.toBBox(P),M=[],b=[],D,F,N,B;L||M.length;){if(L||(L=M.pop(),F=M[M.length-1],D=b.pop(),B=!0),L.leaf&&(N=c(P,L.children,O),N!==-1))return L.children.splice(N,1),M.push(L),this._condense(M),this;!B&&!L.leaf&&x(L,w)?(M.push(L),b.push(D),D=0,F=L,L=L.children[0]):F?(D++,L=F.children[D],B=!1):L=null}return this},"remove"),toBBox:r(function(P){return P},"toBBox"),compareMinX:f,compareMinY:v,toJSON:r(function(){return this.data},"toJSON"),fromJSON:r(function(P){return this.data=P,this},"fromJSON"),_all:r(function(P,O){for(var L=[];P;)P.leaf?O.push.apply(O,P.children):L.push.apply(L,P.children),P=L.pop();return O},"_all"),_build:r(function(P,O,L,w){var M=L-O+1,b=this._maxEntries,D;if(M<=b)return D=A(P.slice(O,L+1)),l(D,this.toBBox),D;w||(w=Math.ceil(Math.log(M)/Math.log(b)),b=Math.ceil(M/Math.pow(b,w-1))),D=A([]),D.leaf=!1,D.height=w;var F=Math.ceil(M/b),N=F*Math.ceil(Math.sqrt(b)),B,Y,W,z;for(R(P,O,L,N,this.compareMinX),B=O;B<=L;B+=N)for(W=Math.min(B+N-1,L),R(P,B,W,F,this.compareMinY),Y=B;Y<=W;Y+=F)z=Math.min(Y+F-1,W),D.children.push(this._build(P,Y,z,w-1));return l(D,this.toBBox),D},"_build"),_chooseSubtree:r(function(P,O,L,w){for(var M,b,D,F,N,B,Y,W;w.push(O),!(O.leaf||w.length-1===L);){for(Y=W=1/0,M=0,b=O.children.length;M<b;M++)D=O.children[M],N=d(D),B=g(P,D)-N,B<W?(W=B,Y=N<Y?N:Y,F=D):B===W&&N<Y&&(Y=N,F=D);O=F||O.children[0]}return O},"_chooseSubtree"),_insert:r(function(P,O,L){var w=this.toBBox,M=L?P:w(P),b=[],D=this._chooseSubtree(M,this.data,O,b);for(D.children.push(P),h(D,M);O>=0&&b[O].children.length>this._maxEntries;)this._split(b,O),O--;this._adjustParentBBoxes(M,b,O)},"_insert"),_split:r(function(P,O){var L=P[O],w=L.children.length,M=this._minEntries;this._chooseSplitAxis(L,M,w);var b=this._chooseSplitIndex(L,M,w),D=A(L.children.splice(b,L.children.length-b));D.height=L.height,D.leaf=L.leaf,l(L,this.toBBox),l(D,this.toBBox),O?P[O-1].children.push(D):this._splitRoot(L,D)},"_split"),_splitRoot:r(function(P,O){this.data=A([P,O]),this.data.height=P.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},"_splitRoot"),_chooseSplitIndex:r(function(P,O,L){var w,M,b,D,F,N,B,Y;for(N=B=1/0,w=O;w<=L-O;w++)M=u(P,0,w,this.toBBox),b=u(P,w,L,this.toBBox),D=m(M,b),F=d(M)+d(b),D<N?(N=D,Y=w,B=F<B?F:B):D===N&&F<B&&(B=F,Y=w);return Y},"_chooseSplitIndex"),_chooseSplitAxis:r(function(P,O,L){var w=P.leaf?this.compareMinX:f,M=P.leaf?this.compareMinY:v,b=this._allDistMargin(P,O,L,w),D=this._allDistMargin(P,O,L,M);b<D&&P.children.sort(w)},"_chooseSplitAxis"),_allDistMargin:r(function(P,O,L,w){P.children.sort(w);var M=this.toBBox,b=u(P,0,O,M),D=u(P,L-O,L,M),F=p(b)+p(D),N,B;for(N=O;N<L-O;N++)B=P.children[N],h(b,P.leaf?M(B):B),F+=p(b);for(N=L-O-1;N>=O;N--)B=P.children[N],h(D,P.leaf?M(B):B),F+=p(D);return F},"_allDistMargin"),_adjustParentBBoxes:r(function(P,O,L){for(var w=L;w>=0;w--)h(O[w],P)},"_adjustParentBBoxes"),_condense:r(function(P){for(var O=P.length-1,L;O>=0;O--)P[O].children.length===0?O>0?(L=P[O-1].children,L.splice(L.indexOf(P[O]),1)):this.clear():l(P[O],this.toBBox)},"_condense"),compareMinX:r(function(P,O){return P.left-O.left},"compareMinX"),compareMinY:r(function(P,O){return P.top-O.top},"compareMinY"),toBBox:r(function(P){return{minX:P.left,minY:P.top,maxX:P.right,maxY:P.bottom}},"toBBox")};function c(P,O,L){if(!L)return O.indexOf(P);for(var w=0;w<O.length;w++)if(L(P,O[w]))return w;return-1}r(c,"findItem");function l(P,O){u(P,0,P.children.length,O,P)}r(l,"calcBBox");function u(P,O,L,w,M){M||(M=A(null)),M.minX=1/0,M.minY=1/0,M.maxX=-1/0,M.maxY=-1/0;for(var b=O,D;b<L;b++)D=P.children[b],h(M,P.leaf?w(D):D);return M}r(u,"distBBox");function h(P,O){return P.minX=Math.min(P.minX,O.minX),P.minY=Math.min(P.minY,O.minY),P.maxX=Math.max(P.maxX,O.maxX),P.maxY=Math.max(P.maxY,O.maxY),P}r(h,"extend");function f(P,O){return P.minX-O.minX}r(f,"compareNodeMinX");function v(P,O){return P.minY-O.minY}r(v,"compareNodeMinY");function d(P){return(P.maxX-P.minX)*(P.maxY-P.minY)}r(d,"bboxArea");function p(P){return P.maxX-P.minX+(P.maxY-P.minY)}r(p,"bboxMargin");function g(P,O){return(Math.max(O.maxX,P.maxX)-Math.min(O.minX,P.minX))*(Math.max(O.maxY,P.maxY)-Math.min(O.minY,P.minY))}r(g,"enlargedArea");function m(P,O){var L=Math.max(P.minX,O.minX),w=Math.max(P.minY,O.minY),M=Math.min(P.maxX,O.maxX),b=Math.min(P.maxY,O.maxY);return Math.max(0,M-L)*Math.max(0,b-w)}r(m,"intersectionArea");function x(P,O){return P.minX<=O.minX&&P.minY<=O.minY&&O.maxX<=P.maxX&&O.maxY<=P.maxY}r(x,"contains");function E(P,O){return O.minX<=P.maxX&&O.minY<=P.maxY&&O.maxX>=P.minX&&O.maxY>=P.minY}r(E,"intersects");function A(P){return{children:P,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}r(A,"createNode");function R(P,O,L,w,M){for(var b=[O,L],D;b.length;)L=b.pop(),O=b.pop(),!(L-O<=w)&&(D=O+Math.ceil((L-O)/w/2)*w,o(P,D,O,L,M),b.push(O,D,D,L))}r(R,"multiSelect"),n.exports=T},35072:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l){if(this.entries=[],Array.isArray(l))for(var u=0;u<l.length;u++)this.set(l[u])},"Set"),set:r(function(c){return this.entries.indexOf(c)===-1&&this.entries.push(c),this},"set"),get:r(function(c,l){for(var u=0;u<this.entries.length;u++){var h=this.entries[u];if(h[c]===l)return h}},"get"),getArray:r(function(){return this.entries.slice(0)},"getArray"),delete:r(function(c){var l=this.entries.indexOf(c);return l>-1&&this.entries.splice(l,1),this},"delete"),dump:r(function(){console.group("Set");for(var c=0;c<this.entries.length;c++)var l=this.entries[c];console.groupEnd()},"dump"),each:r(function(c,l){var u,h=this.entries.slice(),f=h.length;if(l)for(u=0;u<f&&c.call(l,h[u],u)!==!1;u++);else for(u=0;u<f&&c(h[u],u)!==!1;u++);return this},"each"),iterate:r(function(c,l){var u,h=this.entries.length;if(l)for(u=0;u<h&&c.call(l,this.entries[u],u)!==!1;u++);else for(u=0;u<h&&c(this.entries[u],u)!==!1;u++);return this},"iterate"),iterateLocal:r(function(c){var l,u=[];for(l=1;l<arguments.length;l++)u.push(arguments[l]);var h=this.entries.length;for(l=0;l<h;l++){var f=this.entries[l];f[c].apply(f,u)}return this},"iterateLocal"),clear:r(function(){return this.entries.length=0,this},"clear"),contains:r(function(c){return this.entries.indexOf(c)>-1},"contains"),union:r(function(c){var l=new T;return c.entries.forEach(function(u){l.set(u)}),this.entries.forEach(function(u){l.set(u)}),l},"union"),intersect:r(function(c){var l=new T;return this.entries.forEach(function(u){c.contains(u)&&l.set(u)}),l},"intersect"),difference:r(function(c){var l=new T;return this.entries.forEach(function(u){c.contains(u)||l.set(u)}),l},"difference"),size:{get:r(function(){return this.entries.length},"get"),set:r(function(c){return c<this.entries.length?this.entries.length=c:this.entries.length},"set")}});n.exports=T},86555:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),T=s(83419),c=s(56583),l=s(26099),u=new T({initialize:r(function(f,v,d,p){f===void 0&&(f=0),v===void 0&&(v=f),d===void 0&&(d=0),p===void 0&&(p=null),this._width=f,this._height=v,this._parent=p,this.aspectMode=d,this.aspectRatio=v===0?1:f/v,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new l},"Size"),setAspectMode:r(function(h){return h===void 0&&(h=0),this.aspectMode=h,this.setSize(this._width,this._height)},"setAspectMode"),setSnap:r(function(h,f){return h===void 0&&(h=0),f===void 0&&(f=h),this.snapTo.set(h,f),this.setSize(this._width,this._height)},"setSnap"),setParent:r(function(h){return this._parent=h,this.setSize(this._width,this._height)},"setParent"),setMin:r(function(h,f){return h===void 0&&(h=0),f===void 0&&(f=h),this.minWidth=o(h,0,this.maxWidth),this.minHeight=o(f,0,this.maxHeight),this.setSize(this._width,this._height)},"setMin"),setMax:r(function(h,f){return h===void 0&&(h=Number.MAX_VALUE),f===void 0&&(f=h),this.maxWidth=o(h,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(f,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},"setMax"),setSize:r(function(h,f){switch(h===void 0&&(h=0),f===void 0&&(f=h),this.aspectMode){case u.NONE:this._width=this.getNewWidth(c(h,this.snapTo.x)),this._height=this.getNewHeight(c(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case u.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(c(h,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case u.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(c(f,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case u.FIT:this.constrain(h,f,!0);break;case u.ENVELOP:this.constrain(h,f,!1);break}return this},"setSize"),setAspectRatio:r(function(h){return this.aspectRatio=h,this.setSize(this._width,this._height)},"setAspectRatio"),resize:r(function(h,f){return this._width=this.getNewWidth(c(h,this.snapTo.x)),this._height=this.getNewHeight(c(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},"resize"),getNewWidth:r(function(h,f){return f===void 0&&(f=!0),h=o(h,this.minWidth,this.maxWidth),f&&this._parent&&h>this._parent.width&&(h=Math.max(this.minWidth,this._parent.width)),h},"getNewWidth"),getNewHeight:r(function(h,f){return f===void 0&&(f=!0),h=o(h,this.minHeight,this.maxHeight),f&&this._parent&&h>this._parent.height&&(h=Math.max(this.minHeight,this._parent.height)),h},"getNewHeight"),constrain:r(function(h,f,v){h===void 0&&(h=0),f===void 0&&(f=h),v===void 0&&(v=!0),h=this.getNewWidth(h),f=this.getNewHeight(f);var d=this.snapTo,p=f===0?1:h/f;return v&&this.aspectRatio>p||!v&&this.aspectRatio<p?(h=c(h,d.x),f=h/this.aspectRatio,d.y>0&&(f=c(f,d.y),h=f*this.aspectRatio)):(v&&this.aspectRatio<p||!v&&this.aspectRatio>p)&&(f=c(f,d.y),h=f*this.aspectRatio,d.x>0&&(h=c(h,d.x),f=h*(1/this.aspectRatio))),this._width=h,this._height=f,this},"constrain"),fitTo:r(function(h,f){return this.constrain(h,f,!0)},"fitTo"),envelop:r(function(h,f){return this.constrain(h,f,!1)},"envelop"),setWidth:r(function(h){return this.setSize(h,this._height)},"setWidth"),setHeight:r(function(h){return this.setSize(this._width,h)},"setHeight"),toString:r(function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},"toString"),setCSS:r(function(h){h&&h.style&&(h.style.width=this._width+"px",h.style.height=this._height+"px")},"setCSS"),copy:r(function(h){return h.setAspectMode(this.aspectMode),h.aspectRatio=this.aspectRatio,h.setSize(this.width,this.height)},"copy"),destroy:r(function(){this._parent=null,this.snapTo=null},"destroy"),width:{get:r(function(){return this._width},"get"),set:r(function(h){this.setSize(h,this._height)},"set")},height:{get:r(function(){return this._height},"get"),set:r(function(h){this.setSize(this._width,h)},"set")}});u.NONE=0,u.WIDTH_CONTROLS_HEIGHT=1,u.HEIGHT_CONTROLS_WIDTH=2,u.FIT=3,u.ENVELOP=4,n.exports=u},15238:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},56187:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},82348:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={PROCESS_QUEUE_ADD:s(15238),PROCESS_QUEUE_REMOVE:s(56187)}},41392:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:s(82348),List:s(73162),Map:s(90330),ProcessQueue:s(25774),RTree:s(59542),Set:s(35072),Size:s(86555)}},57382:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(45319),c=s(40987),l=s(8054),u=s(50030),h=s(79237),f=new o({Extends:h,initialize:r(function(d,p,g,m,x){h.call(this,d,p,g,m,x),this.add("__BASE",0,0,0,m,x),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=m,this.height=x,this.imageData=this.context.getImageData(0,0,m,x),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},"CanvasTexture"),update:r(function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===l.WEBGL&&this.refresh(),this},"update"),draw:r(function(v,d,p,g){return g===void 0&&(g=!0),this.context.drawImage(p,v,d),g&&this.update(),this},"draw"),drawFrame:r(function(v,d,p,g,m){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=!0);var x=this.manager.getFrame(v,d);if(x){var E=x.canvasData,A=x.cutWidth,R=x.cutHeight,P=x.source.resolution;this.context.drawImage(x.source.image,E.x,E.y,A,R,p,g,A/P,R/P),m&&this.update()}return this},"drawFrame"),setPixel:r(function(v,d,p,g,m,x){x===void 0&&(x=255),v=Math.abs(Math.floor(v)),d=Math.abs(Math.floor(d));var E=this.getIndex(v,d);if(E>-1){var A=this.context.getImageData(v,d,1,1);A.data[0]=p,A.data[1]=g,A.data[2]=m,A.data[3]=x,this.context.putImageData(A,v,d)}return this},"setPixel"),putData:r(function(v,d,p,g,m,x,E){return g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=v.width),E===void 0&&(E=v.height),this.context.putImageData(v,d,p,g,m,x,E),this},"putData"),getData:r(function(v,d,p,g){v=T(Math.floor(v),0,this.width-1),d=T(Math.floor(d),0,this.height-1),p=T(p,1,this.width-v),g=T(g,1,this.height-d);var m=this.context.getImageData(v,d,p,g);return m},"getData"),getPixel:r(function(v,d,p){p||(p=new c);var g=this.getIndex(v,d);if(g>-1){var m=this.data,x=m[g+0],E=m[g+1],A=m[g+2],R=m[g+3];p.setTo(x,E,A,R)}return p},"getPixel"),getPixels:r(function(v,d,p,g){v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=this.width),g===void 0&&(g=p),v=Math.abs(Math.round(v)),d=Math.abs(Math.round(d));for(var m=T(v,0,this.width),x=T(v+p,0,this.width),E=T(d,0,this.height),A=T(d+g,0,this.height),R=new c,P=[],O=E;O<A;O++){for(var L=[],w=m;w<x;w++)R=this.getPixel(w,O,R),L.push({x:w,y:O,color:R.color,alpha:R.alphaGL});P.push(L)}return P},"getPixels"),getIndex:r(function(v,d){return v=Math.abs(Math.round(v)),d=Math.abs(Math.round(d)),v<this.width&&d<this.height?(v+d*this.width)*4:-1},"getIndex"),refresh:r(function(){return this._source.update(),this},"refresh"),getCanvas:r(function(){return this.canvas},"getCanvas"),getContext:r(function(){return this.context},"getContext"),clear:r(function(v,d,p,g,m){return v===void 0&&(v=0),d===void 0&&(d=0),p===void 0&&(p=this.width),g===void 0&&(g=this.height),m===void 0&&(m=!0),this.context.clearRect(v,d,p,g),m&&this.update(),this},"clear"),setSize:r(function(v,d){return d===void 0&&(d=v),(v!==this.width||d!==this.height)&&(this.canvas.width=v,this.canvas.height=d,this._source.width=v,this._source.height=d,this._source.isPowerOf2=u(v,d),this.frames.__BASE.setSize(v,d,0,0),this.width=v,this.height=d,this.refresh()),this},"setSize"),destroy:r(function(){h.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null},"destroy")});n.exports=f},81320:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),T=s(38058),c=s(27919),l=s(83419),u=s(8054),h=s(4327),f=s(95540),v=s(36060),d=s(32302),p=s(79237),g=s(70554),m=new l({Extends:p,initialize:r(function(E,A,R,P,O){R===void 0&&(R=256),P===void 0&&(P=256),O===void 0&&(O=!0),this.type="DynamicTexture";var L=E.game.renderer,w=L&&L.type===u.CANVAS,M=w?c.create2D(this,R,P):[this];p.call(this,E,A,M,R,P),this.add("__BASE",0,0,0,R,P),this.renderer=L,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=w?M:null,this.context=w?M.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new T(0,0,R,P).setScene(E.game.scene.systemScene,!1),this.renderTarget=w?null:new d(L,R,P,1,0,!1,!1,!0,!1),this.pipeline=w?null:L.pipelines.get(v.SINGLE_PIPELINE),this.setSize(R,P,O)},"DynamicTexture"),setSize:r(function(x,E,A){E===void 0&&(E=x),A===void 0&&(A=!0),A&&(x=Math.floor(x),E=Math.floor(E),x%2!==0&&x++,E%2!==0&&E++);var R=this.get(),P=R.source;if(x!==this.width||E!==this.height){this.canvas&&(this.canvas.width=x,this.canvas.height=E);var O=this.renderTarget;O&&(O.willResize(x,E)&&O.resize(x,E),O.texture!==P.glTexture&&this.renderer.deleteTexture(P.glTexture),this.setFromRenderTarget()),this.camera.setSize(x,E),P.width=x,P.height=E,R.setSize(x,E),this.width=x,this.height=E}else{var L=this.getSourceImage();R.cutX+x>L.width&&(x=L.width-R.cutX),R.cutY+E>L.height&&(E=L.height-R.cutY),R.setSize(x,E,R.cutX,R.cutY)}return this},"setSize"),setFromRenderTarget:r(function(){var x=this.get(),E=x.source,A=this.renderTarget;return E.isRenderTexture=!0,E.isGLTexture=!0,E.glTexture=A.texture,this},"setFromRenderTarget"),setIsSpriteTexture:r(function(x){return this.isSpriteTexture=x,this},"setIsSpriteTexture"),fill:r(function(x,E,A,R,P,O){var L=this.camera,w=this.renderer;E===void 0&&(E=1),A===void 0&&(A=0),R===void 0&&(R=0),P===void 0&&(P=this.width),O===void 0&&(O=this.height);var M=x>>16&255,b=x>>8&255,D=x&255,F=this.renderTarget;if(L.preRender(),F){F.bind(!0);var N=this.pipeline.manager.set(this.pipeline),B=w.width/F.width,Y=w.height/F.height,W=F.height-(R+O);N.drawFillRect(A*B,W*Y,P*B,O*Y,g.getTintFromFloats(D/255,b/255,M/255,1),E),F.unbind(!0)}else{var z=this.context;w.setContext(z),z.globalCompositeOperation="source-over",z.fillStyle="rgba("+M+","+b+","+D+","+E+")",z.fillRect(A,R,P,O),w.setContext()}return this.dirty=!0,this},"fill"),clear:r(function(x,E,A,R){if(this.dirty){var P=this.context,O=this.renderTarget;O?O.clear(x,E,A,R):P&&(x!==void 0&&E!==void 0&&A!==void 0&&R!==void 0?P.clearRect(x,E,A,R):(P.save(),P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,this.width,this.height),P.restore())),this.dirty=!1}return this},"clear"),stamp:r(function(x,E,A,R,P){A===void 0&&(A=0),R===void 0&&(R=0);var O=f(P,"alpha",1),L=f(P,"tint",16777215),w=f(P,"angle",0),M=f(P,"rotation",0),b=f(P,"scale",1),D=f(P,"scaleX",b),F=f(P,"scaleY",b),N=f(P,"originX",.5),B=f(P,"originY",.5),Y=f(P,"blendMode",0),W=f(P,"erase",!1),z=f(P,"skipBatch",!1),X=this.manager.resetStamp(O,L);return X.setAngle(0),w!==0?X.setAngle(w):M!==0&&X.setRotation(M),X.setScale(D,F),X.setTexture(x,E),X.setOrigin(N,B),X.setBlendMode(Y),W&&(this._eraseMode=!0),z?this.batchGameObject(X,A,R):this.draw(X,A,R),W&&(this._eraseMode=!1),this},"stamp"),erase:r(function(x,E,A){return this._eraseMode=!0,this.draw(x,E,A),this._eraseMode=!1,this},"erase"),draw:r(function(x,E,A,R,P){return this.beginDraw(),this.batchDraw(x,E,A,R,P),this.endDraw(),this},"draw"),drawFrame:r(function(x,E,A,R,P,O){return this.beginDraw(),this.batchDrawFrame(x,E,A,R,P,O),this.endDraw(),this},"drawFrame"),repeat:r(function(x,E,A,R,P,O,L,w,M){if(A===void 0&&(A=0),R===void 0&&(R=0),P===void 0&&(P=this.width),O===void 0&&(O=this.height),L===void 0&&(L=1),w===void 0&&(w=16777215),M===void 0&&(M=!1),x instanceof h?E=x:E=this.manager.getFrame(x,E),!E)return this;var b=this.manager.resetStamp(L,w);b.setFrame(E),b.setOrigin(0);var D=E.width,F=E.height;P=Math.floor(P),O=Math.floor(O);var N=Math.ceil(P/D),B=Math.ceil(O/F),Y=N*D-P,W=B*F-O;Y>0&&(Y=D-Y),W>0&&(W=F-W),A<0&&(N+=Math.ceil(Math.abs(A)/D)),R<0&&(B+=Math.ceil(Math.abs(R)/F));var z=A,X=R,H=!1,V=this.manager.stampCrop.setTo(0,0,D,F);M||this.beginDraw();for(var G=0;G<B;G++){if(X+F<0){X+=F;continue}for(var k=0;k<N;k++){if(H=!1,z+D<0){z+=D;continue}else z<0&&(H=!0,V.width=D+z,V.x=D-V.width);X<0&&(H=!0,V.height=F+X,V.y=F-V.height),Y>0&&k===N-1&&(H=!0,V.width=Y),W>0&&G===B-1&&(H=!0,V.height=W),H&&b.setCrop(V),this.batchGameObject(b,z,X),b.isCropped=!1,V.setTo(0,0,D,F),z+=D}z=A,X+=F}return M||this.endDraw(),this},"repeat"),beginDraw:r(function(){if(!this.isDrawing){var x=this.camera,E=this.renderer,A=this.renderTarget;x.preRender(),A?E.beginCapture(A.width,A.height):E.setContext(this.context),this.isDrawing=!0}return this},"beginDraw"),batchDraw:r(function(x,E,A,R,P){return Array.isArray(x)||(x=[x]),this.batchList(x,E,A,R,P),this},"batchDraw"),batchDrawFrame:r(function(x,E,A,R,P,O){A===void 0&&(A=0),R===void 0&&(R=0),P===void 0&&(P=1),O===void 0&&(O=16777215);var L=this.manager.getFrame(x,E);return L&&(this.renderTarget?this.pipeline.batchTextureFrame(L,A,R,O,P,this.camera.matrix,null):this.batchTextureFrame(L,A,R,P,O)),this},"batchDrawFrame"),endDraw:r(function(x){if(x===void 0&&(x=this._eraseMode),this.isDrawing){var E=this.renderer,A=this.renderTarget;if(A){var R=E.endCapture(),P=E.pipelines.setUtility();P.blitFrame(R,A,1,!1,!1,x,this.isSpriteTexture),E.resetScissor(),E.resetViewport()}else E.setContext();this.dirty=!0,this.isDrawing=!1}return this},"endDraw"),batchList:r(function(x,E,A,R,P){var O=x.length;if(O!==0)for(var L=0;L<O;L++){var w=x[L];!w||w===this||(w.renderWebGL||w.renderCanvas?this.batchGameObject(w,E,A):w.isParent||w.list?this.batchGroup(w.getChildren(),E,A):typeof w=="string"?this.batchTextureFrameKey(w,null,E,A,R,P):w instanceof h?this.batchTextureFrame(w,E,A,R,P):Array.isArray(w)&&this.batchList(w,E,A,R,P))}},"batchList"),batchGroup:r(function(x,E,A){E===void 0&&(E=0),A===void 0&&(A=0);for(var R=0;R<x.length;R++){var P=x[R];P.willRender(this.camera)&&this.batchGameObject(P,P.x+E,P.y+A)}},"batchGroup"),batchGameObject:r(function(x,E,A){E===void 0&&(E=x.x),A===void 0&&(A=x.y);var R=x.x,P=x.y,O=this.camera,L=this.renderer,w=this._eraseMode,M=x.mask;if(x.setPosition(E,A),this.canvas){if(w){var b=x.blendMode;x.blendMode=o.ERASE}M&&M.preRenderCanvas(L,x,O),x.renderCanvas(L,x,O,null),M&&M.postRenderCanvas(L,x,O),w&&(x.blendMode=b)}else L&&(M&&M.preRenderWebGL(L,x,O),w||L.setBlendMode(x.blendMode),x.renderWebGL(L,x,O),M&&M.postRenderWebGL(L,O,this.renderTarget));x.setPosition(R,P)},"batchGameObject"),batchTextureFrameKey:r(function(x,E,A,R,P,O){var L=this.manager.getFrame(x,E);L&&this.batchTextureFrame(L,A,R,P,O)},"batchTextureFrameKey"),batchTextureFrame:r(function(x,E,A,R,P){E===void 0&&(E=0),A===void 0&&(A=0),R===void 0&&(R=1),P===void 0&&(P=16777215);var O=this.camera.matrix,L=this.renderTarget;if(L)this.pipeline.batchTextureFrame(x,E,A,P,R,O,null);else{var w=this.context,M=x.canvasData,b=x.source.image;w.save(),w.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",w.globalAlpha=R,O.setToContext(w),M.width>0&&M.height>0&&w.drawImage(b,M.x,M.y,M.width,M.height,E,A,M.width,M.height),w.restore()}},"batchTextureFrame"),snapshotArea:r(function(x,E,A,R,P,O,L){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,P,!1,x,E,A,R,O,L):this.renderer.snapshotCanvas(this.canvas,P,!1,x,E,A,R,O,L),this},"snapshotArea"),snapshot:r(function(x,E,A){return this.snapshotArea(0,0,this.width,this.height,x,E,A)},"snapshot"),snapshotPixel:r(function(x,E,A){return this.snapshotArea(x,E,1,1,A,"pixel")},"snapshotPixel"),getWebGLTexture:r(function(){if(this.renderTarget)return this.renderTarget.texture},"getWebGLTexture"),renderWebGL:r(function(x,E,A,R){var P=this.manager.resetStamp();P.setTexture(this),P.setOrigin(0),P.renderWebGL(x,P,A,R)},"renderWebGL"),renderCanvas:r(function(){},"renderCanvas"),destroy:r(function(){var x=this.manager.stamp;x&&x.texture===this&&this.manager.resetStamp(),p.prototype.destroy.call(this),c.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null},"destroy")});n.exports=m},4327:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(45319),c=s(79291),l=new o({initialize:r(function(h,f,v,d,p,g,m){this.texture=h,this.name=f,this.source=h.source[v],this.sourceIndex=v,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(g,m,d,p)},"Frame"),setCutPosition:r(function(u,h){return u===void 0&&(u=0),h===void 0&&(h=0),this.cutX=u,this.cutY=h,this.updateUVs()},"setCutPosition"),setCutSize:r(function(u,h){return this.cutWidth=u,this.cutHeight=h,this.updateUVs()},"setCutSize"),setSize:r(function(u,h,f,v){f===void 0&&(f=0),v===void 0&&(v=0),this.setCutPosition(f,v),this.setCutSize(u,h),this.width=u,this.height=h,this.halfWidth=Math.floor(u*.5),this.halfHeight=Math.floor(h*.5),this.centerX=Math.floor(u/2),this.centerY=Math.floor(h/2);var d=this.data,p=d.cut;p.x=f,p.y=v,p.w=u,p.h=h,p.r=f+u,p.b=v+h,d.sourceSize.w=u,d.sourceSize.h=h,d.spriteSourceSize.w=u,d.spriteSourceSize.h=h,d.radius=.5*Math.sqrt(u*u+h*h);var g=d.drawImage;return g.x=f,g.y=v,g.width=u,g.height=h,this.updateUVs()},"setSize"),setTrim:r(function(u,h,f,v,d,p){var g=this.data,m=g.spriteSourceSize;return g.trim=!0,g.sourceSize.w=u,g.sourceSize.h=h,m.x=f,m.y=v,m.w=d,m.h=p,m.r=f+d,m.b=v+p,this.x=f,this.y=v,this.width=d,this.height=p,this.halfWidth=d*.5,this.halfHeight=p*.5,this.centerX=Math.floor(d/2),this.centerY=Math.floor(p/2),this.updateUVs()},"setTrim"),setScale9:r(function(u,h,f,v){var d=this.data;return d.scale9=!0,d.is3Slice=h===0&&v===this.height,d.scale9Borders.x=u,d.scale9Borders.y=h,d.scale9Borders.w=f,d.scale9Borders.h=v,this},"setScale9"),setCropUVs:r(function(u,h,f,v,d,p,g){var m=this.cutX,x=this.cutY,E=this.cutWidth,A=this.cutHeight,R=this.realWidth,P=this.realHeight;h=T(h,0,R),f=T(f,0,P),v=T(v,0,R-h),d=T(d,0,P-f);var O=m+h,L=x+f,w=v,M=d,b=this.data;if(b.trim){var D=b.spriteSourceSize;v=T(v,0,D.x+E-h),d=T(d,0,D.y+A-f);var F=h+v,N=f+d,B=!(D.r<h||D.b<f||D.x>F||D.y>N);if(B){var Y=Math.max(D.x,h),W=Math.max(D.y,f),z=Math.min(D.r,F)-Y,X=Math.min(D.b,N)-W;w=z,M=X,p?O=m+(E-(Y-D.x)-z):O=m+(Y-D.x),g?L=x+(A-(W-D.y)-X):L=x+(W-D.y),h=Y,f=W,v=z,d=X}else O=0,L=0,w=0,M=0}else p&&(O=m+(E-h-v)),g&&(L=x+(A-f-d));var H=this.source.width,V=this.source.height;return u.u0=Math.max(0,O/H),u.v0=Math.max(0,L/V),u.u1=Math.min(1,(O+w)/H),u.v1=Math.min(1,(L+M)/V),u.x=h,u.y=f,u.cx=O,u.cy=L,u.cw=w,u.ch=M,u.width=v,u.height=d,u.flipX=p,u.flipY=g,u},"setCropUVs"),updateCropUVs:r(function(u,h,f){return this.setCropUVs(u,u.x,u.y,u.width,u.height,h,f)},"updateCropUVs"),setUVs:r(function(u,h,f,v,d,p){var g=this.data.drawImage;return g.width=u,g.height=h,this.u0=f,this.v0=v,this.u1=d,this.v1=p,this},"setUVs"),updateUVs:r(function(){var u=this.cutX,h=this.cutY,f=this.cutWidth,v=this.cutHeight,d=this.data.drawImage;d.width=f,d.height=v;var p=this.source.width,g=this.source.height;return this.u0=u/p,this.v0=h/g,this.u1=(u+f)/p,this.v1=(h+v)/g,this},"updateUVs"),updateUVsInverted:r(function(){var u=this.source.width,h=this.source.height;return this.u0=(this.cutX+this.cutHeight)/u,this.v0=this.cutY/h,this.u1=this.cutX/u,this.v1=(this.cutY+this.cutWidth)/h,this},"updateUVsInverted"),clone:r(function(){var u=new l(this.texture,this.name,this.sourceIndex);return u.cutX=this.cutX,u.cutY=this.cutY,u.cutWidth=this.cutWidth,u.cutHeight=this.cutHeight,u.x=this.x,u.y=this.y,u.width=this.width,u.height=this.height,u.halfWidth=this.halfWidth,u.halfHeight=this.halfHeight,u.centerX=this.centerX,u.centerY=this.centerY,u.rotated=this.rotated,u.data=c(!0,u.data,this.data),u.updateUVs(),u},"clone"),destroy:r(function(){this.texture=null,this.source=null,this.customData=null,this.data=null},"destroy"),glTexture:{get:r(function(){return this.source.glTexture},"get")},realWidth:{get:r(function(){return this.data.sourceSize.w},"get")},realHeight:{get:r(function(){return this.data.sourceSize.h},"get")},radius:{get:r(function(){return this.data.radius},"get")},trimmed:{get:r(function(){return this.data.trim},"get")},scale9:{get:r(function(){return this.data.scale9},"get")},is3Slice:{get:r(function(){return this.data.is3Slice},"get")},canvasData:{get:r(function(){return this.data.drawImage},"get")}});n.exports=l},79237:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(4327),c=s(11876),l='Texture "%s" has no frame "%s"',u=new o({initialize:r(function(f,v,d,p,g){Array.isArray(d)||(d=[d]),this.manager=f,this.key=v,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var m=0;m<d.length;m++)this.source.push(new c(this,d[m],p,g))},"Texture"),add:r(function(h,f,v,d,p,g){if(this.has(h))return null;var m=new T(this,h,f,v,d,p,g);return this.frames[h]=m,this.firstFrame==="__BASE"&&(this.firstFrame=h),this.frameTotal++,m},"add"),remove:r(function(h){if(this.has(h)){var f=this.get(h);return f.destroy(),delete this.frames[h],!0}return!1},"remove"),has:r(function(h){return this.frames.hasOwnProperty(h)},"has"),get:r(function(h){h||(h=this.firstFrame);var f=this.frames[h];return f||(console.warn(l,this.key,h),f=this.frames[this.firstFrame]),f},"get"),getTextureSourceIndex:r(function(h){for(var f=0;f<this.source.length;f++)if(this.source[f]===h)return f;return-1},"getTextureSourceIndex"),getFramesFromTextureSource:r(function(h,f){f===void 0&&(f=!1);var v=[];for(var d in this.frames)if(!(d==="__BASE"&&!f)){var p=this.frames[d];p.sourceIndex===h&&v.push(p)}return v},"getFramesFromTextureSource"),getFrameBounds:r(function(h){h===void 0&&(h=0);for(var f=this.getFramesFromTextureSource(h,!0),v=f[0],d=v.cutX,p=v.cutY,g=v.cutX+v.cutWidth,m=v.cutY+v.cutHeight,x=1;x<f.length;x++){var E=f[x];E.cutX<d&&(d=E.cutX),E.cutY<p&&(p=E.cutY),E.cutX+E.cutWidth>g&&(g=E.cutX+E.cutWidth),E.cutY+E.cutHeight>m&&(m=E.cutY+E.cutHeight)}return{x:d,y:p,width:g-d,height:m-p}},"getFrameBounds"),getFrameNames:r(function(h){h===void 0&&(h=!1);var f=Object.keys(this.frames);if(!h){var v=f.indexOf("__BASE");v!==-1&&f.splice(v,1)}return f},"getFrameNames"),getSourceImage:r(function(h){(h==null||this.frameTotal===1)&&(h="__BASE");var f=this.frames[h];return f?f.source.image:(console.warn(l,this.key,h),this.frames.__BASE.source.image)},"getSourceImage"),getDataSourceImage:r(function(h){(h==null||this.frameTotal===1)&&(h="__BASE");var f=this.frames[h],v;return f?v=f.sourceIndex:(console.warn(l,this.key,h),v=this.frames.__BASE.sourceIndex),this.dataSource[v].image},"getDataSourceImage"),setDataSource:r(function(h){Array.isArray(h)||(h=[h]);for(var f=0;f<h.length;f++){var v=this.source[f];this.dataSource.push(new c(this,h[f],v.width,v.height))}},"setDataSource"),setFilter:r(function(h){var f;for(f=0;f<this.source.length;f++)this.source[f].setFilter(h);for(f=0;f<this.dataSource.length;f++)this.dataSource[f].setFilter(h)},"setFilter"),destroy:r(function(){var h,f=this.source,v=this.dataSource;for(h=0;h<f.length;h++)f[h]&&f[h].destroy();for(h=0;h<v.length;h++)v[h]&&v[h].destroy();for(var d in this.frames){var p=this.frames[d];p&&p.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null},"destroy")});n.exports=u},17130:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),T=s(57382),c=s(83419),l=s(40987),u=s(8054),h=s(81320),f=s(50792),v=s(69442),d=s(4327),p=s(8443),g=s(99584),m=s(35154),x=s(88571),E=s(41212),A=s(61309),R=s(87841),P=s(79237),O=new c({Extends:f,initialize:r(function(w){f.call(this),this.game=w,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new R,this.silentWarnings=!1,w.events.once(p.BOOT,this.boot,this)},"TextureManager"),boot:r(function(){this._pending=3,this.on(v.LOAD,this.updatePending,this),this.on(v.ERROR,this.updatePending,this);var L=this.game.config;L.defaultImage!==null&&this.addBase64("__DEFAULT",L.defaultImage),L.missingImage!==null&&this.addBase64("__MISSING",L.missingImage),L.whiteImage!==null&&this.addBase64("__WHITE",L.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(p.DESTROY,this.destroy,this),this.game.events.once(p.SYSTEM_READY,function(w){this.stamp=new x(w).setOrigin(0)},this)},"boot"),updatePending:r(function(){this._pending--,this._pending===0&&(this.off(v.LOAD),this.off(v.ERROR),this.emit(v.READY))},"updatePending"),checkKey:r(function(L){return!L||typeof L!="string"||this.exists(L)?(this.silentWarnings||console.error("Texture key already in use: "+L),!1):!0},"checkKey"),remove:r(function(L){if(typeof L=="string")if(this.exists(L))L=this.get(L);else return this.silentWarnings||console.warn("No texture found matching key: "+L),this;var w=L.key;return this.list.hasOwnProperty(w)&&(L.destroy(),this.emit(v.REMOVE,w),this.emit(v.REMOVE_KEY+w)),this},"remove"),removeKey:r(function(L){return this.list.hasOwnProperty(L)&&delete this.list[L],this},"removeKey"),addBase64:r(function(L,w){if(this.checkKey(L)){var M=this,b=new Image;b.onerror=function(){M.emit(v.ERROR,L)},b.onload=function(){var D=M.create(L,b);D&&(A.Image(D,0),M.emit(v.ADD,L,D),M.emit(v.ADD_KEY+L,D),M.emit(v.LOAD,L,D))},b.src=w}return this},"addBase64"),getBase64:r(function(L,w,M,b){M===void 0&&(M="image/png"),b===void 0&&(b=.92);var D="",F=this.getFrame(L,w);if(F&&(F.source.isRenderTexture||F.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(F){var N=F.canvasData,B=o.create2D(this,N.width,N.height),Y=B.getContext("2d",{willReadFrequently:!0});N.width>0&&N.height>0&&Y.drawImage(F.source.image,N.x,N.y,N.width,N.height,0,0,N.width,N.height),D=B.toDataURL(M,b),o.remove(B)}return D},"getBase64"),addImage:r(function(L,w,M){var b=null;return this.checkKey(L)&&(b=this.create(L,w),A.Image(b,0),M&&b.setDataSource(M),this.emit(v.ADD,L,b),this.emit(v.ADD_KEY+L,b)),b},"addImage"),addGLTexture:r(function(L,w){var M=null;if(this.checkKey(L)){var b=w.width,D=w.height;M=this.create(L,w,b,D),M.add("__BASE",0,0,0,b,D),this.emit(v.ADD,L,M),this.emit(v.ADD_KEY+L,M)}return M},"addGLTexture"),addCompressedTexture:r(function(L,w,M){var b=null;if(this.checkKey(L)){if(b=this.create(L,w),b.add("__BASE",0,0,0,w.width,w.height),M){var D=r(function(N,B,Y){Array.isArray(Y.textures)||Array.isArray(Y.frames)?A.JSONArray(N,B,Y):A.JSONHash(N,B,Y)},"parse");if(Array.isArray(M))for(var F=0;F<M.length;F++)D(b,F,M[F]);else D(b,0,M)}this.emit(v.ADD,L,b),this.emit(v.ADD_KEY+L,b)}return b},"addCompressedTexture"),addRenderTexture:r(function(L,w){var M=null;return this.checkKey(L)&&(M=this.create(L,w),M.add("__BASE",0,0,0,w.width,w.height),this.emit(v.ADD,L,M),this.emit(v.ADD_KEY+L,M)),M},"addRenderTexture"),generate:r(function(L,w){if(this.checkKey(L)){var M=o.create(this,1,1);return w.canvas=M,g(w),this.addCanvas(L,M)}else return null},"generate"),createCanvas:r(function(L,w,M){if(w===void 0&&(w=256),M===void 0&&(M=256),this.checkKey(L)){var b=o.create(this,w,M,u.CANVAS,!0);return this.addCanvas(L,b)}return null},"createCanvas"),addCanvas:r(function(L,w,M){M===void 0&&(M=!1);var b=null;return M?b=new T(this,L,w,w.width,w.height):this.checkKey(L)&&(b=new T(this,L,w,w.width,w.height),this.list[L]=b,this.emit(v.ADD,L,b),this.emit(v.ADD_KEY+L,b)),b},"addCanvas"),addDynamicTexture:r(function(L,w,M){var b=null;return typeof L=="string"&&!this.exists(L)?b=new h(this,L,w,M):(b=L,L=b.key),this.checkKey(L)?(this.list[L]=b,this.emit(v.ADD,L,b),this.emit(v.ADD_KEY+L,b)):b=null,b},"addDynamicTexture"),addAtlas:r(function(L,w,M,b){return Array.isArray(M.textures)||Array.isArray(M.frames)?this.addAtlasJSONArray(L,w,M,b):this.addAtlasJSONHash(L,w,M,b)},"addAtlas"),addAtlasJSONArray:r(function(L,w,M,b){var D=null;if(w instanceof P?(L=w.key,D=w):this.checkKey(L)&&(D=this.create(L,w)),D){if(Array.isArray(M))for(var F=M.length===1,N=0;N<D.source.length;N++){var B=F?M[0]:M[N];A.JSONArray(D,N,B)}else A.JSONArray(D,0,M);b&&D.setDataSource(b),this.emit(v.ADD,L,D),this.emit(v.ADD_KEY+L,D)}return D},"addAtlasJSONArray"),addAtlasJSONHash:r(function(L,w,M,b){var D=null;if(w instanceof P?(L=w.key,D=w):this.checkKey(L)&&(D=this.create(L,w)),D){if(Array.isArray(M))for(var F=0;F<M.length;F++)A.JSONHash(D,F,M[F]);else A.JSONHash(D,0,M);b&&D.setDataSource(b),this.emit(v.ADD,L,D),this.emit(v.ADD_KEY+L,D)}return D},"addAtlasJSONHash"),addAtlasXML:r(function(L,w,M,b){var D=null;return w instanceof P?(L=w.key,D=w):this.checkKey(L)&&(D=this.create(L,w)),D&&(A.AtlasXML(D,0,M),b&&D.setDataSource(b),this.emit(v.ADD,L,D),this.emit(v.ADD_KEY+L,D)),D},"addAtlasXML"),addUnityAtlas:r(function(L,w,M,b){var D=null;return w instanceof P?(L=w.key,D=w):this.checkKey(L)&&(D=this.create(L,w)),D&&(A.UnityYAML(D,0,M),b&&D.setDataSource(b),this.emit(v.ADD,L,D),this.emit(v.ADD_KEY+L,D)),D},"addUnityAtlas"),addSpriteSheet:r(function(L,w,M,b){var D=null;if(w instanceof P?(L=w.key,D=w):this.checkKey(L)&&(D=this.create(L,w)),D){var F=D.source[0].width,N=D.source[0].height;A.SpriteSheet(D,0,0,0,F,N,M),b&&D.setDataSource(b),this.emit(v.ADD,L,D),this.emit(v.ADD_KEY+L,D)}return D},"addSpriteSheet"),addSpriteSheetFromAtlas:r(function(L,w){if(!this.checkKey(L))return null;var M=m(w,"atlas",null),b=m(w,"frame",null);if(!(!M||!b)){var D=this.get(M),F=D.get(b);if(F){var N=F.source.image;N||(N=F.source.glTexture);var B=this.create(L,N);return F.trimmed?A.SpriteSheetFromAtlas(B,F,w):A.SpriteSheet(B,0,F.cutX,F.cutY,F.cutWidth,F.cutHeight,w),this.emit(v.ADD,L,B),this.emit(v.ADD_KEY+L,B),B}}},"addSpriteSheetFromAtlas"),addUint8Array:r(function(L,w,M,b){if(!this.checkKey(L)||w.length/4!==M*b)return null;var D=this.create(L,w,M,b);return D.add("__BASE",0,0,0,M,b),this.emit(v.ADD,L,D),this.emit(v.ADD_KEY+L,D),D},"addUint8Array"),create:r(function(L,w,M,b){var D=null;return this.checkKey(L)&&(D=new P(this,L,w,M,b),this.list[L]=D),D},"create"),exists:r(function(L){return this.list.hasOwnProperty(L)},"exists"),get:r(function(L){return L===void 0&&(L="__DEFAULT"),this.list[L]?this.list[L]:L instanceof P?L:L instanceof d?L.texture:this.list.__MISSING},"get"),cloneFrame:r(function(L,w){if(this.list[L])return this.list[L].get(w).clone()},"cloneFrame"),getFrame:r(function(L,w){if(this.list[L])return this.list[L].get(w)},"getFrame"),parseFrame:r(function(L){if(L){if(typeof L=="string")return this.getFrame(L);if(Array.isArray(L)&&L.length===2)return this.getFrame(L[0],L[1]);if(E(L))return this.getFrame(L.key,L.frame);if(L instanceof P)return L.get();if(L instanceof d)return L}else return},"parseFrame"),getTextureKeys:r(function(){var L=[];for(var w in this.list)w!=="__DEFAULT"&&w!=="__MISSING"&&w!=="__WHITE"&&w!=="__NORMAL"&&L.push(w);return L},"getTextureKeys"),getPixel:r(function(L,w,M,b){var D=this.getFrame(M,b);if(D){L-=D.x,w-=D.y;var F=D.data.cut;if(L+=F.x,w+=F.y,L>=F.x&&L<F.r&&w>=F.y&&w<F.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage(D.source.image,L,w,1,1,0,0,1,1);var B=N.getImageData(0,0,1,1);return new l(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},"getPixel"),getPixelAlpha:r(function(L,w,M,b){var D=this.getFrame(M,b);if(D){L-=D.x,w-=D.y;var F=D.data.cut;if(L+=F.x,w+=F.y,L>=F.x&&L<F.r&&w>=F.y&&w<F.b){var N=this._tempContext;N.clearRect(0,0,1,1),N.drawImage(D.source.image,L,w,1,1,0,0,1,1);var B=N.getImageData(0,0,1,1);return B.data[3]}}return null},"getPixelAlpha"),setTexture:r(function(L,w,M){return this.list[w]&&(L.texture=this.list[w],L.frame=L.texture.get(M)),L},"setTexture"),renameTexture:r(function(L,w){var M=this.get(L);return M&&L!==w?(M.key=w,this.list[w]=M,delete this.list[L],!0):!1},"renameTexture"),each:r(function(L,w){for(var M=[null],b=1;b<arguments.length;b++)M.push(arguments[b]);for(var D in this.list)M[0]=this.list[D],L.apply(w,M)},"each"),resetStamp:r(function(L,w){L===void 0&&(L=1),w===void 0&&(w=16777215);var M=this.stamp;return M.setCrop(),M.setPosition(0),M.setAngle(0),M.setScale(1),M.setAlpha(L),M.setTint(w),M.setTexture("__WHITE"),M},"resetStamp"),destroy:r(function(){for(var L in this.list)this.list[L].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)},"destroy")});n.exports=O},11876:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),T=s(83419),c=s(50030),l=s(29795),u=s(82751),h=new T({initialize:r(function(v,d,p,g,m){m===void 0&&(m=!1);var x=v.manager.game;this.renderer=x.renderer,this.texture=v,this.source=d,this.image=d.compressed?null:d,this.compressionAlgorithm=d.compressed?d.format:null,this.resolution=1,this.width=p||d.naturalWidth||d.videoWidth||d.width||0,this.height=g||d.naturalHeight||d.videoHeight||d.height||0,this.scaleMode=l.DEFAULT,this.isCanvas=d instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&d instanceof HTMLVideoElement,this.isRenderTexture=d.type==="RenderTexture"||d.type==="DynamicTexture",this.isGLTexture=d instanceof u,this.isPowerOf2=c(this.width,this.height),this.glTexture=null,this.flipY=m,this.init(x)},"TextureSource"),init:r(function(f){var v=this.renderer;if(v){var d=this.source;if(v.gl){var p=this.image,g=this.flipY,m=this.width,x=this.height,E=this.scaleMode;this.isCanvas?this.glTexture=v.createCanvasTexture(p,!1,g):this.isVideo?this.glTexture=v.createVideoTexture(p,!1,g):this.isRenderTexture?this.glTexture=v.createTextureFromSource(null,m,x,E):this.isGLTexture?this.glTexture=d:this.compressionAlgorithm?this.glTexture=v.createTextureFromSource(d,void 0,void 0,E):d instanceof Uint8Array?this.glTexture=v.createUint8ArrayTexture(d,m,x,E):this.glTexture=v.createTextureFromSource(p,m,x,E)}else this.isRenderTexture&&(this.image=d.canvas)}f.config.antialias||this.setFilter(1)},"init"),setFilter:r(function(f){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,f),this.scaleMode=f},"setFilter"),setFlipY:r(function(f){return f===void 0&&(f=!0),f===this.flipY?this:(this.flipY=f,this.update(),this)},"setFlipY"),update:r(function(){var f=this.renderer,v=this.image,d=this.flipY,p=f.gl;p&&this.isCanvas?f.updateCanvasTexture(v,this.glTexture,d):p&&this.isVideo&&f.updateVideoTexture(v,this.glTexture,d)},"update"),destroy:r(function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null},"destroy")});n.exports=h},19673:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={LINEAR:0,NEAREST:1};n.exports=C},44538:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture"},63486:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture-"},94851:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onerror"},29099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onload"},8678:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},86415:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture"},30879:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture-"},69442:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:s(44538),ADD_KEY:s(63486),ERROR:s(94851),LOAD:s(29099),READY:s(8678),REMOVE:s(86415),REMOVE_KEY:s(30879)}},27458:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),T=s(19673),c={CanvasTexture:s(57382),DynamicTexture:s(81320),Events:s(69442),FilterMode:T,Frame:s(4327),Parsers:s(61309),Texture:s(79237),TextureManager:s(17130),TextureSource:s(11876)};c=o(!1,c,T),n.exports=c},89905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){if(!T.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var c=s.source[o];s.add("__BASE",o,0,0,c.width,c.height);for(var l=T.getElementsByTagName("SubTexture"),u,h=0;h<l.length;h++){var f=l[h].attributes,v=f.name.value,d=parseInt(f.x.value,10),p=parseInt(f.y.value,10),g=parseInt(f.width.value,10),m=parseInt(f.height.value,10);if(u=s.add(v,o,d,p,g,m),f.frameX){var x=Math.abs(parseInt(f.frameX.value,10)),E=Math.abs(parseInt(f.frameY.value,10)),A=parseInt(f.frameWidth.value,10),R=parseInt(f.frameHeight.value,10);u.setTrim(g,m,x,E,A,R)}}return s},"AtlasXML");n.exports=C},72893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.source[o];return s.add("__BASE",o,0,0,T.width,T.height),s},"Canvas");n.exports=C},4832:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.source[o];return s.add("__BASE",o,0,0,T.width,T.height),s},"Image");n.exports=C},78566:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),T=r(function(c,l,u){if(!u.frames&&!u.textures){console.warn("Invalid Texture Atlas JSON Array");return}var h=c.source[l];c.add("__BASE",l,0,0,h.width,h.height);for(var f=Array.isArray(u.textures)?u.textures[l].frames:u.frames,v,d=0;d<f.length;d++){var p=f[d];if(v=c.add(p.filename,l,p.frame.x,p.frame.y,p.frame.w,p.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+p.filename);continue}p.trimmed&&v.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(v.rotated=!0,v.updateUVsInverted());var g=p.anchor||p.pivot;g&&(v.customPivot=!0,v.pivotX=g.x,v.pivotY=g.y),p.scale9Borders&&v.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),v.customData=o(p)}for(var m in u)m!=="frames"&&(Array.isArray(u[m])?c.customData[m]=u[m].slice(0):c.customData[m]=u[m]);return c},"JSONArray");n.exports=T},39711:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),T=r(function(c,l,u){if(!u.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var h=c.source[l];c.add("__BASE",l,0,0,h.width,h.height);var f=u.frames,v;for(var d in f)if(f.hasOwnProperty(d)){var p=f[d];if(v=c.add(d,l,p.frame.x,p.frame.y,p.frame.w,p.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+d);continue}p.trimmed&&v.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(v.rotated=!0,v.updateUVsInverted());var g=p.anchor||p.pivot;g&&(v.customPivot=!0,v.pivotX=g.x,v.pivotY=g.y),p.scale9Borders&&v.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),v.customData=o(p)}for(var m in u)m!=="frames"&&(Array.isArray(u[m])?c.customData[m]=u[m].slice(0):c.customData[m]=u[m]);return c},"JSONHash");n.exports=T},31403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o=[171,75,84,88,32,49,49,187,13,10,26,10],T,c=new Uint8Array(s,0,12);for(T=0;T<c.length;T++)if(c[T]!==o[T]){console.warn("KTXParser - Invalid file format");return}var l=Uint32Array.BYTES_PER_ELEMENT,u=new DataView(s,12,13*l),h=u.getUint32(0,!0)===67305985,f=u.getUint32(1*l,h);if(f!==0){console.warn("KTXParser - Only compressed formats supported");return}var v=u.getUint32(4*l,h),d=u.getUint32(6*l,h),p=u.getUint32(7*l,h),g=Math.max(1,u.getUint32(11*l,h)),m=u.getUint32(12*l,h),x=new Array(g),E=12+13*4+m,A=d,R=p;for(T=0;T<g;T++){var P=new Int32Array(s,E,1)[0];E+=4,x[T]={data:new Uint8Array(s,E,P),width:A,height:R},A=Math.max(1,A>>1),R=Math.max(1,R>>1),E+=P}return{mipmaps:x,width:d,height:p,internalFormat:v,compressed:!0,generateMipmap:!1}},"KTXParser");n.exports=C},82038:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(w,M,b,D,F,N,B){return B===void 0&&(B=16),Math.floor((w+b)/F)*Math.floor((M+D)/N)*B}r(C,"GetSize");function s(w,M){return w=Math.max(w,16),M=Math.max(M,8),w*M/4}r(s,"PVRTC2bppSize");function o(w,M){return w=Math.max(w,8),M=Math.max(M,8),w*M/2}r(o,"PVRTC4bppSize");function T(w,M){return Math.ceil(w/4)*Math.ceil(M/4)*16}r(T,"BPTCSize");function c(w,M){return C(w,M,3,3,4,4,8)}r(c,"DXTEtcSmallSize");function l(w,M){return C(w,M,3,3,4,4)}r(l,"DXTEtcAstcBigSize");function u(w,M){return C(w,M,4,3,5,4)}r(u,"ATC5x4Size");function h(w,M){return C(w,M,4,4,5,5)}r(h,"ATC5x5Size");function f(w,M){return C(w,M,5,4,6,5)}r(f,"ATC6x5Size");function v(w,M){return C(w,M,5,5,6,6)}r(v,"ATC6x6Size");function d(w,M){return C(w,M,7,4,8,5)}r(d,"ATC8x5Size");function p(w,M){return C(w,M,7,5,8,6)}r(p,"ATC8x6Size");function g(w,M){return C(w,M,7,7,8,8)}r(g,"ATC8x8Size");function m(w,M){return C(w,M,9,4,10,5)}r(m,"ATC10x5Size");function x(w,M){return C(w,M,9,5,10,6)}r(x,"ATC10x6Size");function E(w,M){return C(w,M,9,7,10,8)}r(E,"ATC10x8Size");function A(w,M){return C(w,M,9,9,10,10)}r(A,"ATC10x10Size");function R(w,M){return C(w,M,11,9,12,10)}r(R,"ATC12x10Size");function P(w,M){return C(w,M,11,11,12,12)}r(P,"ATC12x12Size");var O={0:{sizeFunc:s,glFormat:[35841]},1:{sizeFunc:s,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:c,glFormat:[36196]},7:{sizeFunc:c,glFormat:[33776,35916]},8:{sizeFunc:l,glFormat:[33777,35917]},9:{sizeFunc:l,glFormat:[33778,35918]},11:{sizeFunc:l,glFormat:[33779,35919]},14:{sizeFunc:T,glFormat:[36494,36495]},15:{sizeFunc:T,glFormat:[36492,36493]},22:{sizeFunc:c,glFormat:[37492,37493]},23:{sizeFunc:l,glFormat:[37496,37497]},24:{sizeFunc:c,glFormat:[37494,37495]},25:{sizeFunc:c,glFormat:[37488]},26:{sizeFunc:l,glFormat:[37490]},27:{sizeFunc:l,glFormat:[37808,37840]},28:{sizeFunc:u,glFormat:[37809,37841]},29:{sizeFunc:h,glFormat:[37810,37842]},30:{sizeFunc:f,glFormat:[37811,37843]},31:{sizeFunc:v,glFormat:[37812,37844]},32:{sizeFunc:d,glFormat:[37813,37845]},33:{sizeFunc:p,glFormat:[37814,37846]},34:{sizeFunc:g,glFormat:[37815,37847]},35:{sizeFunc:m,glFormat:[37816,37848]},36:{sizeFunc:x,glFormat:[37817,37849]},37:{sizeFunc:E,glFormat:[37818,37850]},38:{sizeFunc:A,glFormat:[37819,37851]},39:{sizeFunc:R,glFormat:[37820,37852]},40:{sizeFunc:P,glFormat:[37821,37853]}},L=r(function(w){for(var M=new Uint32Array(w,0,13),b=M[0],D=b===55727696,F=D?M[2]:M[3],N=M[4],B=O[F].glFormat[N],Y=O[F].sizeFunc,W=M[11],z=M[7],X=M[6],H=52+M[12],V=new Uint8Array(w,H),G=new Array(W),k=0,U=z,I=X,$=0;$<W;$++){var K=Y(U,I);G[$]={data:new Uint8Array(V.buffer,V.byteOffset+k,K),width:U,height:I},U=Math.max(1,U>>1),I=Math.max(1,I>>1),k+=K}return{mipmaps:G,width:z,height:X,internalFormat:B,compressed:!0,generateMipmap:!1}},"PVRParser");n.exports=L},75549:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),T=r(function(c,l,u,h,f,v,d){var p=o(d,"frameWidth",null),g=o(d,"frameHeight",p);if(p===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var m=c.source[l];c.add("__BASE",l,0,0,m.width,m.height);var x=o(d,"startFrame",0),E=o(d,"endFrame",-1),A=o(d,"margin",0),R=o(d,"spacing",0),P=Math.floor((f-A+R)/(p+R)),O=Math.floor((v-A+R)/(g+R)),L=P*O;L===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",c.key),(x>L||x<-L)&&(x=0),x<0&&(x=L+x),(E===-1||E>L||E<x)&&(E=L);for(var w=A,M=A,b=0,D=0,F=0,N=0;N<L;N++){b=0,D=0;var B=w+p,Y=M+g;B>f&&(b=B-f),Y>v&&(D=Y-v),N>=x&&N<=E&&(c.add(F,l,u+w,h+M,p-b,g-D),F++),w+=p+R,w+p>f&&(w=A,M+=g+R)}return c},"SpriteSheet");n.exports=T},47534:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),T=r(function(c,l,u){var h=o(u,"frameWidth",null),f=o(u,"frameHeight",h);if(!h)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var v=c.source[0];c.add("__BASE",0,0,0,v.width,v.height),o(u,"startFrame",0),o(u,"endFrame",-1);for(var d=o(u,"margin",0),p=o(u,"spacing",0),g=l.cutX,m=l.cutY,x=l.cutWidth,E=l.cutHeight,A=l.realWidth,R=l.realHeight,P=Math.floor((A-d+p)/(h+p)),O=Math.floor((R-d+p)/(f+p)),L=l.x,w=h-L,M=h-(A-x-L),b=l.y,D=f-b,F=f-(R-E-b),N,B=d,Y=d,W=0,z=0,X=0;X<O;X++){for(var H=X===0,V=X===O-1,G=0;G<P;G++){var k=G===0,U=G===P-1;if(N=c.add(W,z,g+B,m+Y,h,f),k||H||U||V){var I=k?L:0,$=H?b:0,K=0,Z=0;k&&(K+=h-w),U&&(K+=h-M),H&&(Z+=f-D),V&&(Z+=f-F);var J=h-K,Q=f-Z;N.cutWidth=J,N.cutHeight=Q,N.setTrim(h,f,I,$,J,Q)}B+=p,k?B+=w:U?B+=M:B+=h,W++}B=d,Y+=p,H?Y+=D:V?Y+=F:Y+=f}return c},"SpriteSheetFromAtlas");n.exports=T},86147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=0,s=r(function(T,c,l,u){var h=C-u.y-u.height;T.add(l,c,u.x,h,u.width,u.height)},"addFrame"),o=r(function(T,c,l){var u=T.source[c];T.add("__BASE",c,0,0,u.width,u.height),C=u.height;for(var h=l.split(`
`),f=/^[ ]*(- )*(\w+)+[: ]+(.*)/,v="",d="",p={x:0,y:0,width:0,height:0},g=0;g<h.length;g++){var m=h[g].match(f);if(m){var x=m[1]==="- ",E=m[2],A=m[3];if(x&&(d!==v&&(s(T,c,d,p),v=d),p={x:0,y:0,width:0,height:0}),E==="name"){d=A;continue}switch(E){case"x":case"y":case"width":case"height":p[E]=parseInt(A,10);break}}}return d!==v&&s(T,c,d,p),T},"UnityYAML");n.exports=o},55222:(n,C,s)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(50030),T=r(function(v){for(var d=v.mipmaps,p=1;p<d.length;p++){var g=d[p].width,m=d[p].height;if(!o(g,m))return console.warn("Mip level "+p+" is not a power-of-two size: "+g+"x"+m),!1}var x=f[v.internalFormat];return x?x(v):(console.warn("No format checker found for internal format "+v.internalFormat+". Assuming valid."),!0)},"verifyCompressedTexture");function c(v){for(var d=v.mipmaps,p=0;p<d.length;p++){var g=d[p].width,m=d[p].height;if((g<<p)%4!==0||(m<<p)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+p+" is "+g+"x"+m),!1}return!0}r(c,"check4x4");function l(){return!0}r(l,"checkAlways");function u(v){var d=v.mipmaps,p=d[0];return o(p.width,p.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+p.width+"x"+p.height),!1)}r(u,"checkPVRTC");function h(v){var d=v.mipmaps,p=d[0];return p.width%4!==0||p.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+p.width+"x"+p.height+" pixels"),!1):!0}r(h,"checkS3TCSRGB");var f={37488:l,37489:l,37490:l,37491:l,37492:l,37493:l,37494:l,37495:l,37496:l,37497:l,36196:l,37808:l,37809:l,37810:l,37811:l,37812:l,37813:l,37814:l,37815:l,37816:l,37817:l,37818:l,37819:l,37820:l,37821:l,37840:l,37841:l,37842:l,37843:l,37844:l,37845:l,37846:l,37847:l,37848:l,37849:l,37850:l,37851:l,37852:l,37853:l,36492:c,36493:c,36494:c,36495:c,36283:c,36284:c,36285:c,36286:c,35840:u,35841:u,35842:u,35843:u,33776:c,33777:c,33778:c,33779:c,35916:h,35917:h,35918:h,35919:h};n.exports=T},61309:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AtlasXML:s(89905),Canvas:s(72893),Image:s(4832),JSONArray:s(78566),JSONHash:s(39711),KTXParser:s(31403),PVRParser:s(82038),SpriteSheet:s(75549),SpriteSheetFromAtlas:s(47534),UnityYAML:s(86147)}},80341:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l,u,h,f,v,d,p){(h===void 0||h<=0)&&(h=32),(f===void 0||f<=0)&&(f=32),v===void 0&&(v=0),d===void 0&&(d=0),this.name=l,this.firstgid=u|0,this.imageWidth=h|0,this.imageHeight=f|0,this.imageMargin=v|0,this.imageSpacing=d|0,this.properties=p||{},this.images=[],this.total=0},"ImageCollection"),containsImageIndex:r(function(c){return c>=this.firstgid&&c<this.firstgid+this.total},"containsImageIndex"),addImage:r(function(c,l,u,h){return this.images.push({gid:c,image:l,width:u,height:h}),this.total++,this},"addImage")});n.exports=T},27462:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=new o({initialize:r(function(l){if(this.gids=[],l!==void 0)for(var u=0;u<l.length;++u)for(var h=l[u],f=0;f<h.total;++f)this.gids[h.firstgid+f]=h;this._gids=this.gids},"ObjectHelper"),enabled:{get:r(function(){return!!this.gids},"get"),set:r(function(c){this.gids=c?this._gids:void 0},"set")},getTypeIncludingTile:r(function(c){if(c.type!==void 0&&c.type!=="")return c.type;if(!(!this.gids||c.gid===void 0)){var l=this.gids[c.gid];if(l){var u=l.getTileData(c.gid);if(u)return u.type}}},"getTypeIncludingTile"),setTextureAndFrame:r(function(c,l,u,h){if(l===null&&this.gids&&h.gid!==void 0){var f=this.gids[h.gid];f&&(l===null&&f.image!==void 0&&(l=f.image.key),u===null&&(u=h.gid-f.firstgid),c.scene.textures.getFrame(l,u)||(l=null,u=null))}c.setTexture(l,u)},"setTextureAndFrame"),setPropertiesFromTiledObject:r(function(c,l){if(this.gids!==void 0&&l.gid!==void 0){var u=this.gids[l.gid];u!==void 0&&this.setFromJSON(c,u.getTileProperties(l.gid))}this.setFromJSON(c,l.properties)},"setPropertiesFromTiledObject"),setFromJSON:r(function(c,l){if(l){if(Array.isArray(l)){for(var u=0;u<l.length;u++){var h=l[u];c[h.name]!==void 0?c[h.name]=h.value:c.setData(h.name,h.value)}return}for(var f in l)c[f]!==void 0?c[f]=l[f]:c.setData(f,l[f])}},"setFromJSON")});n.exports=T},31989:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),T=s(87010),c=s(46177),l=s(49075),u=r(function(h,f,v,d,p,g,m,x){v===void 0&&(v=32),d===void 0&&(d=32),p===void 0&&(p=10),g===void 0&&(g=10),x===void 0&&(x=!1);var E=null;if(Array.isArray(m)){var A=f!==void 0?f:"map";E=c(A,o.ARRAY_2D,m,v,d,x)}else if(f!==void 0){var R=h.cache.tilemap.get(f);R?E=c(f,R.format,R.data,v,d,x):console.warn("No map data found for key "+f)}return E===null&&(E=new T({tileWidth:v,tileHeight:d,width:p,height:g})),new l(h,E)},"ParseToTilemap");n.exports=u},23029:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(31401),c=s(91907),l=s(62644),u=s(93232),h=new o({Mixins:[T.AlphaSingle,T.Flip,T.Visible],initialize:r(function(v,d,p,g,m,x,E,A){this.layer=v,this.index=d,this.x=p,this.y=g,this.width=m,this.height=x,this.right,this.bottom,this.baseWidth=E!==void 0?E:m,this.baseHeight=A!==void 0?A:x,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},"Tile"),containsPoint:r(function(f,v){return!(f<this.pixelX||v<this.pixelY||f>this.right||v>this.bottom)},"containsPoint"),copy:r(function(f){return this.index=f.index,this.alpha=f.alpha,this.properties=l(f.properties),this.visible=f.visible,this.setFlip(f.flipX,f.flipY),this.tint=f.tint,this.rotation=f.rotation,this.collideUp=f.collideUp,this.collideDown=f.collideDown,this.collideLeft=f.collideLeft,this.collideRight=f.collideRight,this.collisionCallback=f.collisionCallback,this.collisionCallbackContext=f.collisionCallbackContext,this},"copy"),getCollisionGroup:r(function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},"getCollisionGroup"),getTileData:r(function(){return this.tileset?this.tileset.getTileData(this.index):null},"getTileData"),getLeft:r(function(f){var v=this.tilemapLayer;if(v){var d=v.tileToWorldXY(this.x,this.y,void 0,f);return d.x}return this.x*this.baseWidth},"getLeft"),getRight:r(function(f){var v=this.tilemapLayer;return v?this.getLeft(f)+this.width*v.scaleX:this.getLeft(f)+this.width},"getRight"),getTop:r(function(f){var v=this.tilemapLayer;if(v){var d=v.tileToWorldXY(this.x,this.y,void 0,f);return d.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},"getTop"),getBottom:r(function(f){var v=this.tilemapLayer;return v?this.getTop(f)+this.height*v.scaleY:this.getTop(f)+this.height},"getBottom"),getBounds:r(function(f,v){return v===void 0&&(v=new u),v.x=this.getLeft(f),v.y=this.getTop(f),v.width=this.getRight(f)-v.x,v.height=this.getBottom(f)-v.y,v},"getBounds"),getCenterX:r(function(f){return(this.getLeft(f)+this.getRight(f))/2},"getCenterX"),getCenterY:r(function(f){return(this.getTop(f)+this.getBottom(f))/2},"getCenterY"),intersects:r(function(f,v,d,p){return!(d<=this.pixelX||p<=this.pixelY||f>=this.right||v>=this.bottom)},"intersects"),isInteresting:r(function(f,v){return f&&v?this.canCollide||this.hasInterestingFace:f?this.collides:v?this.hasInterestingFace:!1},"isInteresting"),resetCollision:r(function(f){if(f===void 0&&(f=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,f){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},"resetCollision"),resetFaces:r(function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},"resetFaces"),setCollision:r(function(f,v,d,p,g){if(v===void 0&&(v=f),d===void 0&&(d=f),p===void 0&&(p=f),g===void 0&&(g=!0),this.collideLeft=f,this.collideRight=v,this.collideUp=d,this.collideDown=p,this.faceLeft=f,this.faceRight=v,this.faceTop=d,this.faceBottom=p,g){var m=this.tilemapLayer;m&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},"setCollision"),setCollisionCallback:r(function(f,v){return f===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=f,this.collisionCallbackContext=v),this},"setCollisionCallback"),setSize:r(function(f,v,d,p){return f!==void 0&&(this.width=f),v!==void 0&&(this.height=v),d!==void 0&&(this.baseWidth=d),p!==void 0&&(this.baseHeight=p),this.updatePixelXY(),this},"setSize"),updatePixelXY:r(function(){var f=this.layer.orientation;if(f===c.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(f===c.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(f===c.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(f===c.HEXAGONAL){var v=this.layer.staggerAxis,d=this.layer.staggerIndex,p=this.layer.hexSideLength,g,m;v==="y"?(m=(this.baseHeight-p)/2+p,d==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*m):v==="x"&&(g=(this.baseWidth-p)/2+p,this.pixelX=this.x*g,d==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},"updatePixelXY"),destroy:r(function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},"destroy"),canCollide:{get:r(function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0},"get")},collides:{get:r(function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown},"get")},hasInterestingFace:{get:r(function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight},"get")},tileset:{get:r(function(){var f=this.layer.tilemapLayer;if(f){var v=f.gidMap[this.index];if(v)return v}return null},"get")},tilemapLayer:{get:r(function(){return this.layer.tilemapLayer},"get")},tilemap:{get:r(function(){var f=this.tilemapLayer;return f?f.tilemap:null},"get")}});n.exports=h},49075:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84101),T=s(83419),c=s(39506),l=s(80341),u=s(95540),h=s(14977),f=s(27462),v=s(91907),d=s(36305),p=s(19133),g=s(68287),m=s(23029),x=s(81086),E=s(20442),A=s(33629),R=new T({initialize:r(function(O,L){this.scene=O,this.tileWidth=L.tileWidth,this.tileHeight=L.tileHeight,this.width=L.width,this.height=L.height,this.orientation=L.orientation,this.renderOrder=L.renderOrder,this.format=L.format,this.version=L.version,this.properties=L.properties,this.widthInPixels=L.widthInPixels,this.heightInPixels=L.heightInPixels,this.imageCollections=L.imageCollections,this.images=L.images,this.layers=L.layers,this.tiles=L.tiles,this.tilesets=L.tilesets,this.objects=L.objects,this.currentLayerIndex=0,this.hexSideLength=L.hexSideLength;var w=this.orientation;this._convert={WorldToTileXY:x.GetWorldToTileXYFunction(w),WorldToTileX:x.GetWorldToTileXFunction(w),WorldToTileY:x.GetWorldToTileYFunction(w),TileToWorldXY:x.GetTileToWorldXYFunction(w),TileToWorldX:x.GetTileToWorldXFunction(w),TileToWorldY:x.GetTileToWorldYFunction(w),GetTileCorners:x.GetTileCornersFunction(w)}},"Tilemap"),setRenderOrder:r(function(P){var O=["right-down","left-down","right-up","left-up"];return typeof P=="number"&&(P=O[P]),O.indexOf(P)>-1&&(this.renderOrder=P),this},"setRenderOrder"),addTilesetImage:r(function(P,O,L,w,M,b,D,F){if(P===void 0)return null;O==null&&(O=P);var N=this.scene.sys.textures;if(!N.exists(O))return console.warn('Texture key "%s" not found',O),null;var B=N.get(O),Y=this.getTilesetIndex(P);if(Y===null&&this.format===l.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',P,this.tilesets),null;var W=this.tilesets[Y];return W?((L||w)&&W.setTileSize(L,w),(M||b)&&W.setSpacing(M,b),W.setImage(B),W):(L===void 0&&(L=this.tileWidth),w===void 0&&(w=this.tileHeight),M===void 0&&(M=0),b===void 0&&(b=0),D===void 0&&(D=0),F===void 0&&(F={x:0,y:0}),W=new A(P,D,L,w,M,b,void 0,void 0,F),W.setImage(B),this.tilesets.push(W),this.tiles=o(this),W)},"addTilesetImage"),copy:r(function(P,O,L,w,M,b,D,F){return F=this.getLayer(F),F!==null?(x.Copy(P,O,L,w,M,b,D,F),this):null},"copy"),createBlankLayer:r(function(P,O,L,w,M,b,D,F){L===void 0&&(L=0),w===void 0&&(w=0),M===void 0&&(M=this.width),b===void 0&&(b=this.height),D===void 0&&(D=this.tileWidth),F===void 0&&(F=this.tileHeight);var N=this.getLayerIndex(P);if(N!==null)return console.warn("Invalid Tilemap Layer ID: "+P),null;for(var B=new h({name:P,tileWidth:D,tileHeight:F,width:M,height:b,orientation:this.orientation,hexSideLength:this.hexSideLength}),Y,W=0;W<b;W++){Y=[];for(var z=0;z<M;z++)Y.push(new m(B,-1,z,W,D,F,this.tileWidth,this.tileHeight));B.data.push(Y)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var X=new E(this.scene,this,this.currentLayerIndex,O,L,w);return X.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(X),X},"createBlankLayer"),createLayer:r(function(P,O,L,w){var M=this.getLayerIndex(P);if(M===null)return console.warn("Invalid Tilemap Layer ID: "+P),typeof P=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var b=this.layers[M];if(b.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+P),null;this.currentLayerIndex=M,L===void 0&&(L=b.x),w===void 0&&(w=b.y);var D=new E(this.scene,this,M,O,L,w);return D.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(D),D},"createLayer"),createFromObjects:r(function(P,O,L){L===void 0&&(L=!0);var w=[],M=this.getObjectLayer(P);if(!M)return console.warn("createFromObjects: Invalid objectLayerName given: "+P),w;var b=new f(L?this.tilesets:void 0);Array.isArray(O)||(O=[O]);for(var D=M.objects,F=0;F<O.length;F++){var N=O[F],B=u(N,"id",null),Y=u(N,"gid",null),W=u(N,"name",null),z=u(N,"type",null);b.enabled=!u(N,"ignoreTileset",null);for(var X,H=[],V=0;V<D.length;V++)X=D[V],(B===null&&Y===null&&W===null&&z===null||B!==null&&X.id===B||Y!==null&&X.gid===Y||W!==null&&X.name===W||z!==null&&b.getTypeIncludingTile(X)===z)&&H.push(X);for(var G=u(N,"classType",g),k=u(N,"scene",this.scene),U=u(N,"container",null),I=u(N,"key",null),$=u(N,"frame",null),K=0;K<H.length;K++){X=H[K];var Z=new G(k);if(Z.setName(X.name),Z.setPosition(X.x,X.y),b.setTextureAndFrame(Z,I,$,X),X.width&&(Z.displayWidth=X.width),X.height&&(Z.displayHeight=X.height),this.orientation===v.ISOMETRIC){var J=this.tileWidth/this.tileHeight,Q={x:Z.x-Z.y,y:(Z.x+Z.y)/J};Z.x=Q.x,Z.y=Q.y}var q={x:Z.originX*X.width,y:(Z.originY-(X.gid?1:0))*X.height};if(X.rotation){var j=c(X.rotation);d(q,j),Z.rotation=j}Z.x+=q.x,Z.y+=q.y,(X.flippedHorizontal!==void 0||X.flippedVertical!==void 0)&&Z.setFlip(X.flippedHorizontal,X.flippedVertical),X.visible||(Z.visible=!1),b.setPropertiesFromTiledObject(Z,X),U?U.add(Z):k.add.existing(Z),w.push(Z)}}return w},"createFromObjects"),createFromTiles:r(function(P,O,L,w,M,b){return b=this.getLayer(b),b===null?null:x.CreateFromTiles(P,O,L,w,M,b)},"createFromTiles"),fill:r(function(P,O,L,w,M,b,D){return b===void 0&&(b=!0),D=this.getLayer(D),D===null?null:(x.Fill(P,O,L,w,M,b,D),this)},"fill"),filterObjects:r(function(P,O,L){if(typeof P=="string"){var w=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+w),null}return P.objects.filter(O,L)},"filterObjects"),filterTiles:r(function(P,O,L,w,M,b,D,F){return F=this.getLayer(F),F===null?null:x.FilterTiles(P,O,L,w,M,b,D,F)},"filterTiles"),findByIndex:r(function(P,O,L,w){return w=this.getLayer(w),w===null?null:x.FindByIndex(P,O,L,w)},"findByIndex"),findObject:r(function(P,O,L){if(typeof P=="string"){var w=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+w),null}return P.objects.find(O,L)||null},"findObject"),findTile:r(function(P,O,L,w,M,b,D,F){return F=this.getLayer(F),F===null?null:x.FindTile(P,O,L,w,M,b,D,F)},"findTile"),forEachTile:r(function(P,O,L,w,M,b,D,F){return F=this.getLayer(F),F===null?null:(x.ForEachTile(P,O,L,w,M,b,D,F),this)},"forEachTile"),getImageIndex:r(function(P){return this.getIndex(this.images,P)},"getImageIndex"),getImageLayerNames:r(function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(P){return P.name})},"getImageLayerNames"),getIndex:r(function(P,O){for(var L=0;L<P.length;L++)if(P[L].name===O)return L;return null},"getIndex"),getLayer:r(function(P){var O=this.getLayerIndex(P);return O!==null?this.layers[O]:null},"getLayer"),getObjectLayer:r(function(P){var O=this.getIndex(this.objects,P);return O!==null?this.objects[O]:null},"getObjectLayer"),getObjectLayerNames:r(function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(P){return P.name})},"getObjectLayerNames"),getLayerIndex:r(function(P){return P===void 0?this.currentLayerIndex:typeof P=="string"?this.getLayerIndexByName(P):typeof P=="number"&&P<this.layers.length?P:P instanceof E&&P.tilemap===this?P.layerIndex:null},"getLayerIndex"),getLayerIndexByName:r(function(P){return this.getIndex(this.layers,P)},"getLayerIndexByName"),getTileAt:r(function(P,O,L,w){return w=this.getLayer(w),w===null?null:x.GetTileAt(P,O,L,w)},"getTileAt"),getTileAtWorldXY:r(function(P,O,L,w,M){return M=this.getLayer(M),M===null?null:x.GetTileAtWorldXY(P,O,L,w,M)},"getTileAtWorldXY"),getTileLayerNames:r(function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(P){return P.name})},"getTileLayerNames"),getTilesWithin:r(function(P,O,L,w,M,b){return b=this.getLayer(b),b===null?null:x.GetTilesWithin(P,O,L,w,M,b)},"getTilesWithin"),getTilesWithinShape:r(function(P,O,L,w){return w=this.getLayer(w),w===null?null:x.GetTilesWithinShape(P,O,L,w)},"getTilesWithinShape"),getTilesWithinWorldXY:r(function(P,O,L,w,M,b,D){return D=this.getLayer(D),D===null?null:x.GetTilesWithinWorldXY(P,O,L,w,M,b,D)},"getTilesWithinWorldXY"),getTileset:r(function(P){var O=this.getIndex(this.tilesets,P);return O!==null?this.tilesets[O]:null},"getTileset"),getTilesetIndex:r(function(P){return this.getIndex(this.tilesets,P)},"getTilesetIndex"),hasTileAt:r(function(P,O,L){return L=this.getLayer(L),L===null?null:x.HasTileAt(P,O,L)},"hasTileAt"),hasTileAtWorldXY:r(function(P,O,L,w){return w=this.getLayer(w),w===null?null:x.HasTileAtWorldXY(P,O,L,w)},"hasTileAtWorldXY"),layer:{get:r(function(){return this.layers[this.currentLayerIndex]},"get"),set:r(function(P){this.setLayer(P)},"set")},putTileAt:r(function(P,O,L,w,M){return w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:x.PutTileAt(P,O,L,w,M)},"putTileAt"),putTileAtWorldXY:r(function(P,O,L,w,M,b){return w===void 0&&(w=!0),b=this.getLayer(b),b===null?null:x.PutTileAtWorldXY(P,O,L,w,M,b)},"putTileAtWorldXY"),putTilesAt:r(function(P,O,L,w,M){return w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:(x.PutTilesAt(P,O,L,w,M),this)},"putTilesAt"),randomize:r(function(P,O,L,w,M,b){return b=this.getLayer(b),b===null?null:(x.Randomize(P,O,L,w,M,b),this)},"randomize"),calculateFacesAt:r(function(P,O,L){return L=this.getLayer(L),L===null?null:(x.CalculateFacesAt(P,O,L),this)},"calculateFacesAt"),calculateFacesWithin:r(function(P,O,L,w,M){return M=this.getLayer(M),M===null?null:(x.CalculateFacesWithin(P,O,L,w,M),this)},"calculateFacesWithin"),removeLayer:r(function(P){var O=this.getLayerIndex(P);if(O!==null){p(this.layers,O);for(var L=O;L<this.layers.length;L++)this.layers[L].tilemapLayer&&this.layers[L].tilemapLayer.layerIndex--;return this.currentLayerIndex===O&&(this.currentLayerIndex=0),this}else return null},"removeLayer"),destroyLayer:r(function(P){var O=this.getLayerIndex(P);return O!==null?(P=this.layers[O],P.tilemapLayer.destroy(),p(this.layers,O),this.currentLayerIndex===O&&(this.currentLayerIndex=0),this):null},"destroyLayer"),removeAllLayers:r(function(){for(var P=this.layers,O=0;O<P.length;O++)P[O].tilemapLayer&&P[O].tilemapLayer.destroy(!1);return P.length=0,this.currentLayerIndex=0,this},"removeAllLayers"),removeTile:r(function(P,O,L){O===void 0&&(O=-1),L===void 0&&(L=!0);var w=[];Array.isArray(P)||(P=[P]);for(var M=0;M<P.length;M++){var b=P[M];w.push(this.removeTileAt(b.x,b.y,!0,L,b.tilemapLayer)),O>-1&&this.putTileAt(O,b.x,b.y,L,b.tilemapLayer)}return w},"removeTile"),removeTileAt:r(function(P,O,L,w,M){return L===void 0&&(L=!0),w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:x.RemoveTileAt(P,O,L,w,M)},"removeTileAt"),removeTileAtWorldXY:r(function(P,O,L,w,M,b){return L===void 0&&(L=!0),w===void 0&&(w=!0),b=this.getLayer(b),b===null?null:x.RemoveTileAtWorldXY(P,O,L,w,M,b)},"removeTileAtWorldXY"),renderDebug:r(function(P,O,L){return L=this.getLayer(L),L===null?null:(this.orientation===v.ORTHOGONAL&&x.RenderDebug(P,O,L),this)},"renderDebug"),renderDebugFull:r(function(P,O){for(var L=this.layers,w=0;w<L.length;w++)x.RenderDebug(P,O,L[w]);return this},"renderDebugFull"),replaceByIndex:r(function(P,O,L,w,M,b,D){return D=this.getLayer(D),D===null?null:(x.ReplaceByIndex(P,O,L,w,M,b,D),this)},"replaceByIndex"),setCollision:r(function(P,O,L,w,M){return O===void 0&&(O=!0),L===void 0&&(L=!0),M===void 0&&(M=!0),w=this.getLayer(w),w===null?null:(x.SetCollision(P,O,L,w,M),this)},"setCollision"),setCollisionBetween:r(function(P,O,L,w,M){return L===void 0&&(L=!0),w===void 0&&(w=!0),M=this.getLayer(M),M===null?null:(x.SetCollisionBetween(P,O,L,w,M),this)},"setCollisionBetween"),setCollisionByProperty:r(function(P,O,L,w){return O===void 0&&(O=!0),L===void 0&&(L=!0),w=this.getLayer(w),w===null?null:(x.SetCollisionByProperty(P,O,L,w),this)},"setCollisionByProperty"),setCollisionByExclusion:r(function(P,O,L,w){return O===void 0&&(O=!0),L===void 0&&(L=!0),w=this.getLayer(w),w===null?null:(x.SetCollisionByExclusion(P,O,L,w),this)},"setCollisionByExclusion"),setCollisionFromCollisionGroup:r(function(P,O,L){return P===void 0&&(P=!0),O===void 0&&(O=!0),L=this.getLayer(L),L===null?null:(x.SetCollisionFromCollisionGroup(P,O,L),this)},"setCollisionFromCollisionGroup"),setTileIndexCallback:r(function(P,O,L,w){return w=this.getLayer(w),w===null?null:(x.SetTileIndexCallback(P,O,L,w),this)},"setTileIndexCallback"),setTileLocationCallback:r(function(P,O,L,w,M,b,D){return D=this.getLayer(D),D===null?null:(x.SetTileLocationCallback(P,O,L,w,M,b,D),this)},"setTileLocationCallback"),setLayer:r(function(P){var O=this.getLayerIndex(P);return O!==null&&(this.currentLayerIndex=O),this},"setLayer"),setBaseTileSize:r(function(P,O){this.tileWidth=P,this.tileHeight=O,this.widthInPixels=this.width*P,this.heightInPixels=this.height*O;for(var L=0;L<this.layers.length;L++){this.layers[L].baseTileWidth=P,this.layers[L].baseTileHeight=O;for(var w=this.layers[L].data,M=this.layers[L].width,b=this.layers[L].height,D=0;D<b;D++)for(var F=0;F<M;F++){var N=w[D][F];N!==null&&N.setSize(void 0,void 0,P,O)}}return this},"setBaseTileSize"),setLayerTileSize:r(function(P,O,L){if(L=this.getLayer(L),L===null)return this;L.tileWidth=P,L.tileHeight=O;for(var w=L.data,M=L.width,b=L.height,D=0;D<b;D++)for(var F=0;F<M;F++){var N=w[D][F];N!==null&&N.setSize(P,O)}return this},"setLayerTileSize"),shuffle:r(function(P,O,L,w,M){return M=this.getLayer(M),M===null?null:(x.Shuffle(P,O,L,w,M),this)},"shuffle"),swapByIndex:r(function(P,O,L,w,M,b,D){return D=this.getLayer(D),D===null?null:(x.SwapByIndex(P,O,L,w,M,b,D),this)},"swapByIndex"),tileToWorldX:r(function(P,O,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldX(P,O,L)},"tileToWorldX"),tileToWorldY:r(function(P,O,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldY(P,O,L)},"tileToWorldY"),tileToWorldXY:r(function(P,O,L,w,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldXY(P,O,L,w,M)},"tileToWorldXY"),getTileCorners:r(function(P,O,L,w){return w=this.getLayer(w),w===null?null:this._convert.GetTileCorners(P,O,L,w)},"getTileCorners"),weightedRandomize:r(function(P,O,L,w,M,b){return b=this.getLayer(b),b===null?null:(x.WeightedRandomize(O,L,w,M,P,b),this)},"weightedRandomize"),worldToTileX:r(function(P,O,L,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileX(P,O,L,w)},"worldToTileX"),worldToTileY:r(function(P,O,L,w){return w=this.getLayer(w),w===null?null:this._convert.WorldToTileY(P,O,L,w)},"worldToTileY"),worldToTileXY:r(function(P,O,L,w,M,b){return b=this.getLayer(b),b===null?null:this._convert.WorldToTileXY(P,O,L,w,M,b)},"worldToTileXY"),destroy:r(function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null},"destroy")});n.exports=R},45939:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),T=s(31989);o.register("tilemap",function(c){var l=c!==void 0?c:{};return T(this.scene,l.key,l.tileWidth,l.tileHeight,l.width,l.height,l.data,l.insertNull)})},46029:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),T=s(31989);o.register("tilemap",function(c,l,u,h,f,v,d){return c===null&&(c=void 0),l===null&&(l=void 0),u===null&&(u=void 0),h===null&&(h=void 0),f===null&&(f=void 0),T(this.scene,c,l,u,h,f,v,d)})},20442:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(78389),c=s(31401),l=s(95643),u=s(81086),h=s(19218),f=s(26099),v=new o({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,T,h],initialize:r(function(p,g,m,x,E,A){l.call(this,p,"TilemapLayer"),this.isTilemap=!0,this.tilemap=g,this.layerIndex=m,this.layer=g.layers[m],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=u.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new f,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(x),this.setAlpha(this.layer.alpha),this.setPosition(E,A),this.setOrigin(0,0),this.setSize(g.tileWidth*this.layer.width,g.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},"TilemapLayer"),setTilesets:r(function(d){var p=[],g=[],m=this.tilemap;Array.isArray(d)||(d=[d]);for(var x=0;x<d.length;x++){var E=d[x];if(typeof E=="string"&&(E=m.getTileset(E)),E){g.push(E);for(var A=E.firstgid,R=0;R<E.total;R++)p[A+R]=E}}this.gidMap=p,this.tileset=g},"setTilesets"),setRenderOrder:r(function(d){var p=["right-down","left-down","right-up","left-up"];return typeof d=="string"&&(d=p.indexOf(d)),d>=0&&d<4&&(this._renderOrder=d),this},"setRenderOrder"),calculateFacesAt:r(function(d,p){return u.CalculateFacesAt(d,p,this.layer),this},"calculateFacesAt"),calculateFacesWithin:r(function(d,p,g,m){return u.CalculateFacesWithin(d,p,g,m,this.layer),this},"calculateFacesWithin"),createFromTiles:r(function(d,p,g,m,x){return u.CreateFromTiles(d,p,g,m,x,this.layer)},"createFromTiles"),cull:r(function(d){return this.cullCallback(this.layer,d,this.culledTiles,this._renderOrder)},"cull"),copy:r(function(d,p,g,m,x,E,A){return u.Copy(d,p,g,m,x,E,A,this.layer),this},"copy"),fill:r(function(d,p,g,m,x,E){return u.Fill(d,p,g,m,x,E,this.layer),this},"fill"),filterTiles:r(function(d,p,g,m,x,E,A){return u.FilterTiles(d,p,g,m,x,E,A,this.layer)},"filterTiles"),findByIndex:r(function(d,p,g){return u.FindByIndex(d,p,g,this.layer)},"findByIndex"),findTile:r(function(d,p,g,m,x,E,A){return u.FindTile(d,p,g,m,x,E,A,this.layer)},"findTile"),forEachTile:r(function(d,p,g,m,x,E,A){return u.ForEachTile(d,p,g,m,x,E,A,this.layer),this},"forEachTile"),setTint:r(function(d,p,g,m,x,E){d===void 0&&(d=16777215);var A=r(function(R){R.tint=d,R.tintFill=!1},"tintTile");return this.forEachTile(A,this,p,g,m,x,E)},"setTint"),setTintFill:r(function(d,p,g,m,x,E){d===void 0&&(d=16777215);var A=r(function(R){R.tint=d,R.tintFill=!0},"tintTile");return this.forEachTile(A,this,p,g,m,x,E)},"setTintFill"),getTileAt:r(function(d,p,g){return u.GetTileAt(d,p,g,this.layer)},"getTileAt"),getTileAtWorldXY:r(function(d,p,g,m){return u.GetTileAtWorldXY(d,p,g,m,this.layer)},"getTileAtWorldXY"),getIsoTileAtWorldXY:r(function(d,p,g,m,x){g===void 0&&(g=!0);var E=this.tempVec;return u.IsometricWorldToTileXY(d,p,!0,E,x,this.layer,g),this.getTileAt(E.x,E.y,m)},"getIsoTileAtWorldXY"),getTilesWithin:r(function(d,p,g,m,x){return u.GetTilesWithin(d,p,g,m,x,this.layer)},"getTilesWithin"),getTilesWithinShape:r(function(d,p,g){return u.GetTilesWithinShape(d,p,g,this.layer)},"getTilesWithinShape"),getTilesWithinWorldXY:r(function(d,p,g,m,x,E){return u.GetTilesWithinWorldXY(d,p,g,m,x,E,this.layer)},"getTilesWithinWorldXY"),hasTileAt:r(function(d,p){return u.HasTileAt(d,p,this.layer)},"hasTileAt"),hasTileAtWorldXY:r(function(d,p,g){return u.HasTileAtWorldXY(d,p,g,this.layer)},"hasTileAtWorldXY"),putTileAt:r(function(d,p,g,m){return u.PutTileAt(d,p,g,m,this.layer)},"putTileAt"),putTileAtWorldXY:r(function(d,p,g,m,x){return u.PutTileAtWorldXY(d,p,g,m,x,this.layer)},"putTileAtWorldXY"),putTilesAt:r(function(d,p,g,m){return u.PutTilesAt(d,p,g,m,this.layer),this},"putTilesAt"),randomize:r(function(d,p,g,m,x){return u.Randomize(d,p,g,m,x,this.layer),this},"randomize"),removeTileAt:r(function(d,p,g,m){return u.RemoveTileAt(d,p,g,m,this.layer)},"removeTileAt"),removeTileAtWorldXY:r(function(d,p,g,m,x){return u.RemoveTileAtWorldXY(d,p,g,m,x,this.layer)},"removeTileAtWorldXY"),renderDebug:r(function(d,p){return u.RenderDebug(d,p,this.layer),this},"renderDebug"),replaceByIndex:r(function(d,p,g,m,x,E){return u.ReplaceByIndex(d,p,g,m,x,E,this.layer),this},"replaceByIndex"),setSkipCull:r(function(d){return d===void 0&&(d=!0),this.skipCull=d,this},"setSkipCull"),setCullPadding:r(function(d,p){return d===void 0&&(d=1),p===void 0&&(p=1),this.cullPaddingX=d,this.cullPaddingY=p,this},"setCullPadding"),setCollision:r(function(d,p,g,m){return u.SetCollision(d,p,g,this.layer,m),this},"setCollision"),setCollisionBetween:r(function(d,p,g,m){return u.SetCollisionBetween(d,p,g,m,this.layer),this},"setCollisionBetween"),setCollisionByProperty:r(function(d,p,g){return u.SetCollisionByProperty(d,p,g,this.layer),this},"setCollisionByProperty"),setCollisionByExclusion:r(function(d,p,g){return u.SetCollisionByExclusion(d,p,g,this.layer),this},"setCollisionByExclusion"),setCollisionFromCollisionGroup:r(function(d,p){return u.SetCollisionFromCollisionGroup(d,p,this.layer),this},"setCollisionFromCollisionGroup"),setTileIndexCallback:r(function(d,p,g){return u.SetTileIndexCallback(d,p,g,this.layer),this},"setTileIndexCallback"),setTileLocationCallback:r(function(d,p,g,m,x,E){return u.SetTileLocationCallback(d,p,g,m,x,E,this.layer),this},"setTileLocationCallback"),shuffle:r(function(d,p,g,m){return u.Shuffle(d,p,g,m,this.layer),this},"shuffle"),swapByIndex:r(function(d,p,g,m,x,E){return u.SwapByIndex(d,p,g,m,x,E,this.layer),this},"swapByIndex"),tileToWorldX:r(function(d,p){return this.tilemap.tileToWorldX(d,p,this)},"tileToWorldX"),tileToWorldY:r(function(d,p){return this.tilemap.tileToWorldY(d,p,this)},"tileToWorldY"),tileToWorldXY:r(function(d,p,g,m){return this.tilemap.tileToWorldXY(d,p,g,m,this)},"tileToWorldXY"),getTileCorners:r(function(d,p,g){return this.tilemap.getTileCorners(d,p,g,this)},"getTileCorners"),weightedRandomize:r(function(d,p,g,m,x){return u.WeightedRandomize(p,g,m,x,d,this.layer),this},"weightedRandomize"),worldToTileX:r(function(d,p,g){return this.tilemap.worldToTileX(d,p,g,this)},"worldToTileX"),worldToTileY:r(function(d,p,g){return this.tilemap.worldToTileY(d,p,g,this)},"worldToTileY"),worldToTileXY:r(function(d,p,g,m,x){return this.tilemap.worldToTileXY(d,p,g,m,x,this)},"worldToTileXY"),destroy:r(function(d){d===void 0&&(d=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),d&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],l.prototype.destroy.call(this))},"destroy")});n.exports=v},16153:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61340),T=new o,c=new o,l=new o,u=r(function(h,f,v,d){var p=f.cull(v),g=p.length,m=v.alpha*f.alpha;if(!(g===0||m<=0)){var x=T,E=c,A=l;E.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),x.copyFrom(v.matrix);var R=h.currentContext,P=f.gidMap;R.save(),d?(x.multiplyWithOffset(d,-v.scrollX*f.scrollFactorX,-v.scrollY*f.scrollFactorY),E.e=f.x,E.f=f.y,x.multiply(E,A),A.copyToContext(R)):(E.e-=v.scrollX*f.scrollFactorX,E.f-=v.scrollY*f.scrollFactorY,E.copyToContext(R)),(!h.antialias||f.scaleX>1||f.scaleY>1)&&(R.imageSmoothingEnabled=!1);for(var O=0;O<g;O++){var L=p[O],w=P[L.index];if(w){var M=w.image.getSourceImage(),b=w.getTileTextureCoordinates(L.index),D=w.tileWidth,F=w.tileHeight;if(!(b===null||D===0||F===0)){var N=D*.5,B=F*.5;b.x+=w.tileOffset.x,b.y+=w.tileOffset.y,R.save(),R.translate(L.pixelX+N,L.pixelY+B),L.rotation!==0&&R.rotate(L.rotation),(L.flipX||L.flipY)&&R.scale(L.flipX?-1:1,L.flipY?-1:1),R.globalAlpha=m*L.alpha,R.drawImage(M,b.x,b.y,D,F,-N,-B,D,F),R.restore()}}}R.restore()}},"TilemapLayerCanvasRenderer");n.exports=u},19218:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),T=o,c=o;T=s(99558),c=s(16153),n.exports={renderWebGL:T,renderCanvas:c}},99558:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),T=r(function(c,l,u){var h=l.cull(u),f=h.length,v=u.alpha*l.alpha;if(!(f===0||v<=0)){var d=l.gidMap,p=c.pipelines.set(l.pipeline,l),g=o.getTintAppendFloatAlpha,m=l.scrollFactorX,x=l.scrollFactorY,E=l.x,A=l.y,R=l.scaleX,P=l.scaleY;c.pipelines.preBatch(l);for(var O=0;O<f;O++){var L=h[O],w=d[L.index];if(w){var M=w.getTileTextureCoordinates(L.index),b=w.tileWidth,D=w.tileHeight;if(!(!M||b===0||D===0)){var F=b*.5,N=D*.5,B=w.glTexture,Y=p.setTexture2D(B,l),W=b,z=D,X=M.x,H=M.y,V=w.tileOffset.x,G=w.tileOffset.y,k=g(L.tint,v*L.alpha);p.batchTexture(l,B,B.width,B.height,E+L.pixelX*R+(F*R-V),A+L.pixelY*P+(N*P-G),b,D,R,P,L.rotation,L.flipX,L.flipY,m,x,F,N,X,H,W,z,k,k,k,k,L.tintFill,0,0,u,null,!0,Y,!0)}}}c.pipelines.postBatch(l)}},"TilemapLayerWebGLRenderer");n.exports=T},33629:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(26099),c=new o({initialize:r(function(u,h,f,v,d,p,g,m,x){(f===void 0||f<=0)&&(f=32),(v===void 0||v<=0)&&(v=32),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g={}),m===void 0&&(m={}),this.name=u,this.firstgid=h,this.tileWidth=f,this.tileHeight=v,this.tileMargin=d,this.tileSpacing=p,this.tileProperties=g,this.tileData=m,this.tileOffset=new T,x!==void 0&&this.tileOffset.set(x.x,x.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},"Tileset"),getTileProperties:r(function(l){return this.containsTileIndex(l)?this.tileProperties[l-this.firstgid]:null},"getTileProperties"),getTileData:r(function(l){return this.containsTileIndex(l)?this.tileData[l-this.firstgid]:null},"getTileData"),getTileCollisionGroup:r(function(l){var u=this.getTileData(l);return u&&u.objectgroup?u.objectgroup:null},"getTileCollisionGroup"),containsTileIndex:r(function(l){return l>=this.firstgid&&l<this.firstgid+this.total},"containsTileIndex"),getTileTextureCoordinates:r(function(l){return this.containsTileIndex(l)?this.texCoordinates[l-this.firstgid]:null},"getTileTextureCoordinates"),setImage:r(function(l){this.image=l;var u=l.get(),h=l.getFrameBounds();return this.glTexture=u.source.glTexture,u.width>h.width||u.height>h.height?this.updateTileData(u.width,u.height):this.updateTileData(h.width,h.height,h.x,h.y),this},"setImage"),setTileSize:r(function(l,u){return l!==void 0&&(this.tileWidth=l),u!==void 0&&(this.tileHeight=u),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},"setTileSize"),setSpacing:r(function(l,u){return l!==void 0&&(this.tileMargin=l),u!==void 0&&(this.tileSpacing=u),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},"setSpacing"),updateTileData:r(function(l,u,h,f){h===void 0&&(h=0),f===void 0&&(f=0);var v=(u-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),d=(l-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(v%1!==0||d%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),v=Math.floor(v),d=Math.floor(d),this.rows=v,this.columns=d,this.total=v*d,this.texCoordinates.length=0;for(var p=this.tileMargin+h,g=this.tileMargin+f,m=0;m<this.rows;m++){for(var x=0;x<this.columns;x++)this.texCoordinates.push({x:p,y:g}),p+=this.tileWidth+this.tileSpacing;p=this.tileMargin+h,g+=this.tileHeight+this.tileSpacing}return this},"updateTileData")});n.exports=c},72023:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7423),T=r(function(c,l,u){var h=o(c,l,!0,u),f=o(c,l-1,!0,u),v=o(c,l+1,!0,u),d=o(c-1,l,!0,u),p=o(c+1,l,!0,u),g=h&&h.collides;return g&&(h.faceTop=!0,h.faceBottom=!0,h.faceLeft=!0,h.faceRight=!0),f&&f.collides&&(g&&(h.faceTop=!1),f.faceBottom=!g),v&&v.collides&&(g&&(h.faceBottom=!1),v.faceTop=!g),d&&d.collides&&(g&&(h.faceLeft=!1),d.faceRight=!g),p&&p.collides&&(g&&(h.faceRight=!1),p.faceLeft=!g),h&&!h.collides&&h.resetFaces(),h},"CalculateFacesAt");n.exports=T},42573:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7423),T=s(7386),c=r(function(l,u,h,f,v){for(var d=null,p=null,g=null,m=null,x=T(l,u,h,f,null,v),E=0;E<x.length;E++){var A=x[E];A&&(A.collides?(d=o(A.x,A.y-1,!0,v),p=o(A.x,A.y+1,!0,v),g=o(A.x-1,A.y,!0,v),m=o(A.x+1,A.y,!0,v),A.faceTop=!(d&&d.collides),A.faceBottom=!(p&&p.collides),A.faceLeft=!(g&&g.collides),A.faceRight=!(m&&m.collides)):A.resetFaces())}},"CalculateFacesWithin");n.exports=c},33528:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=new o,c=r(function(l,u,h,f){var v=h.tilemapLayer,d=v.cullPaddingX,p=v.cullPaddingY,g=v.tilemap.tileToWorldXY(l,u,T,f,v);return g.x>f.worldView.x+v.scaleX*h.tileWidth*(-d-.5)&&g.x<f.worldView.right+v.scaleX*h.tileWidth*(d-.5)&&g.y>f.worldView.y+v.scaleY*h.tileHeight*(-p-1)&&g.y<f.worldView.bottom+v.scaleY*h.tileHeight*(p-.5)},"CheckIsoBounds");n.exports=c},1785:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42573),T=s(7386),c=s(62991),l=s(23029),u=r(function(h,f,v,d,p,g,m,x){m===void 0&&(m=!0);var E=T(h,f,v,d,null,x),A=[];E.forEach(function(b){var D=new l(b.layer,b.index,b.x,b.y,b.width,b.height,b.baseWidth,b.baseHeight);D.copy(b),A.push(D)});for(var R=p-h,P=g-f,O=0;O<A.length;O++){var L=A[O],w=L.x+R,M=L.y+P;c(w,M,x)&&x.data[M][w]&&(L.x=w,L.y=M,L.updatePixelXY(),x.data[M][w]=L)}m&&o(p-1,g-1,v+2,d+2,x),E.length=0,A.length=0},"Copy");n.exports=u},78419:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62644),T=s(7386),c=s(27987),l=r(function(u,h,f,v,d,p){f||(f={}),Array.isArray(u)||(u=[u]);var g=p.tilemapLayer;v||(v=g.scene),d||(d=v.cameras.main);var m=p.width,x=p.height,E=T(0,0,m,x,null,p),A=[],R,P=r(function(M,b,D){for(var F=0;F<D.length;F++){var N=D[F];M.hasOwnProperty(N)||(M[N]=b[N])}},"mergeExtras");for(R=0;R<E.length;R++){var O=E[R],L=o(f);if(u.indexOf(O.index)!==-1){var w=g.tileToWorldXY(O.x,O.y,void 0,d,p);L.x=w.x,L.y=w.y,P(L,O,["rotation","flipX","flipY","alpha","visible","tint"]),L.hasOwnProperty("origin")||(L.x+=O.width*.5,L.y+=O.height*.5),L.hasOwnProperty("useSpriteSheet")&&(L.key=O.tileset.image,L.frame=O.index-O.tileset.firstgid),A.push(v.make.sprite(L))}}if(Array.isArray(h))for(R=0;R<u.length;R++)c(u[R],h[R],0,0,m,x,p);else if(h!==null)for(R=0;R<u.length;R++)c(u[R],h,0,0,m,x,p);return A},"CreateFromTiles");n.exports=l},19545:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),T=s(63448),c=s(56583),l=new o,u=r(function(h,f){var v=h.tilemapLayer.tilemap,d=h.tilemapLayer,p=Math.floor(v.tileWidth*d.scaleX),g=Math.floor(v.tileHeight*d.scaleY),m=c(f.worldView.x-d.x,p,0,!0)-d.cullPaddingX,x=T(f.worldView.right-d.x,p,0,!0)+d.cullPaddingX,E=c(f.worldView.y-d.y,g,0,!0)-d.cullPaddingY,A=T(f.worldView.bottom-d.y,g,0,!0)+d.cullPaddingY;return l.setTo(m,E,x-m,A-E)},"CullBounds");n.exports=u},30003:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19545),T=s(32483),c=r(function(l,u,h,f){h===void 0&&(h=[]),f===void 0&&(f=0),h.length=0;var v=l.tilemapLayer,d=o(l,u);return(v.skipCull||v.scrollFactorX!==1||v.scrollFactorY!==1)&&(d.left=0,d.right=l.width,d.top=0,d.bottom=l.height),T(l,d,f,h),h},"CullTiles");n.exports=c},35137:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=s(42573),c=s(20576),l=r(function(u,h,f,v,d,p,g){for(var m=g.collideIndexes.indexOf(u)!==-1,x=o(h,f,v,d,null,g),E=0;E<x.length;E++)x[E].index=u,c(x[E],m);p&&T(h-1,f-1,v+2,d+2,g)},"Fill");n.exports=l},40253:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=r(function(c,l,u,h,f,v,d,p){var g=o(u,h,f,v,d,p);return g.filter(c,l)},"FilterTiles");n.exports=T},52692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){o===void 0&&(o=0),T===void 0&&(T=!1);var l=0,u,h,f;if(T){for(h=c.height-1;h>=0;h--)for(u=c.width-1;u>=0;u--)if(f=c.data[h][u],f&&f.index===s){if(l===o)return f;l+=1}}else for(h=0;h<c.height;h++)for(u=0;u<c.width;u++)if(f=c.data[h][u],f&&f.index===s){if(l===o)return f;l+=1}return null},"FindByIndex");n.exports=C},66151:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=r(function(c,l,u,h,f,v,d,p){var g=o(u,h,f,v,d,p);return g.find(c,l)||null},"FindTile");n.exports=T},97560:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=r(function(c,l,u,h,f,v,d,p){var g=o(u,h,f,v,d,p);g.forEach(c,l)},"ForEachTile");n.exports=T},43305:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),T=s(30003),c=s(9474),l=s(14018),u=s(29747),h=s(54503),f=r(function(v){return v===o.ORTHOGONAL?T:v===o.HEXAGONAL?c:v===o.STAGGERED?h:v===o.ISOMETRIC?l:u},"GetCullTilesFunction");n.exports=f},7423:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62991),T=r(function(c,l,u,h){if(o(c,l,h)){var f=h.data[l][c]||null;return f?f.index===-1?u?f:null:f:null}else return null},"GetTileAt");n.exports=T},60540:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7423),T=s(26099),c=new T,l=r(function(u,h,f,v,d){return d.tilemapLayer.worldToTileXY(u,h,!0,c,v),o(c.x,c.y,f,d)},"GetTileAtWorldXY");n.exports=l},55826:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=r(function(c,l,u,h){var f=h.baseTileWidth,v=h.baseTileHeight,d=h.tilemapLayer,p=0,g=0;d&&(u||(u=d.scene.cameras.main),p=d.x+u.scrollX*(1-d.scrollFactorX),g=d.y+u.scrollY*(1-d.scrollFactorY),f*=d.scaleX,v*=d.scaleY);var m=p+c*f,x=g+l*v;return[new o(m,x),new o(m+f,x),new o(m+f,x+v),new o(m,x+v)]},"GetTileCorners");n.exports=T},11758:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),T=s(27229),c=s(29747),l=s(55826),u=r(function(h){return h===o.ORTHOGONAL?l:h===o.ISOMETRIC?c:h===o.HEXAGONAL?T:(h===o.STAGGERED,c)},"GetTileCornersFunction");n.exports=u},39167:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),T=s(29747),c=s(97281),l=r(function(u){return u===o.ORTHOGONAL?c:T},"GetTileToWorldXFunction");n.exports=l},62e3:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),T=s(19951),c=s(14127),l=s(29747),u=s(97202),h=s(70326),f=r(function(v){return v===o.ORTHOGONAL?h:v===o.ISOMETRIC?c:v===o.HEXAGONAL?T:v===o.STAGGERED?u:l},"GetTileToWorldXYFunction");n.exports=f},5984:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),T=s(29747),c=s(28054),l=s(29650),u=r(function(h){return h===o.ORTHOGONAL?l:h===o.STAGGERED?c:T},"GetTileToWorldYFunction");n.exports=u},7386:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),T=r(function(c,l,u,h,f,v){c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=v.width),h===void 0&&(h=v.height),f||(f={});var d=o(f,"isNotEmpty",!1),p=o(f,"isColliding",!1),g=o(f,"hasInterestingFace",!1);c<0&&(u+=c,c=0),l<0&&(h+=l,l=0),c+u>v.width&&(u=Math.max(v.width-c,0)),l+h>v.height&&(h=Math.max(v.height-l,0));for(var m=[],x=l;x<l+h;x++)for(var E=c;E<c+u;E++){var A=v.data[x][E];if(A!==null){if(d&&A.index===-1||p&&!A.collides||g&&!A.hasInterestingFace)continue;m.push(A)}}return m},"GetTilesWithin");n.exports=T},91141:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(55738),T=s(7386),c=s(91865),l=s(29747),u=s(26099),h=s(91907),f=r(function(m,x){return c.RectangleToTriangle(x,m)},"TriangleToRectangle"),v=new u,d=new u,p=new u,g=r(function(m,x,E,A){if(A.orientation!==h.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(m===void 0)return[];var R=l;m instanceof o.Circle?R=c.CircleToRectangle:m instanceof o.Rectangle?R=c.RectangleToRectangle:m instanceof o.Triangle?R=f:m instanceof o.Line&&(R=c.LineToRectangle),A.tilemapLayer.worldToTileXY(m.left,m.top,!0,d,E);var P=d.x,O=d.y;A.tilemapLayer.worldToTileXY(m.right,m.bottom,!1,p,E);var L=Math.ceil(p.x),w=Math.ceil(p.y),M=Math.max(L-P,1),b=Math.max(w-O,1),D=T(P,O,M,b,x,A),F=A.tileWidth,N=A.tileHeight;A.tilemapLayer&&(F*=A.tilemapLayer.scaleX,N*=A.tilemapLayer.scaleY);for(var B=[],Y=new o.Rectangle(0,0,F,N),W=0;W<D.length;W++){var z=D[W];A.tilemapLayer.tileToWorldXY(z.x,z.y,v,E),Y.x=v.x,Y.y=v.y,R(m,Y)&&B.push(z)}return B},"GetTilesWithinShape");n.exports=g},96523:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=s(26099),c=new T,l=new T,u=r(function(h,f,v,d,p,g,m){var x=m.tilemapLayer.tilemap._convert.WorldToTileXY;x(h,f,!0,c,g,m);var E=c.x,A=c.y;x(h+v,f+d,!1,l,g,m);var R=Math.ceil(l.x),P=Math.ceil(l.y);return o(E,A,R-E,P-A,p,m)},"GetTilesWithinWorldXY");n.exports=u},96113:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),T=s(20242),c=s(10095),l=r(function(u){return u===o.ORTHOGONAL?c:T},"GetWorldToTileXFunction");n.exports=l},16926:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),T=s(86625),c=s(96897),l=s(29747),u=s(15108),h=s(85896),f=r(function(v){return v===o.ORTHOGONAL?h:v===o.ISOMETRIC?c:v===o.HEXAGONAL?T:v===o.STAGGERED?u:l},"GetWorldToTileXYFunction");n.exports=f},55762:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),T=s(20242),c=s(51900),l=s(63288),u=r(function(h){return h===o.ORTHOGONAL?l:h===o.STAGGERED?c:T},"GetWorldToTileYFunction");n.exports=u},45091:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62991),T=r(function(c,l,u){if(o(c,l,u)){var h=u.data[l][c];return h!==null&&h.index>-1}else return!1},"HasTileAt");n.exports=T},24152:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45091),T=s(26099),c=new T,l=r(function(u,h,f,v){v.tilemapLayer.worldToTileXY(u,h,!0,c,f);var d=c.x,p=c.y;return o(d,p,v)},"HasTileAtWorldXY");n.exports=l},90454:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63448),T=s(56583),c=r(function(l,u){var h=l.tilemapLayer.tilemap,f=l.tilemapLayer,v=Math.floor(h.tileWidth*f.scaleX),d=Math.floor(h.tileHeight*f.scaleY),p=l.hexSideLength,g,m,x,E;if(l.staggerAxis==="y"){var A=(d-p)/2+p;g=T(u.worldView.x-f.x,v,0,!0)-f.cullPaddingX,m=o(u.worldView.right-f.x,v,0,!0)+f.cullPaddingX,x=T(u.worldView.y-f.y,A,0,!0)-f.cullPaddingY,E=o(u.worldView.bottom-f.y,A,0,!0)+f.cullPaddingY}else{var R=(v-p)/2+p;g=T(u.worldView.x-f.x,R,0,!0)-f.cullPaddingX,m=o(u.worldView.right-f.x,R,0,!0)+f.cullPaddingX,x=T(u.worldView.y-f.y,d,0,!0)-f.cullPaddingY,E=o(u.worldView.bottom-f.y,d,0,!0)+f.cullPaddingY}return{left:g,right:m,top:x,bottom:E}},"HexagonalCullBounds");n.exports=c},9474:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(90454),T=s(32483),c=r(function(l,u,h,f){h===void 0&&(h=[]),f===void 0&&(f=0),h.length=0;var v=l.tilemapLayer,d=o(l,u);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(d.left=0,d.right=l.width,d.top=0,d.bottom=l.height),T(l,d,f,h),h},"HexagonalCullTiles");n.exports=c},27229:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19951),T=s(26099),c=new T,l=r(function(u,h,f,v){var d=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(d*=g.scaleX,p*=g.scaleY);var m=o(u,h,c,f,v),x=[],E=.5773502691896257,A,R;v.staggerAxis==="y"?(A=E*d,R=p/2):(A=d/2,R=E*p);for(var P=0;P<6;P++){var O=2*Math.PI*(.5-P)/6;x.push(new T(m.x+A*Math.cos(O),m.y+R*Math.sin(O)))}return x},"HexagonalGetTileCorners");n.exports=l},19951:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=r(function(c,l,u,h,f){u||(u=new o);var v=f.baseTileWidth,d=f.baseTileHeight,p=f.tilemapLayer,g=0,m=0;p&&(h||(h=p.scene.cameras.main),g=p.x+h.scrollX*(1-p.scrollFactorX),m=p.y+h.scrollY*(1-p.scrollFactorY),v*=p.scaleX,d*=p.scaleY);var x=v/2,E=d/2,A,R,P=f.staggerAxis,O=f.staggerIndex;return P==="y"?(A=g+v*c+v,R=m+1.5*l*E+E,l%2===0&&(O==="odd"?A-=x:A+=x)):P==="x"&&O==="odd"&&(A=g+1.5*c*x+x,R=m+d*c+d,c%2===0&&(O==="odd"?R-=E:R+=E)),u.set(A,R)},"HexagonalTileToWorldXY");n.exports=T},86625:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=r(function(c,l,u,h,f,v){h||(h=new o);var d=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(f||(f=g.scene.cameras.main),c=c-(g.x+f.scrollX*(1-g.scrollFactorX)),l=l-(g.y+f.scrollY*(1-g.scrollFactorY)),d*=g.scaleX,p*=g.scaleY);var m=.5773502691896257,x=-.3333333333333333,E=0,A=.6666666666666666,R=d/2,P=p/2,O,L,w,M,b;v.staggerAxis==="y"?(O=(c-R)/(m*d),L=(l-P)/P,w=m*O+x*L,M=E*O+A*L):(O=(c-R)/R,L=(l-P)/(m*p),w=x*O+m*L,M=A*O+E*L),b=-w-M;var D=Math.round(w),F=Math.round(M),N=Math.round(b),B=Math.abs(D-w),Y=Math.abs(F-M),W=Math.abs(N-b);B>Y&&B>W?D=-F-N:Y>W&&(F=-D-N);var z,X=F;return v.staggerIndex==="odd"?z=X%2===0?F/2+D:F/2+D-.5:z=X%2===0?F/2+D:F/2+D+.5,h.set(z,X)},"HexagonalWorldToTileXY");n.exports=T},62991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s>=0&&s<T.width&&o>=0&&o<T.height},"IsInLayerBounds");n.exports=C},14018:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33528),T=r(function(c,l,u,h){u===void 0&&(u=[]),h===void 0&&(h=0),u.length=0;var f=c.tilemapLayer,v=c.data,d=c.width,p=c.height,g=f.skipCull,m=0,x=d,E=0,A=p,R,P,O;if(h===0)for(P=E;P<A;P++)for(R=m;R<x;R++)O=v[P][R],!(!O||O.index===-1||!O.visible||O.alpha===0)&&(!g&&!o(R,P,c,l)||u.push(O));else if(h===1)for(P=E;P<A;P++)for(R=x;R>=m;R--)O=v[P][R],!(!O||O.index===-1||!O.visible||O.alpha===0)&&(!g&&!o(R,P,c,l)||u.push(O));else if(h===2)for(P=A;P>=E;P--)for(R=m;R<x;R++)O=v[P][R],!(!O||O.index===-1||!O.visible||O.alpha===0)&&(!g&&!o(R,P,c,l)||u.push(O));else if(h===3)for(P=A;P>=E;P--)for(R=x;R>=m;R--)O=v[P][R],!(!O||O.index===-1||!O.visible||O.alpha===0)&&(!g&&!o(R,P,c,l)||u.push(O));return f.tilesDrawn=u.length,f.tilesTotal=d*p,u},"IsometricCullTiles");n.exports=T},14127:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=r(function(c,l,u,h,f){u||(u=new o);var v=f.baseTileWidth,d=f.baseTileHeight,p=f.tilemapLayer,g=0,m=0;p&&(h||(h=p.scene.cameras.main),g=p.x+h.scrollX*(1-p.scrollFactorX),v*=p.scaleX,m=p.y+h.scrollY*(1-p.scrollFactorY),d*=p.scaleY);var x=g+(c-l)*(v/2),E=m+(c+l)*(d/2);return u.set(x,E)},"IsometricTileToWorldXY");n.exports=T},96897:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=r(function(c,l,u,h,f,v,d){h||(h=new o);var p=v.baseTileWidth,g=v.baseTileHeight,m=v.tilemapLayer;m&&(f||(f=m.scene.cameras.main),l=l-(m.y+f.scrollY*(1-m.scrollFactorY)),g*=m.scaleY,c=c-(m.x+f.scrollX*(1-m.scrollFactorX)),p*=m.scaleX);var x=p/2,E=g/2;c=c-x,d||(l=l-g);var A=.5*(c/x+l/E),R=.5*(-c/x+l/E);return u&&(A=Math.floor(A),R=Math.floor(R)),h.set(A,R)},"IsometricWorldToTileXY");n.exports=T},71558:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23029),T=s(62991),c=s(72023),l=s(20576),u=r(function(h,f,v,d,p){if(d===void 0&&(d=!0),!T(f,v,p))return null;var g,m=p.data[v][f],x=m&&m.collides;h instanceof o?(p.data[v][f]===null&&(p.data[v][f]=new o(p,h.index,f,v,p.tileWidth,p.tileHeight)),p.data[v][f].copy(h)):(g=h,p.data[v][f]===null?p.data[v][f]=new o(p,g,f,v,p.tileWidth,p.tileHeight):p.data[v][f].index=g);var E=p.data[v][f],A=p.collideIndexes.indexOf(E.index)!==-1;if(g=h instanceof o?h.index:h,g===-1)E.width=p.tileWidth,E.height=p.tileHeight;else{var R=p.tilemapLayer.tilemap,P=R.tiles,O=P[g][2],L=R.tilesets[O];E.width=L.tileWidth,E.height=L.tileHeight}return l(E,A),d&&x!==E.collides&&c(f,v,p),E},"PutTileAt");n.exports=u},26303:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71558),T=s(26099),c=new T,l=r(function(u,h,f,v,d,p){return p.tilemapLayer.worldToTileXY(h,f,!0,c,d,p),o(u,c.x,c.y,v,p)},"PutTileAtWorldXY");n.exports=l},14051:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42573),T=s(71558),c=r(function(l,u,h,f,v){if(f===void 0&&(f=!0),!Array.isArray(l))return null;Array.isArray(l[0])||(l=[l]);for(var d=l.length,p=l[0].length,g=0;g<d;g++)for(var m=0;m<p;m++){var x=l[g][m];T(x,u+m,h+g,!1,v)}f&&o(u-1,h-1,p+2,d+2,v)},"PutTilesAt");n.exports=c},77389:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=s(26546),c=r(function(l,u,h,f,v,d){var p,g=o(l,u,h,f,{},d);if(!v)for(v=[],p=0;p<g.length;p++)v.indexOf(g[p].index)===-1&&v.push(g[p].index);for(p=0;p<g.length;p++)g[p].index=T(v)},"Randomize");n.exports=c},63557:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23029),T=s(62991),c=s(72023),l=r(function(u,h,f,v,d){if(f===void 0&&(f=!0),v===void 0&&(v=!0),!T(u,h,d))return null;var p=d.data[h][u];if(p)d.data[h][u]=f?null:new o(d,-1,u,h,d.tileWidth,d.tileHeight);else return null;return v&&p&&p.collides&&c(u,h,d),p},"RemoveTileAt");n.exports=l},94178:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63557),T=s(26099),c=new T,l=r(function(u,h,f,v,d,p){return p.tilemapLayer.worldToTileXY(u,h,!0,c,d,p),o(c.x,c.y,f,v,p)},"RemoveTileAtWorldXY");n.exports=l},15533:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=s(3956),c=new T(105,210,231,150),l=new T(243,134,48,200),u=new T(40,39,37,150),h=r(function(f,v,d){v===void 0&&(v={});var p=v.tileColor!==void 0?v.tileColor:c,g=v.collidingTileColor!==void 0?v.collidingTileColor:l,m=v.faceColor!==void 0?v.faceColor:u,x=o(0,0,d.width,d.height,null,d);f.translateCanvas(d.tilemapLayer.x,d.tilemapLayer.y),f.scaleCanvas(d.tilemapLayer.scaleX,d.tilemapLayer.scaleY);for(var E=0;E<x.length;E++){var A=x[E],R=A.tileset?A.tileset.tileOffset:{x:0,y:0},P=A.width,O=A.height,L=A.pixelX-R.x,w=A.pixelY-R.y,M=A.collides?g:p;M!==null&&(f.fillStyle(M.color,M.alpha/255),f.fillRect(L,w,P,O)),L+=1,w+=1,P-=2,O-=2,m!==null&&(f.lineStyle(1,m.color,m.alpha/255),A.faceTop&&f.lineBetween(L,w,L+P,w),A.faceRight&&f.lineBetween(L+P,w,L+P,w+O),A.faceBottom&&f.lineBetween(L,w+O,L+P,w+O),A.faceLeft&&f.lineBetween(L,w,L,w+O))}},"RenderDebug");n.exports=h},27987:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=r(function(c,l,u,h,f,v,d){for(var p=o(u,h,f,v,null,d),g=0;g<p.length;g++)p[g]&&p[g].index===c&&(p[g].index=l)},"ReplaceByIndex");n.exports=T},32483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=s.data,u=s.width,h=s.height,f=s.tilemapLayer,v=Math.max(0,o.left),d=Math.min(u,o.right),p=Math.max(0,o.top),g=Math.min(h,o.bottom),m,x,E;if(T===0)for(x=p;x<g;x++)for(m=v;l[x]&&m<d;m++)E=l[x][m],!(!E||E.index===-1||!E.visible||E.alpha===0)&&c.push(E);else if(T===1)for(x=p;x<g;x++)for(m=d;l[x]&&m>=v;m--)E=l[x][m],!(!E||E.index===-1||!E.visible||E.alpha===0)&&c.push(E);else if(T===2)for(x=g;x>=p;x--)for(m=v;l[x]&&m<d;m++)E=l[x][m],!(!E||E.index===-1||!E.visible||E.alpha===0)&&c.push(E);else if(T===3)for(x=g;x>=p;x--)for(m=d;l[x]&&m>=v;m--)E=l[x][m],!(!E||E.index===-1||!E.visible||E.alpha===0)&&c.push(E);return f.tilesDrawn=c.length,f.tilesTotal=u*h,c},"RunCull");n.exports=C},57068:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),T=s(42573),c=s(9589),l=r(function(u,h,f,v,d){h===void 0&&(h=!0),f===void 0&&(f=!0),d===void 0&&(d=!0),Array.isArray(u)||(u=[u]);for(var p=0;p<u.length;p++)c(u[p],h,v);if(d)for(var g=0;g<v.height;g++)for(var m=0;m<v.width;m++){var x=v.data[g][m];x&&u.indexOf(x.index)!==-1&&o(x,h)}f&&T(0,0,v.width,v.height,v)},"SetCollision");n.exports=l},37266:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),T=s(42573),c=s(9589),l=r(function(u,h,f,v,d,p){if(f===void 0&&(f=!0),v===void 0&&(v=!0),p===void 0&&(p=!0),!(u>h)){for(var g=u;g<=h;g++)c(g,f,d);if(p)for(var m=0;m<d.height;m++)for(var x=0;x<d.width;x++){var E=d.data[m][x];E&&E.index>=u&&E.index<=h&&o(E,f)}v&&T(0,0,d.width,d.height,d)}},"SetCollisionBetween");n.exports=l},75661:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),T=s(42573),c=s(9589),l=r(function(u,h,f,v){h===void 0&&(h=!0),f===void 0&&(f=!0),Array.isArray(u)||(u=[u]);for(var d=0;d<v.height;d++)for(var p=0;p<v.width;p++){var g=v.data[d][p];g&&u.indexOf(g.index)===-1&&(o(g,h),c(g.index,h,v))}f&&T(0,0,v.width,v.height,v)},"SetCollisionByExclusion");n.exports=l},64740:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),T=s(42573),c=s(97022),l=r(function(u,h,f,v){h===void 0&&(h=!0),f===void 0&&(f=!0);for(var d=0;d<v.height;d++)for(var p=0;p<v.width;p++){var g=v.data[d][p];if(g){for(var m in u)if(c(g.properties,m)){var x=u[m];Array.isArray(x)||(x=[x]);for(var E=0;E<x.length;E++)g.properties[m]===x[E]&&o(g,h)}}}f&&T(0,0,v.width,v.height,v)},"SetCollisionByProperty");n.exports=l},63307:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),T=s(42573),c=r(function(l,u,h){l===void 0&&(l=!0),u===void 0&&(u=!0);for(var f=0;f<h.height;f++)for(var v=0;v<h.width;v++){var d=h.data[f][v];if(d){var p=d.getCollisionGroup();p&&p.objects&&p.objects.length>0&&o(d,l)}}u&&T(0,0,h.width,h.height,h)},"SetCollisionFromCollisionGroup");n.exports=c},9589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=T.collideIndexes.indexOf(s);o&&c===-1?T.collideIndexes.push(s):!o&&c!==-1&&T.collideIndexes.splice(c,1)},"SetLayerCollisionIndex");n.exports=C},20576:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o?s.setCollision(!0,!0,!0,!0,!1):s.resetCollision(!1)},"SetTileCollision");n.exports=C},79583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){if(typeof s=="number")c.callbacks[s]=o!==null?{callback:o,callbackContext:T}:void 0;else for(var l=0,u=s.length;l<u;l++)c.callbacks[s[l]]=o!==null?{callback:o,callbackContext:T}:void 0},"SetTileIndexCallback");n.exports=C},93254:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=r(function(c,l,u,h,f,v,d){for(var p=o(c,l,u,h,null,d),g=0;g<p.length;g++)p[g].setCollisionCallback(f,v)},"SetTileLocationCallback");n.exports=T},32903:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=s(33680),c=r(function(l,u,h,f,v){var d=o(l,u,h,f,null,v),p=d.map(function(m){return m.index});T(p);for(var g=0;g<d.length;g++)d[g].index=p[g]},"Shuffle");n.exports=c},61325:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63448),T=s(56583),c=r(function(l,u){var h=l.tilemapLayer.tilemap,f=l.tilemapLayer,v=Math.floor(h.tileWidth*f.scaleX),d=Math.floor(h.tileHeight*f.scaleY),p=T(u.worldView.x-f.x,v,0,!0)-f.cullPaddingX,g=o(u.worldView.right-f.x,v,0,!0)+f.cullPaddingX,m=T(u.worldView.y-f.y,d/2,0,!0)-f.cullPaddingY,x=o(u.worldView.bottom-f.y,d/2,0,!0)+f.cullPaddingY;return{left:p,right:g,top:m,bottom:x}},"StaggeredCullBounds");n.exports=c},54503:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61325),T=s(32483),c=r(function(l,u,h,f){h===void 0&&(h=[]),f===void 0&&(f=0),h.length=0;var v=l.tilemapLayer,d=o(l,u);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(d.left=0,d.right=l.width,d.top=0,d.bottom=l.height),T(l,d,f,h),h},"StaggeredCullTiles");n.exports=c},97202:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=r(function(c,l,u,h,f){u||(u=new o);var v=f.baseTileWidth,d=f.baseTileHeight,p=f.tilemapLayer,g=0,m=0;p&&(h||(h=p.scene.cameras.main),g=p.x+h.scrollX*(1-p.scrollFactorX),v*=p.scaleX,m=p.y+h.scrollY*(1-p.scrollFactorY),d*=p.scaleY);var x=g+c*v+l%2*(v/2),E=m+l*(d/2);return u.set(x,E)},"StaggeredTileToWorldXY");n.exports=T},28054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=T.baseTileHeight,l=T.tilemapLayer,u=0;return l&&(o===void 0&&(o=l.scene.cameras.main),u=l.y+o.scrollY*(1-l.scrollFactorY),c*=l.scaleY),u+s*(c/2)+c},"StaggeredTileToWorldY");n.exports=C},15108:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=r(function(c,l,u,h,f,v){h||(h=new o);var d=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(f||(f=g.scene.cameras.main),l=l-(g.y+f.scrollY*(1-g.scrollFactorY)),p*=g.scaleY,c=c-(g.x+f.scrollX*(1-g.scrollFactorX)),d*=g.scaleX);var m=u?Math.floor(l/(p/2)):l/(p/2),x=u?Math.floor((c+m%2*.5*d)/d):(c+m%2*.5*d)/d;return h.set(x,m)},"StaggeredWorldToTileXY");n.exports=T},51900:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=c.baseTileHeight,u=c.tilemapLayer;return u&&(T||(T=u.scene.cameras.main),s=s-(u.y+T.scrollY*(1-u.scrollFactorY)),l*=u.scaleY),o?Math.floor(s/(l/2)):s/(l/2)},"StaggeredWorldToTileY");n.exports=C},86560:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=r(function(c,l,u,h,f,v,d){for(var p=o(u,h,f,v,null,d),g=0;g<p.length;g++)p[g]&&(p[g].index===c?p[g].index=l:p[g].index===l&&(p[g].index=c))},"SwapByIndex");n.exports=T},97281:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=T.baseTileWidth,l=T.tilemapLayer,u=0;return l&&(o||(o=l.scene.cameras.main),u=l.x+o.scrollX*(1-l.scrollFactorX),c*=l.scaleX),u+s*c},"TileToWorldX");n.exports=C},70326:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97281),T=s(29650),c=s(26099),l=r(function(u,h,f,v,d){return f||(f=new c(0,0)),f.x=o(u,v,d),f.y=T(h,v,d),f},"TileToWorldXY");n.exports=l},29650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=T.baseTileHeight,l=T.tilemapLayer,u=0;return l&&(o||(o=l.scene.cameras.main),u=l.y+o.scrollY*(1-l.scrollFactorY),c*=l.scaleY),u+s*c},"TileToWorldY");n.exports=C},77366:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),T=s(75508),c=r(function(l,u,h,f,v,d){if(v){var p,g=o(l,u,h,f,null,d),m=0;for(p=0;p<v.length;p++)m+=v[p].weight;if(!(m<=0))for(p=0;p<g.length;p++){for(var x=T.RND.frac()*m,E=0,A=-1,R=0;R<v.length;R++)if(E+=v[R].weight,x<=E){var P=v[R].index;A=Array.isArray(P)?P[Math.floor(T.RND.frac()*P.length)]:P;break}g[p].index=A}}},"WeightedRandomize");n.exports=c},10095:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85896),T=s(26099),c=new T,l=r(function(u,h,f,v){return o(u,0,h,c,f,v),c.x},"WorldToTileX");n.exports=l},85896:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),T=r(function(c,l,u,h,f,v){u===void 0&&(u=!0),h||(h=new o);var d=v.baseTileWidth,p=v.baseTileHeight,g=v.tilemapLayer;g&&(f||(f=g.scene.cameras.main),c=c-(g.x+f.scrollX*(1-g.scrollFactorX)),l=l-(g.y+f.scrollY*(1-g.scrollFactorY)),d*=g.scaleX,p*=g.scaleY);var m=c/d,x=l/p;return u&&(m=Math.floor(m),x=Math.floor(x)),h.set(m,x)},"WorldToTileXY");n.exports=T},63288:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85896),T=s(26099),c=new T,l=r(function(u,h,f,v){return o(0,u,h,c,f,v),c.y},"WorldToTileY");n.exports=l},81086:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CalculateFacesAt:s(72023),CalculateFacesWithin:s(42573),CheckIsoBounds:s(33528),Copy:s(1785),CreateFromTiles:s(78419),CullBounds:s(19545),CullTiles:s(30003),Fill:s(35137),FilterTiles:s(40253),FindByIndex:s(52692),FindTile:s(66151),ForEachTile:s(97560),GetCullTilesFunction:s(43305),GetTileAt:s(7423),GetTileAtWorldXY:s(60540),GetTileCorners:s(55826),GetTileCornersFunction:s(11758),GetTilesWithin:s(7386),GetTilesWithinShape:s(91141),GetTilesWithinWorldXY:s(96523),GetTileToWorldXFunction:s(39167),GetTileToWorldXYFunction:s(62e3),GetTileToWorldYFunction:s(5984),GetWorldToTileXFunction:s(96113),GetWorldToTileXYFunction:s(16926),GetWorldToTileYFunction:s(55762),HasTileAt:s(45091),HasTileAtWorldXY:s(24152),HexagonalCullBounds:s(90454),HexagonalCullTiles:s(9474),HexagonalGetTileCorners:s(27229),HexagonalTileToWorldXY:s(19951),HexagonalWorldToTileXY:s(86625),IsInLayerBounds:s(62991),IsometricCullTiles:s(14018),IsometricTileToWorldXY:s(14127),IsometricWorldToTileXY:s(96897),PutTileAt:s(71558),PutTileAtWorldXY:s(26303),PutTilesAt:s(14051),Randomize:s(77389),RemoveTileAt:s(63557),RemoveTileAtWorldXY:s(94178),RenderDebug:s(15533),ReplaceByIndex:s(27987),RunCull:s(32483),SetCollision:s(57068),SetCollisionBetween:s(37266),SetCollisionByExclusion:s(75661),SetCollisionByProperty:s(64740),SetCollisionFromCollisionGroup:s(63307),SetLayerCollisionIndex:s(9589),SetTileCollision:s(20576),SetTileIndexCallback:s(79583),SetTileLocationCallback:s(93254),Shuffle:s(32903),StaggeredCullBounds:s(61325),StaggeredCullTiles:s(54503),StaggeredTileToWorldXY:s(97202),StaggeredTileToWorldY:s(28054),StaggeredWorldToTileXY:s(15108),StaggeredWorldToTileY:s(51900),SwapByIndex:s(86560),TileToWorldX:s(97281),TileToWorldXY:s(70326),TileToWorldY:s(29650),WeightedRandomize:s(77366),WorldToTileX:s(10095),WorldToTileXY:s(85896),WorldToTileY:s(63288)}},91907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:s(91907)};n.exports=o},62501:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),T=s(21829),c={Components:s(81086),Parsers:s(57442),Formats:s(80341),ImageCollection:s(16536),ParseToTilemap:s(31989),Tile:s(23029),Tilemap:s(49075),TilemapCreator:s(45939),TilemapFactory:s(46029),Tileset:s(33629),TilemapLayer:s(20442),Orientation:s(91907),LayerData:s(14977),MapData:s(87010),ObjectLayer:s(48700)};c=o(!1,c,T.ORIENTATION),n.exports=c},14977:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(91907),c=s(95540),l=new o({initialize:r(function(h){h===void 0&&(h={}),this.name=c(h,"name","layer"),this.id=c(h,"id",0),this.x=c(h,"x",0),this.y=c(h,"y",0),this.width=c(h,"width",0),this.height=c(h,"height",0),this.tileWidth=c(h,"tileWidth",0),this.tileHeight=c(h,"tileHeight",0),this.baseTileWidth=c(h,"baseTileWidth",this.tileWidth),this.baseTileHeight=c(h,"baseTileHeight",this.tileHeight),this.orientation=c(h,"orientation",T.ORTHOGONAL),this.widthInPixels=c(h,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=c(h,"heightInPixels",this.height*this.baseTileHeight),this.alpha=c(h,"alpha",1),this.visible=c(h,"visible",!0),this.properties=c(h,"properties",[]),this.indexes=c(h,"indexes",[]),this.collideIndexes=c(h,"collideIndexes",[]),this.callbacks=c(h,"callbacks",[]),this.bodies=c(h,"bodies",[]),this.data=c(h,"data",[]),this.tilemapLayer=c(h,"tilemapLayer",null),this.hexSideLength=c(h,"hexSideLength",0),this.staggerAxis=c(h,"staggerAxis","y"),this.staggerIndex=c(h,"staggerIndex","odd")},"LayerData")});n.exports=l},87010:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(91907),c=s(95540),l=new o({initialize:r(function(h){h===void 0&&(h={}),this.name=c(h,"name","map"),this.width=c(h,"width",0),this.height=c(h,"height",0),this.infinite=c(h,"infinite",!1),this.tileWidth=c(h,"tileWidth",0),this.tileHeight=c(h,"tileHeight",0),this.widthInPixels=c(h,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=c(h,"heightInPixels",this.height*this.tileHeight),this.format=c(h,"format",null),this.orientation=c(h,"orientation",T.ORTHOGONAL),this.renderOrder=c(h,"renderOrder","right-down"),this.version=c(h,"version","1"),this.properties=c(h,"properties",{}),this.layers=c(h,"layers",[]),this.images=c(h,"images",[]),this.objects=c(h,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=c(h,"collision",{}),this.tilesets=c(h,"tilesets",[]),this.imageCollections=c(h,"imageCollections",[]),this.tiles=c(h,"tiles",[]),this.hexSideLength=c(h,"hexSideLength",0),this.staggerAxis=c(h,"staggerAxis","y"),this.staggerIndex=c(h,"staggerIndex","odd")},"MapData")});n.exports=l},48700:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95540),c=new o({initialize:r(function(u){u===void 0&&(u={}),this.name=T(u,"name","object layer"),this.id=T(u,"id",0),this.opacity=T(u,"opacity",1),this.properties=T(u,"properties",{}),this.propertyTypes=T(u,"propertytypes",{}),this.type=T(u,"type","objectgroup"),this.visible=T(u,"visible",!0),this.objects=T(u,"objects",[]),Array.isArray(this.objects)||(this.objects=[])},"ObjectLayer")});n.exports=c},6641:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),T=r(function(c){return c=c.toLowerCase(),c==="isometric"?o.ISOMETRIC:c==="staggered"?o.STAGGERED:c==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL},"FromOrientationString");n.exports=T},46177:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),T=s(2342),c=s(82593),l=s(46594),u=s(87021),h=r(function(f,v,d,p,g,m){var x;switch(v){case o.ARRAY_2D:x=T(f,d,p,g,m);break;case o.CSV:x=c(f,d,p,g,m);break;case o.TILED_JSON:x=l(f,d,m);break;case o.WELTMEISTER:x=u(f,d,m);break;default:console.warn("Unrecognized tilemap data format: "+v),x=null}return x},"Parse");n.exports=h},2342:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),T=s(14977),c=s(87010),l=s(23029),u=r(function(h,f,v,d,p){for(var g=new T({tileWidth:v,tileHeight:d}),m=new c({name:h,tileWidth:v,tileHeight:d,format:o.ARRAY_2D,layers:[g]}),x=[],E=f.length,A=0,R=0;R<f.length;R++){x[R]=[];for(var P=f[R],O=0;O<P.length;O++){var L=parseInt(P[O],10);isNaN(L)||L===-1?x[R][O]=p?null:new l(g,-1,O,R,v,d):x[R][O]=new l(g,L,O,R,v,d)}A===0&&(A=P.length)}return m.width=g.width=A,m.height=g.height=E,m.widthInPixels=g.widthInPixels=A*v,m.heightInPixels=g.heightInPixels=E*d,g.data=x,m},"Parse2DArray");n.exports=u},82593:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),T=s(2342),c=r(function(l,u,h,f,v){var d=u.trim().split(`
`).map(function(g){return g.split(",")}),p=T(l,d,h,f,v);return p.format=o.CSV,p},"ParseCSV");n.exports=c},6656:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(14977),T=s(23029),c=r(function(l,u){for(var h=[],f=0;f<l.layer.length;f++){for(var v=l.layer[f],d=new o({name:v.name,width:v.width,height:v.height,tileWidth:v.tilesize,tileHeight:v.tilesize,visible:v.visible===1}),p=[],g=[],m=0;m<v.data.length;m++){for(var x=0;x<v.data[m].length;x++){var E=v.data[m][x]-1,A;E>-1?A=new T(d,E,x,m,v.tilesize,v.tilesize):A=u?null:new T(d,-1,x,m,v.tilesize,v.tilesize),p.push(A)}g.push(p),p=[]}d.data=g,h.push(d)}return h},"ParseTileLayers");n.exports=c},96483:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33629),T=r(function(c){for(var l=[],u=[],h=0;h<c.layer.length;h++){var f=c.layer[h],v=f.tilesetName;v!==""&&u.indexOf(v)===-1&&(u.push(v),l.push(new o(v,0,f.tilesize,f.tilesize,0,0)))}return l},"ParseTilesets");n.exports=T},87021:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),T=s(87010),c=s(6656),l=s(96483),u=r(function(h,f,v){if(f.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+h),null;for(var d=0,p=0,g=0;g<f.layer.length;g++)f.layer[g].width>d&&(d=f.layer[g].width),f.layer[g].height>p&&(p=f.layer[g].height);var m=new T({width:d,height:p,name:h,tileWidth:f.layer[0].tilesize,tileHeight:f.layer[0].tilesize,format:o.WELTMEISTER});return m.layers=c(f,v),m.tilesets=l(f),m},"ParseWeltmeister");n.exports=u},52833:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ParseTileLayers:s(6656),ParseTilesets:s(96483),ParseWeltmeister:s(87021)}},57442:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FromOrientationString:s(6641),Parse:s(46177),Parse2DArray:s(2342),ParseCSV:s(82593),Impact:s(52833),Tiled:s(96761)}},51233:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),T=r(function(c){for(var l,u,h,f,v,d=0;d<c.layers.length;d++){l=c.layers[d],f=null;for(var p=0;p<l.data.length;p++){v=l.data[p];for(var g=0;g<v.length;g++)u=v[g],!(u===null||u.index<0)&&(h=c.tiles[u.index][2],f=c.tilesets[h],u.width=f.tileWidth,u.height=f.tileHeight,f.tileProperties&&f.tileProperties[u.index-f.firstgid]&&(u.properties=o(u.properties,f.tileProperties[u.index-f.firstgid])))}}},"AssignTileProperties");n.exports=T},41868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){for(var o=window.atob(s),T=o.length,c=new Array(T/4),l=0;l<T;l+=4)c[l/4]=(o.charCodeAt(l)|o.charCodeAt(l+1)<<8|o.charCodeAt(l+2)<<16|o.charCodeAt(l+3)<<24)>>>0;return c},"Base64Decode");n.exports=C},84101:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33629),T=r(function(c){var l,u,h=[];for(l=0;l<c.imageCollections.length;l++)for(var f=c.imageCollections[l],v=f.images,d=0;d<v.length;d++){var p=v[d],g={x:0,y:p.height-c.tileHeight};u=new o(p.image,p.gid,p.width,p.height,0,0,void 0,void 0,g),u.updateTileData(p.width,p.height),c.tilesets.push(u)}for(l=0;l<c.tilesets.length;l++){u=c.tilesets[l];for(var m=u.tileMargin,x=u.tileMargin,E=0,A=0,R=0,P=u.firstgid;P<u.firstgid+u.total&&(h[P]=[m,x,l],m+=u.tileWidth+u.tileSpacing,E++,!(E===u.total||(A++,A===u.columns&&(m=u.tileMargin,x+=u.tileHeight+u.tileSpacing,A=0,R++,R===u.rows))));P++);}return h},"BuildTilesetIndex");n.exports=T},79677:(n,C,s)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),T=r(function(c,l,u){if(!l)return{i:0,layers:c.layers,name:"",opacity:1,visible:!0,x:0,y:0};var h=l.x+o(l,"startx",0)*c.tilewidth+o(l,"offsetx",0),f=l.y+o(l,"starty",0)*c.tileheight+o(l,"offsety",0);return{i:0,layers:l.layers,name:u.name+l.name+"/",opacity:u.opacity*l.opacity,visible:u.visible&&l.visible,x:u.x+h,y:u.y+f}},"CreateGroupLayer");n.exports=T},29920:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=2147483648,s=1073741824,o=536870912,T=r(function(c){var l=!!(c&C),u=!!(c&s),h=!!(c&o);c=c&536870911;var f=0,v=!1;return l&&u&&h?(f=Math.PI/2,v=!0):l&&u&&!h?(f=Math.PI,v=!1):l&&!u&&h?(f=Math.PI/2,v=!1):l&&!u&&!h?(f=0,v=!0):!l&&u&&h?(f=3*Math.PI/2,v=!1):!l&&u&&!h?(f=Math.PI,v=!0):!l&&!u&&h?(f=3*Math.PI/2,v=!0):!l&&!u&&!h&&(f=0,v=!1),{gid:c,flippedHorizontal:l,flippedVertical:u,flippedAntiDiagonal:h,rotation:f,flipped:v}},"ParseGID");n.exports=T},12635:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),T=s(79677),c=r(function(l){for(var u=[],h=[],f=T(l);f.i<f.layers.length||h.length>0;){if(f.i>=f.layers.length){if(h.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=h.pop();continue}var v=f.layers[f.i];if(f.i++,v.type!=="imagelayer"){if(v.type==="group"){var d=T(l,v,f);h.push(f),f=d}continue}var p=o(v,"offsetx",0)+o(v,"startx",0),g=o(v,"offsety",0)+o(v,"starty",0);u.push({name:f.name+v.name,image:v.image,x:f.x+p+v.x,y:f.y+g+v.y,alpha:f.opacity*v.opacity,visible:f.visible&&v.visible,properties:o(v,"properties",{})})}return u},"ParseImageLayers");n.exports=c},46594:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(51233),T=s(84101),c=s(91907),l=s(62644),u=s(80341),h=s(6641),f=s(87010),v=s(12635),d=s(22611),p=s(28200),g=s(24619),m=r(function(x,E,A){var R=l(E),P=new f({width:R.width,height:R.height,name:x,tileWidth:R.tilewidth,tileHeight:R.tileheight,orientation:h(R.orientation),format:u.TILED_JSON,version:R.version,properties:R.properties,renderOrder:R.renderorder,infinite:R.infinite});if(P.orientation===c.HEXAGONAL)if(P.hexSideLength=R.hexsidelength,P.staggerAxis=R.staggeraxis,P.staggerIndex=R.staggerindex,P.staggerAxis==="y"){var O=(P.tileHeight-P.hexSideLength)/2;P.widthInPixels=P.tileWidth*(P.width+.5),P.heightInPixels=P.height*(P.hexSideLength+O)+O}else{var L=(P.tileWidth-P.hexSideLength)/2;P.widthInPixels=P.width*(P.hexSideLength+L)+L,P.heightInPixels=P.tileHeight*(P.height+.5)}P.layers=p(R,A),P.images=v(R);var w=g(R);return P.tilesets=w.tilesets,P.imageCollections=w.imageCollections,P.objects=d(R),P.tiles=T(P),o(P),P},"ParseJSONTiled");n.exports=m},52205:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(18254),T=s(29920),c=r(function(h){return{x:h.x,y:h.y}},"copyPoints"),l=["id","name","type","rotation","properties","visible","x","y","width","height"],u=r(function(h,f,v){f===void 0&&(f=0),v===void 0&&(v=0);var d=o(h,l);if(d.x+=f,d.y+=v,h.gid){var p=T(h.gid);d.gid=p.gid,d.flippedHorizontal=p.flippedHorizontal,d.flippedVertical=p.flippedVertical,d.flippedAntiDiagonal=p.flippedAntiDiagonal}else h.polyline?d.polyline=h.polyline.map(c):h.polygon?d.polygon=h.polygon.map(c):h.ellipse?d.ellipse=h.ellipse:h.text?d.text=h.text:h.point?d.point=!0:d.rectangle=!0;return d},"ParseObject");n.exports=u},22611:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),T=s(52205),c=s(48700),l=s(79677),u=r(function(h){for(var f=[],v=[],d=l(h);d.i<d.layers.length||v.length>0;){if(d.i>=d.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=v.pop();continue}var p=d.layers[d.i];if(d.i++,p.opacity*=d.opacity,p.visible=d.visible&&p.visible,p.type!=="objectgroup"){if(p.type==="group"){var g=l(h,p,d);v.push(d),d=g}continue}p.name=d.name+p.name;for(var m=d.x+o(p,"startx",0)+o(p,"offsetx",0),x=d.y+o(p,"starty",0)+o(p,"offsety",0),E=[],A=0;A<p.objects.length;A++){var R=T(p.objects[A],m,x);E.push(R)}var P=new c(p);P.objects=E,f.push(P)}return f},"ParseObjectLayers");n.exports=u},28200:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41868),T=s(91907),c=s(79677),l=s(6641),u=s(95540),h=s(14977),f=s(29920),v=s(23029),d=r(function(p,g){for(var m=u(p,"infinite",!1),x=[],E=[],A=c(p);A.i<A.layers.length||E.length>0;){if(A.i>=A.layers.length){if(E.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}A=E.pop();continue}var R=A.layers[A.i];if(A.i++,R.type!=="tilelayer"){if(R.type==="group"){var P=c(p,R,A);E.push(A),A=P}continue}if(R.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+R.name+"'");continue}else if(R.encoding&&R.encoding==="base64"){if(R.chunks)for(var O=0;O<R.chunks.length;O++)R.chunks[O].data=o(R.chunks[O].data);R.data&&(R.data=o(R.data)),delete R.encoding}var L,w,M,b,D,F,N=[],B=0;if(m){var Y=u(R,"startx",0)+R.x,W=u(R,"starty",0)+R.y;L=new h({name:A.name+R.name,id:R.id,x:A.x+u(R,"offsetx",0)+Y*p.tilewidth,y:A.y+u(R,"offsety",0)+W*p.tileheight,width:R.width,height:R.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:A.opacity*R.opacity,visible:A.visible&&R.visible,properties:u(R,"properties",[]),orientation:l(p.orientation)}),L.orientation===T.HEXAGONAL&&(L.hexSideLength=p.hexsidelength,L.staggerAxis=p.staggeraxis,L.staggerIndex=p.staggerindex,L.staggerAxis==="y"?(D=(L.tileHeight-L.hexSideLength)/2,L.widthInPixels=L.tileWidth*(L.width+.5),L.heightInPixels=L.height*(L.hexSideLength+D)+D):(F=(L.tileWidth-L.hexSideLength)/2,L.widthInPixels=L.width*(L.hexSideLength+F)+F,L.heightInPixels=L.tileHeight*(L.height+.5)));for(var z=0;z<R.height;z++){N[z]=[null];for(var X=0;X<R.width;X++)N[z][X]=null}for(z=0,Q=R.chunks.length;z<Q;z++)for(var H=R.chunks[z],V=H.x-Y,G=H.y-W,k=0,U=0,I=H.data.length;U<I;U++){var $=B+V,K=k+G;w=f(H.data[U]),w.gid>0?(M=new v(L,w.gid,$,K,p.tilewidth,p.tileheight),M.rotation=w.rotation,M.flipX=w.flipped,N[K][$]=M):(b=g?null:new v(L,-1,$,K,p.tilewidth,p.tileheight),N[K][$]=b),B++,B===H.width&&(k++,B=0)}}else{L=new h({name:A.name+R.name,id:R.id,x:A.x+u(R,"offsetx",0)+R.x,y:A.y+u(R,"offsety",0)+R.y,width:R.width,height:R.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:A.opacity*R.opacity,visible:A.visible&&R.visible,properties:u(R,"properties",[]),orientation:l(p.orientation)}),L.orientation===T.HEXAGONAL&&(L.hexSideLength=p.hexsidelength,L.staggerAxis=p.staggeraxis,L.staggerIndex=p.staggerindex,L.staggerAxis==="y"?(D=(L.tileHeight-L.hexSideLength)/2,L.widthInPixels=L.tileWidth*(L.width+.5),L.heightInPixels=L.height*(L.hexSideLength+D)+D):(F=(L.tileWidth-L.hexSideLength)/2,L.widthInPixels=L.width*(L.hexSideLength+F)+F,L.heightInPixels=L.tileHeight*(L.height+.5)));for(var Z=[],J=0,Q=R.data.length;J<Q;J++)w=f(R.data[J]),w.gid>0?(M=new v(L,w.gid,B,N.length,p.tilewidth,p.tileheight),M.rotation=w.rotation,M.flipX=w.flipped,Z.push(M)):(b=g?null:new v(L,-1,B,N.length,p.tilewidth,p.tileheight),Z.push(b)),B++,B===R.width&&(N.push(Z),B=0,Z=[])}L.data=N,x.push(L)}return x},"ParseTileLayers");n.exports=d},24619:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33629),T=s(16536),c=s(52205),l=s(57880),u=r(function(h){for(var f=[],v=[],d=null,p,g=0;g<h.tilesets.length;g++){var m=h.tilesets[g];if(m.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(m.image){var x=new o(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,void 0,void 0,m.tileoffset);if(h.version>1){var E=void 0,A=void 0;if(Array.isArray(m.tiles)){E=E||{},A=A||{};for(var R=0;R<m.tiles.length;R++){var P=m.tiles[R];if(P.properties){var O={};P.properties.forEach(function(z){O[z.name]=z.value}),A[P.id]=O}if(P.objectgroup&&((E[P.id]||(E[P.id]={})).objectgroup=P.objectgroup,P.objectgroup.objects)){var L=P.objectgroup.objects.map(function(z){return c(z)});E[P.id].objectgroup.objects=L}P.animation&&((E[P.id]||(E[P.id]={})).animation=P.animation),P.type&&((E[P.id]||(E[P.id]={})).type=P.type)}}Array.isArray(m.wangsets)&&(E=E||{},A=A||{},l(m.wangsets,E)),E&&(x.tileData=E,x.tileProperties=A)}else if(m.tileproperties&&(x.tileProperties=m.tileproperties),m.tiles){x.tileData=m.tiles;for(p in x.tileData){var w=x.tileData[p].objectgroup;if(w&&w.objects){var M=w.objects.map(function(z){return c(z)});x.tileData[p].objectgroup.objects=M}}}x.updateTileData(m.imagewidth,m.imageheight),f.push(x)}else{var b=new T(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,m.properties),D=0;for(R=0;R<m.tiles.length;R++){P=m.tiles[R];var F=P.image,N=parseInt(P.id,10),B=m.firstgid+N,Y=P.imagewidth,W=P.imageheight;b.addImage(B,F,Y,W),D=Math.max(N,D)}b.maxId=D,v.push(b)}d&&(d.lastgid=m.firstgid-1),d=m}return{tilesets:f,imageCollections:v}},"ParseTilesets");n.exports=u},57880:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){for(var T=0;T<s.length;T++){var c=s[T],l=T;if(c.name&&c.name!==""&&(l=c.name),Array.isArray(c.wangtiles)&&c.wangtiles.length>0){var u={},h={},f,v,d;if(Array.isArray(c.edgecolors))for(f=0;f<c.edgecolors.length;f++)d=1+f,v=c.edgecolors[f],v.name!==""&&(u[d]=v.name);if(Array.isArray(c.cornercolors))for(f=0;f<c.cornercolors.length;f++)d=1+f,v=c.cornercolors[f],v.name!==""&&(h[d]=v.name);if(Array.isArray(c.colors))for(f=0;f<c.colors.length;f++)v=c.colors[f],d=1+f,v.name!==""&&(u[d]=h[d]=v.name);for(var p=[u,h,u,h,u,h,u,h],g=0;g<c.wangtiles.length;g++){var m=c.wangtiles[g],x=o[m.tileid]||(o[m.tileid]={});x=x.wangid||(x.wangid={});for(var E=[],A=0;A<Math.min(p.length,m.wangid.length);A++){if(v=m.wangid[A],v===0){E.push(void 0);continue}var R=p[A][v];if(R!==void 0){E.push(R);continue}E.push(v)}x[l]=E}}}},"ParseWangsets");n.exports=C},96761:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AssignTileProperties:s(51233),Base64Decode:s(41868),BuildTilesetIndex:s(84101),CreateGroupLayer:s(79677),ParseGID:s(29920),ParseImageLayers:s(12635),ParseJSONTiled:s(46594),ParseObject:s(52205),ParseObjectLayers:s(22611),ParseTileLayers:s(28200),ParseTilesets:s(24619)}},33385:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(37277),c=s(44594),l=s(94880),u=s(72905),h=new o({initialize:r(function(v){this.scene=v,this.systems=v.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],v.sys.events.once(c.BOOT,this.boot,this),v.sys.events.on(c.START,this.start,this)},"Clock"),boot:r(function(){this.now=this.systems.game.loop.time,this.systems.events.once(c.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.startTime=this.systems.game.loop.time;var f=this.systems.events;f.on(c.PRE_UPDATE,this.preUpdate,this),f.on(c.UPDATE,this.update,this),f.once(c.SHUTDOWN,this.shutdown,this)},"start"),addEvent:r(function(f){var v;if(f instanceof l){if(v=f,this.removeEvent(v),v.elapsed=v.startAt,v.hasDispatched=!1,v.repeatCount=v.repeat===-1||v.loop?999999999999:v.repeat,v.delay<=0&&v.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else v=new l(f);return this._pendingInsertion.push(v),v},"addEvent"),delayedCall:r(function(f,v,d,p){return this.addEvent({delay:f,callback:v,args:d,callbackScope:p})},"delayedCall"),clearPendingEvents:r(function(){return this._pendingInsertion=[],this},"clearPendingEvents"),removeEvent:r(function(f){Array.isArray(f)||(f=[f]);for(var v=0;v<f.length;v++){var d=f[v];u(this._pendingRemoval,d),u(this._pendingInsertion,d),u(this._active,d)}return this},"removeEvent"),removeAllEvents:r(function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},"removeAllEvents"),preUpdate:r(function(){var f=this._pendingRemoval.length,v=this._pendingInsertion.length;if(!(f===0&&v===0)){var d,p;for(d=0;d<f;d++){p=this._pendingRemoval[d];var g=this._active.indexOf(p);g>-1&&this._active.splice(g,1),p.destroy()}for(d=0;d<v;d++)p=this._pendingInsertion[d],this._active.push(p);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},"preUpdate"),update:r(function(f,v){if(this.now=f,!this.paused){v*=this.timeScale;for(var d=0;d<this._active.length;d++){var p=this._active[d];if(!p.paused&&(p.elapsed+=v*p.timeScale,p.elapsed>=p.delay)){var g=p.elapsed-p.delay;if(p.elapsed=p.delay,!p.hasDispatched&&p.callback&&(p.hasDispatched=!0,p.callback.apply(p.callbackScope,p.args)),p.repeatCount>0){if(p.repeatCount--,g>=p.delay)for(;g>=p.delay&&p.repeatCount>0;)p.callback&&p.callback.apply(p.callbackScope,p.args),g-=p.delay,p.repeatCount--;p.elapsed=g,p.hasDispatched=!1}else p.hasDispatched&&this._pendingRemoval.push(p)}}}},"update"),shutdown:r(function(){var f;for(f=0;f<this._pendingInsertion.length;f++)this._pendingInsertion[f].destroy();for(f=0;f<this._active.length;f++)this._active[f].destroy();for(f=0;f<this._pendingRemoval.length;f++)this._pendingRemoval[f].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var v=this.systems.events;v.off(c.PRE_UPDATE,this.preUpdate,this),v.off(c.UPDATE,this.update,this),v.off(c.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null},"destroy")});T.register("Clock",h,"time"),n.exports=h},96120:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(50792),c=s(39429),l=s(95540),u=s(44594),h=s(89809),f=new o({Extends:T,initialize:r(function(d,p){T.call(this),this.scene=d,this.systems=d.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var g=this.systems.events;g.on(u.PRE_UPDATE,this.preUpdate,this),g.on(u.UPDATE,this.update,this),g.once(u.SHUTDOWN,this.destroy,this),p&&this.add(p)},"Timeline"),preUpdate:r(function(v,d){this.paused||(this.elapsed+=d*this.timeScale)},"preUpdate"),update:r(function(){if(!(this.paused||this.complete)){var v,d=this.events,p=!1,g=this.systems,m;for(v=0;v<d.length;v++){var x=d[v];if(!x.complete&&x.time<=this.elapsed){if(x.complete=!0,this.totalComplete++,m=x.target?x.target:this,x.if&&!x.if.call(m,x))continue;if(x.once&&(p=!0),x.set&&x.target)for(var E in x.set)x.target[E]=x.set[E];this.iteration&&x.repeat++,x.loop&&x.repeat&&x.loop.call(m),x.tween&&(x.tweenInstance=g.tweens.add(x.tween)),x.sound&&(typeof x.sound=="string"?g.sound.play(x.sound):g.sound.play(x.sound.key,x.sound.config)),x.event&&this.emit(x.event,m),x.run&&x.run.call(m),x.stop&&this.stop()}}if(p)for(v=0;v<d.length;v++)d[v].complete&&d[v].once&&(d.splice(v,1),v--);this.totalComplete>=d.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(h.COMPLETE,this)}},"update"),play:r(function(v){return v===void 0&&(v=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,v&&this.reset(),this},"play"),pause:r(function(){this.paused=!0;for(var v=this.events,d=0;d<v.length;d++){var p=v[d];p.tweenInstance&&(p.tweenInstance.paused=!0)}return this},"pause"),repeat:r(function(v){return(v===void 0||v===!0)&&(v=-1),v===!1&&(v=0),this.loop=v,this},"repeat"),resume:r(function(){this.paused=!1;for(var v=this.events,d=0;d<v.length;d++){var p=v[d];p.tweenInstance&&(p.tweenInstance.paused=!1)}return this},"resume"),stop:r(function(){return this.paused=!0,this.complete=!0,this},"stop"),reset:r(function(v){v===void 0&&(v=!1),this.elapsed=0,v||(this.iteration=0);for(var d=this.events,p=0;p<d.length;p++){var g=d[p];g.complete=!1,v||(g.repeat=0),g.tweenInstance&&g.tweenInstance.stop()}return this.play(!1)},"reset"),add:r(function(v){Array.isArray(v)||(v=[v]);var d=this.events,p=0;d.length>0&&(p=d[d.length-1].time);for(var g=0;g<v.length;g++){var m=v[g],x=l(m,"at",0),E=l(m,"in",null);E!==null&&(x=this.elapsed+E);var A=l(m,"from",null);A!==null&&(x=p+A),d.push({complete:!1,time:x,repeat:0,if:l(m,"if",null),run:l(m,"run",null),loop:l(m,"loop",null),event:l(m,"event",null),target:l(m,"target",null),set:l(m,"set",null),tween:l(m,"tween",null),sound:l(m,"sound",null),once:l(m,"once",!1),stop:l(m,"stop",!1)}),p=x}return this.complete=!1,this},"add"),clear:r(function(){for(var v=this.events,d=0;d<v.length;d++){var p=v[d];p.tweenInstance&&p.tweenInstance.stop()}return v=[],this.elapsed=0,this.paused=!0,this},"clear"),isPlaying:r(function(){return!this.paused&&!this.complete},"isPlaying"),getProgress:r(function(){var v=Math.min(this.totalComplete,this.events.length);return v/this.events.length},"getProgress"),destroy:r(function(){var v=this.systems.events;v.off(u.PRE_UPDATE,this.preUpdate,this),v.off(u.UPDATE,this.update,this),v.off(u.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null},"destroy")});c.register("timeline",function(v){return new f(this.scene,v)}),n.exports=f},94880:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(95540),c=new o({initialize:r(function(u){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(u)},"TimerEvent"),reset:r(function(l){if(this.delay=T(l,"delay",0),this.repeat=T(l,"repeat",0),this.loop=T(l,"loop",!1),this.callback=T(l,"callback",void 0),this.callbackScope=T(l,"callbackScope",this),this.args=T(l,"args",[]),this.timeScale=T(l,"timeScale",1),this.startAt=T(l,"startAt",0),this.paused=T(l,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},"reset"),getProgress:r(function(){return this.elapsed/this.delay},"getProgress"),getOverallProgress:r(function(){if(this.repeat>0){var l=this.delay+this.delay*this.repeat,u=this.elapsed+this.delay*(this.repeat-this.repeatCount);return u/l}else return this.getProgress()},"getOverallProgress"),getRepeatCount:r(function(){return this.repeatCount},"getRepeatCount"),getElapsed:r(function(){return this.elapsed},"getElapsed"),getElapsedSeconds:r(function(){return this.elapsed*.001},"getElapsedSeconds"),getRemaining:r(function(){return this.delay-this.elapsed},"getRemaining"),getRemainingSeconds:r(function(){return this.getRemaining()*.001},"getRemainingSeconds"),getOverallRemaining:r(function(){return this.delay*(1+this.repeatCount)-this.elapsed},"getOverallRemaining"),getOverallRemainingSeconds:r(function(){return this.getOverallRemaining()*.001},"getOverallRemainingSeconds"),remove:r(function(l){l===void 0&&(l=!1),this.elapsed=this.delay,this.hasDispatched=!l,this.repeatCount=0},"remove"),destroy:r(function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]},"destroy")});n.exports=c},35945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},89809:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:s(35945)}},90291:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clock:s(33385),Events:s(89809),Timeline:s(96120),TimerEvent:s(94880)}},40382:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(72905),T=s(83419),c=s(43491),l=s(88032),u=s(37277),h=s(44594),f=s(93109),v=s(86081),d=s(8357),p=s(43960),g=s(26012),m=new T({initialize:r(function(E){this.scene=E,this.events=E.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},"TweenManager"),boot:r(function(){this.events.once(h.DESTROY,this.destroy,this)},"boot"),start:r(function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(h.UPDATE,this.update,this),this.events.once(h.SHUTDOWN,this.shutdown,this)},"start"),create:r(function(x){Array.isArray(x)||(x=[x]);for(var E=[],A=0;A<x.length;A++){var R=x[A];R instanceof v||R instanceof p?E.push(R):Array.isArray(R.tweens)?E.push(g(this,R)):E.push(d(this,R))}return E.length===1?E[0]:E},"create"),add:r(function(x){var E=x,A=this.tweens;return E instanceof v||E instanceof p||(Array.isArray(E.tweens)?E=g(this,E):E=d(this,E)),A.push(E.reset()),E},"add"),addMultiple:r(function(x){for(var E,A=[],R=this.tweens,P=0;P<x.length;P++)E=x[P],E instanceof v||E instanceof p||(Array.isArray(E.tweens)?E=g(this,E):E=d(this,E)),R.push(E.reset()),A.push(E);return A},"addMultiple"),chain:r(function(x){var E=g(this,x);return this.tweens.push(E.init()),E},"chain"),getChainedTweens:r(function(x){return x.getChainedTweens()},"getChainedTweens"),has:r(function(x){return this.tweens.indexOf(x)>-1},"has"),existing:r(function(x){return this.has(x)||this.tweens.push(x.reset()),this},"existing"),addCounter:r(function(x){var E=l(this,x);return this.tweens.push(E.reset()),E},"addCounter"),stagger:r(function(x,E){return f(x,E)},"stagger"),setLagSmooth:r(function(x,E){return x===void 0&&(x=1/1e-8),E===void 0&&(E=0),this.maxLag=x,this.lagSkip=Math.min(E,this.maxLag),this},"setLagSmooth"),setFps:r(function(x){return x===void 0&&(x=240),this.gap=1e3/x,this.nextTime=this.time*1e3+this.gap,this},"setFps"),getDelta:r(function(x){var E=Date.now()-this.prevTime;E>this.maxLag&&(this.startTime+=E-this.lagSkip),this.prevTime+=E;var A=this.prevTime-this.startTime,R=A-this.nextTime,P=A-this.time*1e3;return R>0||x?(A/=1e3,this.time=A,this.nextTime+=R+(R>=this.gap?4:this.gap-R)):P=0,P},"getDelta"),tick:r(function(){return this.step(!0),this},"tick"),update:r(function(){this.paused||this.step(!1)},"update"),step:r(function(x){x===void 0&&(x=!1);var E=this.getDelta(x);if(!(E<=0)){this.processing=!0;var A,R,P=[],O=this.tweens;for(A=0;A<O.length;A++)R=O[A],R.update(E)&&P.push(R);var L=P.length;if(L&&O.length>0){for(A=0;A<L;A++){R=P[A];var w=O.indexOf(R);w>-1&&(R.isPendingRemove()||R.isDestroyed())&&(O.splice(w,1),R.destroy())}P.length=0}this.processing=!1}},"step"),remove:r(function(x){return this.processing?x.setPendingRemoveState():(o(this.tweens,x),x.setRemovedState()),this},"remove"),reset:r(function(x){return this.existing(x),x.seek(),x.setActiveState(),this},"reset"),makeActive:r(function(x){return this.existing(x),x.setActiveState(),this},"makeActive"),each:r(function(x,E){var A,R=[null];for(A=1;A<arguments.length;A++)R.push(arguments[A]);return this.tweens.forEach(function(P){R[0]=P,x.apply(E,R)}),this},"each"),getTweens:r(function(){return this.tweens.slice()},"getTweens"),getTweensOf:r(function(x){var E=[],A=this.tweens;Array.isArray(x)?x=c(x):x=[x];for(var R=x.length,P=0;P<A.length;P++)for(var O=A[P],L=0;L<R;L++)!O.isDestroyed()&&O.hasTarget(x[L])&&E.push(O);return E},"getTweensOf"),getGlobalTimeScale:r(function(){return this.timeScale},"getGlobalTimeScale"),setGlobalTimeScale:r(function(x){return this.timeScale=x,this},"setGlobalTimeScale"),isTweening:r(function(x){for(var E=this.tweens,A,R=0;R<E.length;R++)if(A=E[R],A.isPlaying()&&A.hasTarget(x))return!0;return!1},"isTweening"),killAll:r(function(){for(var x=this.processing?this.getTweens():this.tweens,E=0;E<x.length;E++)x[E].destroy();return this.processing||(x.length=0),this},"killAll"),killTweensOf:r(function(x){for(var E=this.getTweensOf(x),A=0;A<E.length;A++)E[A].destroy();return this},"killTweensOf"),pauseAll:r(function(){return this.paused=!0,this},"pauseAll"),resumeAll:r(function(){return this.paused=!1,this},"resumeAll"),shutdown:r(function(){this.killAll(),this.tweens=[],this.events.off(h.UPDATE,this.update,this),this.events.off(h.SHUTDOWN,this.shutdown,this)},"shutdown"),destroy:r(function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.events=null},"destroy")});u.register("TweenManager",m,"tweens"),n.exports=m},57355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){return s&&s.hasOwnProperty(o)?s[o]:T},"GetBoolean");n.exports=C},6113:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62640),T=s(35355),c=r(function(l,u){var h=o.Power0;if(typeof l=="string")if(o.hasOwnProperty(l))h=o[l];else{var f="";if(l.indexOf(".")){f=l.substring(l.indexOf(".")+1);var v=f.toLowerCase();v==="in"?f="easeIn":v==="out"?f="easeOut":v==="inout"&&(f="easeInOut")}l=T(l.substring(0,l.indexOf(".")+1)+f),o.hasOwnProperty(l)&&(h=o[l])}else typeof l=="function"&&(h=l);if(!u)return h;var d=u.slice(0);return d.unshift(0),function(p){return d[0]=p,h.apply(this,d)}},"GetEaseFunction");n.exports=c},91389:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89318),T=s(77259),c=s(28392),l={bezier:o,catmull:T,catmullrom:T,linear:c},u=r(function(h){if(h===null)return null;var f=l.linear;return typeof h=="string"?l.hasOwnProperty(h)&&(f=l[h]):typeof h=="function"&&(f=h),f},"GetInterpolationFunction");n.exports=u},55292:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c;if(s.hasOwnProperty(o)){var l=typeof s[o];l==="function"?c=r(function(u,h,f,v,d,p){return s[o](u,h,f,v,d,p)},"valueCallback"):c=r(function(){return s[o]},"valueCallback")}else typeof T=="function"?c=T:c=r(function(){return T},"valueCallback");return c},"GetNewValue");n.exports=C},82985:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81076),T=r(function(c){var l,u=[];if(c.hasOwnProperty("props"))for(l in c.props)l.substring(0,1)!=="_"&&u.push({key:l,value:c.props[l]});else for(l in c)o.indexOf(l)===-1&&l.substring(0,1)!=="_"&&u.push({key:l,value:c[l]});return u},"GetProps");n.exports=T},62329:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),T=r(function(c){var l=o(c,"targets",null);return l===null||(typeof l=="function"&&(l=l.call()),Array.isArray(l)||(l=[l])),l},"GetTargets");n.exports=T},17777:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),T=s(99472);function c(v){return!!v.getActive&&typeof v.getActive=="function"}r(c,"hasGetActive");function l(v){return!!v.getStart&&typeof v.getStart=="function"}r(l,"hasGetStart");function u(v){return!!v.getEnd&&typeof v.getEnd=="function"}r(u,"hasGetEnd");function h(v){return l(v)||u(v)||c(v)}r(h,"hasGetters");var f=r(function(v,d){var p,g=r(function(z,X,H){return H},"getEnd"),m=r(function(z,X,H){return H},"getStart"),x=null,E=typeof d;if(E==="number")g=r(function(){return d},"getEnd");else if(Array.isArray(d))m=r(function(){return d[0]},"getStart"),g=r(function(){return d[d.length-1]},"getEnd");else if(E==="string"){var A=d.toLowerCase(),R=A.substring(0,6)==="random",P=A.substring(0,3)==="int";if(R||P){var O=A.indexOf("("),L=A.indexOf(")"),w=A.indexOf(",");if(O&&L&&w){var M=parseFloat(A.substring(O+1,w)),b=parseFloat(A.substring(w+1,L));R?g=r(function(){return T(M,b)},"getEnd"):g=r(function(){return o(M,b)},"getEnd")}else throw new Error("invalid random() format")}else{A=A[0];var D=parseFloat(d.substr(2));switch(A){case"+":g=r(function(z,X,H){return H+D},"getEnd");break;case"-":g=r(function(z,X,H){return H-D},"getEnd");break;case"*":g=r(function(z,X,H){return H*D},"getEnd");break;case"/":g=r(function(z,X,H){return H/D},"getEnd");break;default:g=r(function(){return parseFloat(d)},"getEnd")}}}else if(E==="function")g=d;else if(E==="object")if(h(d))c(d)&&(x=d.getActive),u(d)&&(g=d.getEnd),l(d)&&(m=d.getStart);else if(d.hasOwnProperty("value"))p=f(v,d.value);else{var F=d.hasOwnProperty("to"),N=d.hasOwnProperty("from"),B=d.hasOwnProperty("start");if(F&&(N||B)){if(p=f(v,d.to),B){var Y=f(v,d.start);p.getActive=Y.getEnd}if(N){var W=f(v,d.from);p.getStart=W.getEnd}}}return p||(p={getActive:x,getEnd:g,getStart:m}),p},"GetValueOp");n.exports=f},88032:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),T=s(69902),c=s(23568),l=s(57355),u=s(6113),h=s(95540),f=s(55292),v=s(35154),d=s(17777),p=s(269),g=s(86081),m=r(function(x,E,A){if(E instanceof g)return E.parent=x,E;A===void 0?A=T:A=p(T,A);var R=h(E,"from",0),P=h(E,"to",1),O=[{value:R}],L=h(E,"delay",A.delay),w=h(E,"easeParams",A.easeParams),M=h(E,"ease",A.ease),b=d("value",P),D=new g(x,O),F=D.add(0,"value",b.getEnd,b.getStart,b.getActive,u(h(E,"ease",M),h(E,"easeParams",w)),f(E,"delay",L),h(E,"duration",A.duration),l(E,"yoyo",A.yoyo),h(E,"hold",A.hold),h(E,"repeat",A.repeat),h(E,"repeatDelay",A.repeatDelay),!1,!1);F.start=R,F.current=R,D.completeDelay=c(E,"completeDelay",0),D.loop=Math.round(c(E,"loop",0)),D.loopDelay=Math.round(c(E,"loopDelay",0)),D.paused=l(E,"paused",!1),D.persist=l(E,"persist",!1),D.isNumberTween=!0,D.callbackScope=v(E,"callbackScope",D);for(var N=o.TYPES,B=0;B<N.length;B++){var Y=N[B],W=v(E,Y,!1);if(W){var z=v(E,Y+"Params",[]);D.setCallback(Y,W,z)}}return D},"NumberTweenBuilder");n.exports=m},93109:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6113),T=s(35154),c=s(36383),l=r(function(u,h){h===void 0&&(h={});var f,v=T(h,"start",0),d=T(h,"ease",null),p=T(h,"grid",null),g=T(h,"from",0),m=g==="first",x=g==="center",E=g==="last",A=typeof g=="number",R=Array.isArray(u),P=parseFloat(R?u[0]:u),O=R?parseFloat(u[1]):0,L=Math.max(P,O);if(R&&(v+=P),p){var w=p[0],M=p[1],b=0,D=0,F=0,N=0,B=[];E?(b=w-1,D=M-1):A?(b=g%w,D=Math.floor(g/w)):x&&(b=(w-1)/2,D=(M-1)/2);for(var Y=c.MIN_SAFE_INTEGER,W=0;W<M;W++){B[W]=[];for(var z=0;z<w;z++){F=b-z,N=D-W;var X=Math.sqrt(F*F+N*N);X>Y&&(Y=X),B[W][z]=X}}}var H=d?o(d):null;return p?f=r(function(V,G,k,U){var I=0,$=U%w,K=Math.floor(U/w);$>=0&&$<w&&K>=0&&K<M&&(I=B[K][$]);var Z;if(R){var J=O-P;H?Z=I/Y*J*H(I/Y):Z=I/Y*J}else H?Z=I*P*H(I/Y):Z=I*P;return Z+v},"result"):f=r(function(V,G,k,U,I){I--;var $;m?$=U:x?$=Math.abs(I/2-U):E?$=I-U:A&&($=Math.abs(g-U));var K;if(R){var Z;x?Z=(O-P)/I*($*2):Z=(O-P)/I*$,H?K=Z*H($/I):K=Z}else H?K=I*L*H($/I):K=$*P;return K+v},"result"),f},"StaggerBuilder");n.exports=l},8357:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),T=s(69902),c=s(23568),l=s(57355),u=s(6113),h=s(95540),f=s(91389),v=s(55292),d=s(82985),p=s(62329),g=s(35154),m=s(17777),x=s(269),E=s(86081),A=r(function(R,P,O){if(P instanceof E)return P.parent=R,P;O===void 0?O=T:O=x(T,O);var L=p(P);!L&&O.targets&&(L=O.targets);for(var w=d(P),M=h(P,"delay",O.delay),b=h(P,"duration",O.duration),D=h(P,"easeParams",O.easeParams),F=h(P,"ease",O.ease),N=h(P,"hold",O.hold),B=h(P,"repeat",O.repeat),Y=h(P,"repeatDelay",O.repeatDelay),W=l(P,"yoyo",O.yoyo),z=l(P,"flipX",O.flipX),X=l(P,"flipY",O.flipY),H=h(P,"interpolation",O.interpolation),V=r(function(j,tt,st,_){if(st==="texture"){var ht=_,ot=void 0;Array.isArray(_)?(ht=_[0],ot=_[1]):_.hasOwnProperty("value")?(ht=_.value,Array.isArray(_.value)?(ht=_.value[0],ot=_.value[1]):typeof _.value=="string"&&(ht=_.value)):typeof _=="string"&&(ht=_),j.addFrame(tt,ht,ot,v(_,"delay",M),h(_,"duration",b),h(_,"hold",N),h(_,"repeat",B),h(_,"repeatDelay",Y),l(_,"flipX",z),l(_,"flipY",X))}else{var lt=m(st,_),et=f(h(_,"interpolation",H));j.add(tt,st,lt.getEnd,lt.getStart,lt.getActive,u(h(_,"ease",F),h(_,"easeParams",D)),v(_,"delay",M),h(_,"duration",b),l(_,"yoyo",W),h(_,"hold",N),h(_,"repeat",B),h(_,"repeatDelay",Y),l(_,"flipX",z),l(_,"flipY",X),et,et?_:null)}},"addTarget"),G=new E(R,L),k=0;k<w.length;k++)for(var U=w[k].key,I=w[k].value,$=0;$<L.length;$++)U==="scale"&&!L[$].hasOwnProperty("scale")?(V(G,$,"scaleX",I),V(G,$,"scaleY",I)):V(G,$,U,I);G.completeDelay=c(P,"completeDelay",0),G.loop=Math.round(c(P,"loop",0)),G.loopDelay=Math.round(c(P,"loopDelay",0)),G.paused=l(P,"paused",!1),G.persist=l(P,"persist",!1),G.callbackScope=h(P,"callbackScope",G);for(var K=o.TYPES,Z=0;Z<K.length;Z++){var J=K[Z],Q=g(P,J,!1);if(Q){var q=g(P,J+"Params",[]);G.setCallback(J,Q,q)}}return G},"TweenBuilder");n.exports=A},26012:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),T=s(23568),c=s(57355),l=s(62329),u=s(35154),h=s(8357),f=s(43960),v=r(function(d,p){if(p instanceof f)return p.parent=d,p;var g=new f(d);g.startDelay=u(p,"delay",0),g.completeDelay=T(p,"completeDelay",0),g.loop=Math.round(T(p,"loop",u(p,"repeat",0))),g.loopDelay=Math.round(T(p,"loopDelay",u(p,"repeatDelay",0))),g.paused=c(p,"paused",!1),g.persist=c(p,"persist",!1),g.callbackScope=u(p,"callbackScope",g);var m,x=o.TYPES;for(m=0;m<x.length;m++){var E=x[m],A=u(p,E,!1);if(A){var R=u(p,E+"Params",[]);g.setCallback(E,A,R)}}var P=u(p,"tweens",null);if(Array.isArray(P)){var O=[],L=l(p),w=void 0;for(L&&(w={targets:L}),m=0;m<P.length;m++)O.push(h(g,P[m],w));g.add(O)}return g},"TweenChainBuilder");n.exports=v},30231:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetBoolean:s(57355),GetEaseFunction:s(6113),GetInterpolationFunction:s(91389),GetNewValue:s(55292),GetProps:s(82985),GetTargets:s(62329),GetValueOp:s(17777),NumberTweenBuilder:s(88032),StaggerBuilder:s(93109),TweenBuilder:s(8357)}},73685:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="active"},98540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},67233:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},2859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},98336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="repeat"},25764:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},32193:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},84371:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},70766:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},55659:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="yoyo"},842:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TWEEN_ACTIVE:s(73685),TWEEN_COMPLETE:s(98540),TWEEN_LOOP:s(67233),TWEEN_PAUSE:s(2859),TWEEN_RESUME:s(25764),TWEEN_REPEAT:s(98336),TWEEN_START:s(32193),TWEEN_STOP:s(84371),TWEEN_UPDATE:s(70766),TWEEN_YOYO:s(55659)}},43066:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:s(86353),Builders:s(30231),Events:s(842),TweenManager:s(40382),Tween:s(86081),TweenData:s(48177),TweenFrameData:s(42220),BaseTween:s(70402),TweenChain:s(43960)};n.exports=o},70402:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(50792),c=s(842),l=s(86353),u=new o({Extends:T,initialize:r(function(f){T.call(this),this.parent=f,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=l.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},"BaseTween"),setTimeScale:r(function(h){return this.timeScale=h,this},"setTimeScale"),getTimeScale:r(function(){return this.timeScale},"getTimeScale"),isPlaying:r(function(){return!this.paused&&this.isActive()},"isPlaying"),isPaused:r(function(){return this.paused},"isPaused"),pause:r(function(){return this.paused||(this.paused=!0,this.dispatchEvent(c.TWEEN_PAUSE,"onPause")),this},"pause"),resume:r(function(){return this.paused&&(this.paused=!1,this.dispatchEvent(c.TWEEN_RESUME,"onResume")),this},"resume"),makeActive:r(function(){this.parent.makeActive(this),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")},"makeActive"),onCompleteHandler:r(function(){this.setPendingRemoveState(),this.dispatchEvent(c.TWEEN_COMPLETE,"onComplete")},"onCompleteHandler"),complete:r(function(h){return h===void 0&&(h=0),h?(this.setCompleteDelayState(),this.countdown=h):this.onCompleteHandler(),this},"complete"),completeAfterLoop:r(function(h){return h===void 0&&(h=0),this.loopCounter>h&&(this.loopCounter=h),this},"completeAfterLoop"),remove:r(function(){return this.parent&&this.parent.remove(this),this},"remove"),stop:r(function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(c.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},"stop"),updateLoopCountdown:r(function(h){this.countdown-=h,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"))},"updateLoopCountdown"),updateStartCountdown:r(function(h){return this.countdown-=h,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(c.TWEEN_START,"onStart"),h=0),h},"updateStartCountdown"),updateCompleteDelay:r(function(h){this.countdown-=h,this.countdown<=0&&this.onCompleteHandler()},"updateCompleteDelay"),setCallback:r(function(h,f,v){return v===void 0&&(v=[]),this.callbacks.hasOwnProperty(h)&&(this.callbacks[h]={func:f,params:v}),this},"setCallback"),setPendingState:r(function(){this.state=l.PENDING},"setPendingState"),setActiveState:r(function(){this.state=l.ACTIVE,this.hasStarted=!1},"setActiveState"),setLoopDelayState:r(function(){this.state=l.LOOP_DELAY},"setLoopDelayState"),setCompleteDelayState:r(function(){this.state=l.COMPLETE_DELAY},"setCompleteDelayState"),setStartDelayState:r(function(){this.state=l.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},"setStartDelayState"),setPendingRemoveState:r(function(){this.state=l.PENDING_REMOVE},"setPendingRemoveState"),setRemovedState:r(function(){this.state=l.REMOVED},"setRemovedState"),setFinishedState:r(function(){this.state=l.FINISHED},"setFinishedState"),setDestroyedState:r(function(){this.state=l.DESTROYED},"setDestroyedState"),isPending:r(function(){return this.state===l.PENDING},"isPending"),isActive:r(function(){return this.state===l.ACTIVE},"isActive"),isLoopDelayed:r(function(){return this.state===l.LOOP_DELAY},"isLoopDelayed"),isCompleteDelayed:r(function(){return this.state===l.COMPLETE_DELAY},"isCompleteDelayed"),isStartDelayed:r(function(){return this.state===l.START_DELAY},"isStartDelayed"),isPendingRemove:r(function(){return this.state===l.PENDING_REMOVE},"isPendingRemove"),isRemoved:r(function(){return this.state===l.REMOVED},"isRemoved"),isFinished:r(function(){return this.state===l.FINISHED},"isFinished"),isDestroyed:r(function(){return this.state===l.DESTROYED},"isDestroyed"),destroy:r(function(){this.data&&this.data.forEach(function(h){h.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()},"destroy")});u.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],n.exports=u},95042:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),T=s(842),c=s(86353),l=new o({initialize:r(function(h,f,v,d,p,g,m,x,E,A){this.tween=h,this.targetIndex=f,this.duration=d<=0?.01:d,this.totalDuration=0,this.delay=0,this.getDelay=v,this.yoyo=p,this.hold=g,this.repeat=m,this.repeatDelay=x,this.repeatCounter=0,this.flipX=E,this.flipY=A,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},"BaseTweenData"),getTarget:r(function(){return this.tween.targets[this.targetIndex]},"getTarget"),setTargetValue:r(function(u){u===void 0&&(u=this.current),this.tween.targets[this.targetIndex][this.key]=u},"setTargetValue"),setCreatedState:r(function(){this.state=c.CREATED,this.isCountdown=!1},"setCreatedState"),setDelayState:r(function(){this.state=c.DELAY,this.isCountdown=!0},"setDelayState"),setPendingRenderState:r(function(){this.state=c.PENDING_RENDER,this.isCountdown=!1},"setPendingRenderState"),setPlayingForwardState:r(function(){this.state=c.PLAYING_FORWARD,this.isCountdown=!1},"setPlayingForwardState"),setPlayingBackwardState:r(function(){this.state=c.PLAYING_BACKWARD,this.isCountdown=!1},"setPlayingBackwardState"),setHoldState:r(function(){this.state=c.HOLD_DELAY,this.isCountdown=!0},"setHoldState"),setRepeatState:r(function(){this.state=c.REPEAT_DELAY,this.isCountdown=!0},"setRepeatState"),setCompleteState:r(function(){this.state=c.COMPLETE,this.isCountdown=!1},"setCompleteState"),isCreated:r(function(){return this.state===c.CREATED},"isCreated"),isDelayed:r(function(){return this.state===c.DELAY},"isDelayed"),isPendingRender:r(function(){return this.state===c.PENDING_RENDER},"isPendingRender"),isPlayingForward:r(function(){return this.state===c.PLAYING_FORWARD},"isPlayingForward"),isPlayingBackward:r(function(){return this.state===c.PLAYING_BACKWARD},"isPlayingBackward"),isHolding:r(function(){return this.state===c.HOLD_DELAY},"isHolding"),isRepeating:r(function(){return this.state===c.REPEAT_DELAY},"isRepeating"),isComplete:r(function(){return this.state===c.COMPLETE},"isComplete"),setStateFromEnd:r(function(u){this.yoyo?this.onRepeat(u,!0,!0):this.repeatCounter>0?this.onRepeat(u,!0,!1):this.setCompleteState()},"setStateFromEnd"),setStateFromStart:r(function(u){this.repeatCounter>0?this.onRepeat(u,!1):this.setCompleteState()},"setStateFromStart"),reset:r(function(){var u=this.tween,h=u.totalTargets,f=this.targetIndex,v=u.targets[f],d=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(v,d,0,f,h,u),this.repeatCounter=this.repeat===-1?c.MAX:this.repeat,this.setPendingRenderState();var p=this.duration+this.hold;this.yoyo&&(p+=this.duration);var g=p+this.repeatDelay;this.totalDuration=this.delay+p,this.repeat===-1?(this.totalDuration+=g*c.MAX,u.isInfinite=!0):this.repeat>0&&(this.totalDuration+=g*this.repeat),this.totalDuration>u.duration&&(u.duration=this.totalDuration),this.delay<u.startDelay&&(u.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},"reset"),onRepeat:r(function(u,h,f){var v=this.tween,d=v.totalTargets,p=this.targetIndex,g=v.targets[p],m=this.key,x=m!=="texture";if(this.elapsed=u,this.progress=u/this.duration,this.flipX&&g.toggleFlipX(),this.flipY&&g.toggleFlipY(),x&&(h||f)&&(this.start=this.getStartValue(g,m,this.start,p,d,v)),f){this.setPlayingBackwardState(),this.dispatchEvent(T.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,x&&(this.end=this.getEndValue(g,m,this.start,p,d,v)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-u,x&&(this.current=this.start,g[m]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(T.TWEEN_REPEAT,"onRepeat"))},"onRepeat"),destroy:r(function(){this.tween=null,this.getDelay=null,this.setCompleteState()},"destroy")});n.exports=l},69902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};n.exports=C},81076:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),T=s(83419),c=s(842),l=s(44603),u=s(39429),h=s(36383),f=s(86353),v=s(48177),d=s(42220),p=new T({Extends:o,initialize:r(function(m,x){o.call(this,m),this.targets=x,this.totalTargets=x.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},"Tween"),add:r(function(g,m,x,E,A,R,P,O,L,w,M,b,D,F,N,B){var Y=new v(this,g,m,x,E,A,R,P,O,L,w,M,b,D,F,N,B);return this.totalData=this.data.push(Y),Y},"add"),addFrame:r(function(g,m,x,E,A,R,P,O,L,w){var M=new d(this,g,m,x,E,A,R,P,O,L,w);return this.totalData=this.data.push(M),M},"addFrame"),getValue:r(function(g){g===void 0&&(g=0);var m=null;return this.data&&(m=this.data[g].current),m},"getValue"),hasTarget:r(function(g){return this.targets&&this.targets.indexOf(g)!==-1},"hasTarget"),updateTo:r(function(g,m,x){if(x===void 0&&(x=!1),g!=="texture")for(var E=0;E<this.totalData;E++){var A=this.data[E];A.key===g&&(A.isPlayingForward()||A.isPlayingBackward())&&(A.end=m,x&&(A.start=A.current))}return this},"updateTo"),restart:r(function(){switch(this.state){case f.REMOVED:case f.FINISHED:this.seek(),this.parent.makeActive(this);break;case f.PENDING:case f.PENDING_REMOVE:this.parent.reset(this);break;case f.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},"restart"),nextState:r(function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},"nextState"),onCompleteHandler:r(function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},"onCompleteHandler"),play:r(function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},"play"),seek:r(function(g,m,x){if(g===void 0&&(g=0),m===void 0&&(m=16.6),x===void 0&&(x=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;x||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive");var E=this.paused;if(this.paused=!1,g>0){for(var A=Math.floor(g/m),R=g-A*m,P=0;P<A;P++)this.update(m);R>0&&this.update(R)}return this.paused=E,this.isSeeking=!1,this},"seek"),initTweenData:r(function(g){g===void 0&&(g=!1),this.duration=0,this.startDelay=h.MAX_SAFE_INTEGER;for(var m=this.data,x=0;x<this.totalData;x++)m[x].reset(g);this.duration=Math.max(this.duration,.01);var E=this.duration,A=this.completeDelay,R=this.loopCounter,P=this.loopDelay;R>0?this.totalDuration=E+A+(E+P)*R:this.totalDuration=E+A},"initTweenData"),reset:r(function(g){return g===void 0&&(g=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=f.MAX),g||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")),this},"reset"),update:r(function(g){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(g*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(g),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(g),!1;this.hasStarted||(this.startDelay-=g,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(c.TWEEN_START,"onStart"),g=0));var m=!1;if(this.isActive())for(var x=this.data,E=0;E<this.totalData;E++)x[E].update(g)&&(m=!0);this.elapsed+=g,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=g,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),m||this.nextState();var A=this.isPendingRemove();return A&&this.persist&&(this.setFinishedState(),A=!1),A},"update"),forward:r(function(g){return this.update(g),this},"forward"),rewind:r(function(g){return this.update(-g),this},"rewind"),dispatchEvent:r(function(g,m){if(!this.isSeeking){if(this.emit(g,this,this.targets),!this.callbacks)return;var x=this.callbacks[m];x&&x.func.apply(this.callbackScope,[this,this.targets].concat(x.params))}},"dispatchEvent"),destroy:r(function(){o.prototype.destroy.call(this),this.targets=null},"destroy")});u.register("tween",function(g){return this.scene.sys.tweens.add(g)}),l.register("tween",function(g){return this.scene.sys.tweens.create(g)}),n.exports=p},43960:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(72905),T=s(70402),c=s(83419),l=s(842),u=s(44603),h=s(39429),f=s(86353),v=new c({Extends:T,initialize:r(function(p){T.call(this,p),this.currentTween=null,this.currentIndex=0},"TweenChain"),init:r(function(){return this.loopCounter=this.loop===-1?f.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},"init"),add:r(function(d){var p=this.parent.create(d);Array.isArray(p)||(p=[p]);for(var g=this.data,m=0;m<p.length;m++){var x=p[m];x.parent=this,g.push(x.reset())}return this.totalData=g.length,this},"add"),remove:r(function(d){return o(this.data,d),d.setRemovedState(),d===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},"remove"),hasTarget:r(function(d){for(var p=this.data,g=0;g<this.totalData;g++)if(p[g].hasTarget(d))return!0;return!1},"hasTarget"),restart:r(function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},"restart"),reset:r(function(d){return d.seek(),d.setActiveState(),this},"reset"),makeActive:r(function(d){return d.reset(),d.setActiveState(),this},"makeActive"),nextState:r(function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},"nextState"),play:r(function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},"play"),resetTweens:r(function(){for(var d=this.data,p=this.totalData,g=0;g<p;g++)d[g].reset(!1);this.setCurrentTween(0)},"resetTweens"),update:r(function(d){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(d*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(d),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(d),!1;this.hasStarted||(this.startDelay-=d,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),d=0));var p=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(d)&&this.nextTween()&&this.nextState(),p=this.isPendingRemove(),p&&this.persist&&(this.setFinishedState(),p=!1)),p},"update"),nextTween:r(function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},"nextTween"),setCurrentTween:r(function(d){this.currentIndex=d,this.currentTween=this.data[d],this.currentTween.setActiveState()},"setCurrentTween"),dispatchEvent:r(function(d,p){this.emit(d,this);var g=this.callbacks[p];g&&g.func.apply(this.callbackScope,[this].concat(g.params))},"dispatchEvent"),destroy:r(function(){T.prototype.destroy.call(this),this.currentTween=null},"destroy")});h.register("tweenchain",function(d){return this.scene.sys.tweens.chain(d)}),u.register("tweenchain",function(d){return this.scene.sys.tweens.create(d)}),n.exports=v},48177:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95042),T=s(45319),c=s(83419),l=s(842),u=new c({Extends:o,initialize:r(function(f,v,d,p,g,m,x,E,A,R,P,O,L,w,M,b,D){o.call(this,f,v,E,A,R,P,O,L,w,M),this.key=d,this.getActiveValue=m,this.getEndValue=p,this.getStartValue=g,this.ease=x,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=b,this.interpolationData=D},"TweenData"),reset:r(function(h){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex],v=this.key;h&&(f[v]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(f[v]=this.getActiveValue(f,v,0))},"reset"),update:r(function(h){var f=this.tween,v=f.totalTargets,d=this.targetIndex,p=f.targets[d],g=this.key;if(!p)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=h,this.elapsed<=0&&(this.elapsed=0,h=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(p,g,p[g],d,v,f),this.end=this.getEndValue(p,g,this.start,d,v,f),this.current=this.start,p[g]=this.start,this.setPlayingForwardState(),!0;var m=this.isPlayingForward(),x=this.isPlayingBackward();if(m||x){var E=this.elapsed,A=this.duration,R=0,P=!1;E+=h,E>=A?(R=E-A,E=A,P=!0):E<0&&(E=0);var O=T(E/A,0,1);this.elapsed=E,this.progress=O,this.previous=this.current,m||(O=1-O);var L=this.ease(O);this.interpolation?this.current=this.interpolation(this.interpolationData,L):this.current=this.start+(this.end-this.start)*L,p[g]=this.current,P&&(m?(f.isNumberTween&&(this.current=this.end,p[g]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(R)):(f.isNumberTween&&(this.current=this.start,p[g]=this.current),this.setStateFromStart(R))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},"update"),dispatchEvent:r(function(h,f){var v=this.tween;if(!v.isSeeking){var d=v.targets[this.targetIndex],p=this.key,g=this.current,m=this.previous;v.emit(h,v,p,d,g,m);var x=v.callbacks[f];x&&x.func.apply(v.callbackScope,[v,d,p,g,m].concat(x.params))}},"dispatchEvent"),destroy:r(function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null},"destroy")});n.exports=u},42220:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95042),T=s(45319),c=s(83419),l=s(842),u=new c({Extends:o,initialize:r(function(f,v,d,p,g,m,x,E,A,R,P){o.call(this,f,v,g,m,!1,x,E,A,R,P),this.key="texture",this.startTexture=null,this.endTexture=d,this.startFrame=null,this.endFrame=p,this.yoyo=E!==0},"TweenFrameData"),reset:r(function(h){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=f.texture.key,this.startFrame=f.frame.name),h&&f.setTexture(this.startTexture,this.startFrame)},"reset"),update:r(function(h){var f=this.tween,v=this.targetIndex,d=f.targets[v];if(!d)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=h,this.elapsed<=0&&(this.elapsed=0,h=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&d.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var p=this.isPlayingForward(),g=this.isPlayingBackward();if(p||g){var m=this.elapsed,x=this.duration,E=0,A=!1;m+=h,m>=x?(E=m-x,m=x,A=!0):m<0&&(m=0);var R=T(m/x,0,1);this.elapsed=m,this.progress=R,A&&(p?(d.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(E)):(d.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(E))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},"update"),dispatchEvent:r(function(h,f){var v=this.tween;if(!v.isSeeking){var d=v.targets[this.targetIndex],p=this.key;v.emit(h,v,p,d);var g=v.callbacks[f];g&&g.func.apply(v.callbackScope,[v,d,p].concat(g.params))}},"dispatchEvent"),destroy:r(function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null},"destroy")});n.exports=u},86353:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};n.exports=C},83419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(u){return!!u.get&&typeof u.get=="function"||!!u.set&&typeof u.set=="function"}r(C,"hasGetterOrSetter");function s(u,h,f){var v=f?u[h]:Object.getOwnPropertyDescriptor(u,h);return!f&&v.value&&typeof v.value=="object"&&(v=v.value),v&&C(v)?(typeof v.enumerable>"u"&&(v.enumerable=!0),typeof v.configurable>"u"&&(v.configurable=!0),v):!1}r(s,"getProperty");function o(u,h){var f=Object.getOwnPropertyDescriptor(u,h);return f?(f.value&&typeof f.value=="object"&&(f=f.value),f.configurable===!1):!1}r(o,"hasNonConfigurable");function T(u,h,f,v){for(var d in h)if(h.hasOwnProperty(d)){var p=s(h,d,f);if(p!==!1){var g=v||u;if(o(g.prototype,d)){if(l.ignoreFinals)continue;throw new Error("cannot override final property '"+d+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(u.prototype,d,p)}else u.prototype[d]=h[d]}}r(T,"extend");function c(u,h){if(h){Array.isArray(h)||(h=[h]);for(var f=0;f<h.length;f++)T(u,h[f].prototype||h[f])}}r(c,"mixin");function l(u){u||(u={});var h,f;if(u.initialize){if(typeof u.initialize!="function")throw new Error("initialize must be a function");h=u.initialize,delete u.initialize}else if(u.Extends){var v=u.Extends;h=r(function(){v.apply(this,arguments)},"initialize")}else h=r(function(){},"initialize");u.Extends?(h.prototype=Object.create(u.Extends.prototype),h.prototype.constructor=h,f=u.Extends,delete u.Extends):h.prototype.constructor=h;var d=null;return u.Mixins&&(d=u.Mixins,delete u.Mixins),c(h,d),T(h,u,!0,f),h}r(l,"Class"),l.extend=T,l.mixin=c,l.ignoreFinals=!1,n.exports=l},29747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(){},"NOOP");n.exports=C},20242:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(){return null},"NULL");n.exports=C},71146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l){if(l===void 0&&(l=s),T>0){var u=T-s.length;if(u<=0)return null}if(!Array.isArray(o))return s.indexOf(o)===-1?(s.push(o),c&&c.call(l,o),o):null;for(var h=o.length-1;h>=0;)s.indexOf(o[h])!==-1&&o.splice(h,1),h--;if(h=o.length,h===0)return null;T>0&&h>u&&(o.splice(u),h=u);for(var f=0;f<h;f++){var v=o[f];s.push(v),c&&c.call(l,v)}return o},"Add");n.exports=C},51067:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c,l,u){if(T===void 0&&(T=0),u===void 0&&(u=s),c>0){var h=c-s.length;if(h<=0)return null}if(!Array.isArray(o))return s.indexOf(o)===-1?(s.splice(T,0,o),l&&l.call(u,o),o):null;for(var f=o.length-1;f>=0;)s.indexOf(o[f])!==-1&&o.pop(),f--;if(f=o.length,f===0)return null;c>0&&f>h&&(o.splice(h),f=h);for(var v=f-1;v>=0;v--){var d=o[v];s.splice(T,0,d),l&&l.call(u,d)}return o},"AddAt");n.exports=C},66905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.indexOf(o);return T!==-1&&T<s.length&&(s.splice(T,1),s.push(o)),o},"BringToTop");n.exports=C},21612:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),T=r(function(c,l,u,h,f){h===void 0&&(h=0),f===void 0&&(f=c.length);var v=0;if(o(c,h,f))for(var d=h;d<f;d++){var p=c[d];p[l]===u&&v++}return v},"CountAllMatching");n.exports=T},95428:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c,l=[null];for(c=3;c<arguments.length;c++)l.push(arguments[c]);for(c=0;c<s.length;c++)l[0]=s[c],o.apply(T,l);return s},"Each");n.exports=C},36914:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),T=r(function(c,l,u,h,f){if(h===void 0&&(h=0),f===void 0&&(f=c.length),o(c,h,f)){var v,d=[null];for(v=5;v<arguments.length;v++)d.push(arguments[v]);for(v=h;v<f;v++)d[0]=c[v],l.apply(u,d)}return c},"EachInRange");n.exports=T},81957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){if(o.length){if(o.length===1)return o[0]}else return NaN;var c=1,l,u;if(T){if(s<o[0][T])return o[0];for(;o[c][T]<s;)c++}else for(;o[c]<s;)c++;return c>o.length&&(c=o.length),T?(l=o[c-1][T],u=o[c][T],u-s<=s-l?o[c]:o[c-1]):(l=o[c-1],u=o[c],u-s<=s-l?u:l)},"FindClosestInSorted");n.exports=C},43491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o===void 0&&(o=[]);for(var T=0;T<s.length;T++)Array.isArray(s[T])?C(s[T],o):o.push(s[T]);return o},"Flatten");n.exports=C},46710:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),T=r(function(c,l,u,h,f){h===void 0&&(h=0),f===void 0&&(f=c.length);var v=[];if(o(c,h,f))for(var d=h;d<f;d++){var p=c[d];(!l||l&&u===void 0&&p.hasOwnProperty(l)||l&&u!==void 0&&p[l]===u)&&v.push(p)}return v},"GetAll");n.exports=T},58731:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),T=r(function(c,l,u,h,f){if(h===void 0&&(h=0),f===void 0&&(f=c.length),h!==-1){if(o(c,h,f))for(var v=h;v<f;v++){var d=c[v];if(!l||l&&u===void 0&&d.hasOwnProperty(l)||l&&u!==void 0&&d[l]===u)return d}}else if(o(c,0,f))for(var v=f;v>=0;v--){var d=c[v];if(!l||l&&u===void 0&&d.hasOwnProperty(l)||l&&u!==void 0&&d[l]===u)return d}return null},"GetFirst");n.exports=T},26546:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){o===void 0&&(o=0),T===void 0&&(T=s.length);var c=o+Math.floor(Math.random()*T);return s[c]===void 0?null:s[c]},"GetRandom");n.exports=C},85835:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){if(o===T)return s;var c=s.indexOf(o),l=s.indexOf(T);if(c<0||l<0)throw new Error("Supplied items must be elements of the same array");return c>l||(s.splice(c,1),l=s.indexOf(T),s.splice(l+1,0,o)),s},"MoveAbove");n.exports=C},83371:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){if(o===T)return s;var c=s.indexOf(o),l=s.indexOf(T);if(c<0||l<0)throw new Error("Supplied items must be elements of the same array");return c<l||(s.splice(c,1),l===0?s.unshift(o):s.splice(l,0,o)),s},"MoveBelow");n.exports=C},70864:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.indexOf(o);if(T>0){var c=s[T-1],l=s.indexOf(c);s[T]=c,s[l]=o}return s},"MoveDown");n.exports=C},69693:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=s.indexOf(o);if(c===-1||T<0||T>=s.length)throw new Error("Supplied index out of bounds");return c!==T&&(s.splice(c,1),s.splice(T,0,o)),o},"MoveTo");n.exports=C},40853:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.indexOf(o);if(T!==-1&&T<s.length-1){var c=s[T+1],l=s.indexOf(c);s[T]=c,s[l]=o}return s},"MoveUp");n.exports=C},20283:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=[],u,h=!1;if((T||c)&&(h=!0,T||(T=""),c||(c="")),o<s)for(u=s;u>=o;u--)h?l.push(T+u.toString()+c):l.push(u);else for(u=s;u<=o;u++)h?l.push(T+u.toString()+c):l.push(u);return l},"NumberArray");n.exports=C},593:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2284),T=r(function(c,l,u){c===void 0&&(c=0),l===void 0&&(l=null),u===void 0&&(u=1),l===null&&(l=c,c=0);for(var h=[],f=Math.max(o((l-c)/(u||1)),0),v=0;v<f;v++)h.push(c),c+=u;return h},"NumberArrayStep");n.exports=T},43886:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(T,c,l){var u=T[c];T[c]=T[l],T[l]=u}r(C,"swap");function s(T,c){return T<c?-1:T>c?1:0}r(s,"defaultCompare");var o=r(function(T,c,l,u,h){for(l===void 0&&(l=0),u===void 0&&(u=T.length-1),h===void 0&&(h=s);u>l;){if(u-l>600){var f=u-l+1,v=c-l+1,d=Math.log(f),p=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*p*(f-p)/f)*(v-f/2<0?-1:1),m=Math.max(l,Math.floor(c-v*p/f+g)),x=Math.min(u,Math.floor(c+(f-v)*p/f+g));o(T,c,m,x,h)}var E=T[c],A=l,R=u;for(C(T,l,c),h(T[u],E)>0&&C(T,l,u);A<R;){for(C(T,A,R),A++,R--;h(T[A],E)<0;)A++;for(;h(T[R],E)>0;)R--}h(T[l],E)===0?C(T,l,R):(R++,C(T,R,u)),R<=c&&(l=R+1),c<=R&&(u=R-1)}},"QuickSelect");n.exports=o},88492:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),T=s(33680),c=r(function(u,h,f){for(var v=[],d=0;d<u.length;d++)for(var p=0;p<h.length;p++)for(var g=0;g<f;g++)v.push({a:u[d],b:h[p]});return v},"BuildChunk"),l=r(function(u,h,f){var v=o(f,"max",0),d=o(f,"qty",1),p=o(f,"random",!1),g=o(f,"randomB",!1),m=o(f,"repeat",0),x=o(f,"yoyo",!1),E=[];if(g&&T(h),m===-1)if(v===0)m=0;else{var A=u.length*h.length*d;x&&(A*=2),m=Math.ceil(v/A)}for(var R=0;R<=m;R++){var P=c(u,h,d);p&&T(P),E=E.concat(P),x&&(P.reverse(),E=E.concat(P))}return v&&E.splice(v),E},"Range");n.exports=l},72905:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19133),T=r(function(c,l,u,h){h===void 0&&(h=c);var f;if(!Array.isArray(l))return f=c.indexOf(l),f!==-1?(o(c,f),u&&u.call(h,l),l):null;for(var v=l.length-1,d=[];v>=0;){var p=l[v];f=c.indexOf(p),f!==-1&&(o(c,f),d.push(p),u&&u.call(h,p)),v--}return d},"Remove");n.exports=T},60248:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19133),T=r(function(c,l,u,h){if(h===void 0&&(h=c),l<0||l>c.length-1)throw new Error("Index out of bounds");var f=o(c,l);return u&&u.call(h,f),f},"RemoveAt");n.exports=T},81409:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),T=r(function(c,l,u,h,f){if(l===void 0&&(l=0),u===void 0&&(u=c.length),f===void 0&&(f=c),o(c,l,u)){var v=u-l,d=c.splice(l,v);if(h)for(var p=0;p<d.length;p++){var g=d[p];h.call(f,g)}return d}else return[]},"RemoveBetween");n.exports=T},31856:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19133),T=r(function(c,l,u){l===void 0&&(l=0),u===void 0&&(u=c.length);var h=l+Math.floor(Math.random()*u);return o(c,h)},"RemoveRandomElement");n.exports=T},42169:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=s.indexOf(o),l=s.indexOf(T);return c!==-1&&l===-1?(s[c]=T,!0):!1},"Replace");n.exports=C},86003:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o===void 0&&(o=1);for(var T=null,c=0;c<o;c++)T=s.shift(),s.push(T);return T},"RotateLeft");n.exports=C},49498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){o===void 0&&(o=1);for(var T=null,c=0;c<o;c++)T=s.pop(),s.unshift(T);return T},"RotateRight");n.exports=C},82011:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){var l=s.length;if(o<0||o>=l||o>=T||T>l){if(c)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0},"SafeRange");n.exports=C},89545:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){var T=s.indexOf(o);return T!==-1&&T>0&&(s.splice(T,1),s.unshift(o)),o},"SendToBack");n.exports=C},17810:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),T=r(function(c,l,u,h,f){if(h===void 0&&(h=0),f===void 0&&(f=c.length),o(c,h,f))for(var v=h;v<f;v++){var d=c[v];d.hasOwnProperty(l)&&(d[l]=u)}return c},"SetAll");n.exports=T},33680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){for(var o=s.length-1;o>0;o--){var T=Math.floor(Math.random()*(o+1)),c=s[o];s[o]=s[T],s[T]=c}return s},"Shuffle");n.exports=C},90126:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o=/\D/g;return s.sort(function(T,c){return parseInt(T.replace(o,""),10)-parseInt(c.replace(o,""),10)}),s},"SortByDigits");n.exports=C},19133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){if(!(o>=s.length)){for(var T=s.length-1,c=s[o],l=o;l<T;l++)s[l]=s[l+1];return s.length=T,c}},"SpliceOne");n.exports=C},19186:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82264);function T(h,f){return String(h).localeCompare(f)}r(T,"Compare");function c(h,f){var v=h.length;if(v<=1)return h;for(var d=new Array(v),p=1;p<v;p*=2){l(h,f,p,d);var g=h;h=d,d=g}return h}r(c,"Process");function l(h,f,v,d){var p=h.length,g=0,m=v*2,x,E,A,R,P;for(x=0;x<p;x+=m)for(E=x+v,A=E+v,E>p&&(E=p),A>p&&(A=p),R=x,P=E;;)if(R<E&&P<A)f(h[R],h[P])<=0?d[g++]=h[R++]:d[g++]=h[P++];else if(R<E)d[g++]=h[R++];else if(P<A)d[g++]=h[P++];else break}r(l,"RunPass");var u=r(function(h,f){if(f===void 0&&(f=T),!h||h.length<2)return h;if(o.features.stableSort)return h.sort(f);var v=c(h,f);return v!==h&&l(v,null,h.length,h),h},"StableSort");n.exports=u},25630:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){if(o===T)return s;var c=s.indexOf(o),l=s.indexOf(T);if(c<0||l<0)throw new Error("Supplied items must be elements of the same array");return s[c]=T,s[l]=o,s},"Swap");n.exports=C},37105:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Matrix:s(54915),Add:s(71146),AddAt:s(51067),BringToTop:s(66905),CountAllMatching:s(21612),Each:s(95428),EachInRange:s(36914),FindClosestInSorted:s(81957),Flatten:s(43491),GetAll:s(46710),GetFirst:s(58731),GetRandom:s(26546),MoveDown:s(70864),MoveTo:s(69693),MoveUp:s(40853),MoveAbove:s(85835),MoveBelow:s(83371),NumberArray:s(20283),NumberArrayStep:s(593),QuickSelect:s(43886),Range:s(88492),Remove:s(72905),RemoveAt:s(60248),RemoveBetween:s(81409),RemoveRandomElement:s(31856),Replace:s(42169),RotateLeft:s(86003),RotateRight:s(49498),SafeRange:s(82011),SendToBack:s(89545),SetAll:s(17810),Shuffle:s(33680),SortByDigits:s(90126),SpliceOne:s(19133),StableSort:s(19186),Swap:s(25630)}},86922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){if(!Array.isArray(s)||!Array.isArray(s[0]))return!1;for(var o=s[0].length,T=1;T<s.length;T++)if(s[T].length!==o)return!1;return!0},"CheckMatrix");n.exports=C},63362:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41836),T=s(86922),c=r(function(l){var u="";if(!T(l))return u;for(var h=0;h<l.length;h++){for(var f=0;f<l[h].length;f++){var v=l[h][f].toString();v!=="undefined"?u+=o(v,2):u+="?",f<l[h].length-1&&(u+=" |")}if(h<l.length-1){u+=`
`;for(var d=0;d<l[h].length;d++)u+="---",d<l[h].length-1&&(u+="+");u+=`
`}}return u},"MatrixToString");n.exports=c},92598:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.reverse()},"ReverseColumns");n.exports=C},21224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){for(var o=0;o<s.length;o++)s[o].reverse();return s},"ReverseRows");n.exports=C},98717:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37829),T=r(function(c){return o(c,180)},"Rotate180");n.exports=T},44657:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37829),T=r(function(c,l){l===void 0&&(l=1);for(var u=0;u<l;u++)c=o(c,90);return c},"RotateLeft");n.exports=T},37829:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(86922),T=s(2429),c=r(function(l,u){if(u===void 0&&(u=90),!o(l))return null;if(typeof u!="string"&&(u=(u%360+360)%360),u===90||u===-270||u==="rotateLeft")l=T(l),l.reverse();else if(u===-90||u===270||u==="rotateRight")l.reverse(),l=T(l);else if(Math.abs(u)===180||u==="rotate180"){for(var h=0;h<l.length;h++)l[h].reverse();l.reverse()}return l},"RotateMatrix");n.exports=c},92632:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37829),T=r(function(c,l){l===void 0&&(l=1);for(var u=0;u<l;u++)c=o(c,-90);return c},"RotateRight");n.exports=T},69512:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(86003),T=s(49498),c=r(function(l,u,h){if(u===void 0&&(u=0),h===void 0&&(h=0),h!==0&&(h<0?o(l,Math.abs(h)):T(l,h)),u!==0)for(var f=0;f<l.length;f++){var v=l[f];u<0?o(v,Math.abs(u)):T(v,u)}return l},"TranslateMatrix");n.exports=c},2429:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){for(var o=s.length,T=s[0].length,c=new Array(T),l=0;l<T;l++){c[l]=new Array(o);for(var u=o-1;u>-1;u--)c[l][u]=s[u][l]}return c},"TransposeMatrix");n.exports=C},54915:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CheckMatrix:s(86922),MatrixToString:s(63362),ReverseColumns:s(92598),ReverseRows:s(21224),Rotate180:s(98717),RotateLeft:s(44657),RotateMatrix:s(37829),RotateRight:s(92632),Translate:s(69512),TransposeMatrix:s(2429)}},71334:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=r(function(o,T){for(var c=new Uint8Array(o),l=c.length,u=T?"data:"+T+";base64,":"",h=0;h<l;h+=3)u+=C[c[h]>>2],u+=C[(c[h]&3)<<4|c[h+1]>>4],u+=C[(c[h+1]&15)<<2|c[h+2]>>6],u+=C[c[h+2]&63];return l%3===2?u=u.substring(0,u.length-1)+"=":l%3===1&&(u=u.substring(0,u.length-2)+"=="),u},"ArrayBufferToBase64");n.exports=s},53134:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(256),o=0;o<C.length;o++)s[C.charCodeAt(o)]=o;var T=r(function(c){c=c.substr(c.indexOf(",")+1);var l=c.length,u=l*.75,h=0,f,v,d,p;c[l-1]==="="&&(u--,c[l-2]==="="&&u--);for(var g=new ArrayBuffer(u),m=new Uint8Array(g),x=0;x<l;x+=4)f=s[c.charCodeAt(x)],v=s[c.charCodeAt(x+1)],d=s[c.charCodeAt(x+2)],p=s[c.charCodeAt(x+3)],m[h++]=f<<2|v>>4,m[h++]=(v&15)<<4|d>>2,m[h++]=(d&3)<<6|p&63;return g},"Base64ToArrayBuffer");n.exports=T},65839:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ArrayBufferToBase64:s(71334),Base64ToArrayBuffer:s(53134)}},91799:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Array:s(37105),Base64:s(65839),Objects:s(1183),String:s(31749),NOOP:s(29747),NULL:s(20242)}},41786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o={};for(var T in s)Array.isArray(s[T])?o[T]=s[T].slice(0):o[T]=s[T];return o},"Clone");n.exports=C},62644:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){var o,T,c;if(typeof s!="object"||s===null)return s;o=Array.isArray(s)?[]:{};for(c in s)T=s[c],o[c]=C(T);return o},"DeepCopy");n.exports=C},79291:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41212),T=r(function(){var c,l,u,h,f,v,d=arguments[0]||{},p=1,g=arguments.length,m=!1;for(typeof d=="boolean"&&(m=d,d=arguments[1]||{},p=2),g===p&&(d=this,--p);p<g;p++)if((c=arguments[p])!=null)for(l in c)u=d[l],h=c[l],d!==h&&(m&&h&&(o(h)||(f=Array.isArray(h)))?(f?(f=!1,v=u&&Array.isArray(u)?u:[]):v=u&&o(u)?u:{},d[l]=T(m,v,h)):h!==void 0&&(d[l]=h));return d},"Extend");n.exports=T},23568:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(75508),T=s(35154),c=r(function(l,u,h){var f=T(l,u,null);if(f===null)return h;if(Array.isArray(f))return o.RND.pick(f);if(typeof f=="object"){if(f.hasOwnProperty("randInt"))return o.RND.integerInRange(f.randInt[0],f.randInt[1]);if(f.hasOwnProperty("randFloat"))return o.RND.realInRange(f.randFloat[0],f.randFloat[1])}else if(typeof f=="function")return f(u);return f},"GetAdvancedValue");n.exports=c},95540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){var c=typeof s;return!s||c==="number"||c==="string"?T:s.hasOwnProperty(o)&&s[o]!==void 0?s[o]:T},"GetFastValue");n.exports=C},82840:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),T=s(45319),c=r(function(l,u,h,f,v){v===void 0&&(v=h);var d=o(l,u,v);return T(d,h,f)},"GetMinMaxValue");n.exports=c},35154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){if(!s&&!c||typeof s=="number")return T;if(s&&s.hasOwnProperty(o))return s[o];if(c&&c.hasOwnProperty(o))return c[o];if(o.indexOf(".")!==-1){for(var l=o.split("."),u=s,h=c,f=T,v=T,d=!0,p=!0,g=0;g<l.length;g++)u&&u.hasOwnProperty(l[g])?(f=u[l[g]],u=u[l[g]]):d=!1,h&&h.hasOwnProperty(l[g])?(v=h[l[g]],h=h[l[g]]):p=!1;return d?f:p?v:T}else return T},"GetValue");n.exports=C},69036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){for(var T=0;T<o.length;T++)if(!s.hasOwnProperty(o[T]))return!1;return!0},"HasAll");n.exports=C},1985:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){for(var T=0;T<o.length;T++)if(s.hasOwnProperty(o[T]))return!0;return!1},"HasAny");n.exports=C},97022:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.hasOwnProperty(o)},"HasValue");n.exports=C},41212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){if(!s||typeof s!="object"||s.nodeType||s===s.window)return!1;try{if(s.constructor&&!{}.hasOwnProperty.call(s.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},"IsPlainObject");n.exports=C},46975:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),T=r(function(c,l){var u=o(c);for(var h in l)u.hasOwnProperty(h)||(u[h]=l[h]);return u},"Merge");n.exports=T},269:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),T=r(function(c,l){var u=o(c);for(var h in l)u.hasOwnProperty(h)&&(u[h]=l[h]);return u},"MergeRight");n.exports=T},18254:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97022),T=r(function(c,l){for(var u={},h=0;h<l.length;h++){var f=l[h];o(c,f)&&(u[f]=c[f])}return u},"Pick");n.exports=T},61622:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T){if(!s||typeof s=="number")return!1;if(s.hasOwnProperty(o))return s[o]=T,!0;if(o.indexOf(".")!==-1){for(var c=o.split("."),l=s,u=s,h=0;h<c.length;h++)if(l.hasOwnProperty(c[h]))u=l,l=l[c[h]];else return!1;return u[c[c.length-1]]=T,!0}return!1},"SetValue");n.exports=C},1183:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clone:s(41786),DeepCopy:s(62644),Extend:s(79291),GetAdvancedValue:s(23568),GetFastValue:s(95540),GetMinMaxValue:s(82840),GetValue:s(35154),HasAll:s(69036),HasAny:s(1985),HasValue:s(97022),IsPlainObject:s(41212),Merge:s(46975),MergeRight:s(269),Pick:s(18254),SetValue:s(61622)}},27902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return s.replace(/%([0-9]+)/g,function(T,c){return o[Number(c)-1]})},"Format");n.exports=C},41836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o,T,c){o===void 0&&(o=0),T===void 0&&(T=" "),c===void 0&&(c=3),s=s.toString();var l=0;if(o+1>=s.length)switch(c){case 1:s=new Array(o+1-s.length).join(T)+s;break;case 3:var u=Math.ceil((l=o-s.length)/2),h=l-u;s=new Array(h+1).join(T)+s+new Array(u+1).join(T);break;default:s=s+new Array(o+1-s.length).join(T);break}return s},"Pad");n.exports=C},33628:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s,o){return o===0?s.slice(1):s.slice(0,o)+s.slice(o+1)},"RemoveAt");n.exports=C},27671:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s.split("").reverse().join("")},"Reverse");n.exports=C},45650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var o=Math.random()*16|0,T=s==="x"?o:o&3|8;return T.toString(16)})},"UUID");n.exports=C},35355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=r(function(s){return s&&s[0].toUpperCase()+s.slice(1)},"UppercaseFirst");n.exports=C},31749:(n,C,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Format:s(27902),Pad:s(41836),RemoveAt:s(33628),Reverse:s(27671),UppercaseFirst:s(35355),UUID:s(45650)}}},a={};function y(n){var C=a[n];if(C!==void 0)return C.exports;var s=a[n]={exports:{}};return i[n](s,s.exports,y),s.exports}r(y,"__webpack_require__"),y.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var S=y(85454);return S})())}(zu)),zu.exports}r(jO,"requirePhaser");var qO=jO();const rs=ug(qO),_O=`precision mediump float;

uniform sampler2D uMainSampler;

varying vec2 outTexCoord;

void main()
{
	gl_FragColor = 1.0 - texture2D(uMainSampler, outTexCoord);
}`,l0=class l0 extends Phaser.Renderer.WebGL.Pipelines.PostFXPipeline{constructor(t){super({game:t,name:"InvertPostFX",fragShader:_O,uniforms:["uMainSampler"]})}};r(l0,"InvertPostFX");let Dv=l0;const fA="1.9.5",tL={version:fA},ud=class ud{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,i){ud.prototype[t]=i}};r(ud,"ObjectFactory");let rt=ud;var eL=r(function(e){return e===void 0&&(e=iL),this.getFrameNameCallback=e,this},"SetGetFrameNameCallback"),iL=r(function(e,t,i){return i==="__BASE"?`${e},${t}`:`${i}:${e},${t}`},"DefaultGetFrameNameCallback");function ge(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>ge(i));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let i in e)e.hasOwnProperty(i)&&(t[i]=ge(e[i]));return t}r(ge,"DeepClone");var sL=r(function(e,t,i,a){Array.isArray(t)&&(a=i,i=t,t=void 0),t==null&&(t="__BASE"),typeof i=="number"&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],a=[arguments[4],void 0,arguments[5]]):i===void 0&&a===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(i=this.columns.data,a=this.rows.data):(i=ge(i),a=ge(a)),this.textureKey=e,this.baseFrameName=t,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=a,this.rows.count=a?a.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var y=this.scene.sys.textures.get(e);if(!y)return this.clear(),this;if(!i||!a)return this.clear(),this;for(var S=y.get(t),n=S.width,C=0,s=0,o=i.length;s<o;s++)i[s]===void 0?C++:typeof i[s]=="number"?n-=i[s]:n-=i[s].width;for(var T=C>0?n/C:0,c=S.height,l=0,s=0,o=a.length;s<o;s++)a[s]===void 0?l++:typeof a[s]=="number"?c-=a[s]:c-=a[s].width;for(var u=l?c/l:0,h,f,v,d,p,g=0,m=0,x=0,E=a.length;x<E;x++){a[x]===void 0&&(a[x]=u),typeof a[x]=="number"&&(a[x]={height:a[x],stretch:x%2}),h=a[x],v=h.height,this.rows.stretch+=h.stretch|0,this.rows.minHeight+=h.stretch>0?0:v,g=0;for(var s=0,A=i.length;s<A;s++){if(i[s]===void 0&&(i[s]=T),typeof i[s]=="number"&&(i[s]={width:i[s],stretch:s%2}),f=i[s],d=f.width,x===0&&(this.columns.stretch+=f.stretch|0,this.columns.minWidth+=f.stretch>0?0:d),d>=1&&v>=1){p=this.getFrameNameCallback(s,x,t);var R=typeof p;(R==="string"||R==="number")&&y.add(p,0,g+S.cutX,m+S.cutY,d,v)}g+=d}m+=v}return this.updateTexture(),this},"SetBaseTexture"),rL=r(function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,i=this.rows.minHeight*this.maxFixedPartScaleY,a=this.width-t,y=this.height-i,S=a>=0?this.maxFixedPartScaleX:this.width/t,n=y>=0?this.maxFixedPartScaleY:this.height/i;if(this.preserveRatio){var C=Math.min(S,n);if(S>C){var s=(S-C)*t;a>=0?a+=s:a=s,S=C}if(n>C){var o=(n-C)*i;y>=0?y+=o:y=o,n=C}}this.columns.scale=S,this.rows.scale=n;var T;a>0?T=this.columns.stretch>0?a/this.columns.stretch:0:T=0;var c;y>0?c=this.rows.stretch>0?y/this.rows.stretch:0:c=0;var l,u,h,f,v,d=0,p=0,g;this._beginDraw();for(var m=0,x=this.rows.count;m<x;m++){h=this.rows.data[m],v=h.stretch===0?h.height*n:c*h.stretch,d=0;for(var E=0,A=this.columns.count;E<A;E++)u=this.columns.data[E],f=u.stretch===0?u.width*S:T*u.stretch,l=this.getFrameNameCallback(E,m,this.baseFrameName),e.has(l)&&f>0&&v>0&&(h.stretch===0&&u.stretch===0||this.getStretchMode(E,m)===0?g=0:g=1,g===0?this._drawImage(this.textureKey,l,d,p,f,v):this._drawTileSprite(this.textureKey,l,d,p,f,v)),d+=f;p+=v}this._endDraw()},"UpdateTexture");const nL=Phaser.Utils.Objects.IsPlainObject,Py=Phaser.Utils.Objects.GetValue;var aL=r(function(e){return nL(e)?(this.stretchMode.edge=Wd(Py(e,"edge",0)),this.stretchMode.internal=Wd(Py(e,"internal",0))):(e=Wd(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},"SetStretchMode"),Wd=r(function(e){return typeof e=="string"&&(e=hL[e]),e},"parseMode");const hL={scale:0,repeat:1};var oL=r(function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},"IsEdge"),lL=r(function(e,t){return oL.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},"GetStretchMode"),uL=r(function(e){return e==null&&(e=!0),this.preserveRatio=e,this},"SetPreserveRatio"),fL=r(function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},"SetMaxFixedPartScale"),oe=r(function(){},"NOOP");const dL={_beginDraw:oe,_drawImage:oe,_drawTileSprite:oe,_endDraw:oe,setGetFrameNameCallback:eL,setBaseTexture:sL,updateTexture:rL,setStretchMode:aL,getStretchMode:lL,setPreserveRatio:uL,setMaxFixedPartScale:fL},Th=Phaser.Utils.Objects.IsPlainObject,At=Phaser.Utils.Objects.GetValue;var dA=r(function(e,t){const a=class a extends e{constructor(S,n,C,s,o,T,c,l,u,h){if(Th(n)?(h=n,n=At(h,"x",0),C=At(h,"y",0),s=At(h,"width",1),o=At(h,"height",1),T=At(h,"key",void 0),c=At(h,"baseFrame",void 0),l=At(h,"columns",void 0),u=At(h,"rows",void 0)):Th(s)?(h=s,s=At(h,"width",1),o=At(h,"height",1),T=At(h,"key",void 0),c=At(h,"baseFrame",void 0),l=At(h,"columns",void 0),u=At(h,"rows",void 0)):Th(T)?(h=T,T=At(h,"key",void 0),c=At(h,"baseFrame",void 0),l=At(h,"columns",void 0),u=At(h,"rows",void 0)):Th(c)?(h=c,c=At(h,"baseFrame",void 0),l=At(h,"columns",void 0),u=At(h,"rows",void 0)):Array.isArray(c)?(h=u,u=l,l=c,c=At(h,"baseFrame",void 0)):Th(l)&&(h=l,l=At(h,"columns",void 0),u=At(h,"rows",void 0)),c===void 0&&(c=At(h,"frame",void 0)),l===void 0){var f=At(h,"leftWidth",void 0),v=At(h,"rightWidth",void 0);f!==void 0&&v!==void 0&&(l=[f,void 0,v])}if(u===void 0){var d=At(h,"topHeight",void 0),p=At(h,"bottomHeight",void 0);d!==void 0&&p!==void 0&&(u=[d,void 0,p])}super(S),this.type=t,this.setPosition(n,C).setSize(s,o).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(At(h,"getFrameNameCallback",void 0)),this.setStretchMode(At(h,"stretchMode",0)),this.setPreserveRatio(At(h,"preserveRatio",!0));var g=At(h,"maxFixedPartScale",1),m=At(h,"maxFixedPartScaleX",g),x=At(h,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(m,x),this.setBaseTexture(T,c,l,u)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(S,n){return this.width===S&&this.height===n?this:(super.resize?super.resize(S,n):super.setSize(S,n),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}};r(a,"NinePatch");let i=a;return Object.assign(i.prototype,dL),i},"NinePatchBase");const cL=Phaser.Game;var Ry=r(function(e){return e instanceof cL},"IsGame");const vL=Phaser.Scene;var Rr=r(function(e){return e instanceof vL},"IsSceneObject"),Lr=r(function(e){if(e==null||typeof e!="object")return null;if(Ry(e))return e;if(Ry(e.game))return e.game;if(Rr(e))return e.sys.game;if(Rr(e.scene))return e.scene.sys.game},"GetGame");const pL=Phaser.GameObjects;var gs=void 0,cA=r(function(e,t){if(gs||(gs={},Lr(e).events.once("destroy",function(){for(var a in gs)gs[a].destroy();gs=void 0})),!gs.hasOwnProperty(t)){var i=Lr(e).scene.systemScene,e=new pL[t](i);e.setOrigin(0),gs[t]=e}return gs[t]},"GetStampGameObject"),gL=r(function(e,t,i,a,y,S){var n=cA(this,"Image").setTexture(e,t).setDisplaySize(y,S);this.draw(n,i,a)},"DrawImage$2"),mL=r(function(e,t,i,a,y,S){var n=cA(this,"TileSprite").setTexture(e,t).setSize(y,S);this.draw(n,i,a)},"DrawTileSprite$1");const xL=Phaser.GameObjects.RenderTexture;var Wn;let vd=(Wn=class extends dA(xL,"rexNinePatch"){},r(Wn,"NinePatch"),Wn);var TL={_drawImage:gL,_drawTileSprite:mL};Object.assign(vd.prototype,TL);var vA=r(function(e){return e==null||e===""||e.length===0},"IsInValidKey"),yL=r(function(e,t,i){var a=e;if(!vA(t)){typeof t=="string"&&(t=t.split("."));for(var y,S=0,n=t.length;S<n;S++){if(y=t[S],a[y]==null||typeof a[y]!="object"){var C;S===n-1?C={}:C={},a[y]=C}a=a[y]}}return a},"GetEntry"),it=r(function(e,t,i,a){if(a===void 0&&(a="."),typeof e=="object"){if(vA(t)){if(i==null)return;typeof i=="object"&&(e=i)}else{typeof t=="string"&&(t=t.split(a));var y=t.pop(),S=yL(e,t);S[y]=i}return e}},"SetValue");rt.register("ninePatch",function(e,t,i,a,y,S,n,C){var s=new vd(this.scene,e,t,i,a,y,S,n,C);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.NinePatch",vd);const CL=Phaser.GameObjects.GetCalcMatrix;var EL=r(function(e,t,i,a){var y=t.getRenderList();if(y.length!==0){i.addToRenderList(t);var S=e.pipelines.set(t.pipeline),n=t.frame.glTexture,C=S.setGameObject(t),s=i.roundPixels,o=CL(t,i,a),T=S.calcMatrix.copyFrom(o.calc),c=t._displayOriginX,l=t._displayOriginY,u=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var h=0,f=y.length;h<f;h++)y[h].webglRender(S,T,u,c,l,n,C,s);e.pipelines.postBatch(t)}},"WebGLRenderer$3");const SL=Phaser.Renderer.Canvas.SetTransform;var AL=r(function(e,t,i,a){var y=e.currentContext,S=t.getRenderList();if(!(S.length===0||!SL(e,y,t,i,a))){i.addToRenderList(t);var n=i.roundPixels,C=-t._displayOriginX,s=-t._displayOriginY;y.translate(C,s);for(var o=0,T=S.length;o<T;o++)S[o].canvasRender(y,C,s,n);y.restore()}},"CanvasRenderer$3");const PL={renderWebGL:EL,renderCanvas:AL};var RL=r(function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},"SetTexture"),Oy=r(function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},"Resize$2"),OL=r(function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this},"AddChild$4");const LL=Phaser.Utils.Array.Remove;var wL=r(function(e){return this.poolManager&&this.poolManager.free(e),LL(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},"RemoveChild$3"),Ly=r(function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},"RemoveChildren$1"),ML=r(function(){return this.lastAppendedChildren},"GetLastAppendedChildren$1"),DL=r(function(){return this.children.list},"GetChildren$1");const FL={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var pA={setTexture:RL,resize:Oy,setSize:Oy,addChild:OL,removeChild:wL,removeChildren:Ly,clear:Ly,getLastAppendedChildren:ML,getChildren:DL};Object.assign(pA,FL);const u0=class u0{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}};r(u0,"Stack");let li=u0;const bL=Phaser.Utils.Objects.GetValue;var NL={},kn;let BL=(kn=class{constructor(t){this.pools=bL(t,"pools",NL)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new li),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,a=t.length;i<a;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}},r(kn,"PoolManager"),kn);const GL=60;var wy=!1,pd=r(function(e){if(!wy){e===void 0&&(e=GL);var t=Phaser.VERSION.split("."),i=parseInt(t[0]);if(i===3){var a=parseInt(t[1]);a<e&&console.error(`Minimum supported version : ${i}.${a}`)}else console.error(`Can't supported version : ${i}`);wy=!0}},"CheckP3Version");pd();const UL=Phaser.GameObjects.GameObject,HL=Phaser.Utils.Objects.IsPlainObject,yh=Phaser.Utils.Objects.GetValue,YL=Phaser.Structs.List,VL=Phaser.Utils.Array.StableSort,f0=class f0 extends UL{constructor(t,i,a,y,S,n){HL(i)&&(n=i,i=yh(n,"x",0),a=yh(n,"y",0),y=yh(n,"texture"),S=yh(n,"frame")),i===void 0&&(i=0),a===void 0&&(a=0),super(t,"rexBlitter"),this.children=new YL,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var C=yh(n,"reuseBob",!0);this.poolManager=C?new BL(n):void 0,this.setTexture(y,S),this.setPosition(i,a),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,i=this.children.list,a=0,y=i.length;a<y;a++){var S=i[a];WL(S)&&(this.renderList.push(S),t||(t=S.depth!==0))}t&&VL(this.renderList,kL),this.displayListDirty=!1}return this.renderList}};r(f0,"Blitter");let ju=f0;var WL=r(function(e){return e.active&&e.visible&&e.alpha>0},"ChildCanRender"),kL=r(function(e,t){return e._depth-t._depth},"SortByDepth");const qe=Phaser.GameObjects.Components;Phaser.Class.mixin(ju,[qe.Alpha,qe.BlendMode,qe.ComputedSize,qe.Depth,qe.GetBounds,qe.Mask,qe.Origin,qe.Pipeline,qe.PostPipeline,qe.ScrollFactor,qe.Transform,qe.Visible,PL,pA]);const gA="image";var Mt=r(function(e,t,i){if(!e||typeof e=="number")return i;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return i}for(var a=t,y=e,S=i,n=0;n<a.length;n++)if(t=a[n],y.hasOwnProperty(t))S=y[t],y=S;else{S=i;break}return S},"GetValue$3U"),Hs=r(function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e},"Clear$1");const gd={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var i=e;for(e in i)this.data[e]=i[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:Mt(this.data,e,t)},incData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)+t),this},mulData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)*t),this},clearData(){return this.data&&Hs(this.data),this}};var Xn;let mA=(Xn=class{constructor(t,i){this.type=i,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}},r(Xn,"Base"),Xn);Object.assign(mA.prototype,gd);const XL=Phaser.Math.DegToRad,zL=Phaser.Math.RadToDeg,_r=Phaser.Utils.Objects.GetValue;var zn;let IL=(zn=class extends mA{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setRotation(t){return this.rotation=t,this}get angle(){return zL(this.rotation)}set angle(t){this.rotation=XL(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,i){return i===void 0&&(i=!1),this.displayWidth=t,i&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,i){return i===void 0&&(i=!1),this.displayHeight=t,i&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,i){return i===void 0&&(i=t),this.setOriginX(t).setOriginY(i),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=_r(t,"width",void 0),a=_r(t,"height",void 0),y=_r(t,"scale",void 0),S=_r(t,"scaleX",y),n=_r(t,"scaleY",y);i!==void 0?a===void 0&&n===void 0?this.setWidth(i,!0):this.setWidth(i):S!==void 0?this.setScaleX(S):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),a!==void 0?i===void 0&&S===void 0?this.setHeight(a,!0):this.setHeight(a):n!==void 0?this.setScaleY(n):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var C=_r(t,"origin",void 0);return C!==void 0?this.setOrigin(C):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,i,a,y,S,n,C,s){}canvasRender(t,i,a,y){}},r(zn,"RenderBase"),zn);const $L=Phaser.GameObjects.Components.TransformMatrix,KL=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Pl=new $L,ZL=r(function(e,t,i,a,y,S,n,C){var s=this.frame;if(s){var o=this._width,T=this._height,c=o*this.originX,l=T*this.originY,u=this.x-a,h=this.y-y,f,v,d,p,g,m,x,E;if(this.isCropped){var A=this._crop;(A.flipX!==this.flipX||A.flipY!==this.flipY)&&s.updateCropUVs(A,this.flipX,this.flipY),f=A.u0,v=A.v0,d=A.u1,p=A.v1,x=A.width,E=A.height,g=A.x,m=A.y}else f=this.frame.u0,v=this.frame.v0,d=this.frame.u1,p=this.frame.v1,x=o,E=T,g=0,m=0;var R=1,P=1;this.flipX&&(u+=o-c*2,R=-1),this.flipY&&(h+=T-l*2,P=-1),Pl.applyITRS(u,h,this.rotation,this.scaleX*R,this.scaleY*P),t.multiply(Pl,Pl);var O=-c+g,L=-l+m,w=O+x,M=L+E,b=Pl.setQuad(O,L,w,M,C),D=KL(this.tint,this.alpha*i);e.batchQuad(this.parent,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],f,v,d,p,D,D,D,D,this.tintFill,S,n)}},"WebglRender"),JL=r(function(e,t,i,a){var y=this.frame;if(y){e.save();var S=this._width,n=this._height,C=S*this.originX,s=n*this.originY,o=this.x-C,T=this.y-s,c,l,u,h;if(this.isCropped){var f=this._crop;(f.flipX!==this.flipX||f.flipY!==this.flipY)&&y.updateCropUVs(f,this.flipX,this.flipY),u=f.cw,h=f.ch,c=f.cx,l=f.cy}else u=y.cutWidth,h=y.cutHeight,c=y.cutX,l=y.cutY;var v=1,d=1;this.flipX&&(o+=S,v=-1),this.flipY&&(T+=n,d=-1);var p=y.source.resolution,g=u/p,m=h/p;a&&(o=Math.floor(o+.5),T=Math.floor(T+.5),g+=.5,m+=.5),e.translate(o,T),e.rotate(this.rotation),e.scale(this.scaleX*v,this.scaleY*d),e.drawImage(y.source.image,c,l,u,h,0,0,g,m),e.restore()}},"CanvasRender");const QL=Phaser.Utils.Objects.IsPlainObject;var In;let xA=(In=class extends IL{constructor(t,i){super(t,gA),this._crop=jL(),this.setFrame(i)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!QL(t)&&(t=this.parent.texture.get(t)),this.frame=t,t?(this._width=t.realWidth,this._height=t.realHeight):(this._width=0,this._height=0),this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}setCrop(t,i,a,y){return t===void 0?(this.isCropped=!1,this):this.frame?t===0&&i===0&&a===this._width&&y===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,t,i,a,y,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}},r(In,"ImageData"),In);var jL=r(function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},"ResetCropObject"),qL={webglRender:ZL,canvasRender:JL};Object.assign(xA.prototype,qL);var TA=r(function(e,t){typeof t=="string"&&(t={frame:t});var i=e.poolManager?e.poolManager.allocate(gA):null;return i===null?i=new xA(e):i.setParent(e).setActive(),i.modifyPorperties(t),e.addChild(i),i},"AddImage$2"),_L=r(function(e,t,i,a,y,S){TA(this,{frame:t,x:i,y:a,width:y,height:S})},"DrawImage$1"),tw=r(function(e,t,i,a,y,S){var n=this.texture.get(t),C=n.width,s=n.height,o=y%C,T=S%s;o===0&&(o=C),T===0&&(T=s);for(var c=Math.ceil(y/C),l=Math.ceil(S/s),u=c-1,h=l-1,f=0;f<c;f++)for(var v=0;v<l;v++){let g=TA(this,{frame:t,x:i+f*C,y:a+v*s});var d=f===u?o:C,p=v===h?T:s;(d!==C||p!==s)&&g.setCrop(0,0,d,p)}},"DrawTileSprite");const ew={_drawImage:_L,_drawTileSprite:tw},d0=class d0 extends dA(ju,"rexNinePatch2"){setBaseTexture(t,i,a,y){return this.setTexture(t,i),super.setBaseTexture(t,i,a,y),this}};r(d0,"NinePatch");let ho=d0;Object.assign(ho.prototype,ew);rt.register("ninePatch2",function(e,t,i,a,y,S,n,C){var s=new ho(this.scene,e,t,i,a,y,S,n,C);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.NinePatch2",ho);var iw=Phaser.Renderer.WebGL.Utils,yA=r(function(e,t,i,a,y,S){for(var n=iw.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*a),C=i.pathData,s=i.pathIndexes,o=0;o<s.length;o+=3){var T=s[o]*2,c=s[o+1]*2,l=s[o+2]*2,u=C[T+0]-y,h=C[T+1]-S,f=C[c+0]-y,v=C[c+1]-S,d=C[l+0]-y,p=C[l+1]-S,g=t.getX(u,h),m=t.getY(u,h),x=t.getX(f,v),E=t.getY(f,v),A=t.getX(d,p),R=t.getY(d,p);e.batchTri(i,g,m,x,E,A,R,0,0,1,1,n,n,n,2)}},"FillPathWebGL"),sw=Phaser.Renderer.WebGL.Utils,md=r(function(e,t,i,a,y){var S=e.strokeTint,n=sw.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);S.TL=n,S.TR=n,S.BL=n,S.BR=n;var C=t.pathData,s=C.length-1,o=t.lineWidth,T=o/2,c=C[0]-a,l=C[1]-y;t.closePath||(s-=2);for(var u=2;u<s;u+=2){var h=C[u]-a,f=C[u+1]-y;e.batchLine(c,l,h,f,T,T,o,u-2,t.closePath?u===s-1:!1),c=h,l=f}},"StrokePathWebGL");const rw=Phaser.GameObjects.GetCalcMatrix;var nw=r(function(e,t,i,a){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var y=e.pipelines.set(t.pipeline),S=rw(t,i,a),n=y.calcMatrix.copyFrom(S.calc),C=t._displayOriginX,s=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&yA(y,n,t,o,C,s),t.isStroked&&md(y,t,o,C,s),e.pipelines.postBatch(t)},"PolygonWebGLRenderer"),ol=r(function(e,t,i,a){var y=t.fillColor,S=t.fillAlpha,n=(y&16711680)>>>16,C=(y&65280)>>>8,s=y&255;e.fillStyle="rgba("+n+","+C+","+s+","+S+")"},"FillStyleCanvas"),ll=r(function(e,t,i,a){var y=t.strokeColor,S=t.strokeAlpha,n=(y&16711680)>>>16,C=(y&65280)>>>8,s=y&255;e.strokeStyle="rgba("+n+","+C+","+s+","+S+")",e.lineWidth=t.lineWidth},"LineStyleCanvas");const aw=Phaser.Renderer.Canvas.SetTransform;var hw=r(function(e,t,i,a){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var y=e.currentContext;if(aw(e,y,t,i,a)){var S=t._displayOriginX,n=t._displayOriginY,C=t.pathData,s=C.length-1,o=C[0]-S,T=C[1]-n;y.beginPath(),y.moveTo(o,T),t.closePath||(s-=2);for(var c=2;c<s;c+=2){var l=C[c]-S,u=C[c+1]-n;y.lineTo(l,u)}y.closePath(),t.isFilled&&(ol(y,t),y.fill()),t.isStroked&&(ll(y,t),y.stroke()),y.restore()}},"PolygonCanvasRenderer");const ow={renderWebGL:nw,renderCanvas:hw},lw=Phaser.GameObjects.Shape,c0=class c0 extends lw{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,i){return i===void 0&&(i=1),this.fillColor=t,this.fillAlpha=i,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,i,a){return a===void 0&&(a=1),this.lineWidth=t,this.strokeColor=i,this.strokeAlpha=a,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,i){var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=t,a.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}};r(c0,"PolygnBase");let oo=c0;Object.assign(oo.prototype,ow);const Ds=Phaser.Utils.Objects.GetValue;var $n;let fg=($n=class{constructor(t,i,a,y,S){t===void 0&&(t=0),i===void 0&&(i=t),a===void 0&&(a=0),y===void 0&&(y=0),S===void 0&&(S=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,a,y,S)}setTo(t,i,a,y,S){return this.setPosition(t,i),this.setRadius(S),this.setSize(a,y),this}setPosition(t,i){return this.x=t,this.y=i,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var i,a;typeof t=="number"?(i=t,a=t):(i=Ds(t,"x",0),a=Ds(t,"y",0));var y=this.cornerRadius;y.tl=Rl(Ds(t,"tl",void 0),i,a),y.tr=Rl(Ds(t,"tr",void 0),i,a),y.bl=Rl(Ds(t,"bl",void 0),i,a),y.br=Rl(Ds(t,"br",void 0),i,a)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){Ol(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){Ol(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){Ol(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){Ol(this.cornerRadius.br,t)}},r($n,"RoundRectangle"),$n);var Rl=r(function(e,t,i){return e===void 0?e={x:t,y:i}:typeof e=="number"&&(e={x:e,y:e}),CA(e),e},"GetRadius"),Ol=r(function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=Ds(t,"x",0),e.y=Ds(t,"y",0)),CA(e)},"SetRadius"),CA=r(function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},"SetConvex"),Xt=r(function(e){return e.x>0&&e.y>0},"IsArcCorner$1"),de=r(function(e,t,i){var a=i.length;if(a>=2){var y=i[a-2],S=i[a-1];if(e===y&&t===S)return i}return i.push(e,t),i},"LineTo");const My=Phaser.Math.DegToRad;var ce=r(function(e,t,i,a,y,S,n,C,s){n&&S>y?S-=360:!n&&S<y&&(S+=360);var o=S-y,T=My(o)/C;y=My(y);for(var c=0;c<=C;c++){var l=y+T*c,u=e+i*Math.cos(l),h=t+a*Math.sin(l);de(u,h,s)}return s},"ArcTo$1");const uw=Phaser.Utils.Objects.IsPlainObject,Dy=Phaser.Utils.Objects.GetValue,fw=Phaser.Geom.Polygon.Earcut;var Kn;let Zr=(Kn=class extends oo{constructor(t,i,a,y,S,n,C,s){var o,T,c,l;if(uw(i)){var u=i;i=u.x,a=u.y,y=u.width,S=u.height,n=u.radius,C=u.color,s=u.alpha,o=u.strokeColor,T=u.strokeAlpha,c=u.strokeWidth,l=u.shape}i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=1),S===void 0&&(S=y),n===void 0&&(n=0),l===void 0&&(l=0);var h=new fg;if(super(t,"rexRoundRectangleShape",h),this.setShapeType(l),this.shapeType===0){var f=Dy(n,"radius",n);h.setTo(0,0,y,S,f)}else{var f={x:y/2,y:S/2};h.setTo(0,0,y,S,f)}this.setIteration(Dy(n,"iteration",void 0)),this.setPosition(i,a),this.setFillStyle(C,s),c===void 0&&(c=2),this.setStrokeStyle(c,o,T),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var a=t.width,y=t.height,S=t.cornerRadius,n,C=this.iteration+1;if(n=S.tl,Xt(n))if(n.convex){var s=n.x,o=n.y;ce(s,o,n.x,n.y,180,270,!1,C,i)}else{var s=0,o=0;ce(s,o,n.x,n.y,90,0,!0,C,i)}else de(0,0,i);if(n=S.tr,Xt(n))if(n.convex){var s=a-n.x,o=n.y;ce(s,o,n.x,n.y,270,360,!1,C,i)}else{var s=a,o=0;ce(s,o,n.x,n.y,180,90,!0,C,i)}else de(a,0,i);if(n=S.br,Xt(n))if(n.convex){var s=a-n.x,o=y-n.y;ce(s,o,n.x,n.y,0,90,!1,C,i)}else{var s=a,o=y;ce(s,o,n.x,n.y,270,180,!0,C,i)}else de(a,y,i);if(n=S.bl,Xt(n))if(n.convex){var s=n.x,o=y-n.y;ce(s,o,n.x,n.y,90,180,!1,C,i)}else{var s=0,o=y;ce(s,o,n.x,n.y,360,270,!0,C,i)}else de(0,y,i);return i.push(i[0],i[1]),this.pathIndexes=fw(i),this}setShapeType(t){return typeof t=="string"&&(t=dw[t]),this.shapeType=t,this}setSize(t,i){return i===void 0&&(i=t),this.geom.width===t&&this.geom.height===i?this:(this.geom.setSize(t,i),this.shapeType===1&&this.setRadius({x:t/2,y:i/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,i),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}},r(Kn,"RoundRectangle"),Kn);const dw={rectangle:0,circle:1};rt.register("roundRectangle",function(e,t,i,a,y,S,n){var C=new Zr(this.scene,e,t,i,a,y,S,n);return this.scene.add.existing(C),C});it(window,"RexPlugins.UI.RoundRectangle",Zr);const cw=Phaser.Renderer.WebGL.Utils;var vw=r(function(e,t,i,a){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){i.addToRenderList(t);var y=t.frame,S=y.width,n=y.height,C=cw.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),o=s.setTexture2D(y.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,y.glTexture,S,n,t.x,t.y,S/t.resolution,n/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,n,C(t.tintTopLeft,i.alpha*t._alphaTL),C(t.tintTopRight,i.alpha*t._alphaTR),C(t.tintBottomLeft,i.alpha*t._alphaBL),C(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,a,!1,o),e.pipelines.postBatch(t)}},"WebGLRenderer$2"),pw=r(function(e,t,i,a){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,a))},"CanvasRenderer$2");const gw={renderWebGL:vw,renderCanvas:pw},mw=Phaser.Display.Color,xw={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,i,a,y,S,n,C,s,o){var T=this.scene.sys.textures.getFrame(e,t);if(!T)return this;var c=T.cutWidth,l=T.cutHeight;i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=c),S===void 0&&(S=l),n===void 0&&(n=0),C===void 0&&(C=0),s===void 0&&(s=c),o===void 0&&(o=l);var u=T.cutX+n,h=T.cutY+C;return this.context.drawImage(T.source.image,u,h,s,o,i,a,y,S),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,i){i===void 0&&(i=new mw);var a=this.context.getImageData(e,t,1,1);return i.setTo(a.data[0],a.data[1],a.data[2],a.data[3]),i},setPixel(e,t,i,a,y,S){if(typeof i!="number"){var n=i;i=n.red,a=n.green,y=n.blue,S=n.alpha}S===void 0&&(S=i!==0||a!==0||y!==0?255:0);var C=this.context.createImageData(1,1);return C.data[0]=i,C.data[1]=a,C.data[2]=y,C.data[3]=S,this.context.putImageData(C,e,t),this.dirty=!0,this}};var EA=r(function(e,t,i,a,y,S,n){var C=e.sys.textures,s=e.renderer;a===void 0&&(a=0),y===void 0&&(y=0),S===void 0&&(S=t.width),n===void 0&&(n=t.height);var o;C.exists(i)?o=C.get(i):o=C.createCanvas(i,S,n);var T=o.getSourceImage();T.width!==S&&(T.width=S),T.height!==n&&(T.height=n);var c=T.getContext("2d",{willReadFrequently:!0});c.clearRect(0,0,S,n),c.drawImage(t,a,y,S,n),s.gl&&o&&s.canvasToTexture(T,o.source[0].glTexture,!0,0)},"CopyCanvasToTexture");const Tw={updateTexture(e,t){if(e){var i=this.resolution;i!==1&&(this.context.save(),this.context.scale(i,i)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),i!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},generateTexture(e,t,i,a,y){var S=this.canvas;return a===void 0?a=S.width:a*=this.resolution,y===void 0?y=S.height:y*=this.resolution,EA(this.scene,S,e,t,i,a,y),this},loadTexture(e,t){var i=this.scene.sys.textures.getFrame(e,t);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.setSize(i.cutWidth,i.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};pd();const Fy=Phaser.Display.Canvas.CanvasPool,yw=Phaser.GameObjects.GameObject,Cw=Phaser.Utils.String.UUID;var Zn;let Js=(Zn=class extends yw{constructor(t,i,a,y,S,n){i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=1),S===void 0&&(S=1),n===void 0&&(n=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this._width=y,this._height=S,this.resolution=n,y=Math.max(Math.ceil(y*this.resolution),1),S=Math.max(Math.ceil(S*this.resolution),1),this.canvas=Fy.create(this,y,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(i,a),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=Cw(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){Fy.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}setResolution(t){if(this.resolution===t)return this;this.resolution=t;var i=Math.max(Math.ceil(this.width*t),1),a=Math.max(Math.ceil(this.height*t),1);return this.canvas.width=i,this.canvas.height=a,this.frame.source.resolution=t,this.dirty=!0,this}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,i){return this._width===t&&this._height===i?this:(this._width=t,this._height=i,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),i=Math.max(Math.ceil(i*this.resolution),1),this.canvas.width=t,this.canvas.height=i,this.frame.setSize(t,i),this.dirty=!0,this)}setSize(t,i){return this.setCanvasSize(t,i),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,i){return this.displayWidth=t,this.displayHeight=i,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,i){return this.setSize(t,i),this}},r(Zn,"Canvas"),Zn);const be=Phaser.GameObjects.Components;Phaser.Class.mixin(Js,[be.Alpha,be.BlendMode,be.Crop,be.Depth,be.Flip,be.GetBounds,be.Mask,be.Origin,be.Pipeline,be.PostPipeline,be.ScrollFactor,be.Tint,be.Transform,be.Visible,gw,xw,Tw]);const Ew=Phaser.Utils.String.Pad;var gt=r(function(e,t,i){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${Ew(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,i);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}},"GetStyle");const by=Phaser.Math.DegToRad;var SA=r(function(e,t,i,a,y,S,n){var C=new fg(t,i,a,y,S),s=C.minWidth,o=C.minHeight,T=a>=s?1:a/s,c=y>=o?1:y/o,l=C.cornerRadius,u,h,f,v,d,p,g;e.save(),e.beginPath(),e.translate(t,i),u=l.tl,wl(u)?(h=u.x*T,f=u.y*c,Ll(u)?(v=h,d=f,ms(e,v,d,h,f,180,270,!1,n)):(v=0,d=0,ms(e,v,d,h,f,90,0,!0,n)),p=0,g=f):(e.lineTo(0,0),p=0,g=0),u=l.tr,wl(u)?(h=u.x*T,f=u.y*c,Ll(u)?(v=a-h,d=f,ms(e,v,d,h,f,270,360,!1,n)):(v=a,d=0,ms(e,v,d,h,f,180,90,!0,n))):e.lineTo(a,0),u=l.br,wl(u)?(h=u.x*T,f=u.y*c,Ll(u)?(v=a-h,d=y-f,ms(e,v,d,h,f,0,90,!1,n)):(v=a,d=y,ms(e,v,d,h,f,270,180,!0,n))):e.lineTo(a,y),u=l.bl,wl(u)?(h=u.x*T,f=u.y*c,Ll(u)?(v=h,d=y-f,ms(e,v,d,h,f,90,180,!1,n)):(v=0,d=y,ms(e,v,d,h,f,360,270,!0,n))):e.lineTo(0,y),e.lineTo(p,g),e.closePath(),e.restore()},"AddRoundRectanglePath"),Ll=r(function(e){return!e.hasOwnProperty("convex")||e.convex},"IsConvexArc"),wl=r(function(e){return e.x>0&&e.y>0},"IsArcCorner"),ms=r(function(e,t,i,a,y,S,n,C,s){if(C&&n>S?n-=360:!C&&n<S&&(n+=360),S=by(S),n=by(n),s==null)e.ellipse(t,i,a,y,0,S,n,C);else{s+=1;for(var o,T,c,l=(n-S)/s,u=0;u<=s;u++)c=S+l*u,o=t+a*Math.cos(c),T=i+y*Math.sin(c),e.lineTo(o,T)}},"ArcTo"),Sw=r(function(e,t,i,a,y,S,n,C,s,o,T,c,l){if(SA(t,i,a,y,S,n,l),C!=null){if(T!=null){var u;c?u=t.createLinearGradient(0,0,y,0):u=t.createLinearGradient(0,0,0,S),u.addColorStop(0,C),u.addColorStop(1,T),C=u}t.fillStyle=C,t.fill()}s!=null&&o>0&&(t.strokeStyle=s,t.lineWidth=o,t.stroke())},"DrawRoundRectangle"),dg=r(function(e,t,i,a,y,S,n,C){if(!(t==null&&i==null)){var s=e.canvas.width,o=e.canvas.height;i==null&&(a=0);var T=a/2;s=Math.max(1,s-a),o=Math.max(1,o-a),Sw(e.canvas,e.context,T,T,s,o,y,t,i,a,S,n,C)}},"DrawRoundRectangleBackground"),Aw=r(function(){dg(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)},"DrawContent$2");const Ny=Phaser.Utils.Objects.GetValue;var Jn;let AA=(Jn=class extends Js{constructor(t,i,a,y,S,n,C,s,o,T,c,l){i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=1),S===void 0&&(S=y),n===void 0&&(n=0),l===void 0&&(l=1),super(t,i,a,y,S,l),this.type="rexRoundRectangleCanvas";var u=Ny(n,"radius",n),h=Ny(n,"iteration",void 0);this.setRadius(u),this.setIteration(h),this.setFillStyle(C,T,c),this.setStrokeStyle(s,o)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=gt(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=gt(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,i,a){return a===void 0&&(a=!0),this.fillStyle=t,this.fillColor2=i,this.isHorizontalGradient=a,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=gt(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,i){return this.strokeStyle=t,this.lineWidth=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),Aw.call(this)},this),this}},r(Jn,"RoundRectangle"),Jn);rt.register("roundRectangleCanvas",function(e,t,i,a,y,S,n,C,s,o){var T=new AA(this.scene,e,t,i,a,y,S,n,C,s,o);return this.scene.add.existing(T),T});it(window,"RexPlugins.UI.RoundRectangleCanvas",AA);var Ot=r(function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},"HasProperty"),xs=r(function(e,t,i){!t||Ot(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:r(function(){return i.x},"get"),set:r(function(a){i.x=a,e.dirty=!0},"set")}),Object.defineProperty(e,`${t}Y`,{get:r(function(){return i.y},"get"),set:r(function(a){i.y=a,e.dirty=!0},"set")}),Object.defineProperty(e,`${t}T`,{get:r(function(){return i.t},"get"),set:r(function(a){i.t=a,e.dirty=!0},"set")}))},"InjectPointAccessProperties");const Pw={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,i,a){var y=this.geom.topSidePoints;if(Array.isArray(e))for(var y=e,S,n=0,C=y.length;n<C;n++)S=y[n],this.geom.insertTopSidePoint(S.t,S.x,S.y),xs(this,S.key,y[y.length-1]);else this.geom.insertTopSidePoint(e,t,i),xs(this,a,y[y.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,i,a){var y=this.geom.rightSidePoints;if(Array.isArray(e))for(var y=e,S,n=0,C=y.length;n<C;n++)S=y[n],this.geom.insertRightSidePoint(S.t,S.x,S.y),xs(this,S.key,y[y.length-1]);else this.geom.insertRightSidePoint(e,t,i),xs(this,a,y[y.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,i,a){var y=this.geom.bottomSidePoints;if(Array.isArray(e))for(var y=e,S,n=0,C=y.length;n<C;n++)S=y[n],this.geom.insertBottomSidePoint(S.t,S.x,S.y),xs(this,S.key,y[y.length-1]);else this.geom.insertBottomSidePoint(e,t,i),xs(this,a,y[y.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,i,a){var y=this.geom.leftSidePoints;if(Array.isArray(e))for(var y=e,S,n=0,C=y.length;n<C;n++)S=y[n],this.geom.insertLeftSidePoint(S.t,S.x,S.y),xs(this,S.key,y[y.length-1]);else this.geom.insertLeftSidePoint(e,t,i),xs(this,a,y[y.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}},v0=class v0{constructor(t,i,a,y){t===void 0&&(t=0),i===void 0&&(i=t),a===void 0&&(a=0),y===void 0&&(y=0),this.setTo(t,i,a,y),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,i,a,y){return this.setPosition(t,i),this.setSize(a,y),this}setPosition(t,i){return this.x=t,this.y=i,this}setSize(t,i){return this.width=t,this.height=i,this}setTLPosition(t,i){return this.tlx=t,this.tly=i,this}setTRPosition(t,i){return this.trx=t,this.try=i,this}setBLPosition(t,i){return this.blx=t,this.bly=i,this}setBRPosition(t,i){return this.brx=t,this.bry=i,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,i,a){return Ml(this.topSidePoints,t,i,a),this}insertRightSidePoint(t,i,a){return Ml(this.rightSidePoints,t,i,a),this}insertBottomSidePoint(t,i,a){return Ml(this.bottomSidePoints,t,i,a),this}insertLeftSidePoint(t,i,a){return Ml(this.leftSidePoints,t,i,a),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}};r(v0,"QuadGeom");let Fv=v0;var Ml=r(function(e,t,i,a){if(typeof t!="number"){var y=t;t=y.t,i=y.x,a=y.y}e.push({t,x:i,y:a})},"AddPoint");const Rw=Phaser.Utils.Objects.IsPlainObject,_e=Phaser.Utils.Objects.GetValue,Ts=Phaser.Math.Linear,Ow=Phaser.Geom.Polygon.Earcut,p0=class p0 extends oo{constructor(t,i,a,y,S,n,C){var s,o,T;if(Rw(i)){var c=i;i=c.x,a=c.y,y=c.width,S=c.height,n=c.color,C=c.alpha,s=c.strokeColor,o=c.strokeAlpha,T=c.strokeWidth}i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=1),S===void 0&&(S=y);var l=new Fv;super(t,"rexQuadShape",l),l.setTo(0,0,y,S),this.setPosition(i,a),this.setFillStyle(n,C),s!==void 0&&T===void 0&&(T=2),this.setStrokeStyle(T,s,o),this.setTLPosition(_e(c,"tlx",0),_e(c,"tly",0)).setTRPosition(_e(c,"trx",0),_e(c,"try",0)).setBLPosition(_e(c,"blx",0),_e(c,"bly",0)).setBRPosition(_e(c,"brx",0),_e(c,"bry",0));var u=_e(c,"leftSidePoints");u&&this.insertLeftSidePoint(u);var h=_e(c,"topSidePoints");h&&this.insertTopSidePoint(h);var f=_e(c,"rightSidePoints");f&&this.insertRightSidePoint(f);var v=_e(c,"bottomSidePoints");v&&this.insertBottomSidePoint(v),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var a=t.width,y=t.height,S=0+t.tlx,n=0+t.tly,C=a+t.trx,s=0+t.try,o=a+t.brx,T=y+t.bry,c=0+t.blx,l=y+t.bly,u=t.topSidePoints,h=t.rightSidePoints,f=t.bottomSidePoints,v=t.leftSidePoints;de(S,n,i),Dl(u);for(var d=0,p=u.length;d<p;d++){var g=u[d],m=Ts(S,C,g.t)+g.x,x=Ts(n,s,g.t)+g.y;de(m,x,i)}de(C,s,i),Dl(h);for(var d=0,p=h.length;d<p;d++){var g=h[d],m=Ts(C,o,g.t)+g.x,x=Ts(s,T,g.t)+g.y;de(m,x,i)}de(o,T,i),Dl(f);for(var d=f.length-1;d>=0;d--){var g=f[d],m=Ts(c,o,g.t)+g.x,x=Ts(l,T,g.t)+g.y;de(m,x,i)}de(c,l,i),Dl(v);for(var d=v.length-1;d>=0;d--){var g=v[d],m=Ts(S,c,g.t)+g.x,x=Ts(n,l,g.t)+g.y;de(m,x,i)}return i.push(i[0],i[1]),this.pathIndexes=Ow(i),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}};r(p0,"Quad");let lo=p0;var Dl=r(function(e){e.length<=1||e.sort(function(t,i){return t.t-i.t})},"SortPoints");Object.assign(lo.prototype,Pw);rt.register("QuadShape",function(e,t,i,a,y,S){var n=new lo(this.scene,e,t,i,a,y,S);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.QuadShape",lo);var Lw=Phaser.Renderer.WebGL.Utils,ww=r(function(e,t,i,a){if(!(t.width===0||t.height===0)){i.addToRenderList(t);var y=t.frame,S=y.width,n=y.height,C=Lw.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),o=s.setTexture2D(y.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,y.glTexture,S,n,t.x,t.y,S/t.style.resolution,n/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,n,C(t.tintTopLeft,i.alpha*t._alphaTL),C(t.tintTopRight,i.alpha*t._alphaTR),C(t.tintBottomLeft,i.alpha*t._alphaBL),C(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,a,!1,o),e.pipelines.postBatch(t)}},"WebGLRenderer$1"),Mw=r(function(e,t,i,a){t.width===0||t.height===0||(i.addToRenderList(t),e.batchSprite(t,t.frame,i,a))},"CanvasRenderer$1");const Dw={renderWebGL:ww,renderCanvas:Mw},kd=Phaser.Display.Canvas.CanvasPool;var Fw=r(function(e,t,i){i===void 0&&(i={});var a=kd.create(this),y=a.getContext("2d",{willReadFrequently:!0});e.syncFont(a,y);var S=y.measureText(t),n=Math.ceil(S.width*e.baselineX),C=n,s=2*C;if(C=C*e.baselineY|0,a.width=n,a.height=s,y.fillStyle="#f00",y.fillRect(0,0,n,s),y.font=e._font,y.textBaseline="alphabetic",y.fillStyle="#000",y.fillText(e.testString,0,C),i.left=0,n===0||s===0||!y.getImageData(0,0,n,s))return kd.remove(a),i;for(var o=y.getImageData(0,0,n,s).data,T=!1,c=0;c<n;c++){for(var l=0;l<s;l++){var u=(l*n+c)*4;if(o[u]!==255){i.left=c,T=!0;break}}if(T)break}return kd.remove(a),i},"MeasureTextMargins");pd();const bw=Phaser.GameObjects.GameObject,g0=class g0 extends bw{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,i){return this.style.setFixedSize(t,i)}setBackgroundColor(t,i,a){return this.style.setBackgroundColor(t,i,a)}setBackgroundStrokeColor(t,i){return this.style.setBackgroundStrokeColor(t,i)}setBackgroundCornerRadius(t,i){return this.style.setBackgroundCornerRadius(t,i)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,i){return this.style.setStroke(t,i)}setShadow(t,i,a,y,S,n){return this.style.setShadow(t,i,a,y,S,n)}setShadowOffset(t,i){return this.style.setShadowOffset(t,i)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,i,a){return this.style.setUnderline(t,i,a)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,i,a){return this.style.setStrikethrough(t,i,a)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,i){return this.style.setTextMetrics(t,i)}measureTextMargins(t,i){return Fw(this.style,t,i)}};r(g0,"TextBase");let qu=g0;const Le=Phaser.GameObjects.Components;Phaser.Class.mixin(qu,[Le.Alpha,Le.BlendMode,Le.ComputedSize,Le.Crop,Le.Depth,Le.Flip,Le.GetBounds,Le.Mask,Le.Origin,Le.Pipeline,Le.PostPipeline,Le.ScrollFactor,Le.Tint,Le.Transform,Le.Visible,Dw]);var Nw={backgroundColor:["backgroundColor",null,gt],backgroundColor2:["backgroundColor2",null,gt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,gt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",gt],stroke:["stroke","#fff",gt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",gt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",gt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",gt],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|Mqgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const Fl=Phaser.Display.Canvas.CanvasPool;var By=r(function(e){var t=Fl.create(this),i=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,i);var a=i.measureText(e.testString);if("actualBoundingBoxAscent"in a){var y=a.actualBoundingBoxAscent,S=a.actualBoundingBoxDescent,o={ascent:y,descent:S,fontSize:y+S};return Fl.remove(t),o}var n=Math.ceil(a.width*e.baselineX),C=n,s=2*C;C=C*e.baselineY|0,t.width=n,t.height=s,i.fillStyle="#f00",i.fillRect(0,0,n,s),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,C);var o={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,n,s))return o.ascent=C,o.descent=C+6,o.fontSize=o.ascent+o.descent,Fl.remove(t),o;var T=i.getImageData(0,0,n,s).data,c=T.length,l=n*4,u,h,f=0,v=!1;for(u=0;u<C;u++){for(h=0;h<l;h+=4)if(T[f+h]!==255){v=!0;break}if(!v)f+=l;else break}for(o.ascent=C-u,f=c-l,v=!1,u=s;u>C;u--){for(h=0;h<l;h+=4)if(T[f+h]!==255){v=!0;break}if(!v)f-=l;else break}return o.descent=u-C,o.fontSize=o.ascent+o.descent,Fl.remove(t),o},"MeasureText"),ie={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const _u={none:ie.NO_WRAP,word:ie.WORD_WRAP,char:ie.CHAR_WRAP,character:ie.CHAR_WRAP,mix:ie.MIX_WRAP},Bw=Phaser.Utils.Objects.GetAdvancedValue,We=Phaser.Utils.Objects.GetValue;var Qn;let cg=(Qn=class{constructor(t,i,a){this.parent=t,a===void 0&&(a=Nw),this.propertyMap=a,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(i,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==ie.NO_WRAP&&this.wrapWidth===0}setStyle(t,i,a){if(i===void 0&&(i=!0),a===void 0&&(a=!1),t&&t.hasOwnProperty("wordWrap")){var y=t.wordWrap;y.hasOwnProperty("width")&&(t.wrap={mode:"word",width:y.width})}if(t&&t.hasOwnProperty("wrap")){var S=t.wrap;if(S.hasOwnProperty("mode")){var n=S.mode;typeof n=="string"&&(S.mode=_u[n])}else S.hasOwnProperty("width")&&(S.mode=1)}t&&t.rtl&&a&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var C=this.propertyMap;for(var s in C){var o=C[s],T=o[0],c=a?o[1]:this[s],l=o[2];if(s==="wrapCallback"||s==="wrapCallbackScope")this[s]=We(t,T,c);else{var u=Bw(t,T,c);l&&(u=l(u)),this[s]=u}}var h=We(t,"font",null);h===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=h;var f=We(t,"fill",null);f!==null&&(this.color=gt(f));var v=We(t,"metrics",!1);return v?this.metrics={ascent:We(v,"ascent",0),descent:We(v,"descent",0),fontSize:We(v,"fontSize",0)}:(i||!this.metrics)&&(this.metrics=By(this)),i?this.parent.updateText():this.parent}syncFont(t,i){i.font=this._font}syncStyle(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"}syncShadow(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=By(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=We(t,"fontFamily","Courier"),this.fontSize=We(t,"fontSize","16px"),this.fontStyle=We(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,i,a){return a===void 0&&(a=!0),this.backgroundColor=gt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=gt(i,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=a,this.update(!1)}setBackgroundStrokeColor(t,i){return this.backgroundStrokeColor=gt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=i,this.update(!1)}setBackgroundCornerRadius(t,i){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=i,this.update(!1)}setFill(t){return this.color=gt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=gt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,i){return t===void 0?this.strokeThickness=0:(i===void 0&&(i=this.strokeThickness),this.stroke=gt(t,this.parent.canvas,this.parent.context),this.strokeThickness=i),this.update(!0)}setShadow(t,i,a,y,S,n){return t===void 0&&(t=0),i===void 0&&(i=0),a===void 0&&(a="#000"),y===void 0&&(y=0),S===void 0&&(S=!1),n===void 0&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=gt(a,this.parent.canvas,this.parent.context),this.shadowBlur=y,this.shadowStroke=S,this.shadowFill=n,this.update(!1)}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=gt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,i,a){return t===void 0&&(t="#000"),i===void 0&&(i=0),a===void 0&&(a=0),this.underlineColor=gt(t,this.parent.canvas,this.parent.context),this.underlineThickness=i,this.underlineOffset=a,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=gt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,i,a){return t===void 0&&(t="#000"),i===void 0&&(i=0),a===void 0&&(a=0),this.strikethroughColor=gt(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=i,this.strikethroughOffset=a,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=gt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=_u[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,i){return t===void 0&&(t="left"),i===void 0&&(i="top"),this.halign=t,this.valign=i,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,i){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,i&&(typeof i=="string"?(this.fontFamily=i,this.fontSize="",this.fontStyle=""):(this.fontFamily=We(i,"fontFamily",this.fontFamily),this.fontSize=We(i,"fontSize",this.fontSize),this.fontStyle=We(i,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var t={},i=this.propertyMap;for(var a in i)t[a]=this[a];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}},r(Qn,"TextStyle"),Qn);var Hn=r(function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e},"GetString");const Gw={draw(e,t,i,a){var y=this.penManager;this.hitAreaManager.clear();var S=this.context;S.save();var n=this.defaultStyle;this.clear(),dg(this,n.backgroundColor,n.backgroundStrokeColor,n.backgroundStrokeLineWidth,n.backgroundCornerRadius,n.backgroundColor2,n.backgroundHorizontalGradient,n.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var C=n.halign,s=n.valign,o,T=n.lineHeight,c=y.lines,l=c.length,u=n.maxLines,h,f,v;u>0&&l>u?(h=u,s==="center"?f=Math.floor((l-h)/2):s==="bottom"?f=l-h:f=0):(h=l,f=0),v=f+h;var d,p,g=this.rtl,m=g?this.parent.width:void 0;s==="center"?p=Math.max((a-h*T)/2,0):s==="bottom"?p=Math.max(a-h*T-2,0):p=0,p+=t;for(var x=f;x<v;x++)if(o=y.getLineWidth(x),o!==0){for(var E=c[x],A=E.length,R=C,P=0;P<A;P++){var O=E[P].prop.align;if(O!==void 0){R=O;break}}R==="center"?d=(i-o)/2:R==="right"?d=g?0:i-o:d=g?i-o:0,d+=e;for(var P=0;P<A;P++)this.drawPen(E[P],d,p,m)}S.restore()},drawPen(e,t,i,a){t+=e.x,i+=e.y+(e.prop.y||0),a!==void 0&&(t=a-t);var y=this.canvas,S=this.context;S.save();var n=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(n.bgcolor!==null&&e.width>0){var C=this.defaultStyle.metrics,s=i-C.ascent,o=C.fontSize;this.drawRectangle(t,s,e.width,o,n.bgcolor,n)}if(n.underlineThickness>0&&e.width>0){var T=i+n.underlineOffset-n.underlineThickness/2;this.drawLine(t,T,e.width,n.underlineThickness,n.underlineColor,n)}if(e.isTextPen&&(n.buildFont(),n.syncFont(y,S),n.syncStyle(y,S),this.drawText(t,i,e.text,n)),e.isImagePen&&this.drawImage(t,i,e.prop.img,e.prop.color,n),n.strikethroughThickness>0&&e.width>0){var T=i+n.strikethroughOffset-n.strikethroughThickness/2;this.drawLine(t,T,e.width,n.strikethroughThickness,n.strikethroughColor,n)}if(S.restore(),e.hasAreaMarker&&e.width>0){var c,l=e.prop.area;if(l)c={key:l};else{var u=e.prop.url;c={key:`url:${u}`,url:u}}this.hitAreaManager.add(t,i-this.startYOffset,e.width,this.defaultStyle.lineHeight,c)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,i,a,y,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;n.fillStyle=y,n.fillRect(e,t,i,a)},drawLine(e,t,i,a,y,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;S.syncShadow(n,S.shadowStroke);var C=n.lineCap;n.lineCap="butt",n.strokeStyle=y,n.lineWidth=a,n.beginPath(),n.moveTo(e,t),n.lineTo(e+i,t),n.stroke(),n.lineCap=C},drawText(e,t,i,a){this.autoRound&&(e=Math.round(e),t=Math.round(t));var y=this.context;a.stroke&&a.stroke!=="none"&&a.strokeThickness>0&&(a.syncShadow(y,a.shadowStroke),y.strokeText(i,e,t)),a.color&&a.color!=="none"&&(a.syncShadow(y,a.shadowFill),y.fillText(i,e,t))},drawImage(e,t,i,a,y){t-=this.startYOffset,this.parent.imageManager.draw(i,this.context,e,t,a,this.autoRound)}},sr=Phaser.Utils.Objects.GetValue,Uw=ie.NO_NEWLINE,Gy=ie.RAW_NEWLINE,m0=class m0{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=sr(t,"text",""),this.x=sr(t,"x",0),this.y=sr(t,"y",0),this.width=sr(t,"width",0);var i=sr(t,"prop",null);i===null&&(i={}),this.prop=i,this.newLineMode=sr(t,"newLineMode",0),this.startIndex=sr(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===Gy&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==Uw&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===Gy&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}};r(m0,"Pen");let bv=m0;var Si=r(function(e,t){var i=Array.isArray(e);if(t===void 0?t=i?[]:{}:Hs(t),i){t.length=e.length;for(var a=0,y=e.length;a<y;a++)t[a]=e[a]}else for(var S in e)t[S]=e[S];return t},"Clone$2");const Uy=Phaser.Utils.Objects.GetFastValue,Hy=ie.NO_NEWLINE,Hw=ie.WRAPPED_NEWLINE,fd=class fd{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=Uy(t,"tagToText",oe),this.tagToTextScope=Uy(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,i=this.lines.length;t<i;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,i,a,y,S,n){var C=this.pensPool.pop();return C==null&&(C=new bv),rr.text=t,rr.x=i,rr.y=a,rr.width=y,rr.prop=S,rr.newLineMode=n,C.resetFromJSON(rr),this.addPen(C),this}addImagePen(t,i,a,y){return this.addTextPen("",t,i,a,y,Hy),this}addNewLinePen(){var t=this.lastPen,i=t?t.lastX:0,a=t?t.y:0,y=t?Si(t.prop):null;return this.addTextPen("",i,a,0,y,Hw),this}addPen(t){var i=this.lastPen;i==null?t.startIndex=0:t.startIndex=i.endIndex,this.pens.push(t);var a=this.lastLine;a==null&&(a=this.linesPool.pop()||[],this.lines.push(a)),a.push(t),t.newLineMode!==Hy&&(a=this.linesPool.pop()||[],this.lines.push(a)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new fd),t.clear();for(var i=0,a=this.lines.length;i<a;i++)for(var y=this.lines[i],S=0,n=y.length;S<n;S++){var C=y[S];t.addPen(C.text,C.x,C.y,C.width,Si(C.prop),C.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var i=this.lines[t];return i&&i[0]?i[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var i,a=!1,y;for(i=t;i>=0&&(y=this.lines[i],a=y!=null&&y.length>0,!a);i--);if(!a)return 0;var S=y[y.length-1];return S.endIndex}getLineWidth(t){var i=this.lines[t];if(!i)return 0;var a=i[i.length-1];if(a==null)return 0;var y=a.lastX;return y}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,i=0,a=0,y=this.lines.length;a<y;a++)t=this.getLineWidth(a),t>i&&(i=t);return this.maxLinesWidth=i,i}getLineWidths(){for(var t=[],i=0,a=this.lines.length;i<a;i++)t.push(this.getLineWidth(i));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",i=this.pens,a=0,y=i.length;a<y;a++)t+=i[a].plainText;return t}get rawTextLength(){for(var t=0,i=this.pens,a=0,y=this.pens.length;a<y;a++)t+=i[a].rawTextLength;return t}getSliceTagText(t,i,a){var y=this.lastPen;if(y==null)return"";var S=y.endIndex;(t===void 0||t===0)&&(t=-1),(i===void 0||i===S)&&(i=S+1),a===void 0&&(a=!1);for(var n="",C,s,o,T,c,l,u,h=0,f=this.pens.length;h<f&&(C=this.pens[h],T=C.endIndex,!(!(T<=t)&&(C=this.pens[h],s=a?C.wrapText:C.plainText,l=C.prop,o=C.startIndex,c=o>=t&&T<=i,c||(s=s.substring(t-o,i-o)),this.tagToTextScope?n+=this.tagToText.call(this.tagToTextScope,s,l,u):n+=this.tagToText(s,l,u),u=l,T>=i)));h++);return n}get length(){return this.lines.length}set length(t){this.clear()}};r(fd,"PenManager");let Nv=fd;var rr={};const Yw=Phaser.Geom.Rectangle;var Yy=new li;const x0=class x0{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,i=this.hitAreas.length;t<i;t++)this.hitAreas[t].data=null;return Yy.pushMultiple(this.hitAreas),this}add(t,i,a,y,S){S===void 0&&(S={});var n=Yy.pop();return n===null?n=new Yw(t,i,a,y):n.setTo(t,i,a,y),n.data=S,this.hitAreas.push(n),this}getFirst(t,i){for(var a=0,y=this.hitAreas.length;a<y;a++){var S=this.hitAreas[a];if(S.contains(t,i))return S}return null}getByKey(t){for(var i=0,a=this.hitAreas.length;i<a;i++){var y=this.hitAreas[i];if(y.data.key===t)return y}return null}drawBounds(t,i,a){i===void 0&&(i=16777215),a&&t.save().translateCanvas(a.x,a.y).rotateCanvas(a.rotation).scaleCanvas(a.scaleX,a.scaleY);for(var y=0,S=this.hitAreas.length;y<S;y++){var n=this.hitAreas[y];t.lineStyle(1,i).strokeRect(n.x,n.y,n.width,n.height)}return a&&t.restore(),this}};r(x0,"HitAreaManager");let Bv=x0;var Vw=r(function(){this.parent.on("pointerdown",Ww,this).on("pointerup",kw,this).on("pointermove",Xd,this).on("pointerover",Xd,this).on("pointerout",function(e,t){Xd.call(this,e,null,null,t)},this)},"SetInteractive$1"),Ww=r(function(e,t,i,a){var y=this.hitAreaManager.getFirst(t,i);if(y!==null){var S=y.data.key;Yn.call(this,"areadown",S,e,t,i,a),y.data&&(y.data.isDown=!0)}},"OnAreaDown"),kw=r(function(e,t,i,a){var y=this.hitAreaManager.getFirst(t,i);if(y!==null){var S=y.data.key;if(Yn.call(this,"areaup",S,e,t,i,a),!!y.data){if(y.data.isDown){if(Yn.call(this,"areaclick",S,e,t,i,a),!y.data)return;var n=y.data.url;n&&window.open(n,"_blank")}y.data.isDown=!1}}},"OnAreaUp"),Xd=r(function(e,t,i,a){if(t===null){if(this.lastHitAreaKey!==null){Yn.call(this,"areaout",this.lastHitAreaKey,e,t,i,a);var y=this.hitAreaManager.getByKey(this.lastHitAreaKey);y&&y.data&&(y.data.isDown=!1),this.lastHitAreaKey=null}return}var y=this.hitAreaManager.getFirst(t,i),S=y?y.data.key:null;if(this.lastHitAreaKey!==S){if(this.lastHitAreaKey!==null){Yn.call(this,"areaout",this.lastHitAreaKey,e,t,i,a);var n=this.hitAreaManager.getByKey(this.lastHitAreaKey);n&&(this.urlTagCursorStyle&&Vy(this.scene,n,""),n.data.isDown=!1)}S!==null&&(Yn.call(this,"areaover",S,e,t,i,a),y.data&&this.urlTagCursorStyle&&Vy(this.scene,y,this.urlTagCursorStyle)),this.lastHitAreaKey=S}},"OnAreaOverOut"),Yn=r(function(e,t,i,a,y,S){this.parent.emit(`${e}-${t}`,i,a,y,S),this.parent.emit(e,t,i,a,y,S)},"FireEvent$2"),Vy=r(function(e,t,i){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=i)},"SetCursorStyle");const Wy=Phaser.GameObjects.Components.TransformMatrix,Xw=Phaser.Math.TransformXY;var PA=r(function(e,t,i,a,y){a===void 0&&(a=e.scene.cameras.main),y===void 0?y={}:y===!0&&(y=zw);var S=a.scrollX,n=a.scrollY,C=t+S*e.scrollFactorX-S,s=i+n*e.scrollFactorY-n;return e.parentContainer?(bl===void 0&&(bl=new Wy,ky=new Wy),e.getWorldTransformMatrix(bl,ky),bl.applyInverse(C,s,y)):Xw(C,s,e.x,e.y,e.rotation,e.scaleX,e.scaleY,y),y.x+=e.displayOriginX,y.y+=e.displayOriginY,y},"WorldXYToGameObjectLocalXY"),bl,ky,zw={},Iw=r(function(e,t,i){var a=PA(this.parent,e,t,i,!0),y=this.hitAreaManager.getFirst(a.x,a.y);if(y!==null)return y.data.key},"GetHitArea"),$w=/^[\x00-\x7F]+$/,uo=r(function(e){return $w.test(e)},"IsASCIIString");const Kw=ie.NO_NEWLINE,Zw=ie.RAW_NEWLINE,zd=ie.WRAPPED_NEWLINE,Xy=ie.NO_WRAP,Jw=ie.WORD_WRAP,RA=ie.CHAR_WRAP,Qw=ie.SPLITREGEXP;var OA=r(function(e,t,i,a,y,S){a<=0&&(i=Xy);var n=[];if(!e||!e.length)return n;for(var C=i===Xy,s=e.split(Qw),o,T,c,l=0,u=s.length;l<u;l++){if(o=s[l],c=l===u-1?Kw:Zw,C){var h=t.measureText(o).width;n.push(S.getLine(o,h,c));continue}if(T=l===0?a-y:a,o.length<=100){var h=t.measureText(o).width;if(h<=T){n.push(S.getLine(o,h,c));continue}}for(var f=jw(o,i),v,d,p="",g=0,m,x=0,E=f.length;x<E;x++){if(v=f[x],d=t.measureText(v).width,d>a&&qw(v)){p!==""?n.push(S.getLine(p,g,zd)):x===0&&y>0&&n.push(S.getLine("",0,zd)),n.push(...OA(v,t,RA,a,0,S));var A=n.pop();p=A.text,g=A.width,S.freeLine(A),p===" "&&(p="",g=0);continue}m=g+d,m>T?(n.push(S.getLine(p,g,zd)),p=v,g=d,T=a):(p+=v,g=m),x===E-1&&n.push(S.getLine(p,g,c))}}return n},"WrapText"),jw=r(function(e,t){var i;switch(t){case Jw:i=[],e=e.split(" ");for(var a=0,y=e.length;a<y;a++){var S=e[a];a<y-1?i.push(S+" "):S!==""&&i.push(S)}break;case RA:i=e.split("");break;default:i=[],e=e.split(" ");for(var a=0,y=e.length;a<y;a++){var S=e[a];a<y-1?uo(S)?i.push(S+" "):(i.push(...S.split("")),i.push(" ")):S!==""&&(uo(S)?i.push(S):i.push(...S.split("")))}break}return i},"ParseLine"),qw=r(function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}},"IsWord");const Id=Phaser.Utils.Objects.GetValue,_w=ie.NO_WRAP,zy=ie.NO_NEWLINE,tM=ie.WRAPPED_NEWLINE,T0=class T0{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Id(t,"context",null),this.canvas=this.context.canvas,this.parser=Id(t,"parser",null),this.defaultStyle=Id(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new Bv,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,i,a,y,S){if(S===void 0&&(S=this.penManager),S.clear(),t==="")return S;var n=this.parent.style;if(n.isWrapFitMode){var C=this.parent.padding;a=n.fixedWidth-C.left-C.right}for(var s=this.canvas,o=this.context,T=0,c=0,l=n.wrapCallback,u=n.wrapCallbackScope,h=!0,f,v,d,p=this.parser.splitText(t),g,m,x=this.wrapTextLinesPool,E=0,A=p.length;E<A;E++)if(g=this.parser.tagTextToProp(p[E],v),f=g.plainText,v=g.prop,v.img){var R=this.imageManager.getOuterWidth(v.img);a>0&&i!==_w&&a<T+R&&(S.addNewLinePen(),c+=y,T=0),S.addImagePen(T,c,R,Si(v)),T+=R}else if(f!==""){if(o.save(),d=this.parser.propToContextStyle(this.defaultStyle,v),d.buildFont(),d.syncFont(s,o),d.syncStyle(s,o),!l)m=OA(f,o,i,a,T,x);else{m=l.call(u,f,o,a,T),typeof m=="string"&&(m=m.split(`
`));for(var L,P=0,O=m.length;P<O;P++)L=m[P],typeof L=="string"?m[P]=x.getLine(L,o.measureText(L).width,P<O-1?tM:zy):h=!1}for(var L,P=0,O=m.length;P<O;P++)L=m[P],S.addTextPen(L.text,T,c,L.width,Si(v),L.newLineMode),L.newLineMode!==zy?(T=0,c+=y):T+=L.width;h&&x.freeLines(m),m=null,o.restore()}for(var E=0,A=this.lines.length;E<A;E++){var w=this.lines[E],M=w[w.length-1];M&&(M.width+=this.parser.getStrokeThinkness(this.defaultStyle,M.prop))}return S}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,i=this.defaultStyle.maxLines;return i>0&&t>i&&(t=i),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,i=this.defaultStyle.lineHeight*t;return t>0&&(i-=this.defaultStyle.lineSpacing),i}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new Nv({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,i,a){var y;if(t==null)y=this.penManager.plainText;else{var S=this.parser.splitText(t,1);y="";for(var n=0,C=S.length;n<C;n++)y+=S[n]}return(i!=null||a!=null)&&(i==null&&(i=0),a==null&&(a=y.length),y=y.substring(i,a)),y}getPenManager(t,i){if(t===void 0)return this.copyPenManager(i,this.penManager);i===void 0&&(i=this.newPenManager());var a=this.defaultStyle;return this.updatePenManager(t,a.wrapMode,a.wrapWidth,a.lineHeight,i),i}getText(t,i,a,y){if(t==null)return this.penManager.getSliceTagText(i,a,y);var S=this.tmpPenManager,n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,S),S.getSliceTagText(i,a,y)}copyPenManager(t,i){return i===void 0&&(i=this.penManager),i.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}};r(T0,"CanvasText");let tf=T0;var eM={setInteractive:Vw,getHitArea:Iw};Object.assign(tf.prototype,Gw,eM);const y0=class y0 extends li{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,i,a){var y=this.pop();return y===null&&(y={}),y.text=t,y.width=i,y.newLineMode=a,y}};r(y0,"WrapTextLinesPool");let ef=y0;const iM=Phaser.Utils.Objects.IsPlainObject,tn=Phaser.Utils.Objects.GetValue;var $d=r(function(e,t){iM(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var i=t.key,a=t.frame,y=t.width,S=t.height;if(y===void 0||S===void 0){var n=this.textureManager.getFrame(i,a),C=n?n.cutWidth:0,s=n?n.cutHeight:0;y===void 0&&S===void 0?(y=C,S=s):y===void 0?y=C*(S/s):S===void 0&&(S=s*(y/C))}this.images[e]={key:i,frame:a,width:y,height:S,y:tn(t,"y",0),left:tn(t,"left",0),right:tn(t,"right",0),originX:tn(t,"originX",0),originY:tn(t,"originY",0),tintFill:tn(t,"tintFill",!1)}},"AddImage$1");const Iy=Phaser.Display.Canvas.CanvasPool;var LA=r(function(e,t,i,a,y,S,n,C){i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=e.cutWidth),S===void 0&&(S=e.cutHeight),C===void 0&&(C=!1),C&&(i=Math.round(i),a=Math.round(a));var s=t.getContext("2d",{willReadFrequently:!0});if(n){var o=Iy.create(null,y,S,Phaser.CANVAS,!0),T=o.getContext("2d",{willReadFrequently:!0});T.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,y,S),T.globalCompositeOperation="source-in",T.fillStyle=n,T.fillRect(0,0,y,S),s.drawImage(o,0,0,y,S,i,a,y,S),Iy.remove(o)}else s.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,i,a,y,S)},"DrawFrameToCanvas"),sM=r(function(e,t,i,a,y,S){var n=this.get(e);if(n){var C=this.textureManager.getFrame(n.key,n.frame),s=n.width,o=n.height;i+=n.left-n.originX*s,a+=n.y-n.originY*o,n.tintFill||(y=void 0),LA(C,t.canvas,i,a,s,o,y,S)}},"DrawImage");const C0=class C0{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,i){if(typeof t=="string")$d.call(this,t,i);else if(Array.isArray(t))for(var a=t,y=0,S=a.length;y<S;y++)$d.call(this,a[y]);else{var a=t;for(var t in a)$d.call(this,t,a[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var i=this.get(t);return i?i.width+i.left+i.right:0}getFrame(t){var i=this.get(t);return i?this.textureManager.getFrame(i.key,i.frame):void 0}hasTexture(t){return!!this.getFrame(t)}};r(C0,"ImageManager");let fo=C0;var rM={draw:sM};Object.assign(fo.prototype,rM);var wA=r(function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var i;return t?i=`${this.text}
${e}`:i=`${this.text}${e}`,i!=this.text&&this.setText(i),this},"AppendText$1");const nM=Phaser.Utils.Objects.IsPlainObject,$y=Phaser.DOM.AddToDOM,Ky=Phaser.Display.Canvas.CanvasPool,aM=Phaser.GameObjects.GameObject,Ne=Phaser.Utils.Objects.GetValue,hM=Phaser.DOM.RemoveFromDOM,oM=ie.SPLITREGEXP,lM=Phaser.Utils.String.UUID;var en=null,Kd=null,Zd=null;const E0=class E0 extends qu{constructor(t,i,a,y,S,n,C){if(nM(i)){var s=i;i=Ne(s,"x",0),a=Ne(s,"y",0),y=Ne(s,"text",""),S=Ne(s,"style")}if(i===void 0&&(i=0),a===void 0&&(a=0),super(t,n),this.renderer=t.sys.game.renderer,this.setPosition(i,a),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=Ky.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,S){if(S.hasOwnProperty("align")){var o=S.align;delete S.align,S.halign=o}S.hasOwnProperty("stroke")&&!S.hasOwnProperty("strokeThickness")&&(S.strokeThickness=1)}this.style=new cg(this,S);var T=Ne(S,"images",void 0);T&&this.addImage(T),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=lM(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var c=Ne(S,"sharedPool",!0),l,u,h;c?(en||(en={},Kd=new li,Zd=new ef,this.scene.game.events.once("destroy",function(){en=null,Kd=null,Zd=null})),en.hasOwnProperty(n)||(en[n]=new li),l=en[n],u=Kd,h=Zd):(l=new li,u=new li,h=new ef),this.canvasText=new tf({parent:this,context:this.context,parser:C,style:this.style,pensPool:l,linesPool:u,wrapTextLinesPool:h}),this.parser=C,this.initRTL(),S&&S.padding&&this.setPadding(S.padding),this.setText(y),this.setUrlTagCursorStyle(Ne(S,"urlTagCursorStyle","pointer")),Ne(S,"interactive",!1)&&this.setInteractive()}preDestroy(){hM(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),Ky.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",$y(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var i=this.style;if(i.rtl===t)return this;if(i.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",$y(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),i.halign==="left"?i.halign="right":i.halign==="right"&&(i.halign="left"),this._imageManager){var a=this._imageManager.images;for(var y in a)a[y].originX=1-a[y].originX}return this}setText(t){return t=Hn(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,i,a,y){if(typeof t=="object"){var S=t,n=Ne(S,"x",null);n!==null?(t=n,a=n):(t=Ne(S,"left",0),a=Ne(S,"right",t));var C=Ne(S,"y",null);C!==null?(i=C,y=C):(i=Ne(S,"top",0),y=Ne(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),a===void 0&&(a=t),y===void 0&&(y=i);return this.padding.left=t,this.padding.top=i,this.padding.right=a,this.padding.bottom=y,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var i=this.canvasText,a=this.style;t&&i.updatePenManager(this._text,a.wrapMode,a.wrapWidth,a.lineHeight);var y=this.padding,S,n,C=Math.ceil(i.linesWidth);a.fixedWidth===0?(this.width=C+y.left+y.right,S=C):(this.width=a.fixedWidth,S=this.width-y.left-y.right,S<C&&(S=C)),a.fixedHeight===0?(this.height=i.linesHeight+y.top+y.bottom,n=i.linesHeight):(this.height=a.fixedHeight,n=this.height-y.top-y.bottom,n<i.linesHeight&&(n=i.linesHeight));var s=this.width,o=this.height;this.updateDisplayOrigin();var T=a.resolution;s*=T,o*=T,s=Math.max(Math.ceil(s),1),o=Math.max(Math.ceil(o),1);var c=this.canvas,l=this.context;c.width!==s||c.height!==o?(c.width=s,c.height=o,this.frame.setSize(s,o)):l.clearRect(0,0,s,o),l.save(),l.scale(T,T);var u=this.style.rtl?y.right:y.left,h=y.top;i.draw(u,h,S,n),l.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(c,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),i={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=i,t}setInteractive(t,i,a){var y=!!this.input;return aM.prototype.setInteractive.call(this,t,i,a),y||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,i,a){return typeof t=="number"&&(a=i,i=t,t=void 0),t=this.canvasText.getText(t,i,a,!0),t.split(oM)}getPlainText(t,i,a){return typeof t=="number"&&(a=i,i=t,t=void 0),this.canvasText.getPlainText(t,i,a)}getText(t,i,a,y){return typeof t=="number"&&(y=a,a=i,i=t,t=void 0),y===void 0&&(y=!1),this.canvasText.getText(t,i,a,y)}getSubString(t,i,a){return typeof t=="number"&&(a=i,i=t,t=void 0),this.getText(t,i,a)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,i){return this.canvasText.getPenManager(t,i)}setSize(t,i){return this.setFixedSize(t,i)}resize(t,i){return this.setFixedSize(t,i)}get imageManager(){return this._imageManager||(this._imageManager=new fo(this.scene)),this._imageManager}addImage(t,i){return this.imageManager.add(t,i),this}drawAreaBounds(t,i){return this.canvasText.hitAreaManager.drawBounds(t,i,this),this}generateTexture(t,i,a,y,S){var n=this.canvas;return y===void 0?y=n.width:y*=this.resolution,S===void 0?S=n.height:S*=this.resolution,EA(this.scene,n,t,i,a,y,S),this}getHitArea(t,i,a){return this.canvasText.getHitArea(t,i,a)}};r(E0,"Text");let co=E0;var uM={appendText:wA};Object.assign(co.prototype,uM);var fM=r(function(e,t){for(var i=this.tagRegex,a=[],y=0,S=!1,n=!1;;){var C=i.RE_SPLITTEXT.exec(e);if(!C)break;var s=C[0];if(n)if(i.RE_ESC_CLOSE.test(s))n=!1;else continue;else if(S)if(i.RE_RAW_CLOSE.test(s))S=!1;else continue;else i.RE_ESC_OPEN.test(s)?n=!0:i.RE_RAW_OPEN.test(s)&&(S=!0);var o=i.RE_SPLITTEXT.lastIndex,T=o-s.length;if(y<T){var c=e.substring(y,T);a.push(c)}t===void 0&&a.push(s),y=o}var l=e.length;return y<l&&a.push(e.substring(y,l)),a},"SplitText");const Zt=!1,kt=!0;var dM={plainText:null,prevProp:null},cM=r(function(e,t){var i=this.tagRegex;t==null&&(t={});var a="";if(t.img&&pt(t,Zt,"img"),t.esc)i.RE_ESC_CLOSE.test(e)?pt(t,Zt,"esc"):a=e;else if(t.raw)i.RE_RAW_CLOSE.test(e)?pt(t,Zt,"raw"):a=e;else if(i.RE_ESC_OPEN.test(e))pt(t,kt,"esc",!0);else if(i.RE_ESC_CLOSE.test(e))pt(t,Zt,"esc");else if(i.RE_RAW_OPEN.test(e))pt(t,kt,"raw",!0);else if(i.RE_RAW_CLOSE.test(e))pt(t,Zt,"raw");else if(i.RE_BLOD_OPEN.test(e))pt(t,kt,"b",!0);else if(i.RE_BLOD_CLOSE.test(e))pt(t,Zt,"b");else if(i.RE_ITALICS_OPEN.test(e))pt(t,kt,"i",!0);else if(i.RE_ITALICS_CLOSE.test(e))pt(t,Zt,"i");else if(i.RE_WEIGHT_OPEN.test(e)){var y=e.match(i.RE_WEIGHT_OPEN);pt(t,kt,"weight",y[1])}else if(i.RE_WEIGHT_CLOSE.test(e))pt(t,Zt,"weight");else if(i.RE_SIZE_OPEN.test(e)){var y=e.match(i.RE_SIZE_OPEN);pt(t,kt,"size",`${y[1]}px`)}else if(i.RE_SIZE_CLOSE.test(e))pt(t,Zt,"size");else if(i.RE_FAMILY_OPEN.test(e)){var y=e.match(i.RE_FAMILY_OPEN);pt(t,kt,"family",y[1])}else if(i.RE_FAMILY_CLOSE.test(e))pt(t,Zt,"family");else if(i.RE_COLOR_OPEN.test(e)){var y=e.match(i.RE_COLOR_OPEN);pt(t,kt,"color",y[1])}else if(i.RE_COLOR_CLOSE.test(e))pt(t,Zt,"color");else if(i.RE_UNDERLINE_OPEN.test(e))pt(t,kt,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(e)){var y=e.match(i.RE_UNDERLINE_OPENC);pt(t,kt,"u",y[1])}else if(i.RE_UNDERLINE_CLOSE.test(e))pt(t,Zt,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(e))pt(t,kt,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(e)){var y=e.match(i.RE_STRIKETHROUGH_OPENC);pt(t,kt,"s",y[1])}else if(i.RE_STRIKETHROUGH_CLOSE.test(e))pt(t,Zt,"s");else if(i.RE_SHADOW_OPEN.test(e))pt(t,kt,"shadow",!0);else if(i.RE_SHADOW_OPENC.test(e)){var y=e.match(i.RE_SHADOW_OPENC);pt(t,kt,"shadow",y[1])}else if(i.RE_SHADOW_CLOSE.test(e))pt(t,Zt,"shadow");else if(i.RE_STROKE_OPEN.test(e))pt(t,kt,"stroke",!0);else if(i.RE_STROKE_OPENC.test(e)){var y=e.match(i.RE_STROKE_OPENC);pt(t,kt,"stroke",y[1])}else if(i.RE_STROKE_CLOSE.test(e))pt(t,Zt,"stroke");else if(i.RE_BGCOLOR_OPEN.test(e)){var y=e.match(i.RE_BGCOLOR_OPEN);pt(t,kt,"bgcolor",y[1])}else if(i.RE_BGCOLOR_CLOSE.test(e))pt(t,Zt,"bgcolor");else if(i.RE_OFFSETY_OPEN.test(e)){var y=e.match(i.RE_OFFSETY_OPEN);pt(t,kt,"y",parseFloat(y[1]))}else if(i.RE_OFFSETY_CLOSE.test(e))pt(t,Zt,"y");else if(i.RE_IMAGE_OPEN.test(e)){var y=e.match(i.RE_IMAGE_OPEN);pt(t,kt,"img",y[1])}else if(i.RE_IMAGE_CLOSE.test(e))pt(t,Zt,"img");else if(i.RE_AREA_OPEN.test(e)){var y=e.match(i.RE_AREA_OPEN);pt(t,kt,"area",y[1])}else if(i.RE_AREA_CLOSE.test(e))pt(t,Zt,"area");else if(i.RE_URL_OPEN.test(e)){var y=e.match(i.RE_URL_OPEN);pt(t,kt,"url",y[1])}else if(i.RE_URL_CLOSE.test(e))pt(t,Zt,"url");else if(i.RE_ALIGN_OPEN.test(e)){var y=e.match(i.RE_ALIGN_OPEN);pt(t,kt,"align",y[1])}else if(i.RE_ALIGN_CLOSE.test(e))pt(t,Zt,"align");else if(i.RE_ID_OPEN.test(e)){var y=e.match(i.RE_ID_OPEN);pt(t,kt,"id",y[1])}else i.RE_ID_CLOSE.test(e)?pt(t,Zt,"id"):a=e;var S=dM;return S.plainText=a,S.prop=t,S},"TagTextToProp"),pt=r(function(e,t,i,a){return t===kt?e[i]=a:e.hasOwnProperty(i)&&delete e[i],e},"UpdateProp"),vM=r(function(e,t){var i=gM;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")?i.fontFamily=t.family:i.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var a=t.size;typeof a=="number"&&(a=`${a}px`),i.fontSize=a}else i.fontSize=e.fontSize;i.fontStyle=pM(t),t.hasOwnProperty("color")?i.color=t.color:i.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(i.stroke=e.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=t.shadow,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor=t.u,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor=t.s,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?i.bgcolor=t.bgcolor:i.bgcolor=null,i},"PropToContextStyle"),pM=r(function(e){var t=e.b,i=e.weight,a=e.i;return t||i||a?a?t?"bold italic":i?`${i} italic`:"italic":t?"bold":i.toString():""},"GetFontStyle"),gM=new cg,mM=r(function(e,t,i){i==null&&(i=xM);var a=this.delimiters[0],y=this.delimiters[1],S=[];for(var n in i)t.hasOwnProperty(n)||S.push(`${a}/${n}${y}`);for(var n in t){var C=t[n];if(n!=="img"){if(i[n]===C)continue}switch(n){case"size":S.push(`${a}size=${C.replace("px","")}${y}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":S.push(`${a}${n}=${C}${y}`);break;case"u":case"s":C===!0?S.push(`${a}${n}${y}`):S.push(`${a}${n}=${C}${y}`);break;default:S.push(`${a}${n}${y}`);break}}return S.push(e),S.join("")},"PropToTagText"),xM={},ba=r(function(e){return e.replace(TM,"\\$&").replace(yM,"\\x2d")},"EscapeRegex"),TM=/[|\\{}()[\]^$+*?.]/g,yM=/-/g,Zy,Jy,xt={},zt=r(function(e,t,i,a){return a===void 0?`${e}${i}${t}`:`${e}${i}=(${a})${t}`},"GetOpenTagRegString"),ae=r(function(e,t,i){return`${e}/${i}${t}`},"GetCloseTagRegString"),CM=r(function(e){return`[^${e}]+`},"GenerateStringRegEx"),Jd="[-.0-9]+",EM=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],sn=EM.join("|"),MA=r(function(e,t){if(t===void 0){var i=e;e=i[0],t=i[1]}if(Zy===e&&Jy===t)return!1;Zy=e,Jy=t,e=ba(e),t=ba(t);var a=CM(t),y="esc",S=zt(e,t,y),n=ae(e,t,y),C="raw",s=zt(e,t,C),o=ae(e,t,C),T="b",c=zt(e,t,T),l=ae(e,t,T),u="i",h=zt(e,t,u),f=ae(e,t,u),v="weight",d=zt(e,t,v,Jd),p=ae(e,t,v),g="size",m=zt(e,t,g,Jd),x=ae(e,t,g),E="family",A=zt(e,t,E,a),R=ae(e,t,E),P="color",O=zt(e,t,P,sn),L=ae(e,t,P),w="u",M=zt(e,t,w),b=zt(e,t,w,sn),D=ae(e,t,w),F="s",N=zt(e,t,F),B=zt(e,t,F,sn),Y=ae(e,t,F),W="shadow",z=zt(e,t,W),X=zt(e,t,W,sn),H=ae(e,t,W),V="stroke",G=zt(e,t,V),k=zt(e,t,V,sn),U=ae(e,t,V),I="bgcolor",$=zt(e,t,I,sn),K=ae(e,t,I),Z="y",J=zt(e,t,Z,Jd),Q=ae(e,t,Z),q="img",j=zt(e,t,q,a),tt=ae(e,t,q),st="area",_=zt(e,t,st,a),ht=ae(e,t,st),ot="url",lt=zt(e,t,ot,a),et=ae(e,t,ot),nt="align",at=zt(e,t,nt,a),ct=ae(e,t,nt),Et="id",bt=zt(e,t,Et,a),yt=ae(e,t,Et);return xt.RE_ESC_OPEN=new RegExp(S,"i"),xt.RE_ESC_CLOSE=new RegExp(n,"i"),xt.RE_RAW_OPEN=new RegExp(s,"i"),xt.RE_RAW_CLOSE=new RegExp(o,"i"),xt.RE_BLOD_OPEN=new RegExp(c,"i"),xt.RE_BLOD_CLOSE=new RegExp(l,"i"),xt.RE_ITALICS_OPEN=new RegExp(h,"i"),xt.RE_ITALICS_CLOSE=new RegExp(f,"i"),xt.RE_WEIGHT_OPEN=new RegExp(d,"i"),xt.RE_WEIGHT_CLOSE=new RegExp(p,"i"),xt.RE_SIZE_OPEN=new RegExp(m,"i"),xt.RE_SIZE_CLOSE=new RegExp(x,"i"),xt.RE_FAMILY_OPEN=new RegExp(A,"i"),xt.RE_FAMILY_CLOSE=new RegExp(R,"i"),xt.RE_COLOR_OPEN=new RegExp(O,"i"),xt.RE_COLOR_CLOSE=new RegExp(L,"i"),xt.RE_UNDERLINE_OPEN=new RegExp(M,"i"),xt.RE_UNDERLINE_OPENC=new RegExp(b,"i"),xt.RE_UNDERLINE_CLOSE=new RegExp(D,"i"),xt.RE_STRIKETHROUGH_OPEN=new RegExp(N,"i"),xt.RE_STRIKETHROUGH_OPENC=new RegExp(B,"i"),xt.RE_STRIKETHROUGH_CLOSE=new RegExp(Y,"i"),xt.RE_SHADOW_OPEN=new RegExp(z,"i"),xt.RE_SHADOW_OPENC=new RegExp(X,"i"),xt.RE_SHADOW_CLOSE=new RegExp(H,"i"),xt.RE_STROKE_OPEN=new RegExp(G,"i"),xt.RE_STROKE_OPENC=new RegExp(k,"i"),xt.RE_STROKE_CLOSE=new RegExp(U,"i"),xt.RE_BGCOLOR_OPEN=new RegExp($,"i"),xt.RE_BGCOLOR_CLOSE=new RegExp(K,"i"),xt.RE_OFFSETY_OPEN=new RegExp(J,"i"),xt.RE_OFFSETY_CLOSE=new RegExp(Q,"i"),xt.RE_IMAGE_OPEN=new RegExp(j,"i"),xt.RE_IMAGE_CLOSE=new RegExp(tt,"i"),xt.RE_AREA_OPEN=new RegExp(_,"i"),xt.RE_AREA_CLOSE=new RegExp(ht,"i"),xt.RE_URL_OPEN=new RegExp(lt,"i"),xt.RE_URL_CLOSE=new RegExp(et,"i"),xt.RE_ALIGN_OPEN=new RegExp(at,"i"),xt.RE_ALIGN_CLOSE=new RegExp(ct,"i"),xt.RE_ID_OPEN=new RegExp(bt,"i"),xt.RE_ID_CLOSE=new RegExp(yt,"i"),xt.RE_SPLITTEXT=new RegExp([s,o,S,n,c,l,h,f,d,p,m,x,A,R,O,L,M,b,D,N,B,Y,z,X,H,G,k,U,$,K,J,Q,j,tt,_,ht,lt,et,at,ct,bt,yt].join("|"),"ig"),!0},"SetDelimiters"),Qy=r(function(e,t){return e!==void 0&&MA(e,t),Object.assign({},xt)},"GetTagRegex");const SM=Phaser.Utils.Objects.GetValue;var jn;let DA=(jn=class{constructor(t){var i=SM(t,"delimiters","[]");this.tagRegex=Qy(i),this.delimiters=i}getStrokeThinkness(t,i){var a;return i.hasOwnProperty("stroke")?a=t.strokeThickness:a=0,a}setDelimiters(t,i){return MA(t,i)&&(this.tagRegex=Qy()),this}},r(jn,"Parser"),jn);var AM={splitText:fM,tagTextToProp:cM,propToContextStyle:vM,propToTagText:mM};Object.assign(DA.prototype,AM);const S0=class S0 extends co{constructor(t,i,a,y,S){var n=new DA(S);super(t,i,a,y,S,"rexBBCodeText",n)}setDelimiters(t,i){return this.parser.setDelimiters(t,i),this}};r(S0,"BBCodeText");let Ws=S0;rt.register("BBCodeText",function(e,t,i,a){var y=new Ws(this.scene,e,t,i,a);return this.scene.add.existing(y),y});it(window,"RexPlugins.UI.BBCodeText",Ws);var PM={plainText:null,prevProp:null},RM=new cg,qn;let OM=(qn=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,i){this.tags[t]=i}getTag(t){return this.tags[t]}splitText(t,i){for(var a=[],y=0;;){var S=Qd.exec(t);if(!S)break;var n=S[0],C=Qd.lastIndex-n.length;if(y<C&&a.push(t.substring(y,C)),i===void 0)a.push(n);else if(i===1){if(qy.test(n)){var s=n.match(_y);a.push(s[2])}else if(tC.test(n)){var s=n.match(eC);a.push(s[2])}}y=Qd.lastIndex}var o=t.length;return y<o&&a.push(t.substring(y,o)),a}tagTextToProp(t,i){var a,y;if(qy.test(t)){var S=t.match(_y);if(S!=null){var n=S[1],C=this.tags;C.hasOwnProperty(n)?y=C[n]:y={},y._class=n,a=S[2]}}else if(tC.test(t)){var S=t.match(eC);if(S!=null){var s=S[1];y=LM(s),y._style=s,a=S[2]}}a==null&&(a=t),y==null&&(y={});var o=PM;return o.plainText=a,o.prop=y,o}propToContextStyle(t,i){var a=RM;if(i.hasOwnProperty("img"))a.image=i.img;else{if(a.image=null,i.hasOwnProperty("family")||i.hasOwnProperty("fontFamily")||i.hasOwnProperty("font-family")){var y=i.hasOwnProperty("family")?i.family:i.hasOwnProperty("fontFamily")?i.fontFamily:i["font-family"];a.fontFamily=y}else a.fontFamily=t.fontFamily;if(i.hasOwnProperty("size")||i.hasOwnProperty("fontSize")||i.hasOwnProperty("font-size")){var S=i.hasOwnProperty("size")?i.size:i.hasOwnProperty("fontSize")?i.fontSize:i["font-size"];typeof S=="number"&&(S=`${S}px`),a.fontSize=S}else a.fontSize=t.fontSize;if(i.hasOwnProperty("style")||i.hasOwnProperty("fontStyle")||i.hasOwnProperty("font-style")){var n=i.hasOwnProperty("style")?i.style:i.hasOwnProperty("fontStyle")?i.fontStyle:i["font-style"];a.fontStyle=n}else a.fontStyle=t.fontStyle;if(i.hasOwnProperty("color")||i.hasOwnProperty("font-color")){var C=i.hasOwnProperty("color")?i.color:i["font-color"];a.color=C}else a.color=t.color;if(i.hasOwnProperty("stroke")){var s=i.stroke;a.stroke=s.hasOwnProperty("color")?s.color:t.stroke,a.strokeThickness=s.hasOwnProperty("thickness")?s.thickness:t.strokeThickness}else a.stroke=t.stroke,a.strokeThickness=t.strokeThickness}if(i.hasOwnProperty("shadow")){var o=i.shadow;a.shadowColor=o.hasOwnProperty("color")?o.color:t.shadowColor,a.shadowOffsetX=o.hasOwnProperty("offsetX")?o.offsetX:t.shadowOffsetX,a.shadowOffsetY=o.hasOwnProperty("offsetY")?o.offsetY:t.shadowOffsetY,a.shadowBlur=o.hasOwnProperty("blur")?o.blur:t.shadowBlur,a.shadowStroke=!0,a.shadowFill=!0}else a.shadowColor=t.shadowColor,a.shadowOffsetX=t.shadowOffsetX,a.shadowOffsetY=t.shadowOffsetY,a.shadowBlur=t.shadowBlur,a.shadowStroke=t.shadowStroke,a.shadowFill=t.shadowFill;if(i.hasOwnProperty("u")||i.hasOwnProperty("underline")){var T=i.hasOwnProperty("u")?i.u:i.underline;a.underlineColor=T.hasOwnProperty("color")?T.color:t.underlineColor,a.underlineThickness=T.hasOwnProperty("thickness")?T.thickness:t.underlineThickness,a.underlineOffset=T.hasOwnProperty("offset")?T.offset:t.underlineOffset}else a.underlineColor=t.underlineColor,a.underlineThickness=t.underlineThickness,a.underlineOffset=t.underlineOffset;if(i.hasOwnProperty("s")||i.hasOwnProperty("strikethrough")){var c=i.hasOwnProperty("s")?i.s:i.strikethrough;a.strikethroughColor=c.hasOwnProperty("color")?c.color:t.strikethroughColor,a.strikethroughThickness=c.hasOwnProperty("thickness")?c.thickness:t.strikethroughThickness,a.strikethroughOffset=c.hasOwnProperty("offset")?c.offset:t.strikethroughOffset}else a.strikethroughColor=t.strikethroughColor,a.strikethroughThickness=t.strikethroughThickness,a.strikethroughOffset=t.strikethroughOffset;return a}getStrokeThinkness(t,i){var a;if(i.hasOwnProperty("stroke")){var y=i.stroke;a=y.hasOwnProperty("thickness")?y.thickness:t.strokeThickness}else a=t.strokeThickness;return a}propToTagText(t,i,a){return i.hasOwnProperty("_class")?t===""&&this.isTextTag(i._class)?"":`<class='${i._class}'>${t}</class>`:i.hasOwnProperty("_style")?`<style='${i._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var i=this.tags[t];return i?i.img==null:!1}},r(qn,"Parser"),qn);var LM=r(function(e){e=e.split(";");for(var t={},i,a,y,S=0,n=e.length;S<n;S++)if(i=e[S].split(":"),a=i[0],y=i[1],!(jy(a)||jy(y))){switch(a){case"stroke":var C=y.split(" "),s=C.length;y={},s>=1&&(y.color=C[0]),s>=2&&(y.thickness=parseInt(C[1].replace("px","")));break;case"shadow":var C=y.split(" "),s=C.length;y={},s>=1&&(y.color=C[0]),s>=2&&(y.offsetX=parseInt(C[1].replace("px",""))),s>=3&&(y.offsetY=parseInt(C[2].replace("px",""))),s>=4&&(y.blur=parseInt(C[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var C=y.split(" "),s=C.length;y={},s>=1&&(y.color=C[0]),s>=2&&(y.thickness=parseInt(C[1].replace("px",""))),s>=3&&(y.offset=parseInt(C[2].replace("px",""))),a==="underline"?a="u":a==="strikethrough"&&(a="s");break;case"y":y=parseFloat(y);break}t[a]=y}return t},"StyleToProp"),jy=r(function(e){return e=e.replace(wM,""),e.length===0},"isEmpty"),Qd=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,qy=/<\s*class=/i,_y=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,tC=/<\s*style=/i,eC=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,wM=/^\s+|\s+$/;const MM=Phaser.Utils.Objects.GetValue,A0=class A0 extends co{constructor(t,i,a,y,S){var n=MM(S,"tags",void 0),C=new OM(n);super(t,i,a,y,S,"rexTagText",C)}addTag(t,i){return this.parser.addTag(t,i),this.updateText(!0)}addTags(t){for(var i in t)this.parser.addTag(i,t[i]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}};r(A0,"TagText");let sf=A0;rt.register("tagText",function(e,t,i,a){var y=new sf(this.scene,e,t,i,a);return this.scene.add.existing(y),y});it(window,"RexPlugins.UI.TagText",sf);const Nl=Phaser.Utils.Objects.GetValue;var Iu=r(function(e,t){return t===void 0?e:e[t]},"GetPadding$1"),Ys=r(function(e,t,i){e===void 0&&(e={}),t===void 0&&(t=0);var a=typeof t;return a==="string"?e[t]=i:a==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=Nl(t,"left",0),e.right=Nl(t,"right",0),e.top=Nl(t,"top",0),e.bottom=Nl(t,"bottom",0)),e},"SetPadding$1"),_n;let vg=(_n=class{constructor(t,i){this.setParent(t),this.type=i,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,i){return!1}},r(_n,"Base"),_n);Object.assign(vg.prototype,gd);const DM={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,i=this.drawY;this.autoRound&&(t=Math.round(t),i=Math.round(i)),e.translate(t,i),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},FM=Phaser.Math.RotateAround;var bM=r(function(e,t,i,a){return a===void 0?a={}:a===!0&&(jd===void 0&&(jd={}),a=jd),a.x=(e-i.drawX)/i.scaleX,a.y=(t-i.drawY)/i.scaleY,i.rotation!==0&&FM(a,0,0,-i.rotation),a},"CanvasPositionToBobPosition"),jd;const NM=Phaser.Geom.Rectangle;var BM=r(function(e,t){if(this.width===0||this.height===0)return!1;var i=bM(e,t,this,!0);return GM(this).contains(i.x,i.y)},"Contains$2"),GM=r(function(e){Bl===void 0&&(Bl=new NM);var t=e.drawTLX,i=e.drawTLY;return Bl.setTo(t,i,e.drawTRX-t,e.drawBLY-i),Bl},"GetBobBounds"),Bl;const UM=Phaser.Math.RotateAround;var FA=r(function(e,t,i,a){return a===void 0?a={}:a===!0&&(qd===void 0&&(qd={}),a=qd),a.x=t,a.y=i,e.rotation!==0&&UM(a,0,0,e.rotation),a.x=a.x*e.scaleX+e.drawX,a.y=a.y*e.scaleY+e.drawY,a},"BobPositionToCanvasPosition"),qd;const iC=Phaser.GameObjects.Components.TransformMatrix;var HM=r(function(e,t,i,a){a===void 0?a={}:a===!0&&(a=YM);var y=t-e.width*e.originX,S=i-e.height*e.originY;return Ch===void 0&&(Ch=new iC,sC=new iC),e.parentContainer?e.getWorldTransformMatrix(Ch,sC):Ch.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),Ch.transformPoint(y,S,a),a},"GameObjectLocalXYToWorldXY"),Ch,sC,YM={},VM=r(function(e,t,i,a,y){var S=FA(t,i,a,!0),n=HM(e,S.x,S.y,y);return n},"BobPositionToWorldPosition"),bA=r(function(e,t,i,a,y){typeof i!="number"&&(y=i,i=0,a=0);var S=t.drawCenterX+i,n=t.drawCenterY+a;return VM(e,t,S,n,y)},"GetBobWorldPosition"),WM=r(function(e,t,i){return bA(this.parent,this,e,t,i)},"GetWorldPosition"),NA={contains:BM,getWorldPosition:WM};Object.assign(NA,DM);const kM=Phaser.Math.DegToRad,XM=Phaser.Math.RadToDeg,Gl=Phaser.Utils.Objects.GetValue,P0=class P0 extends vg{constructor(t,i){super(t,i),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setInitialPosition(t,i){return this.x0=t,this.y0=i,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,i){return i===void 0&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return XM(this._rotation)}set angle(t){this.rotation=kM(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=Gl(t,"width",void 0),a=Gl(t,"height",void 0),y=Gl(t,"scaleX",void 0),S=Gl(t,"scaleY",void 0);return i!==void 0?a===void 0&&S===void 0?this.setWidth(i,!0):this.setWidth(i):y!==void 0&&this.setScaleX(y),a!==void 0?i===void 0&&y===void 0?this.setHeight(a,!0):this.setHeight(a):S!==void 0&&this.setScaleY(S),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}};r(P0,"RenderBase");let hs=P0;Object.assign(hs.prototype,NA);var Us=r(function(e,t,i){return t.hasOwnProperty(e)?t[e]:i[e]},"GetProperty");const nr=Phaser.Utils.Objects.GetValue,R0=class R0 extends hs{constructor(t,i){super(t,"background"),this.setScrollFactor(0),this.setColor(nr(i,"color",null),nr(i,"color2",null),nr(i,"horizontalGradient",!0)),this.setStroke(nr(i,"stroke",null),nr(i,"strokeThickness",2)),this.setCornerRadius(nr(i,"cornerRadius",0),nr(i,"cornerIteration",null))}set color(t){t=gt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=gt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,a){return a===void 0&&(a=!0),this.color=t,this.color2=i,this.horizontalGradient=a,this}set stroke(t){t=gt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,Us("color2",t,this),Us("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Us("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,Us("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,i){return this.cornerRadius=t,this.cornerIteration=i,this}renderContent(){dg(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}};r(R0,"Background");let Gv=R0;const ys=Phaser.Utils.Objects.GetValue,O0=class O0 extends hs{constructor(t,i){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(ys(i,"color",null),ys(i,"color2",null),ys(i,"horizontalGradient",!0)),this.setStroke(ys(i,"stroke",null),ys(i,"strokeThickness",2))}set color(t){t=gt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=gt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,a){return a===void 0&&(a=!0),this.color=t,this.color2=i,this.horizontalGradient=a,this}set stroke(t){t=gt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,ys(t,"color2",null),ys(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,ys(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,i=t.left,a=t.top,y=this.parent.width-t.left-t.right,S=this.parent.height-t.top-t.bottom,n=this.context;if(this.color!=null){var C;if(this.color2!=null){var s;this.horizontalGradient?s=n.createLinearGradient(0,0,y,0):s=n.createLinearGradient(0,0,0,S),s.addColorStop(0,this.color),s.addColorStop(1,this.color2),C=s}else C=this.color;n.fillStyle=C,n.fillRect(i,a,y,S)}this.stroke!=null&&this.strokeThickness>0&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.strokeRect(i,a,y,S))}};r(O0,"InnerBounds");let Uv=O0;const te=Phaser.Utils.Objects.GetValue,dd=class dd{constructor(t,i){this.parent=t,this.set(i)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(te(t,"bold",!1)),this.setItalic(te(t,"italic",!1)),this.setFontSize(te(t,"fontSize","16px")),this.setFontFamily(te(t,"fontFamily","Courier")),this.setColor(te(t,"color","#fff")),this.setStrokeStyle(te(t,"stroke",null),te(t,"strokeThickness",0)),this.setShadow(te(t,"shadowColor",null),te(t,"shadowOffsetX",0),te(t,"shadowOffsetY",0),te(t,"shadowBlur",0)),this.setOffset(te(t,"offsetX",0),te(t,"offsetY",0)),this.setSpace(te(t,"leftSpace",0),te(t,"rightSpace",0)),this.setAlign(te(t,"align",void 0)),this.setBackgroundColor(te(t,"backgroundColor",null)),this.setBackgroundHeight(te(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(te(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(te(t,"backgroundLeftX",0)),this.setBackgroundRightX(te(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(Us("stroke",t,this),Us("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(Us("shadowOffsetX",t,this),Us("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new dd(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=gt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,i){return this.stroke=gt(t),i!==void 0&&(this.strokeThickness=i),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=gt(t),this}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this.shadowOffsetX=t,this.shadowOffsetY=i,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,i,a,y){return this.setShadowColor(t).setShadowOffset(i,a).setShadowBlur(y),this}setBackgroundColor(t){return this.backgroundColor=gt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,i){return this.setOffsetX(t).setOffsetY(i),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,i){return this.setLeftSpace(t).setRightSpace(i),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var i=this.hasFill,a=this.hasStroke;return t.fillStyle=i?this.color:"#000",t.strokeStyle=a?this.stroke:"#000",t.lineWidth=a?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,i){return this.syncFont(t).syncStyle(t),t.measureText(i)}};r(dd,"TextStyle");let rf=dd;var zM=r(function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},"SetFixedSize"),IM=r(function(e,t){var i=this.padding,a=i.left,y=i.right,S=i.top,n=i.bottom;return Ys(i,e,t),this.dirty=this.dirty||a!=i.left||y!=i.right||S!=i.top||n!=i.bottom,this},"SetPadding"),$M=r(function(e){return Iu(this.padding,e)},"GetPadding"),KM=r(function(e){return this.textStyle.modify(e),this},"ModifyTextStyle"),ZM=r(function(e){return this.defaultTextStyle.modify(e),this},"ModifyDefaultTextStyle"),JM=r(function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},"ResetTextStyle"),QM=r(function(e){return this.testString=e,this},"SetTestString");const jM=Phaser.Utils.Array.Remove;var qM=r(function(e){return this.poolManager.free(e),jM(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},"RemoveChild$2"),_M=r(function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},"RemoveChildren");const tD=Phaser.Utils.Array.Remove;var eD=r(function(e){return tD(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},"PopChild"),iD=r(function(){return this.setText(),this},"ClearContent"),sD=r(function(e,t){var i=Array.isArray(e);return t===void 0||t===this.children.length?i?this.children.push(...e):this.children.push(e):i?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,i?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this},"AddChild$3");const os="text",BA="image",GA="drawer",UA="space",pg="command";var HA=r(function(e){return e.type===os&&e.text===`
`},"IsNewLineChar"),YA=r(function(e){return e.type===os&&e.text==="\f"},"IsPageBreakChar"),rD=r(function(e){return e.type===os&&e.text===" "},"IsSpaceChar"),Or=r(function(e){return e.type===os},"IsChar"),nD=r(function(e){return e.type===pg},"IsCommand");const L0=class L0 extends hs{constructor(t,i,a){super(t,os),this.updateTextFlag=!1,this.style=new rf(this,a),this.setText(i)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var i=this.style.getTextMetrics(this.context,this.text);this.textWidth=i.width;var a,y;"actualBoundingBoxAscent"in i?(a=i.actualBoundingBoxAscent,y=i.actualBoundingBoxDescent):(a=0,y=0),this.textHeight=a+y,this.ascent=a,this.descent=y}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,i=this.style;if(i.hasBackgroundColor){t.fillStyle=i.backgroundColor;var a=this.drawTLX+i.backgroundLeftX,y=this.drawTRX+i.backgroundRightX,S=a,n=y-a+1;if(n>0){var C=i.backgroundBottomY;C==null&&(C=this.drawBLY);var s=i.backgroundHeight;s==null&&(s=C-this.drawTLY);var o=C-s;t.fillRect(S,o,n,s)}}var T=i.hasFill,c=i.hasStroke;!T&&!c||(i.syncFont(t).syncStyle(t),c&&(i.syncShadow(t),t.strokeText(this.text,0,0)),T&&(i.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}};r(L0,"CharData");let nf=L0;var aD=r(function(e,t){t&&this.textStyle.modify(t);var i=this.poolManager.allocate(os);return i===null?i=new nf(this,e,this.textStyle):i.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),i},"CreateCharChild"),hD=r(function(e,t){t&&this.textStyle.modify(t);for(var i=[],a=0,y=e.length;a<y;a++){var S=e.charAt(a),n=this.poolManager.allocate(os);n===null?n=new nf(this,S,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(S),i.push(n)}return i},"CreateCharChildren"),ul=r(function(e,t){var i=this.createCharChildren(e,t);return this.addChild(i),this},"AppendText"),oD=r(function(e,t){return e===void 0&&(e=""),this.removeChildren(),ul.call(this,e,t),this.dirty=!0,this},"SetText$2"),lD=r(function(e,t,i){var a=this.createCharChildren(t,i);return e=this.getCharChildIndex(e,!0),this.addChild(a,e),this},"InsertText"),uD=r(function(e,t){t===void 0&&(t=1);for(var i=0;i<t;i++){var a=this.getCharChildIndex(e,!0);if(a===void 0)break;this.removeChild(this.children[a])}return this},"RemoveText"),fD=r(function(e){var t="";return this.forEachCharChild(function(i){t+=i.text},void 0,e),t},"GetText");Phaser.Display.Canvas.CanvasPool;const w0=class w0 extends hs{constructor(t,i,a){super(t,BA),this.setTexture(i,a),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,i){return this.key=t,this.frame=i,this.frameObj=this.scene.sys.textures.getFrame(t,i),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){LA(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}};r(w0,"ImageData");let Hv=w0;var dD=r(function(e,t,i){var a=this.poolManager.allocate(BA);return a===null?a=new Hv(this,e,t):a.setParent(this).setActive().setTexture(e,t),a.modifyPorperties(i),a},"CreateImageChild"),VA=r(function(e,t,i){var a=this.createImageChild(e,t,i);return this.addChild(a),this},"AppendImage");const M0=class M0 extends hs{constructor(t,i,a,y){super(t,GA),this.setRenderCallback(i),this.setDrawerSize(a,y)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,i){return t===!0?(this.toLocalPosition=!1,t=void 0,i=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),i===void 0&&(i=t),this.drawerWidth=t,this.drawerHeight=i,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}};r(M0,"Drawer");let Yv=M0;var cD=r(function(e,t,i){var a=this.poolManager.allocate(GA);return a===null?a=new Yv(this,e,t,i):a.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,i),a},"CreateDrawerChild"),vD=r(function(e,t,i){var a=this.createDrawerChild(e,t,i);return this.addChild(a),this},"AppendDrawer"),ta;let pD=(ta=class extends hs{constructor(t,i){super(t,UA),this.setSpaceWidth(i)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}},r(ta,"Space"),ta);var gD=r(function(e){var t=this.poolManager.allocate(UA);return t===null?t=new pD(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},"CreateSpaceChild"),WA=r(function(e){var t=this.createSpaceChild(e);return this.addChild(t),this},"AppendSpace");const D0=class D0 extends vg{constructor(t,i,a,y,S){super(t,pg),this.setName(i).setParameter(y).setCallback(a,S)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,i){return this.callback=t,this.scope=i,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}};r(D0,"Command");let Vv=D0;var mD=r(function(e,t,i,a){var y=this.poolManager.allocate(pg);return y===null?y=new Vv(this,e,t,i,a):y.setParent(this).setActive().setName(e).setCallback(t,a).setParameter(i),y},"CreateCommandChild"),ft=r(function(e,t,i,a){var y=this.createCommandChild(e,t,i,a);return this.addChild(y),this},"AppendCommand$3"),xD=r(function(e){return e===void 0?e={}:typeof e=="object"&&(e=ge(e)),this.wrapConfig=e,this},"SetWrapConfig"),kA=r(function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)},"CreateWrapResultData");const TD={none:0,word:1,char:2,character:2,mix:3};var yD=r(function(e,t,i,a){a===void 0&&(a={word:[],width:0}),a.word.length=0;for(var y=i===2,S=i===3,n=!y&&!S,C=e.length,s=t,o=a.word,T=0,c=!1;s<C;){var l=e[s];if(!l.renderable){o.push(l),s++;continue}var u=l.type===os?l.text:null;if(u===null||u===`
`||u==="\f"){s===t&&(o.push(l),T+=l.outerWidth);break}if(n){if(o.push(l),T+=l.outerWidth,u===" ")break;s++}else if(y){o.push(l),T+=l.outerWidth;break}else if(S)if(uo(u)){if(o.push(l),T+=l.outerWidth,u===" ")break;s++,c=!0}else{if(c)break;o.push(l),T+=l.outerWidth;var h=e[s+1];h&&h.type===os&&h.text===" "&&(o.push(h),T+=h.outerWidth);break}}return a.width=T,a},"GetWord"),XA=r(function(e){for(var t=0,i=e.length;t<i;t++){var a=e[t];if(a.align!==void 0)return a.align}},"GetChildrenAlign"),zA=r(function(e,t,i){if(!(t===0&&i===0))for(var a=0,y=e.length;a<y;a++){var S=e[a];S.renderable&&(S.x+=t,S.y+=i)}},"OffsetChildren"),CD=r(function(e,t,i){for(var a=e.hAlign,y=e.vAlign,S=e.justifyPercentage,n=e.lines,C,s,o=0,T=n.length;o<T;o++){var c=n[o],l=c.width,u=c.children,h=XA(u);switch(h===void 0&&(h=a),h){case 0:case"left":C=0;break;case 1:case"center":var f=t-l;C=f/2;break;case 2:case"right":var f=t-l;C=f;break;case 3:case"justify":case"justify-left":var f=t-l,v=f/t;v<S&&_d(u,f),C=0;break;case 4:case"justify-center":var f=t-l,v=f/t;v<S?(_d(u,f),C=0):C=f/2;break;case 5:case"justify-right":var f=t-l,v=f/t;v<S?(_d(u,f),C=0):C=f;break;default:C=0;break}var d=e.linesHeight;switch(y){case 1:case"center":s=(i-d)/2;break;case 2:case"bottom":s=i-d;break;default:s=0;break}zA(u,C,s)}},"AlignLines$1"),_d=r(function(e,t){for(var i=t/e.length,a=0,y=e.length;a<y;a++){var S=e[a];S.renderable&&(S.x+=i*a)}},"JustifyChildren"),rC=r(function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,i;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,i=e.actualBoundingBoxDescent):(t=0,i=0),Ul.ascent=t,Ul.descent=i,Ul.height=t+i,Ul},"GetDefaultTextHeight"),Ul={};const we=Phaser.Utils.Objects.GetValue;var ED=r(function(e){var t=we(e,"start",0);Ys(this.wrapPadding,we(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,a=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,y=we(e,"lineHeight"),S=we(e,"ascent",y),n;if(y===void 0){var C=we(e,"useDefaultTextHeight",!1);if(n=we(e,"maxLines",0),this.fixedHeight>0&&!C){var K=this.fixedHeight-i;if(n>0)y=K/n;else{var s=rC.call(this);y=s.height,S=s.ascent,n=Math.floor((K-S)/y)}}else{var s=rC.call(this);y=s.height,S=s.ascent}}else if(this.fixedHeight>0){if(n=we(e,"maxLines"),n===void 0){var K=this.fixedHeight-i;n=Math.floor(K/y)}}else n=we(e,"maxLines",0);S===void 0&&(S=y);var o=n===0,T=we(e,"wrapMode");if(T===void 0){var c=we(e,"charWrap",!1);T=c?"char":"word"}typeof T=="string"&&(T=TD[T]);var l=we(e,"wrapWidth",void 0);l===void 0&&(this.fixedWidth>0?l=this.fixedWidth-a:(l=1/0,T=0));for(var u=we(e,"letterSpacing",0),h=we(e,"hAlign",0),f=we(e,"vAlign",0),v=we(e,"justifyPercentage",.25),d=kA({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:u,maxLines:n,hAlign:h,vAlign:f,justifyPercentage:v,ascent:S,lineHeight:y,wrapWidth:l,wrapMode:T}),p=this.children,g=0,m=p.length;g<m;g++)p[g].setActive(!1);l+=u;for(var x=this.padding.left+this.wrapPadding.left,E=this.padding.top+this.wrapPadding.top+S,A=x,R=E,P=l,O=t,L=p.length,w=d.children,M=d.lines,b=[],D=0,F=0,N,B=!1;O<L;){N=yD(p,O,T,N);var Y=N.word,W=Y.length,z=N.width+W*u;O+=W;var X=HA(Y[0]);B=YA(Y[0]);var H=X||B;if(P<z||H){if(H){var V=Y[0];V.setActive().setPosition(A,R),w.push(V),b.push(V)}A=x,R+=y,P=l,M.push({children:b,width:D}),F=Math.max(F,D),D=0,b=[];var G=B||!o&&M.length===n;if(G)break;if(H)continue}P-=z,D+=z;for(var g=0,m=Y.length;g<m;g++){var k=Y[g];k.setActive(),w.push(k),b.push(k),k.renderable&&(k.setPosition(A,R),A+=k.outerWidth+u)}}b.length>0&&(M.push({children:b,width:D}),F=Math.max(F,D)),d.start+=w.length,d.isLastPage=!B&&d.start===L,d.maxLineWidth=F,d.linesHeight=M.length*y;var U=this.fixedWidth>0?this.fixedWidth:d.maxLineWidth+a,I=this.fixedHeight>0?this.fixedHeight:d.linesHeight+i,$=U-a,K=I-i;CD(d,$,K),this.setCanvasSize(U,I);for(var g=0,m=w.length;g<m;g++){var k=w[g];k.renderable&&(k.x0=k.x,k.y0=k.y)}return d},"RunWordWrap$1");const SD=Phaser.Utils.Objects.Merge;var AD=r(function(e){return e===void 0&&(e={}),ED.call(this,SD(e,this.wrapConfig))},"RunWordWrap"),PD=r(function(e,t,i){var a=e.hAlign,y=e.vAlign,S,n,C=e.rtl,s=e.lines,o=e.lineWidth,T=e.linesWidth;switch(a){case 1:case"center":S=(t-T)/2;break;case 2:case"right":S=t-T;break;default:S=0;break}C&&(S+=o);for(var c=0,l=s.length;c<l;c++){var u=s[C?l-c-1:c],h=u.children,f=u.height,v=XA(h);switch(v===void 0&&(v=y),v){case 1:case"center":n=(i-f)/2;break;case 2:case"bottom":n=i-f;break;default:n=0;break}zA(h,S,n),S+=o}},"AlignLines");const ke=Phaser.Utils.Objects.GetValue;var RD=r(function(e){var t=ke(e,"start",0);Ys(this.wrapPadding,ke(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,a=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,y=ke(e,"lineWidth",void 0),S;if(y===void 0)if(S=ke(e,"maxLines",0),this.fixedWidth>0){var X=this.fixedWidth-a;y=X/S}else y=0;else if(this.fixedWidth>0){if(S=ke(e,"maxLines",void 0),S===void 0){var X=this.fixedWidth-a;S=Math.floor(X/y)+1}}else S=ke(e,"maxLines",0);var n=S===0,C=ke(e,"fixedCharacterHeight",void 0);if(C===void 0){var s=ke(e,"charPerLine",void 0);if(s!==void 0){var H=this.fixedHeight-i;C=Math.floor(H/s)}}var o=ke(e,"wrapHeight",void 0);o===void 0&&(this.fixedHeight>0?o=this.fixedHeight-i:o=1/0);for(var T=ke(e,"letterSpacing",0),c=ke(e,"rtl",!0),l=ke(e,"hAlign",c?2:0),u=ke(e,"vAlign",0),h=kA({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:T,maxLines:S,hAlign:l,vAlign:u,lineWidth:y,fixedCharacterHeight:C,wrapHeight:o,rtl:c}),f=this.children,v=0,d=f.length;v<d;v++)f[v].setActive(!1);o+=T;for(var p=this.padding.left+this.wrapPadding.left,g=this.padding.top+this.wrapPadding.top,m=p,x=g,E=o,A=t,R=f.length,P=h.children,O=h.lines,L=[],w=0,M=0;A<R;){var b=f[A];if(A++,!b.renderable){b.setActive(),P.push(b),L.push(b);continue}var D=(C!==void 0?C:b.height)+T,F=HA(b),N=YA(b),B=F||N;if(E<D||B){F&&(b.setActive().setPosition(m,x).setOrigin(.5),P.push(b),L.push(b)),m=p,x=g,E=o,O.push({children:L,height:w}),M=Math.max(M,w),w=0,L=[];var Y=N||!n&&O.length===S;if(Y)break;if(B)continue}E-=D,w+=D,b.setActive().setPosition(m,x).setOrigin(.5),P.push(b),L.push(b),x+=D}L.length>0&&(O.push({children:L,height:w}),M=Math.max(M,w)),h.start+=P.length,h.isLastPage=h.start===R,h.maxLineHeight=M,h.linesWidth=O.length*y;var W=this.fixedWidth>0?this.fixedWidth:h.linesWidth+a,z=this.fixedHeight>0?this.fixedHeight:h.maxLineHeight+i,X=W-a,H=z-i;PD(h,X,H),this.setCanvasSize(W,z);for(var v=0,d=P.length;v<d;v++){var b=P[v];b.renderable&&(b.x0=b.x,b.y0=b.y)}return h},"RunVerticalWrap$1");const OD=Phaser.Utils.Objects.Merge;var LD=r(function(e){return e===void 0&&(e={}),RD.call(this,OD(e,this.wrapConfig))},"RunVerticalWrap");const nC=Phaser.Utils.Objects.GetValue;var wD=r(function(e){var t=nC(this.wrapConfig,"callback");return t||(t=nC(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)},"RunWrap");const MD={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},DD={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var FD=r(function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,i=this.children.length;t<i;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},"RenderContent"),bD=r(function(e,t,i){i===void 0&&(i=!0);for(var a=this.children.filter(function(s){return!(i&&!s.active)}),y=0,S=a.length;y<S;y++){var n=a[y],C;if(t?C=e.call(this,n,y,a):C=e(n,y,a),C)break}return this},"ForEachChild"),ND=r(function(e,t,i){i===void 0&&(i=!0);for(var a=this.children.filter(function(s){return!(i&&!s.active||!s.renderable||s.removed)}),y=0,S=a.length;y<S;y++){var n=a[y],C;if(t?C=e.call(this,n,y,a):C=e(n,y,a),C)break}return this},"ForEachRenderableChild"),BD=r(function(e,t,i){i===void 0&&(i=!0);for(var a=this.children.filter(function(s){return!(i&&!s.active||!Or(s)||s.removed)}),y=0,S=a.length;y<S;y++){var n=a[y],C;if(t?C=e.call(this,n,y,a):C=e(n,y,a),C)break}return this},"ForEachCharChild"),GD=r(function(){return this.children},"GetChildren");const UD=Phaser.Utils.Array.GetAll;var HD=r(function(){return UD(this.children,"active",!0)},"GetActiveChildren"),YD=r(function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(i){t.push(i)},void 0,e),t},"GetCharChildren"),VD=r(function(){return this.lastAppendedChildren},"GetLastAppendedChildren"),WD=r(function(e,t,i,a){typeof t!="number"&&(a=t,t=0,i=0);var y=e.drawCenterX+t,S=e.drawCenterY+i;return FA(e,y,S,a)},"GetBobCenterPosition");const kD=Phaser.Math.Distance.BetweenPointsSquared;var XD=r(function(e,t){var i={x:e,y:t},a=1/0,y=null;return this.forEachRenderableChild(function(S){var n=kD(i,WD(S,!0));a>n&&(a=n,y=S)}),y},"GetNearestChild"),zD=r(function(e,t,i,a){return typeof e=="number"&&(e=this.getCharChild(e,!0)),bA(this,e,t,i,a)},"GetCharWorldPosition"),ID=r(function(){for(var e=this.children,t=0,i=0,a=0,y=e.length;a<y;a++){var S=e[a];if(!(!S.renderable||!S.active||!S.visible)){var n=S.x0!==void 0?S.x0:S.x,C=S.y0!==void 0?S.y0:S.y;t=Math.max(t,n),i=Math.max(i,C)}}var s=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,o=i+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==s||this.height!==o)&&(this.dirty=!0,this.setCanvasSize(s,o)),this},"SetToMinSize"),$D=r(function(e,t){t===void 0&&(t=!0);for(var i=this.children,a=0,y=i.length;a<y;a++){var S=i[a];if(!(t&&!S.active)&&Or(S)&&!S.removed){if(e===0)return a;e--}}},"GetCharChildIndex"),KD=r(function(e,t){t===void 0&&(t=!0);for(var i=this.children,a=0,y=i.length;a<y;a++){var S=i[a];if(!(t&&!S.active)&&Or(S)&&!S.removed){if(e===0)return S;e--}}},"GetCharChild"),ZD=r(function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var i=this.children;e>=i.length&&(e=i.length);for(var a=0,y=0;y<e;y++){var S=i[y];t&&!S.active||Or(S)&&!S.removed&&a++}return a},"GetCharIndex"),JD=r(function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},"SetChildrenInteractiveEnable"),gg=r(function(a,t,i){for(var a=a,y=0,S=a.length;y<S;y++){var n=a[y];if(!(!n.active||!n.renderable)&&n.contains(t,i))return n}return null},"GetFirstChildContains"),QD=r(function(){return this.on("pointerdown",jD,this).on("pointerdown",qD,this).on("pointermove",tc,this).on("pointerover",tc,this).on("pointerout",function(e,t){tc.call(this,e,null,null,t)},this),this},"SetChildrenInteractive$2"),jD=r(function(e,t,i,a){if(this.childrenInteractiveEnable){var y=gg(this.children,t,i);y&&this.emit("child.pointerdown",y,e,t,i,a)}},"OnPointerDown$1"),qD=r(function(e,t,i,a){if(this.childrenInteractiveEnable){var y=gg(this.children,t,i);y&&this.emit("child.pointerup",y,e,t,i,a)}},"OnPointerUp$1"),tc=r(function(e,t,i,a){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,i,a),this.lastOverChild=null);return}var y=gg(this.children,t,i);y!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,i,a),y!==null&&this.emit("child.pointerover",y,e,t,i,a),this.lastOverChild=y)}},"OnPointOverOut");const _D=Phaser.GameObjects.GameObject;var tF=r(function(e,t,i){var a=!!this.input;return _D.prototype.setInteractive.call(this,e,t,i),a||QD.call(this),this},"SetInteractive");const eF=Phaser.Utils.Array.BringToTop,iF=Phaser.Utils.Array.SendToBack,sF=Phaser.Utils.Array.MoveUp,rF=Phaser.Utils.Array.MoveDown,nF=Phaser.Utils.Array.MoveAbove,aF=Phaser.Utils.Array.MoveBelow,hF={moveChildToFist(e){return iF(this.children,e),this},moveChildToLast(e){return eF(this.children,e),this},movechildUp(e){return sF(this.children,e),this},movechildDown(e){return rF(this.children,e),this},movechildAbove(e,t){return nF(this.children,e,t),this},movechildBelow(e,t){return aF(this.children,e,t),this}},oF={setBackgroundColor(e,t,i){return this.background.setColor(e,t,i),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},lF={setInnerBoundsColor(e,t,i){return this.innerBounds.setColor(e,t,i),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var IA={setFixedSize:zM,setPadding:IM,getPadding:$M,modifyTextStyle:KM,modifyDefaultTextStyle:ZM,resetTextStyle:JM,setTestString:QM,removeChild:qM,removeChildren:_M,popChild:eD,clearContent:iD,addChild:sD,createCharChild:aD,createCharChildren:hD,setText:oD,appendText:ul,insertText:lD,removeText:uD,getText:fD,createImageChild:dD,appendImage:VA,createDrawerChild:cD,appendDrawer:vD,createSpaceChild:gD,appendSpace:WA,createCommandChild:mD,appendCommand:ft,setWrapConfig:xD,runWordWrap:AD,runVerticalWrap:LD,runWrap:wD,renderContent:FD,forEachChild:bD,forEachRenderableChild:ND,forEachCharChild:BD,getChildren:GD,getActiveChildren:HD,getCharChildren:YD,getLastAppendedChildren:VD,getNearestChild:XD,getCharWorldPosition:zD,setToMinSize:ID,getCharChildIndex:$D,getCharChild:KD,getCharIndex:ZD,setChildrenInteractiveEnable:JD,setInteractive:tF};Object.assign(IA,hF,oF,lF,MD,DD);const uF=Phaser.Utils.Objects.GetFastValue;var fF={};const F0=class F0{constructor(t){this.pools=uF(t,"pools",fF)}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new li),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,a=t.length;i<a;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};r(F0,"PoolManager");let Wv=F0;const ec=Phaser.Utils.Objects.IsPlainObject,me=Phaser.Utils.Objects.GetValue,b0=class b0 extends Js{constructor(t,i,a,y,S,n,C){ec(i)?(C=i,i=me(C,"x",0),a=me(C,"y",0),y=me(C,"width",0),S=me(C,"height",0),n=me(C,"resolution",1)):ec(y)?(C=y,y=me(C,"width",0),S=me(C,"height",0),n=me(C,"resolution",1)):ec(n)&&(C=n,n=me(C,"resolution",1));var s=y===0?1:y,o=S===0?1:S;super(t,i,a,s,o,n),this.type="rexDynamicText",this.autoRound=!0,this.padding=Ys(),this.wrapPadding=Ys();var T=me(C,"style",void 0);this.defaultTextStyle=new rf(null,T),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(me(C,"testString","|Mqgy")),this._textOX=0,this._textOY=0,this.background=new Gv(this,me(C,"background",void 0)),this.innerBounds=new Uv(this,me(C,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new Wv(C),this.setFixedSize(y,S),this.setPadding(me(C,"padding",0)),this.setWrapConfig(me(C,"wrap",void 0)),this.setChildrenInteractiveEnable(me(C,"childrenInteractive",!1));var c=me(C,"text",void 0);c&&this.setText(c)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,i){return this.setFixedSize(t,i),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}};r(b0,"DynamicText");let ks=b0;Object.assign(ks.prototype,IA);rt.register("dynamicText",function(e,t,i,a,y){var S=new ks(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.DynamicText",ks);const fl={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},dF={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var i=t[e];return i!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(l){var t=l.property,i=l.value,a=l.duration,y=l.delay,S=l.ease,n=l.repeat,C=l.yoyo,s=l.from,o=l.complete,T=l.target;if(a===void 0&&(a=1e3),y===void 0&&(y=0),S===void 0&&(S="Linear"),n===void 0&&(n=0),C===void 0&&(C=!1),T===void 0&&(T=this.gameObject),s){var c=i;i=T[t],T[t]=c}var l={targets:T,duration:a,delay:y,ease:S,repeat:n,yoyo:C,onComplete:o};return l[t]=i,this.addTweenTask(t,l),this},addTweenTask(e,t){var i=this.tweens,a=i[e];a&&a.remove();var y=t.onComplete;return t.onComplete=function(){i[e].remove(),i[e]=null,y&&y(t.targets,e)},a=this.scene.tweens.add(t),a.timeScale=this.timeScale,i[e]=a,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var i in e)t=e[i],t&&t.remove(),e[i]=null;return this}},cF={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var i=this.gameObject;return i[e].apply(i,t),this}},vF={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}},N0=class N0{constructor(t,i,a){this.GOManager=t,this.tweens={},this.effects={},this.setGO(i,a)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,i){return t.goName=i,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=i,this.freeTweens(),this}setTimeScale(t){var i=this.tweens;for(var a in i){var y=i[a];y&&(y.timeScale=t)}return this}};r(N0,"BobBase");let vo=N0;Object.assign(vo.prototype,dF,cF,vF);var dl=r(function(e){for(var t in e)return!1;return!0},"IsEmpty"),Ar=r(function(e){return e&&e.charAt(0)!=="!"},"IsSingleBob");const pF={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(Ar(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var i in this.bobs)e&&i===e||t.push(this.bobs[i]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var i=this.get(e);if(i)if(Array.isArray(i)){t===void 0&&(t=[]);var a=i;return a.forEach(function(y){t.push(y.gameObject)}),t}else return i.gameObject;else return null},forEachGO(e,t){for(var i in this.bobs){var a=this.bobs[i].gameObject,y;if(t?y=e.call(t,a,i,this):y=e(a,i,this),y)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var i=this.bobs[t].gameObject;e.push(i)}return e}};var po=r(function(e){return e>>16&255},"GetR"),go=r(function(e){return e>>8&255},"GetG"),mo=r(function(e){return e&255},"GetB"),aC=r(function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t},"GetRGB");const gF=65535,mF=16711935,xF=16776960;var TF=r(function(e,t){return(t&255)<<16|e&gF},"SetR"),yF=r(function(e,t){return(t&255)<<8|e&mF},"SetG"),CF=r(function(e,t){return t&255|e&xF},"SetB"),EF=r(function(e,t,i,a){return(t&255)<<16|(i&255)<<8|a&255},"SetRGB"),SF=r(function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var i=po(t),a=go(t),y=mo(t);return Object.defineProperty(e,"tint",{get:r(function(){return t},"get"),set:r(function(S){S=Math.floor(S)&16777215,e.setTint&&e.setTint(S),t!==S&&(t=S,i=po(t),a=go(t),y=mo(t))},"set")}),Object.defineProperty(e,"tintR",{get:r(function(){return i},"get"),set:r(function(S){S=Math.floor(S)&255,i!==S&&(i=S,e.tint=TF(t,S))},"set")}),Object.defineProperty(e,"tintG",{get:r(function(){return a},"get"),set:r(function(S){S=Math.floor(S)&255,a!==S&&(a=S,e.tint=yF(t,S))},"set")}),Object.defineProperty(e,"tintB",{get:r(function(){return y},"get"),set:r(function(S){S=Math.floor(S)&255,y!==S&&(y=S,e.tint=CF(t,S))},"set")}),Object.defineProperty(e,"tintGray",{get:r(function(){return Math.floor((i+a+y)/3)},"get"),set:r(function(S){S=Math.floor(S)&255,(i!==S||a!==S||y!==S)&&(i=S,a=S,y=S,e.tint=EF(t,S,S,S))},"set")}),e.tint=t,e},"AddTintRGBProperties");const AF=Phaser.Events.EventEmitter;var PF=r(function(e){if(e.events)return e;var t=new AF,i=e.x;Object.defineProperty(e,"x",{get:r(function(){return i},"get"),set:r(function(n){i!==n&&(i=n,t.emit("update",e))},"set")});var a=e.y;Object.defineProperty(e,"y",{get:r(function(){return a},"get"),set:r(function(n){a!==n&&(a=n,t.emit("update",e))},"set")});var y=e.width;Object.defineProperty(e,"width",{get:r(function(){return y},"get"),set:r(function(n){y!==n&&(y=n,t.emit("update",e))},"set")});var S=e.height;return Object.defineProperty(e,"height",{get:r(function(){return S},"get"),set:r(function(n){S!==n&&(S=n,t.emit("update",e))},"set")}),e.events=t,e},"MonitorViewport"),RF=r(function(e,t,i,a,y,S){return S===void 0?S={}:S===!0&&(S=OF),typeof i!="number"&&(i=0,a=0),S.x=y.x+y.width*e+i,S.y=y.y+y.height*t+a,S},"VPXYToXY"),OF={},LF=r(function(e,t,i,a,y,S,n){if(e.hasOwnProperty("vp"))return e;typeof i=="function"&&(n=i,i=void 0),typeof y=="function"&&(n=y,y=void 0),i===void 0&&(i=.5),a===void 0&&(a=.5),y===void 0&&(y=0),S===void 0&&(S=0),n===void 0&&(n=RF),PF(t);var C=t.events;e.vp=t;var s=r(function(){n(i,a,y,S,t,e)},"Transform");C.on("update",s),e.once("destroy",function(){C.off("update",s),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:r(function(){return i},"get"),set:r(function(o){i!==o&&(i=o,s())},"set")}),Object.defineProperty(e,"vpy",{get:r(function(){return a},"get"),set:r(function(o){a!==o&&(a=o,s())},"set")}),Object.defineProperty(e,"vpxOffset",{get:r(function(){return y},"get"),set:r(function(o){y!==o&&(y=o,s())},"set")}),Object.defineProperty(e,"vpyOffset",{get:r(function(){return S},"get"),set:r(function(o){S!==o&&(S=o,s())},"set")}),s()},"AddViewportCoordinateProperties"),Oe=r(function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},"GetFXFactory"),_t=r(function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var i=e._effectSwitchNames,a=0,y=i.length;a<y;a++)e[i[a]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},"AddClearEffectCallback"),wF=r(function(e){if(Ot(e,"barrel"))return e;var t=Oe(e);if(!t)return e;var i;return Object.defineProperty(e,"barrel",{get:r(function(){return i},"get"),set:r(function(a){i!==a&&(i=a,i===null||i===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=i))},"set")}),e.barrel=null,_t(e,"barrel"),e},"AddBarrelProperties"),ye=r(function(e,t,i){if(Ot(e,t))return e;var a=Oe(e);if(!a)return e;var y=`_${t}Effect`,S;return Object.defineProperty(e,t,{get:r(function(){return S},"get"),set:r(function(n){if(S!==n)if(S=n,S===null||S===!1)e[y]&&(a.remove(e[y]),e[y]=void 0);else{e[y]||(e[y]=a.addColorMatrix());var C=e[y];C[t](i===1?n:void 0)}},"set")}),e[t]=null,_t(e,t),e},"AddColorMatrixEffectPropertiesBase"),MF=r(function(e){return ye(e,"blackWhite"),e},"AddBlackWhiteProperties"),DF=r(function(e){if(Ot(e,"bloomColor"))return e;var t=Oe(e);if(!t)return e;var i,a=1,y=1,S=1,n=1,C=4;return Object.defineProperty(e,"bloomColor",{get:r(function(){return i},"get"),set:r(function(s){i!==s&&(i=s,i===null||i===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(i,a,y,S,n,C),t.setPadding(Math.max(a,y)+1)),e._bloom.color=i))},"set")}),Object.defineProperty(e,"bloomOffsetX",{get:r(function(){return a},"get"),set:r(function(s){if(a!==s&&(a=s,e._bloom)){var o=Math.max(a,y);t.setPadding(o+1),e._bloom.offsetX=a}},"set")}),Object.defineProperty(e,"bloomOffsetY",{get:r(function(){return y},"get"),set:r(function(s){if(y!==s&&(y=s,e._bloom)){var o=Math.max(a,y);t.setPadding(o+1),e._bloom.offsetY=y}},"set")}),Object.defineProperty(e,"bloomBlurStrength",{get:r(function(){return S},"get"),set:r(function(s){S!==s&&(S=s,e._bloom&&(e._bloom.blurStrength=S))},"set")}),Object.defineProperty(e,"bloomStrength",{get:r(function(){return n},"get"),set:r(function(s){n!==s&&(n=s,e._bloom&&(e._bloom.strength=n))},"set")}),Object.defineProperty(e,"bloomSteps",{get:r(function(){return C},"get"),set:r(function(s){C!==s&&(C=s,e._bloom&&(e._bloom.steps=C))},"set")}),e.bloomColor=null,_t(e,"bloomColor"),e},"AddBloomProperties"),FF=r(function(e){if(Ot(e,"blurColor"))return e;var t=Oe(e);if(!t)return e;var i,a=0,y=1,S=1,n=1,C=4;return Object.defineProperty(e,"blurColor",{get:r(function(){return i},"get"),set:r(function(s){i!==s&&(i=s,i===null||i===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(a,y,S,n,i,C),t.setPadding(Math.max(y,S)+1)),e._blur.color=i))},"set")}),Object.defineProperty(e,"blurQuality",{get:r(function(){return a},"get"),set:r(function(s){a!==s&&(a=s,e._blur&&(e._blur.quality=a))},"set")}),Object.defineProperty(e,"blurX",{get:r(function(){return y},"get"),set:r(function(s){if(y!==s&&(y=s,e._blur)){var o=Math.max(y,S);t.setPadding(o+1),e._blur.x=y}},"set")}),Object.defineProperty(e,"blurY",{get:r(function(){return S},"get"),set:r(function(s){if(S!==s&&(S=s,e._blur)){var o=Math.max(y,S);t.setPadding(o+1),e._blur.y=S}},"set")}),Object.defineProperty(e,"blurStrength",{get:r(function(){return n},"get"),set:r(function(s){n!==s&&(n=s,e._blur&&(e._blur.strength=n))},"set")}),Object.defineProperty(e,"blurSteps",{get:r(function(){return C},"get"),set:r(function(s){C!==s&&(C=s,e._blur&&(e._blur.steps=C))},"set")}),e.blurColor=null,_t(e,"blurColor"),e},"AddBlurProperties"),bF=r(function(e){if(Ot(e,"bokehRadius"))return e;var t=Oe(e);if(!t)return e;var i,a=1,y=.2;return Object.defineProperty(e,"bokehRadius",{get:r(function(){return i},"get"),set:r(function(S){i!==S&&(i=S,i===null||i===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(i,a,y)),e._bokeh.radius=i))},"set")}),Object.defineProperty(e,"bokehAmount",{get:r(function(){return a},"get"),set:r(function(S){a!==S&&(a=S,e._bokeh&&(e._bokeh.amount=a))},"set")}),Object.defineProperty(e,"bokehContrast",{get:r(function(){return y},"get"),set:r(function(S){y!==S&&(y=S,e._bokeh&&(e._bokeh.contrast=y))},"set")}),e.bokehRadius=null,_t(e,"bokehRadius"),e},"AddBokehProperties"),NF=r(function(e){return ye(e,"brightness",1),e},"AddBrightnessProperties"),BF=r(function(e){return ye(e,"brown"),e},"AddBrownProperties"),GF=r(function(e){if(Ot(e,"circleColor"))return e;var t=Oe(e);if(!t)return e;var i,a=8,y=0,S=.4,n=1,C=.005;return Object.defineProperty(e,"circleColor",{get:r(function(){return i},"get"),set:r(function(s){i!==s&&(i=s,i===null||i===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(a,i,y,n,C),e.circleBackgroundAlpha=S),e._circle.color=i))},"set")}),Object.defineProperty(e,"circleThickness",{get:r(function(){return a},"get"),set:r(function(s){a!==s&&(a=s,e._circle&&(e._circle.thickness=a))},"set")}),Object.defineProperty(e,"circleBackgroundColor",{get:r(function(){return y},"get"),set:r(function(s){y!==s&&(y=s,e._circle&&(e._circle.backgroundColor=y))},"set")}),Object.defineProperty(e,"circleBackgroundAlpha",{get:r(function(){return S},"get"),set:r(function(s){S!==s&&(S=s,e._circle&&(e._circle.glcolor2[3]=S))},"set")}),Object.defineProperty(e,"circleScale",{get:r(function(){return n},"get"),set:r(function(s){n!==s&&(n=s,e._circle&&(e._circle.scale=n))},"set")}),Object.defineProperty(e,"circleFeather",{get:r(function(){return C},"get"),set:r(function(s){C!==s&&(C=s,e._circle&&(e._circle.feather=C))},"set")}),e.circleColor=null,_t(e,"circleColor"),e},"AddCircleProperties"),UF=r(function(e){return ye(e,"contrast",1),e},"AddContrastProperties"),HF=r(function(e){return ye(e,"desaturate",1),e},"AddDesaturateProperties"),YF=r(function(e){return ye(e,"desaturateLuminance"),e},"AddDesaturateLuminanceProperties"),VF=r(function(e){if(Ot(e,"displacementKey"))return e;var t=Oe(e);if(!t)return e;var i,a=.005,y=.005;return Object.defineProperty(e,"displacementKey",{get:r(function(){return i},"get"),set:r(function(S){i!==S&&(i=S,i===null||i===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(i,a,y)),e._displacement.setTexture(i)))},"set")}),Object.defineProperty(e,"displacementX",{get:r(function(){return a},"get"),set:r(function(S){a!==S&&(a=S,e._displacement&&(e._displacement.x=a))},"set")}),Object.defineProperty(e,"displacementY",{get:r(function(){return y},"get"),set:r(function(S){y!==S&&(y=S,e._displacement&&(e._displacement.y=y))},"set")}),e.displacementKey=null,_t(e,"displacementKey"),e},"AddDisplacementProperties"),WF=r(function(e){if(Ot(e,"glowColor"))return e;var t=Oe(e);if(!t)return e;var i,a=4,y=0;return Object.defineProperty(e,"glowColor",{get:r(function(){return i},"get"),set:r(function(S){i!==S&&(i=S,i===null||i===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(i,a,y),t.setPadding(a+1)),e._glow.color=i))},"set")}),Object.defineProperty(e,"glowOuterStrength",{get:r(function(){return a},"get"),set:r(function(S){a!==S&&(a=S,e._glow&&(t.setPadding(a+1),e._glow.outerStrength=a))},"set")}),Object.defineProperty(e,"glowInnerStrength",{get:r(function(){return y},"get"),set:r(function(S){y!==S&&(y=S,e._glow&&(e._glow.innerStrength=y))},"set")}),e.glowColor=null,_t(e,"glowColor"),e},"AddGlowProperties"),kF=r(function(e){if(Ot(e,"gradientColor"))return e;var t=Oe(e);if(!t)return e;var i,a,y=.5,S=0,n=0,C=0,s=1,o=0;return Object.defineProperty(e,"gradientColor",{get:r(function(){return[i,a]},"get"),set:r(function(T){var c,l;T===null||T===!1?(c=null,l=null):(c=T[0],l=T[1]),!(i===c&&a===l)&&(i=c,a=l,i===null||i===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(i,a,y,S,n,C,s,o)),e._gradient.color1=i,e._gradient.color2=a))},"set")}),Object.defineProperty(e,"gradientColor1",{get:r(function(){return i},"get"),set:r(function(T){if(T===null||T===!1){e.gradientColor=T;return}i!==T&&(i=T,e._gradient&&(e._gradient.color1=i))},"set")}),Object.defineProperty(e,"gradientColor2",{get:r(function(){return a},"get"),set:r(function(T){if(T===null||T===!1){e.gradientColor=T;return}a!==T&&(a=T,e._gradient&&(e._gradient.color2=a))},"set")}),Object.defineProperty(e,"gradientAlpha",{get:r(function(){return y},"get"),set:r(function(T){y!==T&&(y=T,e._gradient&&(e._gradient.alpha=y))},"set")}),Object.defineProperty(e,"gradientFromX",{get:r(function(){return S},"get"),set:r(function(T){S!==T&&(S=T,e._gradient&&(e._gradient.fromX=S))},"set")}),Object.defineProperty(e,"gradientFromY",{get:r(function(){return n},"get"),set:r(function(T){n!==T&&(n=T,e._gradient&&(e._gradient.fromY=n))},"set")}),Object.defineProperty(e,"gradientToX",{get:r(function(){return C},"get"),set:r(function(T){C!==T&&(C=T,e._gradient&&(e._gradient.toX=C))},"set")}),Object.defineProperty(e,"gradientToY",{get:r(function(){return s},"get"),set:r(function(T){s!==T&&(s=T,e._gradient&&(e._gradient.toY=s))},"set")}),Object.defineProperty(e,"gradientSize",{get:r(function(){return o},"get"),set:r(function(T){o!==T&&(o=T,e._gradient&&(e._gradient.size=o))},"set")}),e.gradientColor=null,_t(e,"gradientColor"),e},"AddGradientProperties"),XF=r(function(e){return ye(e,"grayscale",1),e},"AddGrayscaleProperties"),zF=r(function(e){return ye(e,"hue",1),e},"AddHueProperties"),IF=r(function(e){return ye(e,"kodachrome"),e},"AddKodachromeProperties"),$F=r(function(e){return ye(e,"lsd"),e},"AddLSDProperties"),KF=r(function(e){return ye(e,"negative"),e},"AddNegativeProperties"),ZF=r(function(e){if(Ot(e,"pixelate"))return e;var t=Oe(e);if(!t)return e;var i;return Object.defineProperty(e,"pixelate",{get:r(function(){return i},"get"),set:r(function(a){i!==a&&(i=a,i===null||i===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=i))},"set")}),e.pixelate=null,_t(e,"pixelate"),e},"AddPixelateProperties"),JF=r(function(e){return ye(e,"polaroid"),e},"AddPolaroidProperties"),QF=r(function(e){if(Ot(e,"revealLeft"))return e;var t=Oe(e);if(!t)return e;var i,a,y,S,n=.1,C=r(function(){i=null,a=null,y=null,S=null},"ClearRevealFlags"),s=r(function(o){o._revealEffect&&(t.remove(o._revealEffect),o._revealEffect=void 0)},"RemoveEffect");return Object.defineProperty(e,"revealLeft",{get:r(function(){return i},"get"),set:r(function(o){i!==o&&(C(),i=o,i===null||i===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=i))},"set")}),Object.defineProperty(e,"revealRight",{get:r(function(){return a},"get"),set:r(function(o){a!==o&&(C(),a=o,a===null||a===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=a))},"set")}),Object.defineProperty(e,"revealUp",{get:r(function(){return y},"get"),set:r(function(o){y!==o&&(C(),y=o,y===null||y===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=y))},"set")}),Object.defineProperty(e,"revealDown",{get:r(function(){return S},"get"),set:r(function(o){S!==o&&(C(),S=o,S===null||S===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=S))},"set")}),Object.defineProperty(e,"revealWidth",{get:r(function(){return n},"get"),set:r(function(o){n!==o&&(n=o,e._revealEffect&&(e._revealEffect.wipeWidth=n))},"set")}),e.revealLeft=null,_t(e,"revealLeft"),_t(e,"revealRight"),_t(e,"revealUp"),_t(e,"revealDown"),e},"AddRevealProperties"),jF=r(function(e){return ye(e,"saturate",1),e},"AddSaturateProperties"),qF=r(function(e){return ye(e,"sepia"),e},"AddSepiaProperties"),_F=r(function(e){if(Ot(e,"shadowColor"))return e;var t=Oe(e);if(!t)return e;var i,a=0,y=0,S=.1,n=1,C=6,s=1;return Object.defineProperty(e,"shadowColor",{get:r(function(){return i},"get"),set:r(function(o){i!==o&&(i=o,i===null||i===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(a,y,S,n,i,C,s)),e._shadow.color=i))},"set")}),Object.defineProperty(e,"shadowX",{get:r(function(){return a},"get"),set:r(function(o){a!==o&&(a=o,e._shadow&&(e._shadow.x=a))},"set")}),Object.defineProperty(e,"shadowY",{get:r(function(){return y},"get"),set:r(function(o){y!==o&&(y=o,e._shadow&&(e._shadow.y=y))},"set")}),Object.defineProperty(e,"decay",{get:r(function(){return S},"get"),set:r(function(o){S!==o&&(S=o,e._shadow&&(e._shadow.decay=S))},"set")}),Object.defineProperty(e,"shadowPower",{get:r(function(){return n},"get"),set:r(function(o){n!==o&&(n=o,e._shadow&&(e._shadow.power=n))},"set")}),Object.defineProperty(e,"shadowSamples",{get:r(function(){return C},"get"),set:r(function(o){C!==o&&(C=o,e._shadow&&(e._shadow.samples=C))},"set")}),Object.defineProperty(e,"shadowIntensity",{get:r(function(){return s},"get"),set:r(function(o){s!==o&&(s=o,e._shadow&&(e._shadow.intensity=s))},"set")}),e.shadowColor=null,_t(e,"shadowColor"),e},"AddShadowProperties"),t3=r(function(e){return ye(e,"shiftToBGR"),e},"AddShiftToBGRProperties"),e3=r(function(e){if(Ot(e,"shineSpeed"))return e;var t=Oe(e);if(!t)return e;var i,a=.5,y=3;return Object.defineProperty(e,"shineSpeed",{get:r(function(){return i},"get"),set:r(function(S){i!==S&&(i=S,i===null||i===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(i,a,y)),e._shine.speed=i))},"set")}),Object.defineProperty(e,"shineLineWidth",{get:r(function(){return a},"get"),set:r(function(S){a!==S&&(a=S,e._shine&&(e._shine.lineWidth=a))},"set")}),Object.defineProperty(e,"shineGradient",{get:r(function(){return y},"get"),set:r(function(S){y!==S&&(y=S,e._shine&&(e._shine.gradient=y))},"set")}),e.shineSpeed=null,_t(e,"shineSpeed"),e},"AddShineProperties"),i3=r(function(e){return ye(e,"technicolor"),e},"AddTechnicolorProperties"),s3=r(function(e){if(Ot(e,"tiltShiftRadius"))return e;var t=Oe(e);if(!t)return e;var i,a=1,y=.2,S=1,n=1,C=1;return Object.defineProperty(e,"tiltShiftRadius",{get:r(function(){return i},"get"),set:r(function(s){i!==s&&(i=s,i===null||i===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(i,a,y,S,n,C)),e._tiltShift.radius=i))},"set")}),Object.defineProperty(e,"tiltShiftAmount",{get:r(function(){return a},"get"),set:r(function(s){a!==s&&(a=s,e._tiltShift&&(e._tiltShift.amount=a))},"set")}),Object.defineProperty(e,"tiltShiftContrast",{get:r(function(){return y},"get"),set:r(function(s){y!==s&&(y=s,e._tiltShift&&(e._tiltShift.contrast=y))},"set")}),Object.defineProperty(e,"tiltShiftBlurX",{get:r(function(){return S},"get"),set:r(function(s){S!==s&&(S=s,e._tiltShift&&(e._tiltShift.blurX=S))},"set")}),Object.defineProperty(e,"tiltShiftBlurY",{get:r(function(){return n},"get"),set:r(function(s){n!==s&&(n=s,e._tiltShift&&(e._tiltShift.blurY=n))},"set")}),Object.defineProperty(e,"tiltShiftStrength",{get:r(function(){return C},"get"),set:r(function(s){C!==s&&(C=s,e._tiltShift&&(e._tiltShift.strength=C))},"set")}),e.tiltShiftRadius=null,_t(e,"tiltShiftRadius"),e},"AddTiltShiftProperties"),r3=r(function(e){if(Ot(e,"vignetteRadius"))return e;var t=Oe(e);if(!t)return e;var i,a=.5,y=.5,S=.5;return Object.defineProperty(e,"vignetteRadius",{get:r(function(){return i},"get"),set:r(function(n){i!==n&&(i=n,i===null||i===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(a,y,i,S)),e._vignette.radius=i))},"set")}),Object.defineProperty(e,"vignetteX",{get:r(function(){return a},"get"),set:r(function(n){a!==n&&(a=n,e._vignette&&(e._vignette.x=a))},"set")}),Object.defineProperty(e,"vignetteY",{get:r(function(){return y},"get"),set:r(function(n){y!==n&&(y=n,e._vignette&&(e._vignette.y=y))},"set")}),Object.defineProperty(e,"vignetteStrength",{get:r(function(){return S},"get"),set:r(function(n){S!==n&&(S=n,e._vignette&&(e._vignette.strength=S))},"set")}),e.vignetteRadius=null,_t(e,"vignetteRadius"),e},"AddVignetteProperties"),n3=r(function(e){return ye(e,"vintagePinhole"),e},"AddVintagePinholeProperties"),a3=r(function(e){if(Ot(e,"wipeLeft"))return e;var t=Oe(e);if(!t)return e;var i,a,y,S,n=.1,C=r(function(){i=null,a=null,y=null,S=null},"ClearWipeFlags"),s=r(function(o){o._wipeEffect&&(t.remove(o._wipeEffect),o._wipeEffect=void 0)},"RemoveEffect");return Object.defineProperty(e,"wipeLeft",{get:r(function(){return i},"get"),set:r(function(o){i!==o&&(C(),i=o,i===null||i===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=i))},"set")}),Object.defineProperty(e,"wipeRight",{get:r(function(){return a},"get"),set:r(function(o){a!==o&&(C(),a=o,a===null||a===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=a))},"set")}),Object.defineProperty(e,"wipeUp",{get:r(function(){return y},"get"),set:r(function(o){y!==o&&(C(),y=o,y===null||y===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=y))},"set")}),Object.defineProperty(e,"wipeDown",{get:r(function(){return S},"get"),set:r(function(o){S!==o&&(C(),S=o,S===null||S===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=S))},"set")}),Object.defineProperty(e,"wipeWidth",{get:r(function(){return n},"get"),set:r(function(o){n!==o&&(n=o,e._wipeEffect&&(e._wipeEffect.wipeWidth=n))},"set")}),e.wipeLeft=null,_t(e,"wipeLeft"),_t(e,"wipeRight"),_t(e,"wipeUp"),_t(e,"wipeDown"),e},"AddWipeProperties");const Hl={barrel:wF,blackWhite:MF,bloom:DF,blur:FF,bokeh:bF,brightness:NF,brown:BF,circle:GF,contrast:UF,desaturate:HF,desaturateLuminance:YF,displacement:VF,glow:WF,gradient:kF,grayscale:XF,hue:zF,kodachrome:IF,lsd:$F,negative:KF,pixelate:ZF,polaroid:JF,reveal:QF,saturate:jF,sepia:qF,shadow:_F,shiftToBGR:t3,shine:e3,technicolor:i3,tiltShift:s3,vignette:r3,vintagePinhole:n3,wipe:a3};var ch=r(function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var i=t,t={},a=0,y=i.length;a<y;a++)t[i[a]]=!0;if(t===!0)for(var S in Hl)Hl[S](e);else for(var S in t)t[S]&&Hl[S]&&Hl[S](e);return e},"AddEffectProperties");const h3=Phaser.Utils.Array.Remove,o3={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&SF(t),this.viewportCoordinateEnable&&LF(t,this.viewport),this.effectPropertiesConfig&&ch(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){h3(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var i=new this.BobClass(this,t,e);return this.bobs[e]=i,this},add(e,...t){var i=this.createGameObjectCallback,a=this.createGameObjectScope,y=i.call(a,this.scene,...t);this.addGO(e,y),this.gameObjectDepth!=null&&y.setDepth(this.gameObjectDepth);var S=this.get(e);return this.fadeBob(S,0,1),this}},l3={remove(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var a=this;return i.forEach(function(y){delete a.bobs[y.name];var S=y.gameObject;a.removedGOs.push(S),S.setName(),t?y.destroy():a.fadeBob(y,void 0,0,function(){y.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var i in t)e&&t[i].destroy(),delete t[i];return this.removedGOs.length=0,this}},u3={hasProperty(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);return i?i.hasProperty(t):!1},getProperty(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);if(i)return i.getProperty(t)},isNumberProperty(e,t){var i=this.getProperty(e,t);return typeof i=="number"},setProperty(e,t,i){var a=this.get(e);if(a)Array.isArray(a)||(a=[a]);else return this;return this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),a.forEach(function(y){y.setProperty(t,i)}),this},easeProperty(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var a=t.value,y=t.property;return this.symbols&&typeof a=="string"&&this.isNumberProperty(e,y)&&a in this.symbols&&(t.value=this.symbols[a]),i.forEach(function(S){S.easeProperty(t)}),this},hasTweenTask(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);return i?i.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);return i&&i.tweens[t]||null}},f3={hasMethod(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);return i?i.hasMethod(t):!1},call(e,t,...i){var a=this.get(e);if(a)Array.isArray(a)||(a=[a]);else return this;return a.forEach(function(y){y.call(t,...i)}),this}},d3={hasData(e,t){var i=Ar(e)?this.get(e):this.getFitst(e);return i?i.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,i){var a=this.get(e);if(a)Array.isArray(a)||(a=[a]);else return this;return a.forEach(function(y){y.setData(t,i)}),this}},$A=0,KA=1,kv=2,ZA=3,JA=4,Xv=5,c3={tint:$A,alpha:KA,revealUp:kv,revealDown:ZA,revealLeft:JA,revealRight:Xv},v3={setGOFadeMode(e){return typeof e=="string"&&(e=c3[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===$A)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===KA)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=kv&&this.fadeMode<=Xv&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,i,a){var y=e.gameObject;if(this.useTintFadeEffect(y))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*i),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:a});else if(this.useAlphaFadeEffect(y))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:a});else if(this.useRevealEffect(y)){ch(y,"reveal");var S;switch(this.fadeMode){case kv:S="revealUp";break;case ZA:S="revealDown";break;case JA:S="revealLeft";break;case Xv:S="revealRight";break}t===void 0&&(t=0),y[S]=t,e.easeProperty({property:S,value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:a}),e.getTweenTask(S).once("complete",function(){y[S]=null})}else a&&a(y);return this}};var Lt=r(function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},"GetDisplayWidth"),wt=r(function(e){return e.displayHeight!==void 0?e.displayHeight:e.height},"GetDisplayHeight");const hC=Phaser.Geom.Rectangle,ki=Phaser.Math.Vector2,p3=Phaser.Math.RotateAround,g3=Phaser.GameObjects.Container;var mg=r(function(e,t){if(t===void 0?t=new hC:t===!0&&(ic===void 0&&(ic=new hC),t=ic),e.getBounds&&!(e instanceof g3))return e.getBounds(t);var i,a,y,S,n,C,s,o;if(e.parentContainer){var T=e.parentContainer.getBoundsTransformMatrix();Pr(e,t),T.transformPoint(t.x,t.y,t),i=t.x,a=t.y,xo(e,t),T.transformPoint(t.x,t.y,t),y=t.x,S=t.y,To(e,t),T.transformPoint(t.x,t.y,t),n=t.x,C=t.y,zv(e,t),T.transformPoint(t.x,t.y,t),s=t.x,o=t.y}else Pr(e,t),i=t.x,a=t.y,xo(e,t),y=t.x,S=t.y,To(e,t),n=t.x,C=t.y,zv(e,t),s=t.x,o=t.y;return t.x=Math.min(i,y,n,s),t.y=Math.min(a,S,C,o),t.width=Math.max(i,y,n,s)-t.x,t.height=Math.max(a,S,C,o)-t.y,t},"GetBounds"),ic=void 0,Pr=r(function(e,t,i){return t===void 0?t=new ki:t===!0&&(De===void 0&&(De=new ki),t=De),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-Lt(e)*e.originX,t.y=e.y-wt(e)*e.originY,cl(e,t,i))},"GetTopLeft"),xo=r(function(e,t,i){return t===void 0?t=new ki:t===!0&&(De===void 0&&(De=new ki),t=De),e.getTopRight?e.getTopRight(t):(t.x=e.x-Lt(e)*e.originX+Lt(e),t.y=e.y-wt(e)*e.originY,cl(e,t,i))},"GetTopRight"),To=r(function(e,t,i){return t===void 0?t=new ki:t===!0&&(De===void 0&&(De=new ki),t=De),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-Lt(e)*e.originX,t.y=e.y-wt(e)*e.originY+wt(e),cl(e,t,i))},"GetBottomLeft"),zv=r(function(e,t,i){return t===void 0?t=new ki:t===!0&&(De===void 0&&(De=new ki),t=De),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-Lt(e)*e.originX+Lt(e),t.y=e.y-wt(e)*e.originY+wt(e),cl(e,t,i))},"GetBottomRight"),oC=r(function(e,t,i){t===void 0?t=new ki:t===!0&&(De===void 0&&(De=new ki),t=De);var a=Lt(e),y=wt(e);return t.x=e.x+a*(.5-e.originX),t.y=e.y+y*(.5-e.originY),cl(e,t,i)},"GetCenter"),De=void 0,cl=r(function(e,t,i){if(i===void 0&&(i=!1),e.rotation!==0&&p3(t,e.x,e.y,e.rotation),i&&e.parentContainer){var a=e.parentContainer.getBoundsTransformMatrix();a.transformPoint(t.x,t.y,t)}return t},"PrepareBoundsOutput");const Eh=Phaser.Utils.Objects.GetValue;var QA=r(function(e,t,i){var a,y,S,n,C;if(typeof i=="number"?a=i:(a=Eh(i,"color"),y=Eh(i,"lineWidth"),S=Eh(i,"fillColor"),n=Eh(i,"fillAlpha",1),C=Eh(i,"padding",0)),Array.isArray(e))for(var s=0,o=e.length;s<o;s++)lC(e[s],t,a,y,S,n,C);else lC(e,t,a,y,S,n,C)},"DrawBounds$2"),lC=r(function(e,t,i,a,y,S,n){var C=e.getBounds||e.width!==void 0&&e.height!==void 0;if(C){i===void 0&&(i=16777215),a===void 0&&(a=1),y===void 0&&(y=null),S===void 0&&(S=1),n===void 0&&(n=0);var s=Pr(e,rn[0]);s.x-=n,s.y-=n;var o=xo(e,rn[1]);o.x+=n,o.y-=n;var T=zv(e,rn[2]);T.x+=n,T.y+=n;var c=To(e,rn[3]);c.x-=n,c.y+=n,y!==null&&t.fillStyle(y,S).fillPoints(rn,!0,!0),i!==null&&t.lineStyle(a,i).strokePoints(rn,!0,!0)}},"Draw"),rn=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],m3=r(function(e,t){return this.forEachGO(function(i){i.drawBounds?i.drawBounds(e,t):QA(i,e,t)}),this},"DrawGameObjectsBounds"),jA=r(function(e,t){var i=e.cameras,a;if(t===void 0)a=i.main;else{var y=typeof t;switch(y){case"string":a=i.getCamera(t);break;case"number":a=i.cameras[t];break;default:a=t;break}}return a},"GetCameraByName");const x3={setCamera(e,t){var i=this.get(e);if(!i)return this;var a=jA(this.scene,t);return a?(i.gameObject.cameraFilter=4294967295^a.id,i.camera=a,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var qA={drawGameObjectsBounds:m3};Object.assign(qA,pF,o3,l3,u3,f3,d3,v3,x3);const T3=Phaser.Cameras.Scene2D.BaseCamera;var y3=r(function(e){return e instanceof T3},"IsCameraObject");const _A=Phaser.Geom.Rectangle;var vh=r(function(e,t,i){return y3(t)||(i=t,t=void 0),i===void 0?i=new _A:i===!0&&(i=C3),t?e.scale.getViewPort(t,i):e.scale.getViewPort(i)},"GetViewport"),C3=new _A;const Be=Phaser.Utils.Objects.GetValue,B0=class B0{constructor(t,i){this.scene=t,this.BobClass=Be(i,"BobClass",vo),this.setCreateGameObjectCallback(Be(i,"createGameObject"),Be(i,"createGameObjectScope")),this.setEventEmitter(Be(i,"eventEmitter",void 0)),this.setGameObjectDepth(Be(i,"depth",void 0));var a=Be(i,"fade",500);typeof a=="number"?(this.setGOFadeMode(),this.setGOFadeTime(a)):(this.setGOFadeMode(Be(a,"mode")),this.setGOFadeTime(Be(a,"time",500)));var y=Be(i,"viewportCoordinate",!1);y!==!1?(this.setViewportCoordinateEnable(Be(i,"enable",!0)),this.setViewport(Be(y,"viewport"))):this.setViewportCoordinateEnable(!1);var S=Be(i,"effectProperties",!1);this.setEffectPropertiesConfig(S),this.setSymbols(Be(i,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=Be(i,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var i=this.bobs;for(var a in i)i[a].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,i){return this.createGameObjectCallback=t,this.createGameObjectScope=i,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=vh(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return dl(this.bobs)&&this.removedGOs.length===0}};r(B0,"GOManager");let Xs=B0;Object.assign(Xs.prototype,fl,qA);const E3=Phaser.GameObjects.GameObject,S3=Phaser.GameObjects.Layer;var He=r(function(e){return e instanceof E3||e instanceof S3},"IsGameObject");const A3=Phaser.GameObjects.Layer;var _h=r(function(e){return e instanceof A3},"IsLayerGameObject"),tP=r(function(e){var t=e.displayList;return _h(t)?t:null},"GetLayer"),oi=r(function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var i,a=0,y=e.length;a<y;a++){var S=e[a];if(S.displayList?i=S.displayList:S.parentContainer&&(i=S.parentContainer.list),i)break}return i||(i=S.scene.sys.displayList),i.depthSort&&(i.depthSort(),i=i.list),t?e.sort(function(n,C){return i.indexOf(C)-i.indexOf(n)}):e.sort(function(n,C){return i.indexOf(n)-i.indexOf(C)}),e},"SortGameObjectsByDepth");const P3={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),oi(e,!1),e},addToLayer(e,t){var i=this.getGO(e);if(!i){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var a=0,y=t.length;a<y;a++){var S=t[a];S.isRexContainerLite?S.addToLayer(i):i.add(S)}return i.scrollFactorX!==void 0&&S.setScrollFactor(i.scrollFactorX,i.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),i=t[t.length-1];return this.addToLayer(i.goName,e),this},removeFromLayer(e,t,i){var a=this.getGO(e);if(!a){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return i===void 0&&(i=!0),t.isRexContainerLite?t.removeFromLayer(a,i):(a.remove(t),i&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var i=this.getGO(e);if(!i){console.warn(`Can't get layer "${e}"`);return}if(t)for(var a=i.getAll(),y=0,S=a.length;y<S;y++)a[y].destroy();else i.removeAll();return this}},R3={setScrollFactor(e,t,i){i===void 0&&(i=t);var a=this.getLayer(e);if(!a)return this;a.scrollFactorX=t,a.scrollFactorY=i;for(var y=a.getAll(),S=0,n=y.length;S<n;S++)y[S].setScrollFactor(t,i);return this}},xd=Phaser.Utils.Array,O3=r(function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(xd.BringToTop(e,this),this):this},"BringMeToTop"),L3=r(function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(xd.SendToBack(e,this),this):this},"SendMeToBack"),eP=r(function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(xd.MoveBelow(t,this,e),this):this},"MoveMyDepthBelow"),iP=r(function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(xd.MoveAbove(t,this,e),this):this},"MoveMyDepthAbove"),Yl={bringMeToTop:O3,sendMeToBack:L3,moveMyDepthBelow:eP,moveMyDepthAbove:iP},w3={bringLayerToTop(e){var t=this.getLayer(e);return t?(Yl.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(Yl.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var i=this.getLayer(e),a=this.getLayer(t);return!i||!a?this:(Yl.moveMyDepthBelow.call(i,a),this)},moveLayerAbove(e,t){if(e===t)return this;var i=this.getLayer(e),a=this.getLayer(t);return!i||!a?this:(Yl.moveMyDepthAbove.call(i,a),this)}},M3=Xs.prototype.setCamera,D3={setCamera(e,t){var i=jA(this.scene,t);return i||(i=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),M3.call(this,e,i),this}};var sP={};Object.assign(sP,P3,R3,w3,D3);const Vl=Phaser.Utils.Objects.GetValue,G0=class G0 extends Xs{constructor(t,i){i===void 0?i={}:Array.isArray(i)&&(i={layers:i}),i.hasOwnProperty("fade")||(i.fade=0),i.viewportCoordinate=!1,super(t,i);var a=Vl(i,"rootLayer");this.setRootLayer(a);var y=Vl(i,"layers");if(y)for(var S=0,n=y.length;S<n;S++){var C=y[S];if(typeof C=="string")this.add(C);else{var s=C.name;this.add(s);var o=C.scrollFactor,T=Vl(C,"scrollFactorX",o),c=Vl(C,"scrollFactorY",o);T!==void 0&&this.setScrollFactor(s,T,c),this.setCamera(s,C.cameraName)}}}setCreateGameObjectCallback(t,i){return t||(t=F3),super.setCreateGameObjectCallback(t,i),this}setRootLayer(t){if(t===this.rootLayer)return this;var i=this.getAllGO();return t?t.add(i):this.scene.displayList.add(i),this.rootLayer=t,this}addGO(t,i){return super.addGO(t,i),i.name=t,this.rootLayer&&this.rootLayer.add(i),this}get(t,i){if(He(t)){var a=tP(t);if(!a||(t=a.name,!t))return}return super.get(t,i)}};r(G0,"LayerManager");let Na=G0;var F3=r(function(e,t){var i=e.add.layer();return t!==void 0&&i.setDepth(t),i},"CreateLayer");Object.assign(Na.prototype,sP);var b3=r(function(e){return Rr(e)?e.sys.sound:e.sound},"GetSoundManager"),N3=r(function(e){return this.sound.game.cache.audio.has(e)},"HasaAudio"),ph=r(function(e){return e==null||typeof e!="object"?null:Rr(e)?e:e.scene&&Rr(e.scene)?e.scene:e.parent&&e.parent.scene&&Rr(e.parent.scene)?e.parent.scene:null},"GetSceneObject");const B3=Phaser.Utils.Objects.GetValue,U0=class U0{constructor(t,i){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(B3(i,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,i){this.destroy(i)}setParent(t){return this.parent=t,this.scene=ph(t),this.game=Lr(t),this}};r(U0,"ComponentBase");let Yt=U0;Object.assign(Yt.prototype,fl);const G3=Phaser.Utils.Objects.GetValue,H0=class H0 extends Yt{constructor(t,i){super(t,i),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(G3(i,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=U3[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}};r(H0,"TickTask");let Ba=H0;const U3={no:0,lazy:1,always:2},H3=Phaser.Utils.Objects.GetValue,Y0=class Y0 extends Ba{constructor(t,i){super(t,i);var a=this.scene?"update":"step";this.tickEventName=H3(i,"tickEventName",a),this.isSceneTicker=!Y3(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}};r(Y0,"SceneUpdateTickTask");let Iv=Y0;var Y3=r(function(e){return e==="step"||e==="poststep"},"IsGameUpdateEvent");const Ji=Phaser.Utils.Objects.GetValue,uC=Phaser.Math.Clamp;var ea;let rP=(ea=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=Ji(t,"state",Sh),this.timeScale=Ji(t,"timeScale",1),this.delay=Ji(t,"delay",0),this.repeat=Ji(t,"repeat",0),this.repeatCounter=Ji(t,"repeatCounter",0),this.repeatDelay=Ji(t,"repeatDelay",0),this.duration=Ji(t,"duration",0),this.nowTime=Ji(t,"nowTime",0),this.justRestart=Ji(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?nn:Ah,this.repeatCounter=0,this}stop(){return this.state=Sh,this}update(t,i){this.state===Sh||this.state===Wl||i===0||this.timeScale===0||(this.nowTime+=i*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=fC)):(this.nowTime=this.duration,this.state=Wl):this.nowTime>=0&&(this.state=nn))}get t(){var t;switch(this.state){case Sh:case Ah:case fC:t=0;break;case nn:t=this.nowTime/this.duration;break;case Wl:t=1;break}return uC(t,0,1)}set t(t){t=uC(t,-1,1),t<0?(this.state=Ah,this.nowTime=-this.delay*t):(this.state=nn,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===Sh}get isDelay(){return this.state===Ah}get isCountDown(){return this.state===nn}get isRunning(){return this.state===Ah||this.state===nn}get isDone(){return this.state===Wl}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}},r(ea,"Timer"),ea);const Sh=0,Ah=1,nn=2,fC=3,Wl=-1,V0=class V0 extends Iv{constructor(t,i){super(t,i),this.timer=new rP}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}};r(V0,"TimerTickTask");let $v=V0;const Ph=Phaser.Utils.Objects.GetValue,dC=Phaser.Utils.Objects.GetAdvancedValue,V3=Phaser.Tweens.Builders.GetEaseFunction,W0=class W0 extends $v{resetFromJSON(t){return this.timer.resetFromJSON(Ph(t,"timer")),this.setEnable(Ph(t,"enable",!0)),this.setTarget(Ph(t,"target",this.parent)),this.setDelay(dC(t,"delay",0)),this.setDuration(dC(t,"duration",1e3)),this.setEase(Ph(t,"ease","Linear")),this.setRepeat(Ph(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=V3(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,i){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var a=this.target,y=this.timer;return y.update(t,i),y.isDelay||this.updateTarget(a,y),this.emit("update",a,this),y.isDone&&this.complete(),this}updateTarget(t,i){}};r(W0,"EaseValueTaskBase");let ls=W0;const W3=Phaser.Sound.BaseSound;var xg=r(function(e){return e instanceof W3},"IsSoundObject");const cC=Phaser.Utils.Objects.GetValue,vC=Phaser.Utils.Objects.GetAdvancedValue,k3=Phaser.Math.Linear;var ia;let nP=(ia=class extends ls{constructor(t,i,a){xg(t)&&(a=i,i=t,t=void 0),i.active=!0,i.scene=t,i.game=i.manager.game,super(i,a),this.volume={},this.resetFromJSON(a)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(cC(t,"mode",0)),this.setEnable(cC(t,"enable",!0)),this.setVolumeRange(vC(t,"volume.start",this.parent.volume),vC(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=X3[t]),this.mode=t,this}setVolumeRange(t,i){return this.volume.start=t,this.volume.end=i,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,i){t.volume=k3(this.volume.start,this.volume.end,i.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}},r(ia,"Fade"),ia);const X3={stop:1,destroy:2};var Td=r(function(e,t,i,a,y){xg(e)&&(y=a,a=i,i=t,t=e,e=void 0),a===void 0&&(a=1),y===void 0&&(y=0);var S={mode:0,volume:{start:y,end:a},duration:i};typeof t=="string"&&(t=e.sys.sound.add(t));var n;return t.hasOwnProperty("_fade")?(n=t._fade,n.stop().resetFromJSON(S)):(n=new nP(e,t,S),t._fade=n),n.start(),t.isPlaying||t.setVolume(y).play(),t},"FadeIn$1"),Ga=r(function(e,t,i,a){xg(e)&&(a=i,i=t,t=e,e=void 0),a===void 0&&(a=!0);var y={mode:a?2:1,volume:{start:t.volume,end:0},duration:i},S;return t.hasOwnProperty("_fade")?(S=t._fade,S.stop().resetFromJSON(y)):(S=new nP(e,t,y),t._fade=S),S.start(),t.isPlaying||t.play(),t},"FadeOut");const Rh=Phaser.Utils.Objects.GetValue,z3={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var i=this.sound.add(e,{loop:Rh(t,"loop",this.backgroundMusicLoop),mute:Rh(t,"mute",this.backgroundMusicMute),volume:Rh(t,"volume",this.backgroundMusicVolume),detune:Rh(t,"detune",0),rate:Rh(t,"rate",1)});return this.setCurrentBackgroundMusic(i),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&Td(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&Ga(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=i,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},Oh=Phaser.Utils.Objects.GetValue,I3={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var i=this.sound.add(e,{loop:Oh(t,"loop",this.backgroundMusicLoop),mute:Oh(t,"mute",this.backgroundMusic2Mute),volume:Oh(t,"volume",this.backgroundMusic2Volume),detune:Oh(t,"detune",0),rate:Oh(t,"rate",1)});return this.setCurrentBackgroundMusic2(i),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&Td(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&Ga(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=i,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},pC=Phaser.Utils.Array.Remove,kl=Phaser.Utils.Objects.GetValue,$3={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:kl(t,"mute",this.soundEffectsMute),volume:kl(t,"volume",this.soundEffectsVolume),detune:kl(t,"detune",0),rate:kl(t,"rate",1)});return this.soundEffects.push(i),i.once("complete",function(){i.destroy(),this.sound&&pC(this.soundEffects,i)},this).once("destroy",function(){this.sound&&pC(this.soundEffects,i)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&Td(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var i=this.getLastSoundEffect();return i&&Ga(i,e,t),this},fadeOutAllSoundEffects(e,t){for(var i=this.soundEffects.length-1;i>=0;i--)Ga(this.soundEffects[i],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var a=0,y=i.length;a<y;a++)i[a].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var a=0,y=i.length;a<y;a++)i[a].setRate(e);return this}},gC=Phaser.Utils.Array.Remove,Xl=Phaser.Utils.Objects.GetValue,K3={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:Xl(t,"mute",this.soundEffects2Mute),volume:Xl(t,"volume",this.soundEffects2Volume),detune:Xl(t,"detune",0),rate:Xl(t,"rate",1)});return this.soundEffects2.push(i),i.once("complete",function(){i.destroy(),this.sound&&gC(this.soundEffects2,i)},this).once("destroy",function(){this.sound&&gC(this.soundEffects2,i)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&Td(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var i=this.getLastSoundEffect2();return i&&Ga(i,e,t),this},fadeOutAllSoundEffects2(e,t){for(var i=this.soundEffects2.length-1;i>=0;i--)Ga(this.soundEffects2[i],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var a=0,y=i.length;a<y;a++)i[a].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var a=0,y=i.length;a<y;a++)i[a].setRate(e);return this}};var aP={hasAudio:N3};Object.assign(aP,z3,I3,$3,K3);const ti=Phaser.Utils.Objects.GetValue,k0=class k0{constructor(t,i){this.sound=b3(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=ti(i,"bgm.volume",1),this._backgroundMusicMute=ti(i,"bgm.mute",!1),this.setBackgroundMusicLoop(ti(i,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(ti(i,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=ti(i,"bgm2.volume",1),this._backgroundMusic2Mute=ti(i,"bgm2.mute",!1),this.setBackgroundMusic2Loop(ti(i,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(ti(i,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=ti(i,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=ti(i,"soundEffect2.volume",1);var a=ti(i,"bgm.initial",void 0);a&&this.setCurrentBackgroundMusic(a);var y=ti(i,"bgm2.initial",void 0);y&&this.setCurrentBackgroundMusic2(y)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var i=this.soundEffects,a=0,y=i.length;a<y;a++)i[a].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var i=this.soundEffects,a=0,y=i.length;a<y;a++)i[a].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var i=this.soundEffects,a=0,y=soundEffects2.length;a<y;a++)i[a].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var i=this.soundEffects2,a=0,y=i.length;a<y;a++)i[a].setVolume(t)}};r(k0,"SoundManager");let af=k0;Object.assign(af.prototype,aP);const sc=Phaser.Utils.Objects.GetValue,X0=class X0 extends Ba{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.isRunning=sc(t,"isRunning",!1),this.timeScale=sc(t,"timeScale",1),this.now=sc(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}};r(X0,"BaseClock");let Kv=X0;const z0=class z0 extends Kv{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,i){return!this.isRunning||this.timeScale===0?this:(this.tick(i),this)}};r(z0,"Clock");let hf=z0;var Ut=r(function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e},"Yoyo$1");const mC=Phaser.Math.Clamp,I0=class I0{constructor(t,i){this.setTimeline(t).reset(i)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,i,a,y){return this.target=t,this.onStart=i,this.onProgress=a,this.onComplete=y,this}setDuration(t,i){return i===void 0&&(i=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=i,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=mC(t,0,1),this.yoyo&&(t=Ut(t)),t}setProgress(t){t=mC(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,i){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=i,this.t=this.getProgress(),this.runCallback(this.onProgress);var a=this.remainder<=0;return a&&this.runCallback(this.onComplete),a}};r(I0,"Timer");let Zv=I0;var sa;let Z3=(sa=class extends li{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var i=0,a=t.length;i<a;i++)this.free(t[i]);return this}},r(sa,"TimerPool"),sa);const J3=Phaser.Utils.Objects.GetValue,Q3=new Z3,$0=class $0 extends hf{constructor(t,i){super(t,i),this.addedTimers=[],this.timers=[],this.timerPool=J3(i,"pool",Q3)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var i=this.timerPool.allocate();return i?i.setTimeline(this).reset(t):i=new Zv(this,t),this.addedTimers.push(i),i.runCallback(i.onStart),this.isRunning||this.start(),i}delayCall(t,i,a,y){var S=this.addTimer({duration:t,onComplete:r(function(n,C,s){a===void 0&&(a=[]),a.push(s),i.apply(y,a)},"onComplete")});return S}delayEvent(t,i){this.removeDelayEvent(i);var a=this.delayCall(t,function(){this.removeDelayEvent(i),this.emit(i)},[],this);return this.once(`_remove.${i}`,function(){a.remove(),a=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var i=[],a=[this.addedTimers,this.timers],y=0,S=a.length;y<S;y++)for(var n=a[y],C=0,s=n.length;C<s;C++){var o=n[C];o.name===t&&i.push(o)}return i}update(t,i){if(super.update(t,i),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var a=[],y=0,S=this.timers.length;y<S;y++){var n=this.timers[y],C=n.update(this.now,this.delta);C?this.timerPool.free(n):a.push(n)}this.timers=a,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}};r($0,"Timeline");let Jv=$0;const j3="_wait.complete",q3="_remove.wait";var _3=r(function(e,t,i,a,y){var S=ph(e),n=S.time.delayedCall(t,function(){S.sys.events.once("preupdate",function(){i.call(a,y)})});return n},"PreUpdateDelayCall"),ra;let hP=(ra=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=j3,this.removeWaitEventsEventName=q3}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,i,a){var y=this.getWaitCompleteTriggerCallback(a);return t.once(i,y,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(i,y,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var i=this.waitId,a=this,y=r(function(){i<a.waitId||(a.waitId++,a.removeWaitEvents(),a.parent.emit(a.waitCompleteEventName))},"completeCallback");if(t){var S=r(function(){_3(a.parent,0,y)},"completeCallbackNextTick");return S}else return y}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,i){return this.parent.on(this.waitCompleteEventName,t,i),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}},r(ra,"WaitEvent"),ra);Object.assign(hP.prototype,fl);const tb={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var eb=r(function(e,t){var i=`(?<!\\\\)\\${t}`,a=`\\${t}`;return e.split(new RegExp(i,"g")).map(function(y){return y.replace(a,t)})},"Split");const ib={setClickTarget(e){return this.clickTarget=e,e?Rr(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var i=eb(e,"|"),a=0,y=i.length;a<y;a++)this.waitEvent(t,`keydown-${i[a].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},sb={waitGameObjectTweenComplete(e,t,i){var a=this.parent.getGameObjectTweenTask(e,t,i);return a?this.waitEvent(a,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,i,a){var y=this.parent.getGameObject(e,t);if(!y)return this.waitTime(0);if(y.getData(i)===a)return this.waitTime(0);var S=`changedata-${i}`,n=r(function(C,s,o){s=!!s,s===a&&C.emit("_dataFlagMatch")},"callback");return y.on(S,n),this.parent.once(this.removeWaitEventsEventName,function(){y.off(S,n)}),this.waitEvent(y,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var i=this.parent.getGameObject(e,t);return i?this.waitEvent(i,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var i=this.parent.gameObjectManagers,a=!1;for(var y in i)a=!0,this.waitEvent(i[y],"empty");return a?this.parent:this.waitTime(0)}}},rb={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var i;if(t?i=this.scene.cameras.getCamera(t):i=this.cameraTarget,!i)return this.waitTime(0);var a,y;switch(e){case"camera.fadein":a=i.fadeEffect,y="camerafadeincomplete";break;case"camera.fadeout":a=i.fadeEffect,y="camerafadeoutcomplete";break;case"camera.flash":a=i.flashEffect,y="cameraflashcomplete";break;case"camera.shake":a=i.shakeEffect,y="camerashakecomplete";break;case"camera.zoom":a=i.zoomEffect,y="camerazoomcomplete";break;case"camera.rotate":a=i.rotateToEffect,y="camerarotatecomplete";break;case"camera.scroll":a=i.panEffect,y="camerapancomplete";break}return a.isRunning?this.waitEvent(i,y):this.waitTime(0)}},nb={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var ab=r(function(e){if(!e)return this.waitTime(0);var t=!1;for(var i in e)switch(i){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var a=i.split(".");if(a.length===2){var y=a[0],S=a[1],n=this.parent.getGameObjectManager(void 0,y);if(!n)continue;if(S==="destroy")return this.waitGameObjectDestroy(void 0,y);var C=n.getProperty(y,S);if(typeof C=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,y,S);continue}var s=S,o=s.startsWith("!");if(o&&(s=s.substring(1)),n.hasData(y,S)){t=!0,this.waitGameObjectDataFlag(void 0,y,s,!o);continue}this.waitEvent(gameObject,S);continue}else a.length;break}return t||this.waitTime(0),this.parent},"WaitAny$1"),oP={waitAny:ab};Object.assign(oP,tb,ib,sb,rb,nb);const K0=class K0 extends hP{constructor(t,i){super(t),this.waitCompleteEventName=Mt(i,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Mt(i,"clickTarget",this.scene)),this.setClickShortcutKeys(Mt(i,"clickShortcutKeys",void 0)),this.setCameraTarget(Mt(i,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}};r(K0,"WaitEventManager");let of=K0;Object.assign(of.prototype,oP);const zl=Phaser.Utils.Objects.GetValue;var hb=r(function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var i=zl(t,"layers",!1);if(i!==!1){var a=new Na(e,{name:"LAYER",layers:i,rootLayer:zl(t,"rootLayer",void 0),depth:zl(t,"layerDepth",void 0)});this.addGameObjectManager(a),this.layerManager=a}var y=zl(t,"sounds");return y!==!1&&(this.soundManager=new af(e,y)),this.timeline=new Jv(this),this.waitEventManager=new of(this,t),this},"InitManagers"),ob=r(function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},"SetTimeScale"),lb=r(function(){return this.timeline.timeScale},"GetTimeScale"),ub=r(function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0},"DestroyManagers");const lP={addGameObjectManager(e,t){var i;return e instanceof Xs?i=e:typeof e=="string"?(i=t,i.name=e):(e===void 0&&(e={}),t===void 0&&(t=Xs),e.createGameObjectScope||(e.createGameObjectScope=this),i=new t(this.managersScene,e)),this.gameObjectManagers[i.name]=i,this},getGameObjectManager(e,t){if(e){var i=this.gameObjectManagers[e];return i}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var i=this.gameObjectManagers[e];if(i.has(t))return i}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},fb={createGameObject(e,t,...i){return this.getGameObjectManager(e,t).add(t,...i),this},destroyGameObject(e,t){var i=this.getGameObjectManager(e,t);return t===void 0?i.removeAll():i.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,i,...a){return this.getGameObjectManager(e,t).call(t,i,...a),this},setGameObjectProperty(e,t,i,a){return this.getGameObjectManager(e,t).setProperty(t,i,a),this},easeGameObjectProperty(e,t,i){return this.getGameObjectManager(e,t).easeProperty(t,i),this},getGameObjectTweenTask(e,t,i){return this.getGameObjectManager(e,t).getTweenTask(t,i)},getGameObject(e,t,i){var a=this.getGameObjectManager(e,t);if(!a)return i;if(typeof t=="string")return a.getGO(t);i===void 0&&(i=[]);var y=t;y===void 0&&(y=Object.keys(a.bobs));for(var S=Array.isArray(i),n=0,C=y.length;n<C;n++){t=y[n];var s=a.getGO(t);s&&(S?i.push(s):i[t]=s)}return i},addGameObject(e,t,i){var a=this.getGameObjectManager(e,t);if(typeof t=="string")a.addGO(t,i);else{var y=t;for(t in y)a.addGO(t,y[t])}return this},drawGameObjectsBounds(e,t,i){e instanceof Phaser.GameObjects.Graphics&&(i=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var a=0,y=e.length;a<y;a++)this.getGameObjectManager(e[a]).drawGameObjectsBounds(t,i);return this}};var db=r(function(e){const a=class a extends e{};r(a,"Managers");let t=a;var i={initManagers:hb,setTimeScale:ob,getTimeScale:lb,destroyManagers:ub};return Object.assign(t.prototype,i,lP,fb),t},"Extend"),rc={exports:{}},xC;function cb(){return xC||(xC=1,function(e){var t=Object.prototype.hasOwnProperty,i="~";function a(){}r(a,"Events"),Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1));function y(s,o,T){this.fn=s,this.context=o,this.once=T||!1}r(y,"EE");function S(s,o,T,c,l){if(typeof T!="function")throw new TypeError("The listener must be a function");var u=new y(T,c||s,l),h=i?i+o:o;return s._events[h]?s._events[h].fn?s._events[h]=[s._events[h],u]:s._events[h].push(u):(s._events[h]=u,s._eventsCount++),s}r(S,"addListener");function n(s,o){--s._eventsCount===0?s._events=new a:delete s._events[o]}r(n,"clearEvent");function C(){this._events=new a,this._eventsCount=0}r(C,"EventEmitter"),C.prototype.eventNames=r(function(){var o=[],T,c;if(this._eventsCount===0)return o;for(c in T=this._events)t.call(T,c)&&o.push(i?c.slice(1):c);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(T)):o},"eventNames"),C.prototype.listeners=r(function(o){var T=i?i+o:o,c=this._events[T];if(!c)return[];if(c.fn)return[c.fn];for(var l=0,u=c.length,h=new Array(u);l<u;l++)h[l]=c[l].fn;return h},"listeners"),C.prototype.listenerCount=r(function(o){var T=i?i+o:o,c=this._events[T];return c?c.fn?1:c.length:0},"listenerCount"),C.prototype.emit=r(function(o,T,c,l,u,h){var f=i?i+o:o;if(!this._events[f])return!1;var v=this._events[f],d=arguments.length,p,g;if(v.fn){switch(v.once&&this.removeListener(o,v.fn,void 0,!0),d){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,T),!0;case 3:return v.fn.call(v.context,T,c),!0;case 4:return v.fn.call(v.context,T,c,l),!0;case 5:return v.fn.call(v.context,T,c,l,u),!0;case 6:return v.fn.call(v.context,T,c,l,u,h),!0}for(g=1,p=new Array(d-1);g<d;g++)p[g-1]=arguments[g];v.fn.apply(v.context,p)}else{var m=v.length,x;for(g=0;g<m;g++)switch(v[g].once&&this.removeListener(o,v[g].fn,void 0,!0),d){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,T);break;case 3:v[g].fn.call(v[g].context,T,c);break;case 4:v[g].fn.call(v[g].context,T,c,l);break;default:if(!p)for(x=1,p=new Array(d-1);x<d;x++)p[x-1]=arguments[x];v[g].fn.apply(v[g].context,p)}}return!0},"emit"),C.prototype.on=r(function(o,T,c){return S(this,o,T,c,!1)},"on"),C.prototype.once=r(function(o,T,c){return S(this,o,T,c,!0)},"once"),C.prototype.removeListener=r(function(o,T,c,l){var u=i?i+o:o;if(!this._events[u])return this;if(!T)return n(this,u),this;var h=this._events[u];if(h.fn)h.fn===T&&(!l||h.once)&&(!c||h.context===c)&&n(this,u);else{for(var f=0,v=[],d=h.length;f<d;f++)(h[f].fn!==T||l&&!h[f].once||c&&h[f].context!==c)&&v.push(h[f]);v.length?this._events[u]=v.length===1?v[0]:v:n(this,u)}return this},"removeListener"),C.prototype.removeAllListeners=r(function(o){var T;return o?(T=i?i+o:o,this._events[T]&&n(this,T)):(this._events=new a,this._eventsCount=0),this},"removeAllListeners"),C.prototype.off=C.prototype.removeListener,C.prototype.addListener=C.prototype.on,C.prefixed=i,C.EventEmitter=C,e.exports=C}(rc)),rc.exports}r(cb,"requireEventemitter3");var vb=cb();const pb=ug(vb);var na;let uP=(na=class extends pb{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}},r(na,"EventEmitter"),na);const fP={setEventEmitter(e,t){return t===void 0&&(t=uP),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:r(function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},"on"),once:r(function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},"once"),off:r(function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},"off"),emit:r(function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},"emit"),addListener:r(function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},"addListener"),removeListener:r(function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},"removeListener"),removeAllListeners:r(function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},"removeAllListeners"),listenerCount:r(function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},"listenerCount"),listeners:r(function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},"listeners"),eventNames:r(function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]},"eventNames")};var gb=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,mb=/^0x[0-9A-F]+$/i,Tg=r(function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(gb.test(e))e=parseFloat(e);else if(mb.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e},"TypeConvert"),aa;let dP=(aa=class{constructor(t){this.setEventEmitter(Mt(t,"eventEmitter",void 0)),this.setValueConverter(Mt(t,"valueConvert",!0)),this.setLoopEnable(Mt(t,"loop",!1)),this.setMultipleLinesTagEnable(Mt(t,"multipleLinesTag",!1));var i=Mt(t,"delimiters","<>");this.setDelimiters(i[0],i[1]),this.setTranslateTagNameCallback(Mt(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,i){i===void 0&&(i=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=i,t=ba(this.delimiterLeft),i=ba(this.delimiterRight);var a=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${i}`,a),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=Tg:t||(t=xb),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,i=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var a=this.reSplit.exec(t);if(!a){if(this.progressIndex<i&&(this.onContent(t.substring(this.progressIndex,i)),this.isPaused)){this.progressIndex=i;break}this.onComplete(),this.isRunning=!1;return}var y=this.reSplit.lastIndex,S=y-a[0].length;if(this.progressIndex<S&&(this.onContent(t.substring(this.progressIndex,S)),this.isPaused)){this.progressIndex=S;break}if(this.lastTagSource=a[0],this.onTag(a[1]),this.lastTagSource=void 0,this.progressIndex=y,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,i){return this.isPaused?this:(this.pause(),t.once(i,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}},r(aa,"BracketParser"),aa);const xb=r(function(e){return e},"BypassValueConverter");Object.assign(dP.prototype,fP);var Tb=r(function(e,t,i){if(e==null)return[];t===void 0&&(t=Tg),i===void 0&&(i=",");for(var a=e.split(i),y=0,S=a.length;y<S;y++)a[y]=t(a[y]);return a},"StringToValues");const Z0=class Z0 extends dP{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Mt(t,"regex.tag",void 0)),this.setValueExpression(Mt(t,"regex.value",void 0));var i=Mt(t,"delimiters","<>");this.setDelimiters(i[0],i[1])}setTagExpression(t){return t||(t=Il),this.tagExpression=t,this}setValueExpression(t){return t||(t=Il),this.valueExpression=t,this}setDelimiters(t,i){super.setDelimiters(t,i);var a=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(a,"i"),this.tagExpression!==Il||this.valueExpression!==Il){var y=`${this.tagExpression}(=${this.valueExpression})?`,S=`/${this.tagExpression}`;t=ba(this.delimiterLeft),i=ba(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${y})|(${S}))${i}`,n)}return this}onTag(t){var i=t.match(this.reTag),a=i[1],y=a.charAt(0)==="/";if(y&&(a=a.substring(1,a.length)),this.translateTagNameCallback&&(a=this.translateTagNameCallback(a)),this.skipEventFlag=!1,y)this.emit(`-${a}`),this.skipEventFlag||this.emit("-",a),this.lastTagEnd=a;else{var S=Tb(i[3],this.valueConverter);this.emit(`+${a}`,...S),this.skipEventFlag||this.emit("+",a,...S),this.lastTagStart=a}}};r(Z0,"BracketParser");let Qv=Z0;const Il="[^=]+";var yb=r(function(e,t,i){var a="color",y;t.on("start",function(){y=e.textStyle.color}).on(`+${a}`,function(S){e.textStyle.setColor(S),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setColor(y),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(y)})},"OnParseColorTag"),Cb=r(function(e,t,i){var a="stroke",y;t.on("start",function(){y=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${a}`,function(S){S===void 0&&(S=y),e.textStyle.setStrokeStyle(S),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(y)})},"OnParseStrokeColorTag"),Eb=r(function(e,t,i){var a="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${a}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},"OnParseBoldTag"),Sb=r(function(e,t,i){var a="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${a}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},"OnParseItalicTag"),Ab=r(function(e,t,i){var a="size",y;t.on("start",function(){y=e.textStyle.fontSize}).on(`+${a}`,function(S){e.textStyle.setFontSize(S),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setFontSize(y),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(y)})},"OnParseFontSizeTag"),Pb=r(function(e,t,i){var a="y",y;t.on("start",function(){y=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${a}`,function(S){S===void 0&&(S=y),e.textStyle.setOffsetY(S),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},"OnParseOffsetYTag"),Rb=r(function(e,t,i){var a="x",y;t.on("start",function(){y=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${a}`,function(S){S===void 0&&(S=y),e.textStyle.setOffsetX(S),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},"OnParseOffsetXTag"),Ob=r(function(e,t,i){var a="left",y;t.on("start",function(){y=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${a}`,function(S){S===void 0&&(S=y),e.textStyle.setLeftSpace(S),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},"OnParseLeftSpaceTag"),Lb=r(function(e,t,i){var a="right",y;t.on("start",function(){y=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${a}`,function(S){S===void 0&&(S=y),e.textStyle.setRightSpace(S),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},"OnParseRightSpaceTag"),wb=r(function(e,t,i){var a="shadow",y;t.on("start",function(){y=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${a}`,function(S){S===void 0&&(S=y),e.textStyle.setShadowColor(S),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(y)})},"OnParseShadowColorTag"),Mb=r(function(e,t,i){var a="align";t.on(`+${a}`,function(y){e.textStyle.setAlign(y),t.skipEvent()}).on(`-${a}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},"OnParseAlignTag"),Db=r(function(e,t,i){var a="img";t.on(`+${a}`,function(y){var S=e.imageManager.get(y);S&&VA.call(e,S.key,S.frame,{width:S.width,hieght:S.height,leftSpace:S.left,rightSpace:S.right,color:S.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseImageTag$1"),Fb=r(function(e,t,i){var a="space";t.on(`+${a}`,function(y){WA.call(e,y),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseImageTag"),bb=r(function(e,t,i){var a="speed";t.on(`+${a}`,function(y){TC(e,y),t.skipEvent()}).on(`-${a}`,function(){TC(e,void 0),t.skipEvent()})},"OnParseTypingSpeedTag"),Nb=r(function(e){this.typeWriter.setTypingSpeed(e)},"SetTypingSpeed"),TC=r(function(e,t){ft.call(e,"speed",Nb,t,e)},"AppendCommand$2"),Bb=r(function(e,t,i){var a="se";t.on(`+${a}`,function(y,S){ft.call(e,a,Gb,[y,S],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2";t.on(`+${a}`,function(y,S){ft.call(e,a,Ub,[y,S],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParsePlaySoundEffectTag"),Gb=r(function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect(t),i&&this.soundManager.fadeInSoundEffect(i)}},"PlaySoundEffect"),Ub=r(function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect2(t),i&&this.soundManager.fadeInSoundEffect2(i)}},"PlaySoundEffect2"),Hb=r(function(e,t,i){var a="se.fadein";t.on(`+${a}`,function(y){ft.call(e,a,Yb,y,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2.fadein";t.on(`+${a}`,function(y){ft.call(e,a,Vb,y,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseFadeInSoundEffectTag"),Yb=r(function(e){this.soundManager.fadeInSoundEffect(e)},"FadeInSoundEffect"),Vb=r(function(e){this.soundManager.fadeInSoundEffect2(e)},"FadeInSoundEffect2"),Wb=r(function(e,t,i){var a="se.fadeout";t.on(`+${a}`,function(y,S){S=S==="stop",ft.call(e,a,kb,[y,S],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2.fadeout";t.on(`+${a}`,function(y,S){S=S==="stop",ft.call(e,a,Xb,[y,S],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseFadeOutSoundEffectTag"),kb=r(function(e){this.soundManager.fadeOutSoundEffect(...e)},"FadeOutSoundEffect"),Xb=r(function(e){this.soundManager.fadeOutSoundEffect2(...e)},"FadeOutSoundEffect2"),zb=r(function(e,t,i){var a="se.volume";t.on(`+${a}`,function(y){ft.call(e,a,Ib,y,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2.volume";t.on(`+${a}`,function(y){ft.call(e,a,$b,y,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseSetSoundEffectVolumeTag"),Ib=r(function(e){this.soundManager.setSoundEffectVolume(e,!0)},"SetSoundEffectVolume"),$b=r(function(e){this.soundManager.setSoundEffectVolume2(e,!0)},"SetSoundEffectVolume2"),Kb=r(function(e,t,i){var a="se.mute";t.on(`+${a}`,function(){ft.call(e,a,Zb,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2.mute";t.on(`+${a}`,function(){ft.call(e,a,Jb,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se.unmute";t.on(`+${a}`,function(){ft.call(e,a,Qb,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="se2.unmute";t.on(`+${a}`,function(){ft.call(e,a,jb,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseSetSoundEffectMuteTag"),Zb=r(function(){this.soundManager.setSoundEffectMute(!0)},"SetSoundEffectMute"),Jb=r(function(){this.soundManager.setSoundEffect2Mute(!0)},"SetSoundEffect2Mute"),Qb=r(function(){this.soundManager.setSoundEffectMute(!1)},"SetSoundEffectUnMute"),jb=r(function(){this.soundManager.setSoundEffect2Mute(!1)},"SetSoundEffect2UnMute"),qb=r(function(e,t,i){var a="bgm";t.on(`+${a}`,function(y,S){ft.call(e,a,_b,[y,S],e),t.skipEvent()}).on(`-${a}`,function(){ft.call(e,"bgm.stop",t4,void 0,e),t.skipEvent()});var a="bgm2";t.on(`+${a}`,function(y,S){ft.call(e,a,e4,[y,S],e),t.skipEvent()}).on(`-${a}`,function(){ft.call(e,"bgm2.stop",i4,void 0,e),t.skipEvent()})},"OnParsePlayBackgroundMusicTag"),_b=r(function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic(t),i&&this.soundManager.fadeInBackgroundMusic(i)},"PlayBackgroundMusic"),t4=r(function(){this.soundManager.stopBackgroundMusic()},"StopBackgroundMusic"),e4=r(function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic2(t),i&&this.soundManager.fadeInBackgroundMusic2(i)},"PlayBackgroundMusic2"),i4=r(function(){this.soundManager.stopBackgroundMusic2()},"StopBackgroundMusic2"),s4=r(function(e,t,i){var a="bgm.fadein";t.on(`+${a}`,function(y){ft.call(e,a,r4,y,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.fadein";t.on(`+${a}`,function(y){ft.call(e,a,n4,y,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseFadeInBackgroundMusicTag"),r4=r(function(e){this.soundManager.fadeInBackgroundMusic(e)},"FadeInBackgroundMusic"),n4=r(function(e){this.soundManager.fadeInBackgroundMusic2(e)},"FadeInBackgroundMusic2"),a4=r(function(e,t,i){var a="bgm.fadeout";t.on(`+${a}`,function(y,S){S=S==="stop",ft.call(e,a,h4,[y,S],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.fadeout";t.on(`+${a}`,function(y,S){S=S==="stop",ft.call(e,a,o4,[y,S],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseFadeOutBackgroundMusicTag"),h4=r(function(e){this.soundManager.fadeOutBackgroundMusic(...e)},"FadeOutBackgroundMusic"),o4=r(function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},"FadeOutBackgroundMusic2"),l4=r(function(e,t,i){var a="bgm.cross";t.on(`+${a}`,function(y,S){ft.call(e,a,u4,[y,S],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.cross";t.on(`+${a}`,function(y,S){ft.call(e,a,f4,[y,S],e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseCrossFadeBackgroundMusicTag"),u4=r(function(e){this.soundManager.crossFadeBackgroundMusic(...e)},"CrossFadeBackgroundMusic"),f4=r(function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},"CrossFadeBackgroundMusic2"),d4=r(function(e,t,i){var a="bgm.pause";t.on(`+${a}`,function(){ft.call(e,a,c4,void 0,e),t.skipEvent()}).on(`-${a}`,function(){ft.call(e,"bgm.resume",v4,void 0,e),t.skipEvent()});var a="bgm2.pause";t.on(`+${a}`,function(){ft.call(e,a,p4,void 0,e),t.skipEvent()}).on(`-${a}`,function(){ft.call(e,"bgm2.resume",g4,void 0,e),t.skipEvent()})},"OnParsePauseBackgroundMusicTag"),c4=r(function(){this.soundManager.pauseBackgroundMusic()},"PauseBackgroundMusic"),v4=r(function(){this.soundManager.resumeBackgroundMusic()},"ResumeBackgroundMusic"),p4=r(function(){this.soundManager.pauseBackgroundMusic2()},"PauseBackgroundMusic2"),g4=r(function(){this.soundManager.resumeBackgroundMusic2()},"ResumeBackgroundMusic2"),m4=r(function(e,t,i){var a="bgm.volume";t.on(`+${a}`,function(y){ft.call(e,a,x4,y,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.volume";t.on(`+${a}`,function(y){ft.call(e,a,T4,y,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseSetBackgroundMusicVolumeTag"),x4=r(function(e){this.soundManager.setBackgroundMusicVolume(e)},"SetBackgroundMusicVolume"),T4=r(function(e){this.soundManager.setBackgroundMusicVolume2(e)},"SetBackgroundMusicVolume2"),y4=r(function(e,t,i){var a="bgm.mute";t.on(`+${a}`,function(){ft.call(e,a,C4,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.mute";t.on(`+${a}`,function(){ft.call(e,a,E4,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm.unmute";t.on(`+${a}`,function(){ft.call(e,a,S4,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()});var a="bgm2.unmute";t.on(`+${a}`,function(){ft.call(e,a,A4,void 0,e),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseSetBackgroundMusicMuteTag"),C4=r(function(){this.soundManager.setBackgroundMusicMute(!0)},"SetBackgroundMusicMute"),E4=r(function(){this.soundManager.setBackgroundMusic2Mute(!0)},"SetBackgroundMusic2Mute"),S4=r(function(){this.soundManager.setBackgroundMusicMute(!1)},"SetBackgroundMusicUnMute"),A4=r(function(){this.soundManager.setBackgroundMusic2Mute(!1)},"SetBackgroundMusic2UnMute"),P4=r(function(e,t,i){var a="camera.fadein";t.on(`+${a}`,function(y,S,n,C){ft.call(e,a,R4,[y,S,n,C],e),t.skipEvent()})},"OnParseFadeInCameraTag"),R4=r(function(e){this.cameraTarget.fadeIn(...e)},"PlayFadeInEffect"),O4=r(function(e,t,i){var a="camera.fadeout";t.on(`+${a}`,function(y,S,n,C){ft.call(e,a,L4,[y,S,n,C],e),t.skipEvent()})},"OnParseFadeOutCameraTag"),L4=r(function(e){this.cameraTarget.fadeOut(...e)},"PlayFadeOutEffect"),w4=r(function(e,t,i){var a="camera.shake";t.on(`+${a}`,function(y,S){ft.call(e,a,M4,[y,S],e),t.skipEvent()})},"OnParseShakeCameraTag"),M4=r(function(e){this.cameraTarget.shake(...e)},"PlayShakeEffect"),D4=r(function(e,t,i){var a="camera.flash";t.on(`+${a}`,function(y,S,n,C){ft.call(e,a,F4,[y,S,n,C],e),t.skipEvent()})},"OnParseFlashCameraTag"),F4=r(function(e){this.cameraTarget.flash(...e)},"PlayFlashEffect"),b4=r(function(e,t,i){var a="camera.zoom";t.on(`+${a}`,function(y){ft.call(e,a,N4,y,e),t.skipEvent()}).on(`+${a}.to`,function(y,S,n){ft.call(e,"camera.zoom.to",B4,[y,S,n],e),t.skipEvent()})},"OnParseZoomCameraTag"),N4=r(function(e){this.cameraTarget.setZoom(e)},"Zoom"),B4=r(function(e){this.cameraTarget.zoomTo(...e)},"ZoomTo");const yC=Phaser.Math.DegToRad;var G4=r(function(e,t,i){var a="camera.rotate";t.on(`+${a}`,function(y){y=yC(y),ft.call(e,a,U4,y,e),t.skipEvent()}).on(`+${a}.to`,function(y,S,n){y=yC(y),ft.call(e,"camera.rotate.to",H4,[y,S,n],e),t.skipEvent()})},"OnParseRotateCameraTag"),U4=r(function(e){this.cameraTarget.setRotation(e)},"Rotate$1"),H4=r(function(e){var t=e[0],i=e[1],a=e[2];this.cameraTarget.rotateTo(t,!1,i,a)},"RotateTo"),Y4=r(function(e,t,i){var a="camera.scroll";t.on(`+${a}`,function(y,S){ft.call(e,a,V4,[y,S],e),t.skipEvent()}).on(`+${a}.to`,function(y,S,n,C){ft.call(e,"camera.scroll.to",W4,[y,S,n,C],e),t.skipEvent()})},"OnParseScrollCameraTag"),V4=r(function(e){this.cameraTarget.setScroll(...e)},"Scroll"),W4=r(function(e){var t=e[0],i=e[1],a=e[2],y=e[3],S=this.cameraTarget,n=S.scrollX,C=S.scrollY;S.setScroll(t,i),t+=S.centerX,i+=S.centerY,S.setScroll(n,C),S.pan(t,i,a,y)},"ScrollTo"),k4=r(function(e,t,i){var a="wait",y="click";t.on(`+${a}`,function(S){CC(e,S),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()}).on(`+${y}`,function(){CC(e,"click"),t.skipEvent()}).on(`-${y}`,function(){t.skipEvent()})},"OnParseWaitTag"),X4=r(function(e){this.typeWriter.wait(e)},"Wait$2"),CC=r(function(e,t){ft.call(e,"wait",X4,t,e)},"AppendCommand$1"),z4=r(function(e,t,i){var a="r";t.on(`+${a}`,function(){ul.call(e,`
`),t.skipEvent()}).on(`-${a}`,function(){t.skipEvent()})},"OnParseNewLineTag"),I4=r(function(e,t,i){for(var a=["pagebreak","pb"],y=0,S=a.length;y<S;y++){var n=a[y];t.on(`+${n}`,function(){ul.call(e,"\f"),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})}},"OnParsePageBreakTag"),$4=r(function(e,t,i){var a="content.off";t.on(`+${a}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},"OnParseContentOff"),K4=r(function(e,t,i){var a="content.on";t.on(`+${a}`,function(){t.setContentOutputEnable(),t.skipEvent()})},"OnParseContentOn"),Z4=r(function(e,t,i){t.on("content",function(a){if(t.contentOutputEnable)ul.call(e,a);else{var y=`+${t.lastTagStart}`;e.emit(`parser.${y}#content`,t,a)}})},"OnParseContent"),J4=r(function(e,t,i){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(a,...y){if(!t.skipEventFlag){var S=`+${a}`,n=y;e.emit(`parser.${S}`,t,...y,n),EC(e,S,n)}}).on("-",function(a){if(!t.skipEventFlag){var y=`-${a}`,S=[];e.emit(`parser.${y}`,t,S),EC(e,y,S)}}).on("complete",function(){e.emit("parser.complete",t)})},"OnParseCustomTag"),Q4=r(function(e,t){var i=`tag.${t}`;e==null?this.emit(i):this.emit(i,...e)},"FireEvent$1"),EC=r(function(e,t,i){ft.call(e,t,Q4,i,e)},"AppendCommand");const SC=[yb,Cb,Eb,Sb,Ab,wb,Mb,Pb,Rb,Ob,Lb,Db,Fb,bb,Bb,Hb,Wb,zb,Kb,qb,s4,a4,l4,d4,m4,y4,P4,O4,w4,D4,b4,G4,Y4,k4,z4,I4,$4,K4,Z4,J4];var j4=r(function(e,t,i){for(var a=0,y=SC.length;a<y;a++)SC[a](e,t,i)},"AddParseCallbacks"),q4=r(function(e,t){for(var i=e.commentLineStart,a=t.split(`
`),y=0,S=a.length;y<S;y++){var n=a[y];n===""||(n.trim().length===0||i&&n.startsWith(i))&&(a[y]="")}return a.join("")},"PreProcess");const _4=Phaser.Utils.Objects.GetValue,J0=class J0 extends Qv{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("delimiters")||(i.delimiters="[]"),super(i),j4(t,this,i),this.setCommentLineStartSymbol(_4(i,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(q4(this,t)),this}};r(J0,"Parser");let jv=J0;const tN={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},Sr="page.fadeout",qv="_remove.play",AC=[Sr,qv];var eN=r(function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(Sr),this;var e=this.children.filter(function(a){return a.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(Sr);else if(t.once)t.once("complete",function(){this.emit(Sr)},this);else if(t.then){var i=this;t.then(function(){i.emit(Sr)})}else this.emit(Sr);return this},"FadeOutPage"),yd=r(function(e,t){return new Promise(function(i,a){e.once(t,function(){i()})})},"WaitEvent"),Te=r(function(e){return yd(e,"complete")},"WaitComplete"),iN=r(function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),Te(this)},"Start$1");const sN="delay",cP="anim";var vP=r(function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var i=this.getNextChild();if(!i){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(i.renderable){var a=this.animationConfig;if(a.duration>0){var y=this.timeline.addTimer({name:cP,target:i,duration:a.duration,yoyo:a.yoyo,onStart:a.onStart,onProgress:a.onProgress,onComplete:a.onComplete});this.skipTypingAnimation&&y.seek(1)}else a.onStart&&a.onStart(i,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",i);var S=this.nextChild;if(S&&!(this.skipSpaceEnable&&rD(S))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:sN,target:this,duration:t,onComplete:r(function(n,C,s){n.typingTimer=void 0,vP.call(n,s.remainder)},"onComplete")});break}}}else nD(i)&&i.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},"Typing"),rN=r(function(){return this.timeline.pause(),this},"Pause$1"),nN=r(function(){return this.timeline.resume(),this},"Resume$1"),aN=r(function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},"PauseTyping$1"),hN=r(function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},"ResumeTyping$1"),oN=r(function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},"IsWaitCameraEffect"),lN=r(function(e,t){var i=t.split(".");return e.gameObjectManagers.hasOwnProperty(i[0])},"IsWaitGameObject"),uN=r(function(e,t,i,a){var y=e.waitEventManager,S=t.split("."),n=S[0],C=e.getGameObjectManager(n),s=`wait.${n}`;switch(S.length){case 1:y.waitGameObjectManagerEmpty(n),e.emit(s);return;case 2:var o=S[1];y.waitGameObjectDestroy(n,o),e.emit(s,o);return;case 3:var o=S[1],T=S[2],c=C.getProperty(o,T);if(typeof c=="number"){y.waitGameObjectTweenComplete(n,o,T),e.emit(s,o,T);return}var l=T,u=l.startsWith("!");if(u&&(l=l.substring(1)),C.hasData(o,l)){y.waitGameObjectDataFlag(n,o,l,!u),e.emit(s,o,l);return}else{y.waitTime(0);return}}},"WaitGameObject");const fN=Phaser.Input.Keyboard.KeyCodes;var pP=r(function(e,t,i,a){var y=e.waitEventManager;y.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,a),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var S=0,n=t.length;S<n;S++){var C=t[S];if(C==null||C==="wait"){var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",s)}else if(typeof C=="number"||!isNaN(C)){var o=parseFloat(C);y.waitTime(o),e.emit("wait.time",o)}else if(C==="click")y.waitClick(),e.emit("wait.click");else if(C==="se"){y.waitSoundEffectComplete();var T=e.soundManager.getLastSoundEffect();e.emit("wait.music",T)}else if(C==="se2"){y.waitSoundEffect2Complete();var T=e.soundManager.getLastSoundEffect2();e.emit("wait.music",T)}else if(C==="bgm"){y.waitBackgroundMusicComplete();var T=e.soundManager.getBackgroundMusic();e.emit("wait.music",T)}else if(C==="bgm2"){y.waitBackgroundMusic2Complete();var T=e.soundManager.getBackgroundMusic2();e.emit("wait.music",T)}else if(fN.hasOwnProperty(C.toUpperCase()))y.waitKeyDown(C),e.emit("wait.keydown",C);else if(oN(C))y.waitCameraEffectComplete(C),e.emit("wait.camera",C);else if(lN(e,C))uN(e,C);else{var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${C}`,s)}}},"WaitAny"),dN=r(function(e){return this.ignoreWait?this:(this.pauseTyping(),pP(this.textPlayer,e,this.resumeTyping,this),this)},"Wait$1"),cN=r(function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},"SetIgnoreWait$1"),vN=r(function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},"SetSkipSpaceEnable"),pN=r(function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(cP),i=0,a=t.length;i<a;i++)t[i].seek(1);return this},"SetSkipTypingAnimation"),gN=r(function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},"SetSkipSoundEffect"),mN=r(function(){return this.typingTimer&&this.typingTimer.seek(1),this},"SkipCurrentTypingDelay"),gP={fadeOutPage:eN,start:iN,typing:vP,pause:rN,resume:nN,pauseTyping:aN,resumeTyping:hN,wait:dN,setIgnoreWait:cN,setSkipSpaceEnable:vN,setSkipTypingAnimation:pN,setSkipSoundEffect:gN,skipCurrentTypingDelay:mN};Object.assign(gP,tN);const an=Phaser.Utils.Objects.GetValue,Q0=class Q0{constructor(t,i){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(an(i,"onTypingStart",TN)),this.setDefaultTypingSpeed(an(i,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(an(i,"skipSpace",!1)),this.setAnimationConfig(an(i,"animation",void 0)),this.setMinSizeEnable(an(i,"minSizeEnable",!1)),this.setFadeOutPageCallback(an(i,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=xN),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}};r(Q0,"TypeWriter");let lf=Q0;var xN=r(function(e){e.setVisible&&e.setVisible()},"SetChildVisible"),TN=r(function(e){for(var t=0,i=e.length;t<i;t++){var a=e[t];a.setVisible&&a.setVisible(!1)}},"SetChildrenInvisible");Object.assign(lf.prototype,fl,gP);const j0=class j0 extends vo{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}};r(j0,"SpriteBob");let _v=j0;const yN={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var mP={};Object.assign(mP,yN);var xP=r(function(e){return!e||e==="sprite"?e=CN:e==="image"&&(e=EN),e},"GetCreateGameObjectCallback"),CN=r(function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.sprite(0,0,t,i)},"CreateSprite"),EN=r(function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.image(0,0,t,i)},"CreateImage$1");const q0=class q0 extends Xs{constructor(t,i){i===void 0&&(i={}),i.BobClass=_v,super(t,i)}setCreateGameObjectCallback(t,i){return t=xP(t),super.setCreateGameObjectCallback(t,i),this}};r(q0,"SpriteManager");let uf=q0;Object.assign(uf.prototype,mP);var PC=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},"IsPlayAnimationTag"),SN=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},"IsStopAnimationTag"),AN=r(function(e,t,i){var a=i.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var n=y.split("."),C;if(PC(n,a))C=n[1];else return;ft.call(e,`${a}.play`,PN,[a,C,S],e),t.skipEvent()}}).on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),n;if(SN(S,a))n=S[1];else return;ft.call(e,`${a}.stop`,RC,[a,n],e),t.skipEvent()}}).on("-",function(y){if(!t.skipEventFlag){var S=y.split("."),n;if(PC(S,a))n=S[1];else return;ft.call(e,`${a}.stop`,RC,[a,n],e),t.skipEvent()}})},"OnParsePlayAnimationTag"),PN=r(function(e){var t,i,a;[t,i,a]=e;var y=a.shift(),S=this.getGameObjectManager(t);S.playAnimation(i,y),a.length>0&&S.chainAnimation(i,a)},"PlayAnimation"),RC=r(function(e){var t,i;[t,...i]=e;var a=this.getGameObjectManager(t);a.stopAnimation(...i)},"StopAnimation"),RN=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},"IsPauseAnimationTag"),ON=r(function(e,t,i){var a=i.name;t.on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),n;if(RN(S,a))n=S[1];else return;ft.call(e,`${a}.pause`,LN,[a,n],e),t.skipEvent()}})},"OnParsePauseAnimationTag"),LN=r(function(e){var t,i;[t,...i]=e;var a=this.getGameObjectManager(t);a.pauseAnimation(...i)},"PauseAnimation"),wN=r(function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},"IsChainAnimationTag"),MN=r(function(e,t,i){var a=i.name;t.on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),n;if(wN(S,a))n=S[1];else return;var C=Array.prototype.slice.call(arguments,1);ft.call(e,`${a}.chain`,DN,[a,n,C],e),t.skipEvent()}})},"OnParseChainAnimationTag"),DN=r(function(e){var t,i;[t,...i]=e;var a=this.getGameObjectManager(t);a.chainAnimation(...i)},"ChainAnimation");const FN=[AN,ON,MN];var bN=r(function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=FN,e.createGameObject=xP(e.createGameObject),this.addGameObjectManager(e,uf)},"AddSpriteManager"),OC=r(function(e,t){return e.length===2&&e[0]===t},"IsAddGameObjectTag"),NN=r(function(e,t,i){var a=i.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var n=y.split("."),C;if(OC(n,a))C=n[1];else return;ft.call(e,`${a}.add`,BN,[a,C,...S],e),t.skipEvent()}}).on("-",function(y){if(!t.skipEventFlag){var S=y.split("."),n;if(OC(S,a))n=S[1];else return;ft.call(e,`${a}.remove`,GN,[a,n],e),t.skipEvent()}})},"OnParseAddGameObjectTag"),BN=r(function(e){var t,i;[t,...i]=e;var a=this.getGameObjectManager(t);a.add(...i)},"AddGameObject"),GN=r(function(e){var t,i;[t,...i]=e;var a=this.getGameObjectManager(t);a.remove(...i)},"RemoveGameObject"),UN=r(function(e,t,i){var a=i.name;t.on("-",function(y){t.skipEventFlag||y===a&&(ft.call(e,`${a}.removeall`,HN,a,e),t.skipEvent())})},"OnParseRemoveAllGameObjectsTag"),HN=r(function(e){var t=this.getGameObjectManager(e);t.removeAll()},"RemoveAllSprites"),YN=r(function(e,t){return e.length===3&&e[0]===t},"IsPropTag"),VN=r(function(e,t,i){var a=i.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var n=y.split("."),C,s;if(YN(n,a))C=n[1],s=n[2];else return;ft.call(e,`${a}.call`,WN,[a,C,s,...S],e),t.skipEvent()}})},"OnParseCallGameObjectMethodTag"),WN=r(function(e){var t,i,a,y;[t,i,a,...y]=e;var S=`${t}.${a}`;if(this.emit(S,i,...y),!(this.listenerCount(S)>0)){var n=this.getGameObjectManager(t);n.hasMethod(i,a)?n.call(i,a,...y):n.setProperty(i,a,y[0])}},"CallMethod"),kN={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},XN=r(function(e,t){return e.length===4&&e[0]===t&&kN[e[3]]},"IsEasePropertyTag"),zN=r(function(e,t,i){var a=i.name;e.getGameObjectManager(a),t.on("+",function(y,S,n,C,s){if(!t.skipEventFlag){var o=y.split("."),T,c,l;if(XN(o,a))T=o[1],c=o[2],l=o[3];else return;typeof C=="number"&&(s=C,C=void 0),ft.call(e,`${a}.ease`,IN,[a,T,c,S,n,C,s,l],e),t.skipEvent()}})},"OnParseEaseGameObjectPropertyTag"),IN=r(function(e){var t,i,a,y,S,n,C,s;[t,i,a,y,S,n,C,s]=e;var o=this.getGameObjectManager(t),T=o.getProperty(i,a);if(typeof T=="number"){s.endsWith("Left")||s.endsWith("Up")?s.startsWith("to")||s.startsWith("yoyo")?y=T-y:s.startsWith("from")&&(o.setProperty(i,a,T-y),y=T):s.endsWith("Right")||s.endsWith("Down")?s.startsWith("to")||s.startsWith("yoyo")?y=T+y:s.startsWith("from")&&(o.setProperty(i,a,T+y),y=T):s==="from"&&(o.setProperty(i,a,y),y=T);var c=s.startsWith("yoyo");o.easeProperty(i,{property:a,value:y,duration:S,ease:n,repeat:C,yoyo:c})}},"EaseProperty");const LC=[NN,UN,VN,zN],$N=lP.addGameObjectManager,KN={addGameObjectManager(e,t){e=e?Si(e):{};var i=e.name;i||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var a=e.defaultLayer,y=e.createGameObject,S=this.layerManager;e.createGameObject=function(o,...T){var c=y.call(this,o,...T);return a&&S&&S.addToLayer(a,c),c},$N.call(this,e,t);var n=e.parseCallbacks;n?n=[...n,...LC]:n=LC;for(var C=0,s=n.length;C<s;C++)n[C](this,this.parser,e);return this}};var ZN=r(function(e){return this.waitEventManager.setClickTarget(e),this},"SetClickTarget"),JN=r(function(e){return this.waitEventManager.setCameraTarget(e),this},"SetCameraTarget"),QN=r(function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(i,a){var y=t.waitEventManager;y.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,a);var S=y.getWaitCompleteTriggerCallback();e.call(t,S)}:this.nextPageInput=function(i,a){pP(t,e,i,a)}:this.nextPageInput=null},"SetNextPageInput"),jN=r(function(e,t){return this.imageManager.add(e,t),this},"AddImage");const qN={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=Te(this);return this.play(e),t}};var tp=r(function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(Sr,_N,this).fadeOutPage(),this)},"TypingNextPage"),_N=r(function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=r(function(){this.emit(qv),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?tp.call(this):this.nextPageInput&&this.nextPageInput(tp,this))},"OnTypingPageComplete");this.once(qv,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)},"_TypingNextPage");const t5={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},e5={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}};var i5=r(function(e){return this.typeWriter.wait(e),this},"Wait");const s5={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var r5=r(function(e){return this.typeWriter.setIgnoreWait(e),this},"SetIgnoreWait"),n5=r(function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},"SetIgnoreNextPageInput"),a5=r(function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,i=this.typeWriter.skipTypingAnimation,a=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(i).setSkipSoundEffect(a)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this},"ShowPage");const h5={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},o5={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var TP={setClickTarget:ZN,setCameraTarget:JN,setNextPageInput:QN,addImage:jN,typingNextPage:tp,wait:i5,setIgnoreWait:r5,setIgnoreNextPageInput:n5,showPage:a5};Object.assign(TP,KN,qN,t5,e5,s5,h5,o5);var l5=r(function(e){for(var t=0,i=AC.length;t<i;t++)e.emit(AC[t])},"ClearEvents");const wC=Phaser.Utils.Objects.IsPlainObject,hn=Phaser.Utils.Objects.GetValue,_0=class _0 extends db(ks){constructor(t,i,a,y,S,n){wC(i)?n=i:wC(y)&&(n=y),n===void 0&&(n={});var C=n.text;delete n.text,super(t,i,a,y,S,n),this.type="rexTextPlayer",this.initManagers(t,n),this.parser=new jv(this,hn(n,"parser",void 0)),this.typeWriter=new lf(this,hn(n,"typing",void 0)),this._imageManager=void 0;var s=hn(n,"images",void 0);s&&this.addImage(s);var o=hn(n,"sprites");o!==!1&&o!==null&&bN.call(this,o),this.setIgnoreNextPageInput(hn(n,"ignoreNextPageInput",!1)),this.setNextPageInput(hn(n,"nextPageInput",null)),this.isPlaying=!1,C&&this.play(C)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new fo(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(l5(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}};r(_0,"TextPlayer");let yo=_0;Object.assign(yo.prototype,TP);rt.register("textPlayer",function(e,t,i,a,y){var S=new yo(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.TextPlayer",yo);const yP={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},CP={direction:["direction",void 0]};var Ns=r(function(e,t,i){if(typeof i=="string")e.hasOwnProperty(i)&&(t[i]=e[i]);else{var a=i;if(Array.isArray(a))for(var y=0,S=a.length;y<S;y++)Ns(e,t,a[y]);else for(var i in a)Ns(e,t,i)}},"CopyProperty"),u5=r(function(e){e===void 0&&(e={});var t={};return Ns(e,t,"inputType"),Ns(e,t,"type"),Ns(e,t,"style"),Ns(e,t,CP),Ns(e,t,yP),t},"CopyElementConfig"),yg=r(function(e,t,i,a,y){if(t)return!(i&&!i(e,t)||!MC(e,t)||a&&!a(e,t));y===void 0&&(y=!1);for(var S=e.scene.input.manager,n=S.pointersTotal,C=S.pointers,t,s=0;s<n;s++)if(t=C[s],!(i&&!i(e,t))&&MC(e,t)&&!(a&&!a(e,t)))return y?t:!0;return!1},"IsPointerInHitArea"),MC=r(function(e,t){for(var i=e.scene,a=i.input.cameras.getCamerasBelowPointer(t),y=i.input.manager,S=[e],n=0,C=a.length;n<C;n++)if(y.hitTest(t,S,a[n],$l),$l.length>0)return $l.length=0,!0;return $l.length=0,!1},"HitTest"),$l=[],Gn=void 0,f5=r(function(e){e!==Gn&&(Gn!==void 0&&Gn.close(),Gn=e)},"SetLastOpenedEditor$1"),d5=r(function(e){e===Gn&&(Gn=void 0)},"CloseLastOpenEditor$1");const c5=Phaser.Utils.Objects.GetValue;var ff=r(function(e,t,i){i===void 0&&(i={});var a,y;for(var S in e)a=e[S],y=c5(t,S,a[1]),y!==void 0&&(i[a[0]]=y);return i},"SetProperties"),EP=r(function(e){e.addEventListener("touchstart",on,!1),e.addEventListener("touchmove",on,!1),e.addEventListener("touchend",on,!1),e.addEventListener("mousedown",on,!1),e.addEventListener("mouseup",on,!1),e.addEventListener("mousemove",on,!1)},"StopPropagationTouchEvents"),on=r(function(e){e.stopPropagation()},"callback"),SP=r(function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},"EnterClose"),v5=r(function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",SP,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(iP.call(this.clickOutSideTarget,this.parent),eP.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},"OnOpen"),p5=r(function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},"RemoveElement"),g5=r(function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",SP,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),p5(this.node),this.node=void 0,this.emit("close",this)},"OnClose");const nc=Phaser.Utils.Objects.GetValue;var m5=r(function(e,t){var i,a=nc(t,"inputType",void 0);a===void 0&&(a=nc(t,"type","text")),a==="textarea"?(i=document.createElement("textarea"),i.style.resize="none"):(i=document.createElement("input"),i.type=a);var y=nc(t,"style",void 0),S=i.style;ff(CP,y,S),S.position="absolute",S.opacity=0,S.pointerEvents="none",S.zIndex=0,S.transform="scale(0)",ff(yP,t,i),EP(i);var n=e.scene.sys.scale,C=n.isFullscreen?n.fullscreenTarget:document.body;return C.appendChild(i),i.addEventListener("focus",function(s){v5.call(e)}),i.addEventListener("blur",function(s){g5.call(e)}),i},"CreateElement"),x5=r(function(){return this.isOpened?this:this.readOnly?this:(f5(this),this.node||(this.node=m5(this,this.nodeConfig)),this.setFocus(),this)},"Open$2"),T5=r(function(){return this.isOpened?(d5(this),this.setBlur(),this):this},"Close$1"),y5={open:x5,close:T5};const Qi=Phaser.Utils.Objects.GetValue,tm=class tm extends Yt{constructor(t,i){super(t);var a=Qi(i,"inputType",void 0);a===void 0&&(a=Qi(i,"type","text")),this.setEnterCloseEnable(Qi(i,"enterClose",a!=="textarea"));var y=Qi(i,"onOpen",void 0);y||(y=Qi(i,"onFocus",void 0)),this.onOpenCallback=y,this.clickOutSideTarget=Qi(i,"clickOutSideTarget",void 0);var S=Qi(i,"onClose",void 0);S||(S=Qi(i,"onBlur",void 0)),this.onCloseCallback=S,this.onUpdateCallback=Qi(i,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=u5(i),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){yg(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,i),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node?(this.node.style[t]=i,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}};r(tm,"HiddenTextEditBase");let Co=tm;Object.assign(Co.prototype,y5);var AP=r(function(e,t,i){e=e.replace(" ","");var a=i.previousText;if(e===a)return e;if(isNaN(e)){i.emit("nan",e,i),e=a;var y=i.cursorPosition-1;i.setText(e),i.setCursorPosition(y)}else i.previousText=e;return e},"NumberInputUpdateCallback"),C5=r(function(e){var t=e.parent,i=e.isOpened?e.selectionStart:null,a=e.isOpened?e.selectionEnd:null,y=e.prevSelectionStart,S=e.prevSelectionEnd;if(!(y===i&&S===a)){var n,C;y===null?(n=i,C=a):i===null?(n=y,C=S):(n=Math.min(y,i),C=Math.max(S,a));for(var s=n;s<C;s++){var o;y===null?o=!1:o=s>=y&&s<S;var T;if(i===null?T=!1:T=s>=i&&s<a,o!==T){var c=t.getCharChild(s);if(c){var l=o?"rangeout":"rangein";t.emit(l,c,s,t)}}}e.prevSelectionStart=i,e.prevSelectionEnd=a}},"SelectRange"),E5=r(function(e){var t=e.parent,i=0,a=t.width,y=0,S=t.height,n=e.drawX,C=e.drawY,s=n+e.drawTLX,o=n+e.drawTRX,T=C+e.drawTLY,c=C+e.drawBLY,l;s<i?l=i-s:o>a?l=a-o:l=0;var u;T<y?u=y-T:c>S?u=S-c:u=0,t._textOX+=l,t._textOY+=u},"ScrollToBob"),S5=r(function(e){var t=e.parent,i=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var a=e.cursorPosition;if(e.prevCursorPosition!==a){if(e.prevCursorPosition!==null&&e.prevCursorPosition>i.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var y=t.getCharChild(e.prevCursorPosition);y&&(y.text===`
`&&y.clearTextSize(),t.emit("cursorout",y,e.prevCursorPosition,t))}if(a!=null){var y=t.getCharChild(a);y&&(y.text===`
`&&y.copyTextSize(t.lastInsertCursor),E5(y),t.emit("cursorin",y,a,t))}t.emit("movecursor",a,e.prevCursorPosition,t),e.prevCursorPosition=a}},"MoveCursor"),DC=r(function(e){var t=e.prevSelectionStart;if(t!==null){for(var i=e.prevSelectionEnd,a=e.parent,y=t;y<i;y++){var S=a.getCharChild(y);S&&a.emit("cursorout",S,y,a)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},"ClearSelectRange"),FC=r(function(e){var t=e.prevCursorPosition;if(t!==null){var i=e.parent,a=i.getCharChild(t);a&&i.emit("cursorout",a,t,i),e.prevCursorPosition=null}},"ClearCursor");const A5=Phaser.Utils.Objects.GetValue;var ha;let P5=(ha=class extends Co{constructor(t,i){super(t,i),this.setSelectAllWhenFocusEnable(A5(i,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,t.on("pointerdown",function(a,y,S,n){var C=t.getNearestChild(y,S),s=t.getCharIndex(C);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(s),this.cursorMoveStartIndex=s,this.firstClickAfterOpen=!1},this).on("pointermove",function(a,y,S,n){if(a.isDown){var C=t.getNearestChild(y,S),s=t.getCharIndex(C);this.cursorMoveStartIndex<s?this.selectText(this.cursorMoveStartIndex,s+1):this.selectText(s,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var a=this.onUpdateCallback(i,t,this);a!=null&&(i=a)}return t.text!==i&&t.setText(i),this.isOpened?this.selectionStart!==this.selectionEnd?(FC(this),C5(this)):(DC(this),S5(this)):(DC(this),FC(this)),this}setNumberInput(){return this.onUpdateCallback=AP,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}setRequestCursorPosition(t){return this.isOpened?(this.requestCursorPosition=t,this):this}},r(ha,"HiddenTextEdit"),ha);const R5=Phaser.Utils.Objects.GetValue,O5=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var L5=r(function(e,t){var i=R5(t,"edit");return i===void 0&&(i={}),Ns(t,i,O5),new P5(e,i)},"CreateHiddenTextEdit"),is=r(function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var i=t.split("."),a=e,y=0;y<i.length;y++)if(a.hasOwnProperty(i[y]))a=a[i[y]];else return!1;return!0}else return!1},"HasValue"),ep=r(function(e){if(e.parentContainer)return ep(e.parentContainer);var t=tP(e);return t?ep(t):e},"GetRootGameObject"),w5=r(function(e){for(var t=ep(e).cameraFilter,i=e.scene.sys.cameras.cameras,a,y,S=0,n=i.length;S<n;S++)if(a=i[S],y=(t&a.id)>0,!y)return a;return null},"GetFirstRenderCamera");const em=class em extends Yt{constructor(t,i){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,i=this.parent,a=w5(i);if(a){i.setScrollFactor(0).setOrigin(.5);var y=t.sys.scale.gameSize,S=y.width,n=y.height,C=1/a.zoom,s=S/2,o=n/2,T=S*C,c=n*C;(i.x!==s||i.y!==o)&&i.setPosition(s,o),(i.width!==T||i.height!==c)&&i.setSize(T,c)}}};r(em,"FullWindow");let df=em;const M5=Phaser.GameObjects.Zone;var oa;let Cg=(oa=class extends M5{constructor(t){super(t,0,0,2,2),this.fullWindow=new df(this)}},r(oa,"FullWindowRectangle"),oa);var D5=r(function(e,t){var i=!t.textArea;if(!is(t,"wrap.vAlign")){var a=i?"center":"top";it(t,"wrap.vAlign",a)}if(is(t,"wrap.wrapMode")||it(t,"wrap.wrapMode","char"),!is(t,"wrap.maxLines")){var a=i?1:void 0;it(t,"wrap.maxLines",a)}if(i&&it(t,"wrap.wrapWidth",1/0),is(t,"wrap.useDefaultTextHeight")||it(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!is(t.edit,"inputType")){var a=i?"text":"textarea";it(t.edit,"inputType",a)}if(t.clickOutSideTarget===!0){var y=new Cg(e);e.add.existing(y),t.clickOutSideTarget=y}return t},"InjectDefaultConfig"),$u=r(function(e,t,i,a){if(i===void 0&&(i="."),a===void 0&&(a={}),!e)return a;if(t in e)return Object.assign(a,e[t]);t+=i;for(var y in e)y.startsWith(t)&&(a[y.replace(t,"")]=e[y]);return a},"ExtractByPrefix"),F5=r(function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},"RegisterArrowKeysEvent"),Cd=r(function(e,t,i){if(i===void 0&&(i={}),Array.isArray(t))for(var a,y=0,S=t.length;y<S;y++)a=t[y],i[a]=e[a];else for(var a in t)i[a]=e[a];return i},"GetPartialData"),vl=r(function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e))return!1;return!0},"IsKeyValueEqual"),b5=r(function(e){dl(e)||this.setCursorStyle(e).on("cursorin",function(t){var i=this.cursorStyle,a=Cd(t.style,i);vl(i,a)||(t.styleSave=a,t.modifyStyle(i))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},"RegisterCursorStyle"),N5=r(function(e){dl(e)||this.setRangeStyle(e).on("rangein",function(t){var i=this.rangeStyle,a=Cd(t.style,i);vl(i,a)||(t.styleSave=a,t.modifyStyle(i))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},"RegisterRangeStyle"),B5=r(function(e){dl(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,i=this.focusStyle,a=Cd(t,i);vl(i,a)||(t.styleSave=a,t.modifyStyle(i))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},"RegisterFocusStyle"),G5=r(function(e){var t=e.createCharChild("|");return t.text="",t},"CreateInsertCursorChild");function cs(){}r(cs,"Diff");cs.prototype={diff(e,t,i={}){let a=i.callback;typeof i=="function"&&(a=i,i={}),this.options=i;let y=this;function S(u){return a?(setTimeout(function(){a(void 0,u)},0),!0):u}r(S,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let n=t.length,C=e.length,s=1,o=n+C;i.maxEditLength&&(o=Math.min(o,i.maxEditLength));let T=[{newPos:-1,components:[]}],c=this.extractCommon(T[0],t,e,0);if(T[0].newPos+1>=n&&c+1>=C)return S([{value:this.join(t),count:t.length}]);function l(){for(let u=-1*s;u<=s;u+=2){let h,f=T[u-1],v=T[u+1],d=(v?v.newPos:0)-u;f&&(T[u-1]=void 0);let p=f&&f.newPos+1<n,g=v&&0<=d&&d<C;if(!p&&!g){T[u]=void 0;continue}if(!p||g&&f.newPos<v.newPos?(h=H5(v),y.pushComponent(h.components,void 0,!0)):(h=f,h.newPos++,y.pushComponent(h.components,!0,void 0)),d=y.extractCommon(h,t,e,u),h.newPos+1>=n&&d+1>=C)return S(U5(y,h.components,t,e,y.useLongestToken));T[u]=h}s++}if(r(l,"execEditLength"),a)r(function u(){setTimeout(function(){if(s>o)return a();l()||u()},0)},"exec")();else for(;s<=o;){let u=l();if(u)return u}},pushComponent(e,t,i){let a=e[e.length-1];a&&a.added===t&&a.removed===i?e[e.length-1]={count:a.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon(e,t,i,a){let y=t.length,S=i.length,n=e.newPos,C=n-a,s=0;for(;n+1<y&&C+1<S&&this.equals(t[n+1],i[C+1]);)n++,C++,s++;return s&&e.components.push({count:s}),e.newPos=n,C},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function U5(e,t,i,a,y){let S=0,n=t.length,C=0,s=0;for(;S<n;S++){let T=t[S];if(T.removed){if(T.value=e.join(a.slice(s,s+T.count)),s+=T.count,S&&t[S-1].added){let c=t[S-1];t[S-1]=t[S],t[S]=c}}else{if(!T.added&&y){let c=i.slice(C,C+T.count);c=c.map(function(l,u){let h=a[s+u];return h.length>l.length?h:l}),T.value=e.join(c)}else T.value=e.join(i.slice(C,C+T.count));C+=T.count,T.added||(s+=T.count)}}let o=t[n-1];return n>1&&typeof o.value=="string"&&(o.added||o.removed)&&e.equals("",o.value)&&(t[n-2].value+=o.value,t.pop()),t}r(U5,"buildValues");function H5(e){return{newPos:e.newPos,components:e.components.slice(0)}}r(H5,"clonePath");const Y5=new cs;function V5(e,t,i){return Y5.diff(e,t,i)}r(V5,"diffChars");const bC=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,NC=/\S/,PP=new cs;PP.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!NC.test(e)&&!NC.test(t)};PP.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&bC.test(t[i])&&bC.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};const RP=new cs;RP.tokenize=function(e){let t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let a=0;a<i.length;a++){let y=i[a];a%2&&!this.options.newlineIsToken?t[t.length-1]+=y:(this.options.ignoreWhitespace&&(y=y.trim()),t.push(y))}return t};const W5=new cs;W5.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const k5=new cs;k5.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const X5=Object.prototype.toString,Eo=new cs;Eo.useLongestToken=!0;Eo.tokenize=RP.tokenize;Eo.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:i=r((a,y)=>typeof y>"u"?t:y,"stringifyReplacer")}=this.options;return typeof e=="string"?e:JSON.stringify(ip(e,null,null,i),i,"  ")};Eo.equals=function(e,t){return cs.prototype.equals.call(Eo,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function ip(e,t,i,a,y){t=t||[],i=i||[],a&&(e=a(y,e));let S;for(S=0;S<t.length;S+=1)if(t[S]===e)return i[S];let n;if(X5.call(e)==="[object Array]"){for(t.push(e),n=new Array(e.length),i.push(n),S=0;S<e.length;S+=1)n[S]=ip(e[S],t,i,a,y);return t.pop(),i.pop(),n}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),n={},i.push(n);let C=[],s;for(s in e)e.hasOwnProperty(s)&&C.push(s);for(C.sort(),S=0;S<C.length;S+=1)s=C[S],n[s]=ip(e[s],t,i,a,s);t.pop(),i.pop()}else n=e;return n}r(ip,"canonicalize");const sp=new cs;sp.tokenize=function(e){return e.slice()};sp.join=sp.removeEmpty=function(e){return e};const z5=Phaser.Utils.Array.Remove;var I5=r(function(e,t){var i=e.text;if(t!==i){if(i==null&&(i=""),z5(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var a=V5(i,t),y=0,S=0,n=a.length;S<n;S++){var C=a[S];C.removed?e.removeText(y,C.count):(C.added&&e.insertText(y,C.value),y+=C.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}},"SetText$1");const $5={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},Kl=Phaser.Math.Clamp;var BC=r(function(e,t){var i={lineIndex:0,position:0};if(t<0)return i;for(var a=0,y=e.length;a<y;a++){var S=e[a];if(t<=S){i.lineIndex=a;break}t-=S}return i.position=t,i},"GetIndex"),GC=r(function(e,t){var i=0,a=t.lineIndex;if(a<0)return i;for(var y=0,S=e.length;y<S;y++){var n=e[y];if(a>y)i+=n;else if(a===y)i+=Math.min(t.position,n);else break}return i},"GetPosition");const K5={cursorMoveLeft(){if(!this.isOpened)return this;var e=Kl(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=Kl(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=BC(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=Kl(GC(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=BC(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=Kl(GC(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}},UC=Phaser.Utils.Objects.IsPlainObject,im=class im extends ks{constructor(t,i,a,y,S,n){UC(i)?n=i:UC(y)&&(n=y),n===void 0&&(n={}),D5(t,n);var C=n.text;C&&delete n.text;var s=$u(n.background,"focus"),o=$u(n.style,"cursor"),T=$u(n.style,"range");super(t,i,a,y,S,n),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=L5(this,n),F5.call(this),n.focusStyle&&Object.assign(s,n.focusStyle),B5.call(this,s),n.cursorStyle&&Object.assign(o,n.cursorStyle),b5.call(this,o),n.rangeStyle&&Object.assign(T,n.rangeStyle),dl(T)&&Object.assign(T,o),N5.call(this,T);var c=n.onAddChar;c&&this.on("addchar",c);var l=n.onCursorIn;l&&this.on("cursorin",l);var u=n.onCursorOut;u&&this.on("cursorout",u);var h=!n.onRangeIn&&!n.onRangeOut,f=h?n.onCursorIn:n.onRangeIn;f&&this.on("rangein",f);var v=h?n.onCursorOut:n.onRangeOut;v&&this.on("rangeout",v);var d=n.onMoveCursor;d&&this.on("movecursor",d),this.setParseTextCallback(n.parseTextCallback),this.lastInsertCursor=G5(this),C||(C=""),this.setText(C)}addChild(t,i){if(super.addChild(t,i),Array.isArray(t))for(var a=t,y=0,S=a.length;y<S;y++){var t=a[y];Or(t)&&this.emit("addchar",t,i+y,this)}else Or(t)&&this.emit("addchar",t,i,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(I5(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var i=super.runWrap(t);this.contentWidth=i.maxLineWidth,this.contentHeight=i.linesHeight,this.lineHeight=i.lineHeight,this.linesCount=i.lines.length,this.characterCountOfLines.length=0;for(var a=i.lines,y=0,S=a.length;y<S;y++){for(var n=a[y].children,C=0,s=0,o=n.length;s<o;s++){var T=n[s];T.active&&!T.removed&&Or(T)&&C++}this.characterCountOfLines.push(C)}return i}setSize(t,i){return this.width===t&&this.height===i?this:(super.setSize(t,i),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=Z5),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}};r(im,"CanvasInput");let wr=im;var Z5=r(function(e){return e},"DefaultParseTextCallback");Object.assign(wr.prototype,$5,K5);rt.register("canvasInput",function(e,t,i,a,y){var S=new wr(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.CanvasInput",wr);var Eg=r(function(e){return Lr(e).loop.delta},"GetTickDelta");const HC=Phaser.Utils.Objects.GetValue,J5=Phaser.Math.Wrap,sm=class sm extends Co{constructor(t,i){i===void 0&&(i={}),i.onUpdate==="number"&&(i.onUpdate=AP),super(t,i),this.setCursor(HC(i,"cursor","|")),this.setCursorFlashDuration(HC(i,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var a=this.onUpdateCallback(i,t,this);a!=null&&(i=a)}if(this.isOpened&&this.hasCursor){var y=this.cursorPosition;i=i.substring(0,y)+this.cursor+i.substring(y),this.prevCursorPosition!==y&&(this.prevCursorPosition=y)}return t.text!==i&&(t.setText(i),this.emit("textchange",i,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var i=this.cursorFlashTimer+Eg(this.scene);return this.cursorFlashTimer=J5(i,0,this.cursorFlashDuration),t}};r(sm,"HiddenTextEdit");let cf=sm;rt.register("hiddenEdit",function(e,t){var i=new cf(e,t);return i});it(window,"RexPlugins.UI.HiddenEdit",cf);const Q5=Phaser.GameObjects.GetCalcMatrix;var j5=r(function(e,t,i,a){t.updateData(),i.addToRenderList(t);var y=e.pipelines.set(t.pipeline),S=Q5(t,i,a),n=y.calcMatrix.copyFrom(S.calc),C=t._displayOriginX,s=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var T=t.geom,c,l=0,u=T.length;l<u;l++)c=T[l],c.visible&&c.webglRender(y,n,o,C,s);e.pipelines.postBatch(t)},"WebGLRenderer");const q5=Phaser.Renderer.Canvas.SetTransform;var _5=r(function(e,t,i,a){t.updateData(),i.addToRenderList(t);var y=e.currentContext;if(q5(e,y,t,i,a)){for(var S=t._displayOriginX,n=t._displayOriginY,C=t.geom,s,o=0,T=C.length;o<T;o++)s=C[o],s.visible&&s.canvasRender(y,S,n);y.restore()}},"CanvasRenderer");const tB={renderWebGL:j5,renderCanvas:_5},eB=Phaser.GameObjects.Shape,iB=Phaser.Utils.Array.Remove,rm=class rm extends eB{constructor(t,i,a,y,S){i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=2),S===void 0&&(S=y),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(i,a),this.setSize(y,S),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,i){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==i,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=i,this.updateDisplayOrigin();var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=t,a.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==i,this._fillColor=t,this._fillAlpha=i,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,i,a){return a===void 0&&(a=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==i||this.strokeAlpha!==a,this._lineWidth=t,this._strokeColor=i,this._strokeAlpha=a,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,i=0,a=t.length;i<a;i++){var y=t[i];y.dirty&&y.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Hs(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var i=t.name;return i&&(this.shapes[i]=t),this.dirty=!0,this}deleteShape(t){var i=this.getShape(t);return i&&(delete this.shapes[t],iB(this.geom,i)),this}};r(rm,"BaseShapes");let Ai=rm;Object.assign(Ai.prototype,tB);const sB={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==i,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=i,this},setUncheckedBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==i,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=i,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},rB={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var nB=r(function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},"FillStyle"),aB=r(function(e,t,i){return e==null||t==null?this.isStroked=!1:(i===void 0&&(i=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i),this},"LineStyle");const hB={fillStyle:nB,lineStyle:aB},nm=class nm{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,i,a,y,S){}canvasRender(t,i,a){}updateData(){this.dirty=!1}};r(nm,"BaseGeom");let Ua=nm;Object.assign(Ua.prototype,hB,gd);const oB=Phaser.Geom.Polygon.Earcut,am=class am extends Ua{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=oB(this.pathData),super.updateData(),this}webglRender(t,i,a,y,S){this.isFilled&&yA(t,i,this,a,y,S),this.isStroked&&md(t,this,a,y,S)}canvasRender(t,i,a){var y=this.pathData,S=y.length-1,n=y[0]-i,C=y[1]-a;t.beginPath(),t.moveTo(n,C),this.closePath||(S-=2);for(var s=2;s<S;s+=2){var o=y[s]-i,T=y[s+1]-a;t.lineTo(o,T)}this.closePath&&t.closePath(),this.isFilled&&(ol(t,this),t.fill()),this.isStroked&&(ll(t,this),t.stroke())}};r(am,"PathBase");let Mr=am;const YC=Phaser.Math.DegToRad,hm=class hm extends Mr{constructor(t,i,a,y,S,n,C,s){t===void 0&&(t=0),i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=0),S===void 0&&(S=0),n===void 0&&(n=360),C===void 0&&(C=!1),s===void 0&&(s=!1),super(),this.setCenterPosition(t,i),this.setRadius(a,y),this.setAngle(S,n,C),this.setPie(s),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,i){return i===void 0&&(i=t),this.x=t,this.y=i,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,i){return i===void 0&&(i=t),this.radiusX=t,this.radiusY=i,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,i,a){return a===void 0&&(a=!1),this.startAngle=t,this.endAngle=i,this.anticlockwise=a,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),ce(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,i,a){t.beginPath();var y=this.x-i,S=this.y-a,n=YC(this.startAngle),C=YC(this.endAngle);this.pie&&(t.moveTo(y,S),t.lineTo(y+Math.cos(n)*this.radiusX,S+Math.sin(n)*this.radiusY)),t.ellipse(y,S,this.radiusX,this.radiusY,0,n,C,this.anticlockwise),this.pie&&t.lineTo(y,S),this.isFilled&&(ol(t,this),t.fill()),this.isStroked&&(ll(t,this),t.stroke())}};r(hm,"Arc");let zs=hm;const om=class om extends zs{constructor(t,i,a){super(t,i,a,a,0,360)}};r(om,"Circle");let Ye=om;const lm=class lm extends Mr{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),i=0,a=t.length;i<a;i++)this.pathData.push(t[i].x,t[i].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}};r(lm,"Curve");let rp=lm;const um=class um extends zs{constructor(t,i,a,y){super(t,i,a,y,0,360)}};r(um,"Ellipse");let np=um;const fm=class fm extends Mr{constructor(t,i,a,y){t===void 0&&(t=0),i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=0),super(),this.setP0(t,i),this.setP1(a,y)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}};r(fm,"Line");let Xi=fm;var lB=r(function(e,t,i){return i.length=0,e!=null&&i.push(e,t),i},"StartAt");const VC=Phaser.Math.Interpolation.QuadraticBezier;var uB=r(function(e,t,i,a,y,S){for(var n=S.length,C=S[n-2],s=S[n-1],o=1,T=y-1;o<=T;o++){var c=o/T;S.push(VC(c,C,e,i),VC(c,s,t,a))}return S},"QuadraticBezierTo");const WC=Phaser.Math.Interpolation.CubicBezier;var fB=r(function(e,t,i,a,y,S,n,C){for(var s=C.length,o=C[s-2],T=C[s-1],c=1,l=n-1;c<=l;c++){var u=c/l;C.push(WC(u,o,e,i,y),WC(u,T,t,a,S))}return C},"CubicBezierCurveTo");const kC=Phaser.Math.Interpolation.CatmullRom;var dB=r(function(e,t,i){for(var a=i.length,y=i[a-2],S=i[a-1],n=[y],C=[S],s=0,o=e.length;s<o;s+=2)n.push(e[s]),C.push(e[s+1]);for(var s=1,T=t-1;s<=T;s++){var c=s/T;i.push(kC(n,c),kC(C,c))}return i},"CatmullRomTo"),OP=r(function(e){var t=e.length;if(t<2)return e;var i=e[t-2],a=e[t-1];return e.push(i),e.push(a),e},"DuplicateLast");const cB={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,lB(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,i){return i===void 0&&(i=!1),i&&(e+=this.lastPointX,t+=this.lastPointY),de(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,i,a,y,S,n){return n===void 0&&(n=!1),ce(e,t,i,a,y,S,n,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,i,a,y,S){return this.ellipticalArc(e,t,i,i,a,y,S),this},quadraticBezierTo(e,t,i,a){return uB(e,t,i,a,this.iterations,this.pathData),this.lastPointX=i,this.lastPointY=a,this},cubicBezierTo(e,t,i,a,y,S){return fB(e,t,i,a,y,S,this.iterations,this.pathData),this.lastPointX=y,this.lastPointY=S,this},catmullRomTo(...e){return dB(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return OP(this.pathData),this}},vB=Phaser.Math.RotateAround;var pB=r(function(e,t,i,a){for(var y={x:0,y:0},S=0,n=a.length-1;S<n;S+=2)y.x=a[S],y.y=a[S+1],vB(y,e,t,i),a[S]=y.x,a[S+1]=y.y;return a},"RotateAround$5"),gB=r(function(e,t,i,a,y){for(var S=0,n=y.length-1;S<n;S+=2){var C=y[S]-e,s=y[S+1]-t;C*=i,s*=a,y[S]=C+e,y[S+1]=s+t}return y},"Scale$2"),LP=r(function(e,t,i){for(var a=0,y=i.length-1;a<y;a+=2)i[a]+=e,i[a+1]+=t;return i},"Offset");const mB=Phaser.Math.DegToRad;Phaser.Math.RotateAround;const xB={rotateAround(e,t,i){if(this.pathData.length===0)return this;i=mB(i),pB(e,t,i,this.pathData);var a=this.pathData.length;return this.lastPointX=this.pathData[a-2],this.lastPointY=this.pathData[a-1],this},scale(e,t,i,a){return this.pathData.length===0?this:(gB(e,t,i,a,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return LP(e,t,this.pathData),this}};var vf=r(function(e,t,i,a){i===void 0&&(i=0),a===void 0&&(a=t.length),e.length=a-i;for(var y=0,S=e.length;y<S;y++)e[y]=t[y+i];return e},"Copy");const TB={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(vf(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},yB=Phaser.Math.Distance.Between,CB=Phaser.Math.Wrap,EB=Phaser.Math.Linear;var XC=r(function(e,t,i,a,y){if(a===void 0&&(a=i,i=0),i=zC(i),a=zC(a),i!==a){var S=t[t.length-1],n=S*i,C=S*a;i<a?ac(e,t,n,C,y):(ac(e,t,n,S,y),ac(e,t,0,C,y)),OP(y)}},"AppendFromPathSegment"),ac=r(function(e,t,i,a,y){for(var S=i>0,n=0,C=t.length;n<C;n++){var s=n*2,o=t[n];if(S){if(o<i)continue;if(o==i)S=!1;else{var T=o-t[n-1],c=1-(o-i)/T;y.push(Zl(e,s-2,s,c)),y.push(Zl(e,s-1,s+1,c)),S=!1}}if(o<=a){if(y.push(e[s]),y.push(e[s+1]),o===a)break}else{var T=o-t[n-1],c=1-(o-a)/T;y.push(Zl(e,s-2,s,c)),y.push(Zl(e,s-1,s+1,c));break}}},"AddPathSegment"),Zl=r(function(e,t,i,a){var y=e[t],S=e[i];return EB(y,S,a)},"GetInterpolation"),zC=r(function(e){return e===0?0:e%1===0?1:CB(e,0,1)},"WrapT");const SB={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,i,a,y,S,n,C=0,s=0,o=t.length;s<o;s+=2)y=t[s],S=t[s+1],n=i===void 0?0:yB(i,a,y,S),C+=n,e.push(C),i=y,a=S;return this.totalPathLength=C,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,XC(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,i){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),XC(e.pathData,e.accumulationLengths,t,i,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},AB={draw(e,t,i){var a=this.toPoints();return t&&e.fillPoints(a,this.closePath,this.closePath),i&&e.strokePoints(a,this.closePath,this.closePath),this}};var PB=r(function(e,t){t===void 0&&(t=[]);for(var i=0,a=e.length-1;i<a;i+=2)t.push({x:e[i],y:e[i+1]});return t},"ToPoints");const RB=Phaser.Geom.Polygon;var OB=r(function(e,t){return t===void 0&&(t=new RB),t.setTo(e),t},"ToPolygon");const dm=class dm{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return PB(this.pathData)}toPolygon(t){return OB(this.pathData,t)}};r(dm,"PathDataBuilder");let pf=dm;Object.assign(pf.prototype,cB,xB,TB,SB,AB);const cm=class cm extends Mr{constructor(){super(),this.builder=new pf(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,i){return this.builder.startAt(t,i),this.dirty=!0,this}lineTo(t,i,a){return this.builder.lineTo(t,i,a),this.dirty=!0,this}verticalLineTo(t,i){return this.builder.verticalLineTo(t,i),this.dirty=!0,this}horizontalLineTo(t,i){return this.builder.horizontalLineTo(t,i),this.dirty=!0,this}ellipticalArc(t,i,a,y,S,n,C){return this.builder.ellipticalArc(t,i,a,y,S,n,C),this.dirty=!0,this}arc(t,i,a,y,S,n){return this.builder.arc(t,i,a,y,S,n),this.dirty=!0,this}quadraticBezierTo(t,i,a,y){return this.builder.quadraticBezierTo(t,i,a,y),this.dirty=!0,this}cubicBezierTo(t,i,a,y,S,n){return this.builder.cubicBezierTo(t,i,a,y,S,n),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,i,a){return this.builder.rotateAround(t,i,a),this.dirty=!0,this}scale(t,i,a,y){return this.builder.scale(t,i,a,y),this.dirty=!0,this}offset(t,i){return this.builder.offset(t,i),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,i,a){return this.builder.appendFromPathSegment(t.builder,i,a),this}copyPathFrom(t,i,a){return this.builder.clear().appendFromPathSegment(t.builder,i,a),this}setDisplayPathSegment(t,i){return this.builder.setDisplayPathSegment(t,i),this}};r(cm,"Lines");let ue=cm;const LB=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var la;let wB=(la=class extends Ua{constructor(t,i,a,y){t===void 0&&(t=0),i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=a),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,i),this.setSize(a,y)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}updateData(){this.pathData.length=0;var t=this.x,i=t+this.width,a=this.y,y=a+this.height;return this.pathData.push(t,a),this.pathData.push(i,a),this.pathData.push(i,y),this.pathData.push(t,y),this.pathData.push(t,a),super.updateData(),this}webglRender(t,i,a,y,S){if(this.isFilled){var n=t.fillTint,C=LB(this.fillColor,this.fillAlpha*a);n.TL=C,n.TR=C,n.BL=C,n.BR=C,t.batchFillRect(-y+this.x,-S+this.y,this.width,this.height)}this.isStroked&&md(t,this,a,y,S)}canvasRender(t,i,a){this.isFilled&&(ol(t,this),t.fillRect(-i,-a,this.width,this.height)),this.isStroked&&(ll(t,this),t.beginPath(),t.rect(-i,-a,this.width,this.height),t.stroke())}},r(la,"Rectangle"),la);const Jl=Phaser.Utils.Objects.GetValue,vm=class vm extends Mr{constructor(t,i,a,y,S,n){t===void 0&&(t=0),i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=a),S===void 0&&(S=0),n===void 0&&(n=6),super(),this.setTopLeftPosition(t,i),this.setSize(a,y),this.setRadius(S),this.setIterations(n),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var i=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==i,this._convexTL=i,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var i=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==i,this._convexTR=i,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var i=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==i,this._convexBL=i,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var i=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==i,this._convexBR=i,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=Jl(t,"tl",0),this.radiusTR=Jl(t,"tr",0),this.radiusBL=Jl(t,"bl",0),this.radiusBR=Jl(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var i=this.width,a=this.height,y,S=this.iterations+1;if(y=this.radiusTL,y>0)if(this._convexTL){var n=y,C=y;ce(n,C,y,y,180,270,!1,S,t)}else{var n=0,C=0;ce(n,C,y,y,90,0,!0,S,t)}else de(0,0,t);if(y=this.radiusTR,y>0)if(this._convexTR){var n=i-y,C=y;ce(n,C,y,y,270,360,!1,S,t)}else{var n=i,C=0;ce(n,C,y,y,180,90,!0,S,t)}else de(i,0,t);if(y=this.radiusBR,y>0)if(this._convexBR){var n=i-y,C=a-y;ce(n,C,y,y,0,90,!1,S,t)}else{var n=i,C=a;ce(n,C,y,y,270,180,!0,S,t)}else de(i,a,t);if(y=this.radiusBL,y>0)if(this._convexBL){var n=y,C=a-y;ce(n,C,y,y,90,180,!1,S,t)}else{var n=0,C=a;ce(n,C,y,y,360,270,!0,S,t)}else de(0,a,t);return t.push(t[0],t[1]),LP(this.x,this.y,t),super.updateData(),this}};r(vm,"RoundRectangle");let Ha=vm;const MB=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var ua;let DB=(ua=class extends Ua{constructor(t,i,a,y,S,n){t===void 0&&(t=0),i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=0),S===void 0&&(S=0),n===void 0&&(n=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,i),this.setP1(a,y),this.setP2(S,n)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,i){return this.dirty=this.dirty||this.x2!==t||this.y2!==i,this.x2=t,this.y2=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,i,a,y,S){if(this.isFilled){var n=MB(this.fillColor,this.fillAlpha*a),C=this.x0-y,s=this.y0-S,o=this.x1-y,T=this.y1-S,c=this.x2-y,l=this.y2-S,u=i.getX(C,s),h=i.getY(C,s),f=i.getX(o,T),v=i.getY(o,T),d=i.getX(c,l),p=i.getY(c,l);t.batchTri(u,h,f,v,d,p,n,n,n)}this.isStroked&&md(t,this,a,y,S)}canvasRender(t,i,a){var y=this.x1-i,S=this.y1-a,n=this.x2-i,C=this.y2-a,s=this.x3-i,o=this.y3-a;t.beginPath(),t.moveTo(y,S),t.lineTo(n,C),t.lineTo(s,o),t.closePath(),this.isFilled&&(ol(t,this),t.fill()),this.isStroked&&(ll(t,this),t.stroke())}},r(ua,"Triangle"),ua);const FB={buildShapes(){this.addShape(new Ha().setName("box")).addShape(new ue().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,i=Math.min(e,t),a=i*2,y=e-i,S=t-i,n=this.boxLineWidth,C=Math.max(a/10,2),s=this.getShape("box"),o=this.getShape("checker");if(this.isSizeChanged){var l=a*(1-this.boxSize)/2,T=n/2,c=a*this.boxSize-n;s.setTopLeftPosition(y+T+l,S+T+l).setSize(c,c),this.isCircleShape?s.setRadius(c/2):s.setRadius(0);var l=a*(1-this.checkerSize)/2,u=a*this.checkerSize/4,h=u*1,f=u*2,v=u*3;o.startAt(h,f).lineTo(f,v).lineTo(v,h).offset(y+l,S+l).end()}this.checked?(s.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(n,this.boxStrokeColor,this.boxStrokeAlpha),o.lineStyle(C,this.checkerColor)):(s.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(n,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),o.lineStyle()),this.checked&&o.setDisplayPathSegment(this.checkerAnimProgress)}},Cs=Phaser.Utils.Objects.GetValue,bB=Phaser.Math.Linear,pm=class pm extends ls{constructor(t,i){super(t,i),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var i=this.target;this.propertyKey=Cs(t,"key","value");var a=i[this.propertyKey];return this.fromValue=Cs(t,"from",a),this.toValue=Cs(t,"to",a),this.setEase(Cs(t,"ease",this.ease)),this.setDuration(Cs(t,"duration",this.duration)),this.setRepeat(Cs(t,"repeat",0)),this.setDelay(Cs(t,"delay",0)),this.setRepeatDelay(Cs(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),i[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,i){var a=i.t;a=this.easeFn(a),t[this.propertyKey]=bB(this.fromValue,this.toValue,a)}};r(pm,"EaseValueTask");let Je=pm;const NB={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new Je(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var wP={};Object.assign(wP,sB,rB,FB,NB);const to=23730,BB=16777215,Jt=Phaser.Utils.Objects.GetValue,IC=Phaser.Utils.Objects.IsPlainObject,gm=class gm extends Ai{constructor(t,i,a,y,S,n,C){IC(i)?(C=i,i=Jt(C,"x",0),a=Jt(C,"y",0),y=Jt(C,"width",2),S=Jt(C,"height",2),n=Jt(C,"color",to)):IC(n)&&(C=n,n=Jt(C,"color",to)),super(t,i,a,y,S),this.type="rexCheckbox",n===void 0&&(n=to),this.setBoxShape(Jt(C,"circleBox",!1)),this.setBoxFillStyle(n,Jt(C,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(Jt(C,"uncheckedColor",null),Jt(C,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(Jt(C,"boxLineWidth",4),Jt(C,"boxStrokeColor",n),Jt(C,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,Jt(C,"uncheckedBoxStrokeColor",this.boxStrokeColor),Jt(C,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(Jt(C,"checkerColor",BB),Jt(C,"checkerAlpha",1)),this.setBoxSize(Jt(C,"boxSize",1)),this.setCheckerSize(Jt(C,"checkerSize",1)),this.setCheckerAnimationDuration(Jt(C,"animationDuration",150)),this.buildShapes();var s=Jt(C,"checked");s===void 0&&(s=Jt(C,"value",!1)),this.setValue(s)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}};r(gm,"CheckboxShape");let gf=gm;Object.assign(gf.prototype,wP);const Lh=Phaser.Utils.Objects.GetValue;var fa;let vs=(fa=class extends Yt{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(Lh(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(Lh(t,"enable",!0)),this.setMode(Lh(t,"mode",1)),this.setClickInterval(Lh(t,"clickInterval",100)),this.setDragThreshold(Lh(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=GB[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,i,a,y){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,y),this.mode===0&&this.click(t.downTime,t,y))}onRelease(t,i,a,y){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,y),this.mode===1&&this.click(t.upTime,t,y),this.pointer=void 0)}onPointOut(t,i){this.pointer===t&&this.cancel()}onMove(t,i,a,y){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,i,a,y){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,y),this):this}onOut(t,i){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,i),this):this}click(t,i,a){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,i,a),this;this.pointer=void 0;var y=this.lastClickTime;return y!==void 0&&t-y<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,i,a),this)}cancel(){return this.pointer=void 0,this}},r(fa,"Button"),fa);const GB={press:0,pointerdown:0,release:1,pointerup:1},Es=Phaser.Utils.Objects.GetValue,$C=Phaser.Utils.Objects.IsPlainObject,mm=class mm extends gf{constructor(t,i,a,y,S,n,C){$C(i)?(C=i,i=Es(C,"x",0),a=Es(C,"y",0),y=Es(C,"width",2),S=Es(C,"height",2),n=Es(C,"color",to)):$C(n)&&(C=n,n=Es(C,"color",to)),super(t,i,a,y,S,n,C),this._click=new vs(this,Es(C,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(Es(C,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}};r(mm,"Checkbox");let So=mm;rt.register("checkbox",function(e,t,i,a,y,S){var n=new So(this.scene,e,t,i,a,y,S);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.Checkbox",So);const UB={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},HB={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},YB={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hc=r(function(e,t,i){return(t-e)*i+e},"Linear$m"),VB=r(function(e,t,i){var a=hc(po(e),po(t),i),y=hc(go(e),go(t),i),S=hc(mo(e),mo(t),i);return(a&255)<<16|(y&255)<<8|S&255},"MixColor");const KC=Phaser.Math.Linear,WB={buildShapes(){this.addShape(new Ha().setName("track")).addShape(new Ha().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,i=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,a=this.getShape("track");if(this.isSizeChanged){var y=e*this.trackWidth,S=t*this.trackHeight,n=(e-y)/2,C=(t-S)/2,s=t*this.trackRadius;a.setTopLeftPosition(n,C).setSize(y,S).setRadius(s)}var o=VB(this.falseValueTrackColor,this.trackFillColor,i),T=KC(this.falseValueTrackFillAlpha,this.trackFillAlpha,i);a.fillStyle(o,T);var c=this.getShape("thumb");if(this.isSizeChanged){var l=e*this.thumbWidth,u=t*this.thumbHeight,h=t*this.thumbRadius;c.setSize(l,u).setRadius(h)}var f=KC(this.thumbLeftX,this.thumbRightX,i)*e;this.rtl&&(f=e-f);var v=t/2;c.setCenterPosition(f,v),c.fillStyle(this.thumbColor,this.thumbAlpha)}},kB={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new Je(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var MP={};Object.assign(MP,UB,HB,YB,WB,kB);var XB=r(function(e){var t=.3*po(e)+.59*go(e)+.11*mo(e);return(t&255)<<16|(t&255)<<8|t&255},"GrayScale");const Qt=Phaser.Utils.Objects.GetValue,ZC=Phaser.Utils.Objects.IsPlainObject,oc=23730,zB=16777215,xm=class xm extends Ai{constructor(t,i,a,y,S,n,C){ZC(i)?(C=i,i=Qt(C,"x",0),a=Qt(C,"y",0),y=Qt(C,"width",2),S=Qt(C,"height",2),n=Qt(C,"color",oc)):ZC(n)&&(C=n,n=Qt(C,"color",oc)),super(t,i,a,y,S),this.type="rexToggleSwitch",n===void 0&&(n=oc),this.setTrackFillStyle(n,Qt(C,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(Qt(C,"falseValueTrackColor",XB(n)),Qt(C,"falseValueTrackFillAlpha",1)),this.setThumbStyle(Qt(C,"thumbColor",zB),Qt(C,"thumbAlpha",1)),this.setTrackSize(Qt(C,"trackWidth",.9),Qt(C,"trackHeight",.5)),this.setTrackRadius(Qt(C,"trackRadius",this.trackHeight*.5));var s=Qt(C,"thumbHeight",void 0),o=Qt(C,"thumbWidth",s);o===void 0&&(o=this.trackHeight*.9),this.setThumbSize(o,s),this.setThumbRadius(Qt(C,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(Qt(C,"thumbLeft",.3),Qt(C,"thumbRight",void 0)),this.setRTL(Qt(C,"rtl",!1)),this.setToggleAnimationDuration(Qt(C,"animationDuration",150)),this.buildShapes(),this.setValue(Qt(C,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,i){i===void 0&&(i=this.toggleAnimDuration);var a=this.toggleAnimDuration;return this.toggleAnimDuration=i,this.value=t,this.toggleAnimDuration=a,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}};r(xm,"ToggleSwitchShape");let mf=xm;Object.assign(mf.prototype,MP);const JC=Phaser.Utils.Objects.GetValue,Tm=class Tm extends mf{constructor(t,i,a,y,S,n,C){super(t,i,a,y,S,n,C),this._click=new vs(this,JC(C,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(JC(C,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}};r(Tm,"ToggleSwitch");let Ao=Tm;rt.register("toggleSwitch",function(e,t,i,a,y,S){var n=new Ao(this.scene,e,t,i,a,y,S);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.ToggleSwitch",Ao);const IB={loadFromURL(e,t){var i=this,a=new Image;return a.onload=function(){i.width!==a.width||i.height!==a.height?i.resize(a.width,a.height):i.clear(),i.context.drawImage(a,0,0),i.updateTexture(),t&&t(),a.onload=null,a.src="",a.remove()},a.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(i,a){t.loadFromURL(e,i)})},loadFromFile(e,t){var i=URL.createObjectURL(e);return this.loadFromURL(i,function(){URL.revokeObjectURL(i),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(i,a){t.loadFromFile(e,i)})}},ym=class ym extends Js{};r(ym,"Canvas");let us=ym;Object.assign(us.prototype,IB);rt.register("canvas",function(e,t,i,a){var y=new us(this.scene,e,t,i,a);return this.scene.add.existing(y),y});it(window,"RexPlugins.UI.Canvas",us);const ln=Phaser.Utils.Objects.GetValue,Cm=class Cm extends Js{constructor(t,i,a,y,S,n){super(t,i,a),this.type="rexCircleMaskImage",this.setTexture(y,S,n)}setTexture(t,i,a){typeof i=="object"&&(a=i,i=void 0),typeof a=="string"&&(a={maskType:a});var y=ln(a,"maskType",0),S=ln(a,"backgroundColor",void 0),n=ln(a,"strokeColor",void 0),C=n!=null?10:0,s=ln(a,"strokeWidth",C);if(y===void 0?y=0:typeof y=="string"&&(y=$B[y]),this._textureKey=t,this._frameName=i,y===null)return this.loadTexture(t,i),this.dirty=!0,this;var o=this.scene.sys.textures.getFrame(t,i);if(!o)return this;o.cutWidth!==this.width||o.cutHeight!==this.height?this.setCanvasSize(o.cutWidth,o.cutHeight):this.clear();var T=this.canvas,c=this.context,l=T.width,u=T.height;S!=null&&(c.fillStyle=S,c.fillRect(0,0,l,u)),c.save(),c.beginPath();var h=s/2;switch(y){case 1:var g=Math.floor(l/2),m=Math.floor(u/2),f=g-h,v=m-h;c.ellipse(g,m,f,v,0,0,2*Math.PI);break;case 2:var d=ln(a,"radius",0),p=ln(a,"iteration",void 0);SA(c,h,h,l-s,u-s,d,p);break;default:var g=Math.floor(l/2),m=Math.floor(u/2),x=Math.min(g,m)-h;c.arc(g,m,x,0,2*Math.PI);break}return n!=null&&(c.strokeStyle=n,c.lineWidth=s,c.stroke()),c.clip(),this.loadTexture(t,i),c.restore(),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}};r(Cm,"CircleMaskImage");let xf=Cm;const $B={circle:0,ellipse:1,roundRectangle:2};rt.register("circleMaskImage",function(e,t,i,a,y){var S=new xf(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.CircleMaskImage",xf);const wh=Phaser.Utils.Objects.GetValue,Em=class Em extends Js{constructor(t,i,a,y,S,n){super(t,i,a),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(y,S,n)}setTexture(t,i,a){typeof i=="object"&&(a=i,i=void 0),typeof a=="string"&&(a={mask:{key:a}});var y=wh(a,"mask.key"),S=wh(a,"mask.frame"),n=wh(a,"mask.invertAlpha",!1),C=wh(a,"mask.scale"),s=wh(a,"backgroundColor");if(y){this._maskKey=y,this._maskFrame=S,this._maskScale=C;var o=y?this.scene.sys.textures.get(y):null;this.maskFrame=o?o.get(S):null}this._textureKey=t,this._frameName=i;var T=this.maskFrame;if(T===null)return this.loadTexture(t,i),this.dirty=!0,this;var c=s!=null;this.loadTexture(t,i);var l=this.canvas,u=this.context,h=l.width,f=l.height;u.save(),u.globalCompositeOperation=n?"destination-out":"destination-in";var v,d;this._maskScale!=null?(v=T.cutWidth*this._maskScale,d=T.cutHeight*this._maskScale):(v=h,d=f);var p=(h-v)/2,g=(f-d)/2;return this.drawFrame(this._maskKey,this._maskFrame,p,g,v,d),u.restore(),c&&(u.save(),u.globalCompositeOperation="destination-over",u.fillStyle=s,u.fillRect(0,0,h,f),u.restore()),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}};r(Em,"AlphaMaskImage");let Tf=Em;rt.register("alphaMaskImage",function(e,t,i,a,y){var S=new Tf(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.AlphaMaskImage",Tf);const KB=Phaser.Math.Linear,QC=Phaser.Math.Percent,ZB={setValue(e,t,i){return e==null?this:(t!==void 0&&(e=QC(e,t,i)),this.value=e,this)},addValue(e,t,i){return t!==void 0&&(e=QC(e,t,i)),this.value+=e,this},getValue(e,t){var i=this.value;return e!==void 0&&t!==void 0&&(i=KB(e,t,i)),i}},JB=Phaser.Math.Percent,QB={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,i){return e==null?this:(t!==void 0&&(e=JB(e,t,i)),this.easeValueTask===void 0&&(this.easeValueTask=new Je(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,i,a){return i===void 0&&(i=-1),a===void 0&&(a=0),this.easeValueTask===void 0&&(this.easeValueTask=new Je(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:i,repeatDelay:a}),this}},Mh=Phaser.Utils.Objects.GetValue,jB=Phaser.Math.Clamp;function Qs(e){const i=class i extends e{bootProgressBase(y){this.eventEmitter=Mh(y,"eventEmitter",this);var S=Mh(y,"valuechangeCallback",null);if(S!==null){var n=Mh(y,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",S,n)}return this.setEaseValuePropName("value").setEaseValueDuration(Mh(y,"easeValue.duration",0)).setEaseValueFunction(Mh(y,"easeValue.ease","Linear")),this}get value(){return this._value}set value(y){y=jB(y,0,1);var S=this._value,n=S!=y;this.dirty=this.dirty||n,this._value=y,n&&this.eventEmitter.emit("valuechange",this._value,S,this.eventEmitter)}};r(i,"ProgressBase");let t=i;return Object.assign(t.prototype,ZB,QB),t}r(Qs,"ProgressBase");const qB=Phaser.Math.RadToDeg,jC=Phaser.Math.DegToRad;var qC=r(function(e,t,i,a,y,S,n,C){var s=Math.abs(n-S)===360,o=jC(S),T=jC(n),c=Math.cos(o),l=Math.sin(o),u=Math.cos(T),h=Math.sin(T);return e.startAt(t+c*a,i+l*a),e.arc(t,i,a,S,n,C),s&&y===0||(e.lineTo(t+u*y,i+h*y),y>0&&e.arc(t,i,y,n,S,!C)),e.close(),e},"FillArc");const _B={buildShapes(){var e=this.iterations;this.addShape(new ue().setIterations(e).setName("track")).addShape(new ue().setIterations(e).setName("bar")).addShape(new Ye().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,i=this.radius,a=i-t,y=this.getShape("track");this.trackColor!=null&&this.thickness>0?(y.fillStyle(this.trackColor),qC(y,e,e,i,a,0,360,!1)):y.reset();var S=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var n,C,s;if(this.value===1)n=!1,C=0,s=360;else{n=this.anticlockwise,C=qB(this.startAngle);var o=360*(n?1-this.value:this.value);s=o+C}S.fillStyle(this.barColor),qC(S,e,e,i+1,a-1,C,s,!1)}else S.reset();var T=this.getShape("center");this.centerColor&&a>0?T.setCenterPosition(e,e).setRadius(a).fillStyle(this.centerColor):T.reset()}},di=Phaser.Utils.Objects.GetValue,tG=Phaser.Utils.Objects.IsPlainObject,eG=Phaser.Math.Clamp,iG=Phaser.Math.DegToRad(270);var da;let Sg=(da=class extends Qs(Ai){constructor(t,i,a,y,S,n,C){tG(i)&&(C=i,i=di(C,"x",0),a=di(C,"y",0),y=di(C,"radius",1),S=di(C,"barColor",void 0),n=di(C,"value",0)),y===void 0&&(y=1);var s=y*2;super(t,i,a,s,s),this.type="rexCircularProgress",this.bootProgressBase(C),this.setRadius(y),this.setTrackColor(di(C,"trackColor",void 0)),this.setBarColor(S),this.setCenterColor(di(C,"centerColor",void 0)),this.setThickness(di(C,"thickness",.2)),this.setStartAngle(di(C,"startAngle",iG)),this.setAnticlockwise(di(C,"anticlockwise",!1)),this.iterations=di(C,"iterations",128),this.buildShapes(),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=eG(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}},r(da,"CircularProgress"),da);Object.assign(Sg.prototype,_B);rt.register("circularProgress",function(e,t,i,a,y,S){var n=new Sg(this.scene,e,t,i,a,y,S);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.CircularProgress",Sg);var lc=r(function(e,t,i,a,y,S,n,C,s,o,T,c){o===void 0&&(o=0),T===void 0&&(T=2*Math.PI),c===void 0&&(c=!1),t.beginPath(),t.ellipse(i,a,y,S,0,o,T,c),n!=null&&(t.fillStyle=n,t.fill()),C!=null&&(t.strokeStyle=C,t.lineWidth=s,t.stroke())},"DrawCircle");const _C=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],sG=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var ap={},tE;for(var Ql=0,rG=_C.length;Ql<rG;Ql++)tE=_C[Ql].toLowerCase(),ap[tE]=sG[Ql];var nG=r(function(e){return e=e.toLowerCase(),ap.hasOwnProperty(e)?ap[e]:null},"ColorNameToInteger"),hp=r(function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=nG(e)),e},"ColorStringToInteger");const aG=Phaser.Math.DegToRad,uc=Phaser.Math.Linear;var hG=r(function(e,t,i,a,y,S,n,C,s,o,T,c,l){o===void 0&&(o=0),T===void 0&&(T=2*Math.PI),c===void 0&&(c=!1),l===void 0&&(l=2),n=hp(n),C=hp(C),Dh=aC(n,Dh),Fh=aC(C,Fh);var u=aG(l),h;c?h=o-T:h=T-o,h<0&&(h+=2*Math.PI);var f=Math.ceil(h/u),v=h/f;c&&(v=-v);for(var d=0;d<f;d++){var p=d/f,g=Math.round(uc(Dh.r,Fh.r,p)),m=Math.round(uc(Dh.g,Fh.g,p)),x=Math.round(uc(Dh.b,Fh.b,p)),E=o+d*v,A=E+v;d<f-1&&(A+=v/2),t.beginPath(),t.ellipse(i,a,y,S,0,E,A,c),t.strokeStyle=`rgb(${g},${m},${x})`,t.lineWidth=s,t.stroke()}},"DrawGradientArc"),Dh,Fh,oG=r(function(e,t,i,a,y,S,n,C,s,o,T){s===void 0&&C!=null&&(s=2),t.font=S,t.textAlign=o,t.textBaseline=T,t.fillStyle=n,t.strokeStyle=C,t.lineWidth=s,t.lineCap="round",t.lineJoin="round",C!=null&&C!=="none"&&s>0&&t.strokeText(y,i,a),n!=null&&n!=="none"&&t.fillText(y,i,a)},"DrawText");const fc=Phaser.Math.PI2;var lG=r(function(){var e=this.radius,t=this.thickness*this.radius,i=this.radius-t/2,a=this.radius-t,y=this.canvas,S=this.context,n=this.anticlockwise,C=this.startAngle,s=this.endAngle,o=this._deltaAngle;if(this.trackColor&&t>0&&(S.save(),lc(y,S,e,e,i,i,void 0,this.trackColor,t,C,s,n),S.restore()),this.barColor&&i>0){var T;this.value>=1?T=s:n?T=(C-o*this.value+fc)%fc:T=(C+o*this.value)%fc,S.save(),this.barColor2?hG(y,S,e,e,i,i,this.barColor2,this.barColor,t,C,T,n):lc(y,S,e,e,i,i,void 0,this.barColor,t,C,T,n),S.restore()}if(this.centerColor&&a>0){var c;this.centerColor2?(c=this.context.createRadialGradient(e,e,0,e,e,a),c.addColorStop(0,this.centerColor),c.addColorStop(1,this.centerColor2)):c=this.centerColor,S.save(),lc(y,S,e,e,a,a,c),S.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(S.save(),oG(y,S,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),S.restore())},"DrawContent$1");const It=Phaser.Utils.Objects.GetValue,uG=Phaser.Utils.Objects.IsPlainObject,fG=Phaser.Math.Clamp,dG=Phaser.Math.DegToRad(270),yf=Phaser.Math.PI2,Sm=class Sm extends Qs(Js){constructor(t,i,a,y,S,n,C){uG(i)&&(C=i,i=It(C,"x",0),a=It(C,"y",0),y=It(C,"radius",1),S=It(C,"barColor",void 0),n=It(C,"value",0));var s=y*2,o=It(C,"resolution",1);super(t,i,a,s,s,o),this.type="rexCircularProgressCanvas",this.bootProgressBase(C),this.setRadius(y),this.setTrackColor(It(C,"trackColor",void 0)),this.setBarColor(S),this.setBarColor2(It(C,"barColor2",void 0)),this.setCenterColor(It(C,"centerColor",void 0)),this.setThickness(It(C,"thickness",.2)),this.setAnticlockwise(It(C,"anticlockwise",!1)),this.setStartAngle(It(C,"startAngle",dG));var T=It(C,"endAngle");T===void 0&&(this.anticlockwise?T=this.startAngle-yf:T=this.startAngle+yf),this.setEndAngle(It(C,"endAngle",T)),this.setTextColor(It(C,"textColor",void 0)),this.setTextStrokeColor(It(C,"textStrokeColor",void 0),It(C,"textStrokeThickness",void 0));var c=It(C,"textFont",void 0);c?this.setTextFont(c):this.setTextFont(It(C,"textSize","16px"),It(C,"textFamily","Courier"),It(C,"textStyle","")),this.setTextFormatCallback(It(C,"textFormatCallback",void 0),It(C,"textFormatCallbackScope",void 0)),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=dc(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=dc(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=dc(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=fG(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,i){return this.centerColor=t,this.centerColor2=i,this}get textColor(){return this._textColor}set textColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,i){return i===void 0&&(i=2),this.textStrokeColor=t,this.textStrokeThickness=i,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,i,a){var y;return i===void 0?y=t:y=a+" "+t+" "+i,this.textFont=y,this}setTextFormatCallback(t,i){return this.textFormatCallback=t,this.textFormatCallbackScope=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),lG.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var i;return this.textFormatCallbackScope?i=this.textFormatCallback(t):i=this.textFormatCallback.call(this.textFormatCallbackScope,t),i}};r(Sm,"CircularProgress");let Ya=Sm;var dc=r(function(e,t,i){return i?e<=t?yf+e-t:e-t:e>=t?yf+t-e:t-e},"GetDeltaAngle");rt.register("circularProgressCanvas",function(e,t,i,a,y,S){var n=new Ya(this.scene,e,t,i,a,y,S);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.CircularProgressCanvas",Ya);var cG=r(function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,a=this.getShape("trackFill");a.fillStyle(this.trackColor),a.isFilled&&cc(a,0,0,t,i,e);var y=this.getShape("bar");if(y.fillStyle(this.barColor),y.isFilled){var S,n;this.rtl?(S=t*(1-this.value),n=t):(S=0,n=t*this.value),cc(y,S,0,n,i,e)}var C=this.getShape("trackStroke");C.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),C.isStroked&&cc(C,0,0,t,i,e)},"UpdateShapes$1"),cc=r(function(e,t,i,a,y,S){var n=(t+a)/2;return S>=0?e.startAt(n+S,i).lineTo(a+S,i).lineTo(a,y).lineTo(t,y).lineTo(t+S,i).lineTo(n+S,i):e.startAt(n,i).lineTo(a,i).lineTo(a-S,y).lineTo(t-S,y).lineTo(t,i).lineTo(n,i),e.close(),e},"BuildRectangle");const bh=Phaser.Utils.Objects.GetValue,vc=Phaser.Utils.Objects.IsPlainObject;var ca;let Ed=(ca=class extends Qs(Ai){constructor(t,i,a,y,S,n,C,s){vc(i)?(s=i,i=s.x,a=s.y,y=s.width,S=s.height,n=s.barColor,C=s.value):vc(y)?(s=y,y=s.width,S=s.height,n=s.barColor,C=s.value):vc(n)&&(s=n,n=s.barColor,C=s.value),i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=2),S===void 0&&(S=y),C===void 0&&(C=0),super(t,i,a,y,S,s),this.type="rexLineProgress",this.bootProgressBase(s),this.addShape(new ue().setName("trackFill")).addShape(new ue().setName("bar")).addShape(new ue().setName("trackStroke")),this.setTrackColor(bh(s,"trackColor",void 0)),this.setBarColor(n),this.setTrackStroke(bh(s,"trackStrokeThickness",2),bh(s,"trackStrokeColor",void 0)),this.setSkewX(bh(s,"skewX",0)),this.setRTL(bh(s,"rtl",!1)),this.setValue(C)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}},r(ca,"LineProgress"),ca);var vG={updateShapes:cG};Object.assign(Ed.prototype,vG);rt.register("lineProgress",function(e,t,i,a,y,S,n){var C=new Ed(this.scene,e,t,i,a,y,S,n);return this.scene.add.existing(C),C});it(window,"RexPlugins.UI.LineProgress",Ed);var op=r(function(e,t,i,a,y){e.setIterations(y).start();var C=a.tl;if(Xt(C))if(C.convex){var S=C.x,n=C.y;e.ellipticalArc(S,n,C.x,C.y,180,270,!1)}else{var S=0,n=0;e.ellipticalArc(S,n,C.x,C.y,90,0,!0)}else e.lineTo(0,0);var C=a.tr;if(Xt(C))if(C.convex){var S=t-C.x,n=C.y;e.ellipticalArc(S,n,C.x,C.y,270,360,!1)}else{var S=t,n=0;e.ellipticalArc(S,n,C.x,C.y,180,90,!0)}else e.lineTo(t,0);var C=a.br;if(Xt(C))if(C.convex){var S=t-C.x,n=i-C.y;e.ellipticalArc(S,n,C.x,C.y,0,90,!1)}else{var S=t,n=i;e.ellipticalArc(S,n,C.x,C.y,270,180,!0)}else e.lineTo(t,i);var C=a.bl;if(Xt(C))if(C.convex){var S=C.x,n=i-C.y;e.ellipticalArc(S,n,C.x,C.y,90,180,!1)}else{var S=0,n=i;e.ellipticalArc(S,n,C.x,C.y,360,270,!0)}else e.lineTo(0,i);return e.close(),e},"BuildRoundRectangle"),jl=Phaser.Math.RadToDeg,pG=r(function(e,t,i,a,y){var S=t*y,o=a.tl;if(Xt(o)){var n;S>o.x?n=90:n=jl(Math.acos((o.x-S)/o.x));var C=o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,180,180+n,!1)}else e.lineTo(0,0);var o=a.tr;if(Xt(o)&&S>t-o.x){var n=90-jl(Math.acos((S-(t-o.x))/o.x)),C=t-o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,270,270+n,!1)}else e.lineTo(S,0);var o=a.br;if(Xt(o)&&S>t-o.x){var n=90-jl(Math.acos((S-(t-o.x))/o.x)),C=t-o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,90-n,90,!1)}else e.lineTo(S,i);var o=a.bl;if(Xt(o)){var n;S>o.x?n=90:n=jl(Math.acos((o.x-S)/o.x));var C=o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,180-n,180,!1)}else e.lineTo(0,i)},"BuildRoundRectangleBarDirection0"),ql=Phaser.Math.RadToDeg,gG=r(function(e,t,i,a,y){var S=i*y,o=a.tl;if(Xt(o)){var n;S>o.y?n=90:n=ql(Math.acos((o.y-S)/o.y));var C=o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,270-n,270,!1)}else e.lineTo(0,0);var o=a.tr;if(Xt(o)){var n;S>o.y?n=90:n=ql(Math.acos((o.y-S)/o.y));var C=t-o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,270,270+n,!1)}else e.lineTo(t,0);var o=a.br;if(Xt(o)&&S>i-o.y){var n=90-ql(Math.acos((S-(i-o.y))/o.y)),C=t-o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,0,0+n,!1)}else e.lineTo(t,S);var o=a.bl;if(Xt(o)&&S>i-o.y){var n=90-ql(Math.acos((S-(i-o.y))/o.y)),C=o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,180-n,180,!1)}else e.lineTo(0,S)},"BuildRoundRectangleBarDirection1"),_l=Phaser.Math.RadToDeg,mG=r(function(e,t,i,a,y){var S=t*y,o=a.tr;if(Xt(o)){var n;S>o.x?n=90:n=_l(Math.acos((o.x-S)/o.x));var C=t-o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,360-n,360,!1)}else e.lineTo(t,0);var o=a.br;if(Xt(o)){var n;S>o.x?n=90:n=_l(Math.acos((o.x-S)/o.x));var C=t-o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,0,0+n,!1)}else e.lineTo(t,i);var o=a.bl;if(Xt(o)&&S>t-o.x){var n=90-_l(Math.acos((S-(t-o.x))/o.x)),C=o.x,s=i-o.y;e.ellipticalArc(C,s,o.x,o.y,90,90+n,!1)}else e.lineTo(t-S,i);var o=a.tl;if(Xt(o)&&S>t-o.x){var n=90-_l(Math.acos((S-(t-o.x))/o.x)),C=o.x,s=o.y;e.ellipticalArc(C,s,o.x,o.y,270-n,270,!1)}else e.lineTo(t-S,0)},"BuildRoundRectangleBarDirection2"),tu=Phaser.Math.RadToDeg,xG=r(function(e,t,i,a,y){var S=i*y,o=a.br;if(Xt(o)){S>o.y?s=90:s=tu(Math.acos((o.y-S)/o.y));var n=t-o.x,C=i-o.y;e.ellipticalArc(n,C,o.x,o.y,90-s,90,!1)}else e.lineTo(t,i);var o=a.bl;if(Xt(o)){S>o.y?s=90:s=tu(Math.acos((o.y-S)/o.y));var n=o.x,C=i-o.y;e.ellipticalArc(n,C,o.x,o.y,90,90+s,!1)}else e.lineTo(0,i);var o=a.tl;if(Xt(o)&&S>i-o.y){var s=90-tu(Math.acos((S-(i-o.y))/o.y)),n=o.x,C=o.y;e.ellipticalArc(n,C,o.x,o.y,180,180+s,!1)}else e.lineTo(0,i-S);var o=a.tr;if(Xt(o)&&S>i-o.y){var s=90-tu(Math.acos((S-(i-o.y))/o.y)),n=t-o.x,C=o.y;e.ellipticalArc(n,C,o.x,o.y,360-s,360,!1)}else e.lineTo(t,i-S)},"BuildRoundRectangleBarDirection3"),TG=r(function(e,t,i,a,y,S,n,C){if(e.setIterations(C).start(),y===0)return e;if(y===1)return op(e,t,i,a,C);var s;return S===0?s=n?mG:pG:s=n?xG:gG,s(e,t,i,a,y),e.close(),e},"BuildRoundRectangleBar"),yG=r(function(){var e=this.width,t=this.height,i=this.rrGeom.cornerRadius,a=this.value,y=this.orientation,S=this.rtl,n=this.iteration+1,C=this.getShape("trackFill");C.fillStyle(this.trackColor),C.isFilled&&op(C,e,t,i,n);var s=this.getShape("bar");s.fillStyle(this.barColor),s.isFilled&&TG(s,e,t,i,a,y,S,n);var o=this.getShape("trackStroke");o.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),o.isStroked&&op(o,e,t,i,n)},"UpdateShapes"),CG={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Jr=r(function(e){return typeof e=="string"&&(e=CG[e]),e},"GetOrientationMode");const un=Phaser.Utils.Objects.GetValue,pc=Phaser.Utils.Objects.IsPlainObject,Am=class Am extends Qs(Ai){constructor(t,i,a,y,S,n,C,s,o){pc(i)?(o=i,i=o.x,a=o.y,y=o.width,S=o.height,n=o.radius,C=o.barColor,s=o.value):pc(y)?(o=y,y=o.width,S=o.height,n=o.radius,C=o.barColor,s=o.value):pc(n)&&(o=n,n=o.radius,C=o.barColor,s=o.value),i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=1),S===void 0&&(S=y),n===void 0&&(n=0),s===void 0&&(s=0),super(t,i,a,y,S,o),this.type="rexRoundRectangleProgress",this.rrGeom=new fg,this.bootProgressBase(o),this.addShape(new ue().setName("trackFill")).addShape(new ue().setName("bar")).addShape(new ue().setName("trackStroke")),this.setTrackColor(un(o,"trackColor",void 0)),this.setBarColor(C),this.setTrackStroke(un(o,"trackStrokeThickness",2),un(o,"trackStrokeColor",void 0)),this.setOrientation(un(o,"orientation",0)),this.setRTL(un(o,"rtl",!1)),this.setRadius(n),this.setIteration(un(n,"iteration",void 0)),this.setValue(s)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=Jr(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};r(Am,"RoundRectangleProgress");let Po=Am;var EG={updateShapes:yG};Object.assign(Po.prototype,EG);rt.register("roundRectanleProgress",function(e,t,i,a,y,S,n,C){var s=new Po(this.scene,e,t,i,a,y,S,n,C);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.RoundRectangleProgress",Po);var SG=r(function(e,t){e.save(),e.beginPath();var i=t[0];e.moveTo(i.x,i.y);for(var a=1,y=t.length;a<y;a++)i=t[a],e.lineTo(i.x,i.y);e.closePath(),e.restore()},"AddPolygonPath"),gc=r(function(e,t,i,a,y,S,n){n===void 0&&(n="round"),SG(t,i),t.lineJoin=n,a!=null&&(t.fillStyle=a,t.fill()),y!=null&&(t.strokeStyle=y,t.lineWidth=S,t.stroke())},"DrawPolygon"),AG=r(function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,a=this.canvas,y=this.context;(this.trackColor||this.trackStrokeColor)&&eE(0,0,t,i,e,this.trackPoints);var S,n;if(this.barColor&&(this.rtl?(S=t*(1-this.value),n=t):(S=0,n=t*this.value),eE(S,0,n,i,e,this.barPoints)),this.trackColor&&(y.save(),gc(a,y,this.trackPoints,this.trackColor),y.restore()),this.barColor){y.save();var C;if(this.barColor2){var s;if(this.isHorizontalGradient){var o=i/2;s=y.createLinearGradient(S,o,n,o)}else{var T=t/2;s=y.createLinearGradient(T,0,T,i)}s.addColorStop(0,this.rtl?this.barColor:this.barColor2),s.addColorStop(1,this.rtl?this.barColor2:this.barColor),C=s}else C=this.barColor;gc(a,y,this.barPoints,C),y.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(y.save(),gc(a,y,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),y.restore())},"DrawContent"),eE=r(function(e,t,i,a,y,S){S===void 0&&(S=[]),S.length=4;for(var n=0;n<4;n++)S[n]||(S[n]={});var C;return y>=0?(C=S[0],C.x=e+y,C.y=t,C=S[1],C.x=i+y,C.y=t,C=S[2],C.x=i,C.y=a,C=S[3],C.x=e,C.y=a):(C=S[0],C.x=e,C.y=t,C=S[1],C.x=i,C.y=t,C=S[2],C.x=i-y,C.y=a,C=S[3],C.x=e-y,C.y=a),S},"BuildPolygon");const se=Phaser.Utils.Objects.GetValue,mc=Phaser.Utils.Objects.IsPlainObject,Pm=class Pm extends Qs(Js){constructor(t,i,a,y,S,n,C,s){mc(i)?(s=i,i=se(s,"x",0),a=se(s,"y",0),y=se(s,"width",2),S=se(s,"height",2),n=se(s,"barColor",void 0),C=se(s,"value",0)):mc(y)?(s=y,y=se(s,"width",2),S=se(s,"height",2),n=se(s,"barColor",void 0),C=se(s,"value",0)):mc(n)&&(s=n,n=se(s,"barColor",void 0),C=se(s,"value",0));var o=se(s,"resolution",1);super(t,i,a,y,S,o),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(s),this.setTrackColor(se(s,"trackColor",void 0)),this.setBarColor(n,se(s,"barColor2",void 0),se(s,"isHorizontalGradient",void 0)),this.setTrackStroke(se(s,"trackStrokeThickness",2),se(s,"trackStrokeColor",void 0)),this.setSkewX(se(s,"skewX",0)),this.setRTL(se(s,"rtl",!1)),this.setValue(C)}get trackColor(){return this._trackColor}set trackColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,i,a){return a===void 0&&(a=!0),this.barColor=t,this.barColor2=i,this.isHorizontalGradient=a,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),AG.call(this)},this),this}};r(Pm,"LineProgress");let Ro=Pm;rt.register("circularProgressCanvas",function(e,t,i,a,y,S,n){var C=new Ro(this.scene,e,t,i,a,y,S,n);return this.scene.add.existing(C),C});it(window,"RexPlugins.UI.LineProgressCanvas",Ro);Phaser.Math.Wrap;const fn=Phaser.Math.Linear;var PG=r(function(){var e=this.getShape("triangle"),t=this.padding,i=this.width-t.right,a=0+t.left,y=this.height-t.bottom,S=0+t.top,n=(a+i)/2,C=(S+y)/2,s={0:{a:{x:a,y:S},b:{x:i,y:C},c:{x:a,y}},1:{a:{x:a,y:S},b:{x:n,y},c:{x:i,y:S}},2:{a:{x:i,y:S},b:{x:a,y:C},c:{x:i,y}},3:{a:{x:a,y},b:{x:n,y:S},c:{x:i,y}}},o,T,c,l,u,h;if(this.previousDirection===void 0){var f=s[this.direction],v=f.a,d=f.b,p=f.c;o=v.x,T=v.y,c=d.x,l=d.y,u=p.x,h=p.y}else{var g=s[this.previousDirection],m=s[this.direction],x=this.easeDirectionProgress;o=fn(g.a.x,m.a.x,x),T=fn(g.a.y,m.a.y,x),c=fn(g.b.x,m.b.x,x),l=fn(g.b.y,m.b.y,x),u=fn(g.c.x,m.c.x,x),h=fn(g.c.y,m.c.y,x)}e.startAt(o,T).lineTo(c,l).lineTo(u,h),this.arrowOnly?e.end():e.close()},"DrawFitTriangle");const RG=Phaser.Math.DegToRad,eu=RG(120);var OG=r(function(t){var t=this.getShape("triangle"),i=this.width/2,a=this.height/2,y=Math.min(i,a)*this.radius,S=this.verticeRotation;t.startAt(i+y*Math.cos(S+eu),a+y*Math.sin(S+eu)).lineTo(i+y*Math.cos(S),a+y*Math.sin(S)).lineTo(i+y*Math.cos(S-eu),a+y*Math.sin(S-eu)),this.arrowOnly?t.end():t.close()},"DrawCircleVerticesTriangle");const LG={buildShapes(){this.addShape(new ue().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?PG.call(this):OG.call(this)}},wG={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new Je(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},dn=Phaser.Utils.Objects.GetValue,MG=Phaser.Utils.Objects.IsPlainObject,DG=Phaser.Math.DegToRad,FG=Phaser.Math.RadToDeg,Rm=class Rm extends Ai{constructor(t,i,a,y,S,n,C){var s,o,T,c,l,u,h,f;if(MG(i)){var v=i;i=v.x,a=v.y,y=v.width,S=v.height,n=v.color,C=v.alpha,s=v.strokeColor,o=v.strokeAlpha,T=v.strokeWidth,c=v.arrowOnly,l=v.direction,u=v.easeDuration,h=v.padding,f=v.radius}i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=1),S===void 0&&(S=y),c===void 0&&(c=!1),l===void 0&&(l=0),u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=void 0),super(t,i,a,y,S),this.type="rexTriangle",this.setFillStyle(n,C),s!==void 0&&T===void 0&&(T=2),this.setStrokeStyle(T,s,o),this.setArrowOnly(c),this.setDirection(l,u),this.setPadding(h),this.setRadius(f),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=NG(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,i){return i!==void 0&&this.setEaseDuration(i),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,i,a,y){if(typeof t=="object"){var S=t,n=dn(S,"x",null);n!==null?(t=n,a=n):(t=dn(S,"left",0),a=dn(S,"right",t));var C=dn(S,"y",null);C!==null?(i=C,y=C):(i=dn(S,"top",0),y=dn(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),a===void 0&&(a=t),y===void 0&&(y=i);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=i||this.padding.right!=a||this.padding.bottom!=y,this.padding.left=t,this.padding.top=i,this.padding.right=a,this.padding.bottom=y,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return FG(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=DG(t)}setVerticeAngle(t){return this.verticeAngle=t,this}};r(Rm,"Triangle");let Dr=Rm;const bG={right:0,down:1,left:2,up:3};var NG=r(function(e){return typeof e=="string"&&(e=bG[e]),e=e%4,e},"ParseDirection");Object.assign(Dr.prototype,LG,wG);rt.register("triangle",function(e,t,i,a,y,S){var n=new Dr(this.scene,e,t,i,a,y,S);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.Triangle",Dr);pd();const BG=Phaser.GameObjects.Zone,GG=Phaser.Utils.Array.Add,UG=Phaser.Utils.Array.Remove;var va;let pl=(va=class extends BG{constructor(t,i,a,y,S){i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=1),S===void 0&&(S=1),super(t,i,a,y,S),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i,a=this.children.length-1;a>=0;a--)i=this.children[a],!i.parentContainer&&!i.displayList&&i.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var i=this;return GG(this.children,t,0,function(a){a.once("destroy",i.onChildDestroy,i)},this),this}remove(t,i){var a=this;return UG(this.children,t,function(y){y.off("destroy",a.onChildDestroy,a),i&&y.destroy()}),this}onChildDestroy(t,i){this.remove(t,!1)}clear(t){for(var i=this,a,y=0,S=this.children.length;y<S;y++)a=this.children[y],a.off("destroy",i.onChildDestroy,i),t&&a.destroy();return this.children.length=0,this}},r(va,"Base"),va);const iE=Phaser.GameObjects.Components;Phaser.Class.mixin(pl,[iE.Alpha,iE.Flip]);var Qe=r(function(e,t){var i;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent);else for(i=Qe(e);i&&i.name!==t;)i=Qe(i);return i},"GetParent$1"),DP=r(function(e){for(var t=Qe(e);t;)e=t,t=Qe(t);return e},"GetTopmostParent$1");const HG=Phaser.Math.DegToRad,YG=Phaser.Math.RadToDeg;var Ct=r(function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:r(function(){return YG(this.rotation)},"get"),set:r(function(i){this.rotation=HG(i)},"set")}),Object.defineProperty(t,"displayWidth",{get:r(function(){return e.width*this.scaleX},"get"),set:r(function(i){this.scaleX=i/e.width},"set")}),Object.defineProperty(t,"displayHeight",{get:r(function(){return e.height*this.scaleY},"get"),set:r(function(i){this.scaleY=i/e.height},"set")}),e.rexContainer=t}return e.rexContainer},"GetLocalState");const VG={setParent(e,t){t===void 0&&(t=this);var i=Ct(e);return t?(i.parent=t,i.self=e):(i.parent=null,i.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Qe(e,t)},getTopmostParent(e){return e===void 0&&(e=this),DP(e)}},ar=Phaser.Utils.Objects.GetValue,FP=pl.prototype.add;var sE=r(function(e,t){this.setParent(e);var i=Ct(e);return bP(i,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),FP.call(this,e),NP.call(this,e,i),this},"Add$8"),xc=r(function(e,t){this.setParent(e);var i=Ct(e);return bP(i,t),i.x=e.x,i.y=e.y,i.rotation=e.rotation,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i.alpha=e.alpha,i.visible=e.visible,i.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),FP.call(this,e),NP.call(this,e,i),this},"AddLocal"),bP=r(function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=ar(t,"syncPosition",!0),e.syncRotation=ar(t,"syncRotation",!0),e.syncScale=ar(t,"syncScale",!0),e.syncAlpha=ar(t,"syncAlpha",!0),e.syncScrollFactor=ar(t,"syncScrollFactor",!0),e.syncCameraFilter=ar(t,"syncCameraFilter",!0),e.syncDisplayList=ar(t,"syncDisplayList",!0))},"SetupSyncFlags"),NP=r(function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)},"SyncDisplayList$1");const WG={add(e){return Array.isArray(e)?this.addMultiple(e):sE.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):sE.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),i=0,a=e.length;i<a;i++)t[0]=e[i],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):xc.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):xc.call(this,e,t),this},addLocalMultiple(e){for(var t=0,i=e.length;t<i;t++)xc.call(this,e[t]);return this}},rE=pl.prototype.remove,kG=pl.prototype.clear,XG={remove(e,t){return Qe(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),rE.call(this,e,t),this)},unpin(e,t){return Qe(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),rE.call(this,e,t),this)},clear(e){for(var t=this.children,i=0,a=t.length;i<a;i++){var y=t[i];this.setParent(y,null),e||this.removeFromRenderLayer(y)}return kG.call(this,e),this}},zG={getLocalState(e){return Ct(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,i=e.length;t<i;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},IG={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),i=Math.sin(-this.rotation),a=e.x,y=e.y;return e.x=a*t-y*i,e.y=a*i+y*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),i=Math.sin(this.rotation),a=e.x,y=e.y;return e.x=a*t-y*i,e.y=a*i+y*t,e.x+=this.x,e.y+=this.y,e}};var Oo=r(function(e,t){return e===t?1:e/t},"GetScale");const $G={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=Ct(e),i=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,i.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+i.rotation),t.syncScale&&(e.scaleX=t.scaleX*i.scaleX,e.scaleY=t.scaleY*i.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=Ct(e),i=t.parent;return t.x=e.x,t.y=e.y,i.worldToLocal(t),t.scaleX=Oo(e.scaleX,i.scaleX),t.scaleY=Oo(e.scaleY,i.scaleY),t.rotation=e.rotation-i.rotation,this},setChildPosition(e,t,i){return e.x=t,e.y=i,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,i){var a=Ct(e);return a.x=t,a.y=i,this.updateChildPosition(e),this},resetLocalPositionState(){var e=Ct(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=Ct(e);return t.x},getChildLocalY(e){var t=Ct(e);return t.y}},KG=Phaser.Math.DegToRad,ZG={updateChildRotation(e){var t=Ct(e),i=t.parent;return t.syncRotation&&(e.rotation=i.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=Ct(e),i=t.parent;return t.rotation=e.rotation-i.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var i=Ct(e);return i.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var i=Ct(e);return i.rotation=KG(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=Ct(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=Ct(e);return t.rotation}},JG={updateChildScale(e){var t=Ct(e),i=t.parent;return t.syncScale&&(e.scaleX=i.scaleX*t.scaleX,e.scaleY=i.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=Ct(e),i=t.parent;return t.scaleX=Oo(e.scaleX,i.scaleX),t.scaleY=Oo(e.scaleY,i.scaleY),this},setChildScale(e,t,i){return i===void 0&&(i=t),e.scaleX=t,e.scaleY=i,this.resetChildScaleState(e),this},setChildLocalScale(e,t,i){i===void 0&&(i=t);var a=Ct(e);return a.scaleX=t,a.scaleY=i,this.updateChildScale(e),this},setChildDisplaySize(e,t,i){return e.setDisplaySize(t,i),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=Ct(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=Ct(e);return t.scaleX},getChildLocalScaleY(e){var t=Ct(e);return t.scaleY}},QG={updateChildVisible(e){var t=Ct(e),i=t.parent,a=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,y=i?i.visible:!0;return e.visible=y&&t.visible&&a,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=Ct(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var i=Ct(e);return i.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var i=Ct(e);return i.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=Ct(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=Ct(e);return t.visible}},jG={updateChildAlpha(e){var t=Ct(e),i=t.parent;return t.syncAlpha&&(e.alpha=i.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=Ct(e),i=t.parent;return t.alpha=Oo(e.alpha,i.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var i=Ct(e);return i.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=Ct(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=Ct(e);return t.alpha}},qG={updateChildActive(e){var t=Ct(e),i=t.parent;return e.active=i.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=Ct(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var i=Ct(e);return i.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=Ct(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=Ct(e);return t.active}},_G={updateChildScrollFactor(e){var t=Ct(e),i=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=i.scrollFactorX,e.scrollFactorY=i.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},t9={updateCameraFilter(e){var t=Ct(e),i=t.parent;return t.syncCameraFilter&&(e.cameraFilter=i.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},e9={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(i){i.clearMask&&i.clearMask(!1),i.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(i)}),e&&this.mask&&this.mask.destroy(),this}};var iu=r(function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})},"FilterDisplayGameObjects");const i9={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var i=this.getAllChildren(),a=0,y=i.length;a<y;a++)i[a].depth=e;return this},swapDepth(e){var t=this.depth,i=e.depth;return this.setDepth(i),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),i=0,a=t.length;i<a;i++)t[i].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);oi(t,!1);for(var i=0,a=t.length;i<a;i++){var y=t[i];e.exists(y)&&e.bringToTop(y)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);oi(t,!0);for(var i=0,a=t.length;i<a;i++){var y=t[i];e.exists(y)&&e.sendToBack(y)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);oi(i,!1);for(var a=0,y=i.length;a<y;a++){var S=i[a];if(t.exists(S)){t.moveBelow(e,S);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);oi(i,!0);for(var a=0,y=i.length;a<y;a++){var S=i[a];if(t.exists(S)){t.moveAbove(e,S);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=iu(t),t=oi(t,!1)):t=[e];var i=this.getAllChildren([this]);i=iu(i),i=oi(i,!1);for(var a=i[i.length-1],y=0,S=t.length;y<S;y++){var n=t[y];a!==n&&(n!==this&&a.displayList!==n.displayList||(a.displayList.moveAbove(n,a),a=n))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=iu(t),t=oi(t,!1)):t=[e];var i=this.getAllChildren([this]);i=iu(i),i=oi(i,!1);for(var a=i[0],y=t.length-1;y>=0;y--){var S=t[y];a!==S&&(S!==this&&a.displayList!==S.displayList||(a.displayList.moveBelow(S,a),a=S))}return this}};var BP=r(function(e,t){var i=t(e);if(!i&&e.isRexContainerLite)for(var a=e.children,y=0,S=a.length;y<S;y++)BP(a[y],t)},"DepthFirstSearch"),Tc=r(function(e,t){for(var i=[e];i.length>0;){var a=i.shift(),y=t(a);!y&&a.isRexContainerLite&&i.push(...a.children)}},"BreadthFirstSearch");const hr=Phaser.Utils.Array,s9={getChildren(e){if(!e)e=this.children;else for(var t=0,i=this.children.length;t<i;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return Tc(t,function(i){i!==t&&e.push(i)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return Tc(t,function(i){if(i!==t){if(!i.visible)return!0;e.push(i)}}),e},bfs(e,t){return t===void 0&&(t=this),Tc(t,e),this},dfs(e,t){return t===void 0&&(t=this),BP(t,e),this},contains(e){var t=Qe(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var i=[this],a,y;i.length;){a=i.shift();for(var S=0,n=a.children.length;S<n;S++){if(y=a.children[S],y.name===e)return y;y.isRexContainerLite&&i.push(y)}}return null}else return hr.GetFirst(this.children,"name",e)},getRandom(e,t){return hr.GetRandom(this.children,e,t)},getFirst(e,t,i,a){return hr.GetFirstElement(this.children,e,t,i,a)},getAll(e,t,i,a){return hr.GetAll(this.children,e,t,i,a)},count(e,t,i,a){return hr.CountAllMatching(this.children,e,t,i,a)},swap(e,t){return hr.Swap(this.children,e,t),this},setAll(e,t,i,a){return hr.SetAll(this.children,e,t,i,a),this}};var nE=r(function(e){for(var t=[],i=0,a=e.length;i<a;i++){var y=e[i];y.hasOwnProperty("rexContainer")&&t.push(y.rexContainer)}return t},"GetLocalStates"),r9=r(function(e){for(var t=0,i=e.length;t<i;t++){var a=e[t].scene;if(a)return a}return null},"GetScene"),aE=r(function(e,t,i){if(!i.parent){e.remove();return}var a=i.parent,y=i.self;switch(t){case"x":case"y":a.updateChildPosition(y);break;case"angle":case"rotation":a.updateChildRotation(y);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":a.updateChildScale(y);break;case"alpha":a.updateChildAlpha(y);break;default:a.updateChildPosition(y),a.updateChildRotation(y),a.updateChildScale(y),a.updateChildAlpha(y);break}},"UpdateChild");const n9={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var i=this.scene||r9(t);if(i){e.targets=nE(t);var a=i.tweens.add(e);return a.on("update",aE),a}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=nE(t));var i=e.onUpdate;return e.onUpdate=function(a,y){i&&i(a,y),aE(a,void 0,y)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},a9=Phaser.GameObjects.Container;var h9=r(function(e){return e instanceof a9},"IsContainerGameObject"),GP=r(function(e){var t=e.getAllChildren([e]);return t=t.filter(function(i){return!!i.displayList||!!i.parentContainer}),t},"GetValidChildren"),hE=r(function(e){var t=GP(this);t.indexOf(this)===-1&&t.push(this),oi(t),e.add(t)},"AddToContainer"),oE=r(function(e,t,i){if(this.scene){var a=GP(this);oi(a,t),e.remove(a),i&&a.forEach(function(y){y.addToDisplayList()})}},"RemoveFromContainer");const o9={addToContainer(e){return h9(e)?(this._setParentContainerFlag=!0,hE.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return _h(e)?(hE.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,oE.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),_h(this.displayList)?(oE.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(_h(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},l9={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var i=Ct(e);return i.layer=t,this},removeFromRenderLayer(e){var t=Ct(e),i=t.layer;return i?(e.isRexContainerLite?e.removeFromLayer(!0):i.remove(e),t.layer=null,this):this}},lE=Phaser.Geom.Rectangle,u9=Phaser.Geom.Rectangle.Union;var f9=r(function(e,t){t===void 0?t=new lE:t===!0&&(yc===void 0&&(yc=new lE),t=yc),t.setTo(0,0,0,0);for(var i,a=!0,y=0,S=e.length;y<S;y++)if(i=e[y],!!i.getBounds){var n=mg(i,!0);a?(t.setTo(n.x,n.y,n.width,n.height),a=!1):u9(n,t,t)}return t},"GetBoundsOfGameObjects"),yc,or=Phaser.Utils.Objects.GetValue,Ag=r(function(e){if(e){var t=e.gameObjects,i=e.renderTexture,a=e.saveTexture,y=or(e,"x",void 0),S=or(e,"y",void 0),n=or(e,"width",void 0),C=or(e,"height",void 0),s=or(e,"originX",0),o=or(e,"originY",0),T=or(e,"padding",0),c,l;if(n===void 0||C===void 0||y===void 0||S===void 0){var u=f9(t,!0),h=y!==void 0&&S!==void 0;h?(n=Math.max(y-u.left,u.right-y)*2,C=Math.max(S-u.top,u.bottom-S)*2,s=.5,o=.5):(y=u.x,S=u.y,n=u.width,C=u.height,s=0,o=0),c=u.x,l=u.y}else c=y+(0-s)*n,l=S+(0-o)*C;c-=T,l-=T,n+=T*2,C+=T*2;var f=t[0].scene,v=f.sys.textures;return a&&!i&&(i=v.addDynamicTexture(a,n,C)),i||(i=f.add.renderTexture(0,0,n,C)),i.setPosition&&i.setPosition(y,S),(i.width!==n||i.height!==C)&&i.setSize(n,C),i.setOrigin&&i.setOrigin(s,o),i.camera.setScroll(c,l),t=oi(Si(t)),i.draw(t),a&&(He(i)?i.saveTexture(a):i.key!==a&&v.renameTexture(i.key,key)),i}},"Snapshot");const d9={snapshot(e){var t=this.scaleX,i=this.scaleY,a=t===1&&i===1;a||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var y=Ag(e),S=!!y.scene;return a||(this.setScale(t,i),S&&y.setScale(t,i)),S?y:this}},uE=Phaser.Utils.Objects.GetValue;var c9=r(function(e,t){var i=uE(t,"drawContainer",!0),a=uE(t,"children");return a===void 0&&(a=this.getAllVisibleChildren([this])),i||(a=a.filter(function(y){return!y.isRexContainerLite})),QA(a,e,t),this},"DrawBounds$1");const v9=Phaser.Math.RotateAround;var p9=r(function(e,t,i){i===void 0&&(i=t);var a={x:(t-e.originX)*e.displayWidth,y:(i-e.originY)*e.displayHeight};return v9(a,0,0,e.rotation),e.originX=t,e.originY=i,e.x=e.x+a.x,e.y=e.y+a.y,e},"ChangeOrigin$1"),g9=r(function(e,t){this.syncChildrenEnable=!1,p9(this,e,t),this.syncChildrenEnable=!0;for(var i=this.getAllChildren(),a=0,y=i.length;a<y;a++)this.resetChildPositionState(i[a]);return this},"ChangeOrigin"),UP={changeOrigin:g9,drawBounds:c9};Object.assign(UP,VG,WG,XG,zG,IG,$G,ZG,JG,QG,jG,qG,_G,t9,e9,i9,s9,n9,o9,l9,d9);const Om=class Om extends pl{constructor(t,i,a,y,S,n){Array.isArray(y)&&(n=y,y=void 0,S=void 0),super(t,i,a,y,S),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,n&&this.add(n)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,i){return this.setSize(t,i),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return Qe(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Qe(this);return t?t.setParentContainerFlag:!1}};r(Om,"ContainerLite");let Fe=Om;Object.assign(Fe.prototype,UP);var Sd=r(function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer},"GetSizerConfig$1");function m9(e){return e===void 0&&(e=this),Sd(e)}r(m9,"GetSizerConfig");var x9=r(function(e){var t=Sd(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},"GetChildPrevState"),T9=r(function(e){return e===void 0&&(e=vh(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this},"PushIntoBounds");const jt=Phaser.Display.Align,gh={center:jt.CENTER,left:jt.LEFT_CENTER,right:jt.RIGHT_CENTER,top:jt.TOP_CENTER,bottom:jt.BOTTOM_CENTER,"left-top":jt.TOP_LEFT,"top-left":jt.TOP_LEFT,"left-center":jt.LEFT_CENTER,"center-left":jt.LEFT_CENTER,"left-bottom":jt.BOTTOM_LEFT,"bottom-left":jt.BOTTOM_LEFT,"center-top":jt.TOP_CENTER,"top-center":jt.TOP_CENTER,"center-center":jt.CENTER,"center-bottom":jt.BOTTOM_CENTER,"bottom-center":jt.BOTTOM_CENTER,"right-top":jt.TOP_RIGHT,"top-right":jt.TOP_RIGHT,"right-center":jt.RIGHT_CENTER,"center-right":jt.RIGHT_CENTER,"right-bottom":jt.BOTTOM_RIGHT,"bottom-right":jt.BOTTOM_RIGHT};var lp=new Phaser.GameObjects.Zone({sys:{queueDepthSort:oe,events:{once:oe}}},0,0,1,1);lp.setOrigin(0);var ps={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_CENTER:4,CENTER:6,RIGHT_CENTER:8,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},Pg=r(function(e){var t=wt(e);return e.y+t-t*e.originY},"GetBottom"),Rg=r(function(e){var t=Lt(e);return e.x-t*e.originX+t*.5},"GetCenterX"),Og=r(function(e,t){var i=wt(e);return e.y=t-i+i*e.originY,e},"SetBottom"),Lg=r(function(e,t){var i=Lt(e),a=i*e.originX;return e.x=t+a-i*.5,e},"SetCenterX"),y9=r(function(e,t,i,a){return i===void 0&&(i=0),a===void 0&&(a=0),Lg(e,Rg(t)+i),Og(e,Pg(t)+a),e},"BottomCenter"),wg=r(function(e){var t=Lt(e);return e.x-t*e.originX},"GetLeft"),Mg=r(function(e,t){var i=Lt(e);return e.x=t+i*e.originX,e},"SetLeft"),C9=r(function(e,t,i,a){return i===void 0&&(i=0),a===void 0&&(a=0),Mg(e,wg(t)-i),Og(e,Pg(t)+a),e},"BottomLeft"),Dg=r(function(e){var t=Lt(e);return e.x+t-t*e.originX},"GetRight"),Fg=r(function(e,t){var i=Lt(e);return e.x=t-i+i*e.originX,e},"SetRight"),E9=r(function(e,t,i,a){return i===void 0&&(i=0),a===void 0&&(a=0),Fg(e,Dg(t)+i),Og(e,Pg(t)+a),e},"BottomRight"),bg=r(function(e,t){var i=wt(e),a=i*e.originY;return e.y=t+a-i*.5,e},"SetCenterY"),S9=r(function(e,t,i){return Lg(e,t),bg(e,i)},"CenterOn"),Ng=r(function(e){var t=wt(e);return e.y-t*e.originY+t*.5},"GetCenterY"),A9=r(function(e,t,i,a){return i===void 0&&(i=0),a===void 0&&(a=0),S9(e,Rg(t)+i,Ng(t)+a),e},"Center"),P9=r(function(e,t,i,a){return i===void 0&&(i=0),a===void 0&&(a=0),Mg(e,wg(t)-i),bg(e,Ng(t)+a),e},"LeftCenter"),R9=r(function(e,t,i,a){return i===void 0&&(i=0),a===void 0&&(a=0),Fg(e,Dg(t)+i),bg(e,Ng(t)+a),e},"RightCenter"),Bg=r(function(e){var t=wt(e);return e.y-t*e.originY},"GetTop"),Gg=r(function(e,t){var i=wt(e);return e.y=t+i*e.originY,e},"SetTop"),O9=r(function(e,t,i,a){return i===void 0&&(i=0),a===void 0&&(a=0),Lg(e,Rg(t)+i),Gg(e,Bg(t)-a),e},"TopCenter"),L9=r(function(e,t,i,a){return i===void 0&&(i=0),a===void 0&&(a=0),Mg(e,wg(t)-i),Gg(e,Bg(t)-a),e},"TopLeft"),w9=r(function(e,t,i,a){return i===void 0&&(i=0),a===void 0&&(a=0),Fg(e,Dg(t)+i),Gg(e,Bg(t)-a),e},"TopRight"),Zi=[];Zi[ps.BOTTOM_CENTER]=y9;Zi[ps.BOTTOM_LEFT]=C9;Zi[ps.BOTTOM_RIGHT]=E9;Zi[ps.CENTER]=A9;Zi[ps.LEFT_CENTER]=P9;Zi[ps.RIGHT_CENTER]=R9;Zi[ps.TOP_CENTER]=O9;Zi[ps.TOP_LEFT]=L9;Zi[ps.TOP_RIGHT]=w9;var HP=r(function(e,t,i,a,y){return Zi[i](e,t,a,y)},"QuickSet"),gl=r(function(e,t,i,a,y,S){lp.setPosition(t,i).setSize(a,y),HP(e,lp,S)},"AlignIn");const cn=Phaser.Utils.Objects.GetValue,M9=Phaser.GameObjects.Group,D9=Phaser.GameObjects.Container;var F9=r(function(e,t){var i=e.scene,a,y,S,n,C;if(typeof t=="number")a=t;else{a=cn(t,"color"),y=cn(t,"lineWidth");var s=cn(t,"name",!1);s&&(S=cn(s,"createTextCallback",b9),n=cn(s,"createTextCallbackScope",void 0),C=cn(s,"align","left-top"),typeof C=="string"&&(C=gh[C]))}if(a===void 0&&(a=16777215),y===void 0&&(y=1),S&&!e.children){e.children=new M9(i),e.once("destroy",function(f,v){f.children.destroy(!v),f.children=void 0});var o=e.clear.bind(e);e.clear=function(){o(),e.children.clear(!1,!0)}}var T=this.getAllShownChildren([this]);YP(T,T);for(var c,l,u=0,h=T.length;u<h;u++){if(c=T[u],c.getBounds||c.width!==void 0&&c.height!==void 0)lr=mg(c,lr);else continue;a!=null&&e.lineStyle(y,a).strokeRectShape(lr),c.name&&S&&(n?l=S.call(n,i):l=S(i),l&&(l.setText(c.name),e.children.add(l),gl(l,lr.x,lr.y,lr.width,lr.height,C)))}return this},"DrawBounds"),b9=r(function(e,t,i){return e.add.text(0,0,"")},"DefaultCreateTextCallback"),YP=r(function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var i=0,a=e.length;i<a;i++){var y=e[i];y instanceof D9&&(t.push(...y.list),YP(y.list,t))}return t},"GetP3ContainerChildren"),lr=void 0;const su=Phaser.Utils.Objects.GetValue;var Qr=r(function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=su(e,"left",0),t.right=su(e,"right",0),t.top=su(e,"top",0),t.bottom=su(e,"bottom",0)),t},"GetBoundsConfig$1");const N9=Fe.prototype.add;var ml=r(function(e){return N9.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this},"AddChild$1");const B9={addBackground(e,t,i){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(i=t,t=void 0),t===void 0&&(t=0),ml.call(this,e),this.backgroundChildren.push(e);var a=this.getSizerConfig(e);return a.padding=Qr(t),i!==void 0&&this.addChildrenMap(i,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var Vs=r(function(e,t){var i=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent,i?i.isRexSizer||(i=Vs(i)):i=null);else for(i=Vs(e);i&&i.name!==t;)i=Vs(i);return i},"GetParent"),G9=r(function(e){for(var t=Vs(e);t;)e=t,t=Vs(t);return e},"GetTopmostParent");const mh={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Vs(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),G9(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var i=Vs(t);i;){if(i===e)return!0;i=Vs(i)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},U9=Phaser.Utils.Array.Remove,H9=Fe.prototype.remove,fE=mh.getParentSizer;var xl=r(function(e,t){for(var i=fE(e);i;)i.removeChildCallback&&i.removeChildCallback(e,t),i=fE(i);return this.isBackground(e)&&U9(this.backgroundChildren,e),H9.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this},"RemoveChild");const Y9=Phaser.Utils.Array.Remove,V9=mh.getParentSizer,W9={removeFromParentSizer(){var e=V9(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(Y9(this.backgroundChildren,e),xl.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var dE=r(function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var i=e;for(e in i)this.childrenMap[e]=i[e]}return this},"AddChildrenMap"),k9=r(function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},"RemoveChildrenMap"),X9=r(function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var i=e.shift(),a=null;if(i.charAt(0)==="#")i=i.substring(1),a=this.getByName(i,t);else if(e.length===0&&t){var y=this.childrenMap;if(y)for(var S=[y],n;S.length;){y=S.shift();for(var C in y)if(n=y[C],C===i){a=n;break}else n&&typeof n=="object"&&n.childrenMap&&S.push(n.childrenMap);if(a)break}}else if(i.indexOf("[")===-1)this.childrenMap&&(a=this.childrenMap[i]);else{var s=i.match(z9);if(s!=null&&this.childrenMap){var o=this.childrenMap[s[1]];o&&(a=o[s[2]])}}return e.length===0?a:a&&a.childrenMap?a.getElement(e):null}},"GetElement");const z9=/(\S+)\[(\d+)\]/i;var I9=r(function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var i in this.sizerChildren)if(this.sizerChildre[i]===e)return i;return null}},"GetChildIndex");const $9={getInnerPadding(e){return Iu(this.space,e)},setInnerPadding(e,t){return Ys(this.space,e,t),this},getOuterPadding(e){return Iu(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return Ys(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),Iu(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,i){return typeof e=="string"&&(e=this.getElement(e)),Ys(this.getSizerConfig(e).padding,t,i),this}};var Ug=r(function(e){var t=this.childrenWidth;if(t!==void 0){var i=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) or childrenWidth (${t} > targetWidth ${e})`),e}},"ResolveWidth$3"),Hg=r(function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},"HasWidthWrap$2"),K9=r(function(e){var t,i,a;for(var y in this.sizerChildren)t=this.sizerChildren[y],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildWidth(t,e),a=t.resolveWidth(i),a===void 0&&(a=i),t.resolveChildrenWidth(a))},"ResolveChildrenWidth$1"),Yg=r(function(e){var t,i,a;for(var y in this.sizerChildren)t=this.sizerChildren[y],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(i=this.getExpandedChildWidth(t,e),t.isRexSizer?(a=t.resolveWidth(i),a===void 0&&(a=i)):a=i,t.runWidthWrap(a));return this},"RunWidthWrap$3"),Vg=r(function(e){var t=this.childrenHeight;if(t!==void 0){var i=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) or childrenHeight (${t}) > targetHeight (${e})`),e}},"ResolveHeight$3"),Wg=r(function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},"HasHeightWrap$2"),Z9=r(function(e){var t,i,a;for(var y in this.sizerChildren)t=this.sizerChildren[y],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildHeight(t,e),a=t.resolveHeight(i),a===void 0&&(a=i),t.resolveChildrenHeight(a))},"ResolveChildrenHeight$1"),kg=r(function(e){var t,i,a;for(var y in this.sizerChildren)t=this.sizerChildren[y],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(i=this.getExpandedChildHeight(t,e),t.isRexSizer?(a=t.resolveHeight(i),a===void 0&&(a=i)):a=i,t.runHeightWrap(a));return this},"RunHeightWrap$3"),J9=r(function(e){var t;if(e.isRexSizer){var i=e.childrenWidth;if(i==null)return;var a=e.minWidth*e.scaleX;t=Math.max(a,i)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=Lt(e);return t},"GetChildWidth"),Q9=r(function(e){var t;if(e.isRexSizer){var i=e.childrenHeight;if(i===void 0)return;var a=e.minHeight*e.scaleY;t=Math.max(a,i)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=wt(e);return t},"GetChildHeight"),j9=r(function(e,t){return t},"GetExpandedChildWidth$4"),q9=r(function(e,t){return t},"GetExpandedChildHeight$4"),_9=r(function(){return 0},"GetChildrenWidth$5"),t8=r(function(){return 0},"GetChildrenHeight$5"),e8=r(function(e){e===void 0&&(e=[]);for(var t=e.length,i=this.getChildrenSizers(e),a=e.length,y=t;y<a;y++)i[y].getAllChildrenSizers(e);return e},"GetAllChildrenSizers"),i8=r(function(e){return e===void 0&&(e=[]),e},"GetChildrenSizers$5");const s8={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,i,a=0,y=t.length;a<y;a++)i=t[a],!(i.rexSizer&&i.rexSizer.hidden)&&e.push(i);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var i=t.shift();i.rexSizer&&i.rexSizer.hidden||(i!==this&&e.push(i),i.isRexContainerLite&&t.push(...i.children))}return e}};var Tl=r(function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,i=0,a=e.length;i<a;i++)t=e[i],!t.ignoreLayout&&t.preLayout()},"PreLayout$4"),r8=r(function(){return this.runLayout(),this},"Layout"),n8=r(function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,i=cE.length;t<i;t++){var a=cE[t];if(a&&e instanceof a)return!1}return!0},"HasResizeMethod"),cE=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],a8=r(function(e){if(e.displayWidth===void 0)return!1;for(var t=0,i=vE.length;t<i;t++){var a=vE[t];if(a&&e instanceof a)return!1}return!0},"CanSetDisplaySize"),vE=[Phaser.GameObjects.BitmapText],Ae=r(function(e,t,i){if(!(!e||t===void 0&&i===void 0))if(n8(e)){var a,y;t===void 0?a=e.width:a=t/e.scaleX,i===void 0?y=e.height:y=i/e.scaleY,e.resize?e.resize(a,y):e.setSize(a,y)}else{var S=a8(e);t!==void 0&&(S?e.displayWidth=t:e.scaleX=t/e.width),i!==void 0&&(S?e.displayHeight=i:e.scaleY=i/e.height)}},"ResizeGameObject"),h8=r(function(e,t,i){if(this.ignoreLayout)return this;var a=!e;a&&this.preLayout();var y,S;a||e.runChildrenWrapFlag?(y=this.hasWidthWrap(),S=this.hasHeightWrap()):(y=!1,S=!1);var n=o8(this,t,i,y,S);n||console.error("Can't resolve size of ",this);var C=n.width,s=n.height;return Ae(this,C,s),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,C,s),a&&this._anchor&&this._anchor.updatePosition(),this},"RunLayout$1"),o8=r(function(e,t,i,a,y){var S=pE(e,t,a),n=l8(e,i,y);return S===void 0&&(S=pE(e,t,a)),S!==void 0&&n!==void 0?{width:S,height:n}:!1},"ResolveSize"),pE=r(function(e,a,i){var a=e.resolveWidth(a);return a!==void 0&&i&&(e.resolveChildrenWidth(a),e.runWidthWrap(a)),a},"ResolveWidth$2"),l8=r(function(e,a,i){var a=e.resolveHeight(a);return a!==void 0&&i&&(e.resolveChildrenHeight(a),e.runHeightWrap(a)),a},"ResolveHeight$2"),u8=r(function(){},"LayoutChildren$6"),f8=r(function(e,t,i){return this},"PostLayout"),d8=r(function(e,t,i,a){Ae(i,e,t)},"DefaultResizeCallback");const ru=Phaser.Utils.Objects.GetValue,Lm=class Lm extends Yt{constructor(t,i){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(i)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var i,a;t.x!==void 0?(i=null,a=t.x):t.left!==void 0?(i=0,a=t.left):t.right!==void 0?(i=1,a=t.right):t.centerX!==void 0&&(i=.5,a=t.centerX);var y,S;t.y!==void 0?(y=null,S=t.y):t.top!==void 0?(y=0,S=t.top):t.bottom!==void 0?(y=1,S=t.bottom):t.centerY!==void 0&&(y=.5,S=t.centerY);var n,C;a!==void 0&&(a=a.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),n=parseFloat(a[0])/100,C=a[1]===""?0:parseFloat(a[1]));var s,o;S!==void 0&&(S=S.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),s=parseFloat(S[0])/100,o=S[1]===""?0:parseFloat(S[1]));var T=t.width,c,l;T!==void 0&&(T=T.split("%"),c=parseFloat(T[0])/100,l=T[1]===""?0:parseFloat(T[1]));var u=t.height,h,f;u!==void 0&&(u=u.split("%"),h=parseFloat(u[0])/100,f=u[1]===""?0:parseFloat(u[1])),this.setAlign(i,y),this.setPercentage(n,s),this.setOffset(C,o),this.setSizePercentage(c,h),this.setSizePadding(l,f);var v=ru(t,"onResizeCallback",d8),d=ru(t,"onResizeCallbackScope");this.setResizeCallback(v,d);var p=ru(t,"onUpdateViewportCallback"),g=ru(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(p,g),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,i){return this.alignX=t,this.alignY=i,this}setPercentage(t,i){return this.percentageX=t,this.percentageY=i,this}setOffset(t,i){return this.offsetX=t,this.offsetY=i,this}setSizePercentage(t,i){return this.percentageWidth=t,this.percentageHeight=i,this}setSizePadding(t,i){return this.paddingWidth=t,this.paddingHeight=i,this}setResizeCallback(t,i){return this.onResizeCallback=t,this.onResizeCallbackScope=i,this}setUpdateViewportCallback(t,i){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=i,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,i=this.onResizeCallbackScope,a=this.anchorWidth,y=this.anchorHeight;if(!(a===void 0&&y===void 0||!t)){var S=this.parent;a===void 0&&(a=S.width),y===void 0&&(y=S.height),i?t.call(i,a,y,S,this):t(a,y,S,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=vh(this.scene,t,this.viewport);var i=this.viewport,a=this.onUpdateViewportCallback,y=this.onUpdateViewportCallbackScope;a&&(y?a.call(y,i,this.parent,this):a(i,this.parent,this))}};r(Lm,"Anchor");let Lo=Lm;var c8=r(function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),i=e.hasOwnProperty("height"),a=e.hasOwnProperty("onResizeCallback");return(t||i)&&!a&&(e.onResizeCallback=function(y,S,n){t&&n.setMinWidth(y),i&&n.setMinHeight(S),n.layout()}),this._anchor===void 0?this._anchor=new Lo(this,e):this._anchor.resetFromJSON(e),this},"SetAnchor");const v8=Phaser.Utils.Objects.GetValue,vn=Phaser.Utils.Objects.GetAdvancedValue,gE=Phaser.Math.Linear,wm=class wm extends ls{constructor(t,i){super(t,i),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(v8(t,"mode",0)),this.setScaleRange(vn(t,"start",void 0),vn(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=p8[t]),this.mode=t,this}setScaleRange(t,i){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=vn(t,"x",this.parent.scaleX),this.startY=vn(t,"y",this.parent.scaleY)),typeof i=="number"?(this.endX=i,this.endY=i):(this.endX=vn(i,"x",void 0),this.endY=vn(i,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var i=this.repeat;return this.mode===2&&i!==-1&&(i=(i+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(i),super.start(),this}updateTarget(t,i){var a=i.t;i.isOddIteration&&(a=1-a),a=this.easeFn(a),this.hasScaleX&&(t.scaleX=gE(this.startX,this.endX,a)),this.hasScaleY&&(t.scaleY=gE(this.startY,this.endY,a))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};r(wm,"Scale");let Fr=wm;const p8={stop:0,destroy:1,yoyo:2};var Xg=r(function(e,t,i,a,y){a===void 0&&(a="Cubic");var S,n;switch(i){case 0:case"x":S={x:0},n={x:e.scaleX};break;case 1:case"y":S={y:0},n={y:e.scaleY};break;default:S=0,n=e.scale;break}var C={mode:0,start:S,end:n,duration:t,ease:a};return y===void 0?y=new Fr(e,C):y.resetFromJSON(C),y.restart(),y},"PopUp$1"),VP=r(function(e,t,i,a,y,S){a===void 0&&(a="Linear"),y instanceof Fr&&(S=y,y=void 0),y===void 0&&(y=!0);var n={};switch(n.mode=y?1:0,i){case 0:case"x":n.end={x:0};break;case 1:case"y":n.end={y:0};break;default:n.end=0;break}return n.duration=t,n.ease=a,S===void 0?S=new Fr(e,n):S.resetFromJSON(n),S.restart(),S},"ScaleDownDestroy"),g8=r(function(e,t,i,a,y,S,n){i===void 0&&(i=1.2),a===void 0&&(a=0),S===void 0&&(S="Cubic");var C,s;switch(y){case 0:case"x":C={x:e.scaleX},s={x:i};break;case 1:case"y":C={y:e.scaleX},s={y:i};break;default:C=e.scaleX,s=i;break}var o={mode:2,start:C,end:s,duration:t/2,ease:S,repeat:a};return n===void 0?n=new Fr(e,o):n.resetFromJSON(o),n.restart(),n},"Yoyo");const Cc=Phaser.Utils.Objects.IsPlainObject,WP={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,i){if(Cc(e)){var a=e;e=a.duration,t=a.orientation,i=a.ease}var y=this._scaleBehavior===void 0;return this._scaleBehavior=Xg(this,e,t,i,this._scaleBehavior),y&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,i){return this.popUp(e,t,i),Te(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,i,a){if(Cc(e)){var y=e;e=y.duration,t=y.orientation,i=y.ease,a=y.destroy}var S=this._scaleBehavior===void 0;return this._scaleBehavior=VP(this,e,t,i,a,this._scaleBehavior),S&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,i,a){return this.scaleDownDestroy(e,t,i,a),Te(this._scaleBehavior)},scaleDown(e,t,i){return this.scaleDownDestroy(e,t,i,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),Te(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,i,a,y){if(Cc(e)){var S=e;e=S.duration,t=S.peakValue,i=S.repeat,a=S.orientation,y=S.ease}var n=this._scaleBehavior===void 0;return this._scaleBehavior=g8(this,e,t,i,a,y,this._scaleBehavior),n&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,i,a,y){return this.scaleYoyo(e,t,i,a,y),Te(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var ss={};Object.assign(ss,WP);ss.onInitScale=function(){WP.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var i=mh.getParentSizer(e);i&&i.resetChildPositionState(e)})};const m8=Phaser.Utils.Objects.GetValue,mE=Phaser.Utils.Objects.GetAdvancedValue,x8=Phaser.Math.Linear;var pa;let up=(pa=class extends ls{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(m8(t,"mode",0)),this.setAlphaRange(mE(t,"start",this.parent.alpha),mE(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=T8[t]),this.mode=t,this}setAlphaRange(t,i){return this.alphaStart=t,this.alphaEnd=i,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var a=i.t;i.isOddIteration&&(a=1-a),t.alpha=x8(this.alphaStart,this.alphaEnd,a)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}},r(pa,"Fade"),pa);const T8={stop:0,destroy:1,yoyo:2},y8=Phaser.Utils.Objects.IsPlainObject;var Ad=r(function(e,t,i,a){var y,S;y8(i)?(y=i.start,S=i.end):S=i,y===void 0&&(y=0),S===void 0&&(S=1);var n={mode:0,start:y,end:S,duration:t};return a===void 0?a=new up(e,n):a.resetFromJSON(n),a.restart(),a},"FadeIn"),Pd=r(function(e,t,i,a){i instanceof up&&(a=i,i=void 0),i===void 0&&(i=!0);var y={mode:i?1:0,end:0,duration:t};return a===void 0?a=new up(e,y):a.resetFromJSON(y),a.restart(),a},"FadeOutDestroy");const xE=Phaser.Utils.Objects.IsPlainObject,kP={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(xE(e)){var i=e;e=i.duration,t=i.alpha}var a=this._fade===void 0;return this._fade=Ad(this,e,t,this._fade),a&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),Te(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(xE(e)){var i=e;e=i.duration,t=i.destroy}var a=this._fade===void 0;return this._fade=Pd(this,e,t,this._fade),a&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),Te(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),Te(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var wo={};Object.assign(wo,kP);wo.onInitFade=function(){kP.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var i=mh.getParentSizer(e);i&&i.resetChildAlphaState(e)})};const C8=Phaser.Utils.Objects.GetValue,pn=Phaser.Utils.Objects.GetAdvancedValue,TE=Phaser.Math.Linear,Mm=class Mm extends ls{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(C8(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var i=pn(t,"x",void 0),a=pn(t,"y",void 0);this.setTargetPosition(i,a)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=E8[t]),this.mode=t,this}setTargetPosition(t,i){if(typeof t=="number"||typeof i=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=i;else{var a=t;this.startX=pn(a,"startX",void 0),this.startY=pn(a,"startY",void 0),this.endX=pn(a,"endX",void 0),this.endY=pn(a,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var a=i.t;i.isOddIteration&&(a=1-a),a=this.easeFn(a),this.hasMoveX&&(t.x=TE(this.startX,this.endX,a)),this.hasMoveY&&(t.y=TE(this.startY,this.endY,a))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};r(Mm,"EaseMove");let Va=Mm;const E8={stop:0,destroy:1,yoyo:2};var Cf=r(function(e,t){if(typeof e=="number")return e;var i=e[0],a=parseFloat(e.substr(2));switch(i){case"+":return t+a;case"-":return t-a;case"*":return t*a;case"/":return t/a}},"ParseValue"),XP=r(function(e,t,i,a,y,S,n){S instanceof Va&&(n=S,S=void 0),S===void 0&&(S=!1);var C={};return C.mode=S?1:0,i!==void 0&&(C.startX=e.x,C.endX=Cf(i,e.x)),a!==void 0&&(C.startY=e.y,C.endY=Cf(a,e.y)),C.duration=t,C.ease=y===void 0?"Linear":y,n===void 0?n=new Va(e,C):n.resetFromJSON(C),n.restart(),n},"EaseMoveTo"),zP=r(function(e,t,i,a,y,S,n){S instanceof Va&&(n=S,S=void 0),S===void 0&&(S=!1);var C={};return C.mode=S?1:0,i!==void 0&&(C.startX=Cf(i,e.x),C.endX=e.x),a!==void 0&&(C.startY=Cf(a,e.y),C.endY=e.y),C.duration=t,C.ease=y===void 0?"Linear":y,n===void 0?n=new Va(e,C):n.resetFromJSON(C),n.restart(),n},"EaseMoveFrom");const yE=Phaser.Utils.Objects.IsPlainObject,CE=Phaser.Math.Distance.Between,IP={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,i,a,y){if(yE(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=CE(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,a=S.ease}var n=this._easeMove===void 0;return this._easeMove=zP(this,e,t,i,a,y,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,i,a,y){return this.moveFrom(e,t,i,a,y),Te(this._easeMove)},moveFromDestroy(e,t,i,a){return this.moveFrom(e,t,i,a,!0),this},moveFromDestroyPromise(e,t,i,a){return this.moveFromDestroy(e,t,i,a),Te(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,i,a,y){if(yE(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=CE(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,a=S.ease}var n=this._easeMove===void 0;return this._easeMove=XP(this,e,t,i,a,y,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,i,a,y){return this.moveTo(e,t,i,a,y),Te(this._easeMove)},moveToDestroy(e,t,i,a){return this.moveTo(e,t,i,a,!0),this},moveToDestroyPromise(e,t,i,a){return this.moveToDestroy(e,t,i,a,!0),Te(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var Rd={};Object.assign(Rd,IP);Rd.onInitEaseMove=function(){IP.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var i=mh.getParentSizer(e);i&&i.resetChildPositionState(e)})};const ei=Phaser.Utils.Objects.GetValue,Dm=class Dm extends Ba{constructor(t,i){super(t,i),this.timer=new rP,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(ei(t,"timer")),this.setEnable(ei(t,"enable",!0)),this.setMode(ei(t,"mode",1)),this.isRunning=ei(t,"isRunning",!1),this.setMagnitudeMode(ei(t,"magnitudeMode",1)),this.setAxisMode(ei(t,"axis",0)),this.setDuration(ei(t,"duration",500)),this.setMagnitude(ei(t,"magnitude",10)),this.ox=ei(t,"ox",void 0),this.oy=ei(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=S8[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=P8[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=A8[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,i){if(typeof t!="number"){var a=t;i=ei(a,"magnitude",void 0),t=ei(a,"duration",void 0)}return i!==void 0&&this.setMagnitude(i),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,i){return this.start(t,i),this}update(t,i){if(!this.isRunning||!this.enable)return this;var a=this.parent;if(!a.active)return this;if(this.timer.update(t,i),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=a.x,this.oy=a.y);var y=this.magnitude;this.magnitudeMode===1&&(y*=1-this.timer.t);var S=Math.random()*Math.PI*2,n=this.ox+Math.cos(S)*y,C=this.oy+Math.sin(S)*y;switch(this.axisMode){case 1:a.x=n;break;case 2:a.y=C;break;default:a.x=n,a.y=C;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}};r(Dm,"ShakePosition");let Mo=Dm;const S8={effect:0,behavior:1},A8={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},P8={constant:0,decay:1},R8=Phaser.Utils.Objects.IsPlainObject;var O8=r(function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})},"OnInitShake");const L8={shake(e,t,i){if(R8(e)){var a=e;e=a.duration,t=a.magnitude,i=a.magnitudeMode}return this._shake===void 0&&(this._shake=new Mo(this,{mode:0,magnitudeMode:1}),O8(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),i!==void 0&&this._shake.setMagnitudeMode(i),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),Te(this._shake)}},EE=Phaser.Utils.Objects.IsPlainObject,Fm=class Fm extends Yt{constructor(t,i){super(t,i),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var i=this.easeTasks[t];return i===void 0&&(i=new Je(this.parent),this.easeTasks[t]=i,i.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),i}easeTo(t,i,a,y){if(EE(t)){var S=t;t=S.key,i=S.value,a=S.duration,y=S.ease;var n=S.speed;a===void 0&&n!==void 0&&(a=Math.abs(i-this.parent.data.values[t])/n*1e3)}a===void 0&&(a=1e3),y===void 0&&(y="Linear");var C=this.getEaseTask(t);return C.restart({key:t,to:i,duration:a,ease:y}),this}easeFrom(t,i,a,y){if(EE(t)){var S=t;t=S.key,i=S.value,a=S.duration,y=S.ease;var n=S.speed;a===void 0&&n!==void 0&&(a=Math.abs(i-this.parent.data.values[t])/n*1e3)}a===void 0&&(a=1e3),y===void 0&&(y="Linear");var C=this.getEaseTask(t);return C.restart({key:t,from:i,duration:a,ease:y}),this}stopEase(t,i){i===void 0&&(i=!0);var a=this.easeTasks[t];return a&&a.stop(i),this}stopAll(t){t===void 0&&(t=!0);for(var i in this.easeTasks)this.stopEase(i,t);return this}};r(Fm,"EaseData");let fp=Fm;var w8=r(function(e,t){t.on("complete",function(i){e.emit(`easedata.${i}.complete`,e),e.emit("easedata.complete",i,e)})},"OnInitEaseData");const M8={easeDataTo(e,t,i,a){return this._easeData||(this._easeData=new fp(this),w8(this,this._easeData)),this._easeData.easeTo(e,t,i,a),this},easeDataToPromise(e,t,i,a){return this.easeDataTo(e,t,i,a),yd(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var D8=Phaser.Utils.Array.Remove,F8=r(function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,i=0,a=t.length;i<a;i++)t[i].remove();e._delayCallTimers=void 0})},"OnInitDelayCallTimers");const $P={delayCall(e,t,i){var a=this._delayCallTimers;a===void 0&&F8(this);var y,S=this,n=r(function(){D8(S._delayCallTimers,y),i?t.call(i):t()},"OnTimeOut");return y=this.scene.time.delayedCall(e,n),this._delayCallTimers.push(y),this}};var Bs=r(function(e){KP(e,!1)},"Show"),Gs=r(function(e){KP(e,!0)},"Hide"),zg=r(function(e){if(!e)return!1;var t=Sd(e);return!t.hidden},"IsShown"),KP=r(function(e,t){if(e){var i=Sd(e);i.hidden=t;var a=Qe(e);a?a.setChildVisible(e,!t):e.setVisible(!t)}},"_hide");const b8={show(e){return e===void 0&&(e=this),Bs(e),this},hide(e){return e===void 0&&(e=this),Gs(e),this},isShow(e){return e===void 0&&(e=this),zg(e)}},N8=["next","exit","enter"];var ga;let ZP=(ga=class{constructor(t){var i=Mt(t,"states",void 0);i&&this.addStates(i);var a=Mt(t,"extend",void 0);if(a)for(var y in a)(!this.hasOwnProperty(y)||this[y]===void 0)&&(this[y]=a[y]);var S=Mt(t,"eventEmitter",void 0),n=Mt(t,"EventEmitterClass",void 0);this.setEventEmitter(S,n),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Mt(t,"enable",!0)),this.start(Mt(t,"start",void 0));var i=Mt(t,"init",void 0);return i&&i.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var i="exit_"+this._prevState,a=this[i];a&&a.call(this),this.emit(i,this)}if(this._stateLock=!1,this._state!=null){var y="enter_"+this._state,S=this[y];S&&S.call(this),this.emit(y,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,i=this["next_"+this.state];return i&&(typeof i=="string"?t=i:t=i.call(this)),this.goto(t),this}get stateProperties(){return N8}addState(t,i){typeof t!="string"&&(i=t,t=i.name);for(var a=this.stateProperties,y=0,S=a.length;y<S;y++){var n=a[y],C=i[n];C&&(this[`${n}_${t}`]=C)}return this}addStates(t){if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)this.addState(t[i]);else for(var y in t)this.addState(y,t[y]);return this}runMethod(t,i,a,y,S,n){var C=this[t+"_"+this.state];if(C){var s=arguments.length;switch(s){case 1:return C.call(this);case 2:return C.call(this,i);case 3:return C.call(this,i,a);case 4:return C.call(this,i,a,y);case 5:return C.call(this,i,a,y,S);case 6:return C.call(this,i,a,y,S,n)}for(var o=new Array(s-1),T=1;T<s;T++)o[T-1]=arguments[T];return C.apply(this,o)}}},r(ga,"FSM"),ga);Object.assign(ZP.prototype,fP);var Ec=r(function(e,t,i,a,y){y===void 0&&(y=!1);var S=e._events[t];if(!S)return!1;for(var n=0,C=S.length;n<C;n++){var s=S[n];if(s.fn===i&&s.context===a&&s.once===y)return!0}return!1},"HasListener");const B8=["next","exit","enter","update","preupdate","postupdate"],bm=class bm extends ZP{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Mt(t,"scene",void 0),this}get stateProperties(){return B8}update(t,i){this.runMethod("update",t,i)}preupdate(t,i){this.runMethod("preupdate",t,i)}postupdate(t,i){this.runMethod("postupdate",t,i)}startUpdate(t){t||(t=this._scene);var i=t.sys.events;return Ec(i,"update",this.update,this)?this:(this._scene=t,i.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var i=t.sys.events;return Ec(i,"preupdate",this.preupdate,this)?this:(this._scene=t,i.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var i=t.sys.events;return Ec(i,"postupdate",this.postupdate,this)?this:(this._scene=t,i.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}};r(bm,"FSM");let Pi=bm;var ma;let G8=(ma=class extends Pi{constructor(t,i){super(i),this.parent=t;var a=i.initState||"IDLE";this.start(a)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var i=t.runTransitionInCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var i=t.runTransitionOutCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}},r(ma,"State"),ma);var U8=r(function(e,t,i,a,y){var S=ph(e),n=S.time.delayedCall(t,function(){S.game.events.once("poststep",function(){i.call(a,y)})});return n},"PostStepDelayCall");const H8={delayCall(e,t,i){return this.delayCallTimer=U8(this,e,t,i),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},Y8={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=oe),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=oe),this.transitOutCallback=e,this}},V8={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var i=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=i,this}},W8={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var i=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=i,this}};var JP={};Object.assign(JP,H8,Y8,V8,W8);const gn=Phaser.Utils.Objects.GetValue,Nm=class Nm extends Yt{constructor(t,i){super(t,i),this.setTransitInTime(gn(i,"duration.in",200)),this.setTransitOutTime(gn(i,"duration.out",200)),this.setTransitInCallback(gn(i,"transitIn")),this.setTransitOutCallback(gn(i,"transitOut")),this.oneShotMode=gn(i,"destroy",!1),this.delayCallTimer=void 0,this._state=new G8(this,{eventEmitter:!1,initState:gn(i,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}};r(Nm,"OpenCloseTransition");let Wa=Nm;Object.assign(Wa.prototype,JP);const k8=Phaser.GameObjects.Rectangle,Bm=class Bm extends k8{constructor(t,i,a){super(t,0,0,2,2,i,1),this.fullWindow=new df(this),this.setAlpha(a)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}};r(Bm,"FullWindowRectangle");let Do=Bm;const Sc=Phaser.Utils.Objects.GetValue,Gm=class Gm extends Yt{constructor(t,i){super(t,{eventEmitter:!1}),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setHitAreaMode(Sc(t,"hitAreaMode",0)),this.setEnable(Sc(t,"enable",!0)),this.setStopMode(Sc(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,i,a,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerup",function(t,i,a,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointermove",function(t,i,a,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerover",function(t,i,a,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerout",function(t,i){this.stopAllLevels&&i.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=X8[t]);var i=this.parent;return i.input&&i.removeInteractive(),t===0?i.setInteractive():i.setInteractive({hitArea:{},hitAreaCallback:r(function(){return!0},"hitAreaCallback")}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}};r(Gm,"TouchEventStop");let ka=Gm;var X8={default:0,fullWindow:1};const SE=Phaser.Utils.Objects.GetValue,Um=class Um extends Do{constructor(t,i){var a=SE(i,"color",0),y=SE(i,"alpha",.8);super(t,a,y),this.touchEventStop=new ka(this,{hitAreaMode:1})}};r(Um,"Cover");let Fo=Um;var z8=r(function(e,t){var i=e.scene,a=new Fo(i,t);return i.add.existing(a),e.isRexContainerLite?(e.pin(a,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(a)):i.children.moveBelow(a,e),a},"CreateCover");const nu={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,Xg(e,t)},scaleDown(e,t){VP(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Ad(e,t)},fadeOut(e,t){Pd(e,t,!1)}};var I8=r(function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Ad(e,t,e.alpha)},"DefaultCoverTransitInCallback"),$8=r(function(e,t){Pd(e,t,!1)},"DefaultCoverTransitOutCallback"),Od=r(function(e,t,i,a,y){if(!e||a&&!a(e,t,i))return!1;var S=mg(e,!0);return!(!S.contains(t,i)||y&&!y(e,t,i))},"IsPointInBounds");const Mi=Phaser.Utils.Objects.GetValue;var xa;let K8=(xa=class extends Wa{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=Ss.popUp),i.transitOut==null&&(i.transitOut=Ss.scaleDown),i.destroy=Mi(i,"destroy",!0),super(t,i);var a=Mi(i,"cover");this.cover=a!==!1?z8(t,a):void 0,this.cover&&(this.setCoverTransitInCallback(Mi(a,"transitIn",I8)),this.setCoverTransitOutCallback(Mi(a,"transitOut",$8)));var y=Mi(i,"touchOutsideClose",!1),S=Mi(i,"duration.hold",-1),n=Mi(i,"timeOutClose",S>=0),C=Mi(i,"anyTouchClose",!1),s=Mi(i,"manualClose",!1);s&&(y=!1,C=!1,n=!1),C&&(y=!1),n?this.setDisplayTime(S):this.setDisplayTime(-1),C?this.once("open",this.anyTouchClose,this):y&&this.once("open",this.touchOutsideClose,this),Mi(i,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Od(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),i=this.cover;return i&&this.coverTransitInCallback&&this.coverTransitInCallback(i,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),i=this.cover;return i&&this.coverTransitOutCallback&&this.coverTransitOutCallback(i,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=Ss[t]),t){case Ss.popUp:t=nu.popUp;break;case Ss.fadeIn:t=nu.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=Ss[t]),t){case Ss.scaleDown:t=nu.scaleDown;break;case Ss.fadeOut:t=nu.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}},r(xa,"Modal"),xa);const Ss={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var Ig=r(function(e,t){var i=new K8(e,t);return i.on("open",function(){e.emit("modal.open",i)}),i.on("close",function(a){e.emit("modal.close",a,i)}),e.on("modal.requestClose",i.requestClose,i),i},"Modal$2"),Z8=r(function(e,t){var i=Ig(e,t);return new Promise(function(a,y){i.once("close",function(S){a(S)})})},"ModalPromise"),QP=r(function(e,t){e.emit("modal.requestClose",t)},"ModalClose"),Ri=r(function(e){return e&&typeof e=="function"},"IsFunction");const Ld={modal(e,t){return Ri(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=Ig(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(i,a){t.modal(e,i)})},modalClose(e){return QP(this,e),this}};var J8=r(function(e,t,i,a,y,S){return S===void 0&&(S=!1),t[S?"once":"on"](i,a,y),e.once("destroy",function(){t.off(i,a,y)}),e},"BindEventWithGameObject"),ji=r(function(e,t,i,a,y){Ri(t)&&(y=a,a=i,i=t,t=this);var S=this.scene.events;return this.bindEvent(t,S,e,i,a,y),this},"BindSceneEvent");const Q8={bindEvent(e,t,i,a,y,S){return typeof t=="string"&&(S=y,y=a,a=i,i=t,t=e,e=this),J8(e,t,i,a,y,S),this},bindScenePreupdateEvent(e,t,i,a){return ji.call(this,"preupdate",e,t,i,a),this},bindSceneUpdateEvent(e,t,i,a){return ji.call(this,"update",e,t,i,a),this},bindScenePostupdateEvent(e,t,i,a){return ji.call(this,"postupdate",e,t,i,a),this},bindSceneRenderEvent(e,t,i,a){return ji.call(this,"render",e,t,i,a),this},bindScenePauseEvent(e,t,i,a){return ji.call(this,"pause",e,t,i,a),this},bindSceneResumeEvent(e,t,i,a){return ji.call(this,"resume",e,t,i,a),this},bindSceneSleepEvent(e,t,i,a){return ji.call(this,"sleep",e,t,i,a),this},bindSceneWakeEvent(e,t,i,a){return ji.call(this,"wake",e,t,i,a),this},bindSceneShutdownEvent(e,t,i,a){return ji.call(this,"shutdown",e,t,i,a),this}};var Ef=r(function(e,t,i){var a=e.camera;return a?(i===void 0?i={}:i===!0&&(i=j8),a===t?(i.x=e.worldX,i.y=e.worldY):a.getWorldPoint(e.x,e.y,i),i):null},"GetPointerWorldXY"),j8={},q8=r(function(e,t,i,a,y){var S=e.scene.sys.cameras.main,n,C=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return C?i(e,t.x,t.y,a,y):(n=Ef(t,S,!0),n?i(e,n.x,n.y,a,y):!1);for(var s=e.scene.input.manager,o=s.pointersTotal,T=s.pointers,c=0;c<o;c++)if(t=T[c],C){if(i(e,t.x,t.y,a,y))return!0}else{if(n=Ef(t,S,!0),!n)continue;if(i(e,n.x,n.y,a,y))return!0}return!1},"PointerTest"),zi=r(function(e,t,i,a){return q8(e,t,Od,i,a)},"IsPointerInBounds"),_8=r(function(e,t){return(He(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),zi(t,e)},"IsInTouching"),Oi=r(function(e){return Object.prototype.toString.call(e)==="[object Array]"},"IsArray"),br=r(function(e,t,i,a,y){return Od(e,t,i,t6(a),y)},"ContainsPoint$1"),AE=r(function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},"IsShownSizer"),t6=r(function(e){return e?function(t,i,a){return AE(t)?(e(t,i,a),!0):!1}:AE},"GetPreTestCallback"),jP=r(function(e,t,i,a,y){if(Ri(i)||(y=i,i=void 0,a=void 0),y===void 0&&(this.sizerChildren?y=this.sizerChildren:this.isRexContainerLite?y=this.children:y=this.list),Oi(y)){for(var S,n=0,C=y.length;n<C;n++)if(S=y[n],br(S,e,t,i,a))return S}else{var S;for(var s in y)if(S=y[s],br(S,e,t,i,a))return S}return null},"PointToChild$2"),e6=r(function(e,t){return t===void 0?t={}:t===!0&&(t=i6),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},"CopyState"),i6={},yl=r(function(e){this.sizerEventsEnable&&(e6(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},"PreLayoutChild"),Cl=r(function(e,t,i,a,y,S,n,C){n===void 0&&(n=0),C===void 0&&(C=0),gl(e,t,i,a,y,S),e.x+=n,e.y+=C,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)},"LayoutChild");const s6=Phaser.Display.Align.CENTER;var r6=r(function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,i=this.top,a=this.width*this.scaleX,y=this.height*this.scaleY,S,n,C,s,o,T,c,l=0,u=e.length;l<u;l++)S=e[l],n=S.rexSizer,!n.hidden&&(C=n.padding,yl.call(this,S),s=t+C.left*this.scaleX,o=i+C.top*this.scaleY,T=a-(C.left+C.right)*this.scaleX,c=y-(C.top+C.bottom)*this.scaleY,Ae(S,T,c),Cl.call(this,S,s,o,T,c,s6,0,0))},"LayoutBackgrounds");const n6=Phaser.Utils.Objects.IsPlainObject;var a6=r(function(e,t,i){if(n6(e)){var a=e;e=a.sensor,i=a.target,t=a.draggable}else typeof t!="boolean"&&(i=t,t=void 0);var y=typeof e;if(y==="string"){var S=e;if(e=this.getElement(S),!e)return console.error(`Can get element '${S}'`),this}else(e===void 0||y!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(n,C,s){var o=i===void 0?this.getTopmostSizer():i;o.x+=C-e.x,o.y+=s-e.y,o.emit("sizer.drag",n,C,s)},this).on("dragstart",function(n,C,s){var o=i===void 0?this.getTopmostSizer():i;o.emit("sizer.dragstart",n,C,s)},this).on("dragend",function(n,C,s,o){var T=i===void 0?this.getTopmostSizer():i;T.emit("sizer.dragend",n,C,s,o)},this).on("drop",function(n,C){var s=i===void 0?this.getTopmostSizer():i;s.emit("sizer.drop",n,C)}),e.input._rexUIDragSizer=!0),this},"SetDraggable");const $g={onClick(e,t,i,a){return e?(typeof e=="function"&&(a=i,i=t,t=e,e=this),e._click===void 0&&(e._click=new vs(e,a)),e._click.on("click",t,i),this):this},offClick(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,i),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},Nh=Phaser.Utils.Objects.GetValue,Hm=class Hm extends Yt{constructor(t,i){super(t,i),this._enable=void 0;var a=Nh(i,"inputConfig",void 0);a&&t.setInteractive(a),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(Nh(t,"enable",!0)),this.setMode(Nh(t,"mode",1)),this.setClickInterval(Nh(t,"clickInterval",100)),this.setDragThreshold(Nh(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var i=this.parent.scene;i.input.off("pointerdown",this.onPress,this),i.input.off("pointerup",this.onRelease,this),i.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=h6[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var i=this.parent,a=i.input?yg:zi;return a(i,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,i,a,y){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,i){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,i),this;this.pointer=void 0;var a=this.lastClickTime;return a!==void 0&&t-a<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,i),this)}cancel(){return this.pointer=void 0,this}};r(Hm,"ClickOutside");let bo=Hm;const h6={press:0,pointerdown:0,release:1,pointerup:1},o6={onClickOutside(e,t,i,a){return e?(typeof e=="function"&&(a=i,i=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new bo(e,a)),e._clickOutside.on("clickoutside",t,i),this):this},offClickOutside(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,i),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}},Ym=class Ym extends Pi{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,i){this.remainderTime-=i,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>i?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}};r(Ym,"Cooldown");let dp=Ym;const Ac=Phaser.Utils.Objects.GetValue,Vm=class Vm extends Yt{constructor(t,i){super(t,i),this._enable=void 0,this.cooldown=new dp,this.parent.setInteractive(Ac(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(Ac(t,"enable",!0)),this.setCooldown(Ac(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,i,a){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,i){this.cooldown.update(t,i),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}};r(Vm,"InTouching");let Is=Vm;const l6={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?zi(e):!1},onTouching(e,t,i,a){return e?(typeof e=="function"&&(a=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Is(e,a)),e._inTouching.on("intouch",t,i),this):this},offTouching(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,i),this)},onTouchingEnd(e,t,i,a){return e?(typeof e=="function"&&(a=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Is(e,a)),e._inTouching.on("touchend",t,i),this):this},offTouchingEnd(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,i),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},u6={onOver(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerover",t,i),this):this},onOut(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerout",t,i),this):this}};var qP=r(function(e,t,i,a){if(e==="parent"){for(var y,S=0,n=t.length;S<n;S++)if(y=t[S],!!br(y,i,a))return y.pointToChild?y.pointToChild(i,a):jP.call(y,i,a)}else for(var S=0,n=t.length;S<n;S++){var C=t[S];if(br(C,i,a))return C}return null},"ContainsPoint"),ui=r(function(e,t,i,a,y,S,n,C){var s;if(S===void 0)s=y;else{var o=i[0];if(!o)return;var T=n.camera,c=y+T.scrollX*(o.scrollFactorX-1),l=S+T.scrollY*(o.scrollFactorY-1);s=qP(a,i,c,l)}s&&e.emit(t,s,n,C)},"EmitChildEvent");const f6=Phaser.Utils.Objects.GetValue;var d6=r(function(e){var t=f6(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",c6,this))},"DownChild"),c6=r(function(e,t,i,a){var y=this._childrenInteractive;ui(y.eventEmitter,`${y.eventNamePrefix}down`,y.targetSizers,y.targetMode,e.worldX,e.worldY,e,a)},"OnDown");const v6=Phaser.Utils.Objects.GetValue;var p6=r(function(e){var t=v6(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",g6,this))},"UpChild"),g6=r(function(e,t,i,a){var y=this._childrenInteractive;ui(y.eventEmitter,`${y.eventNamePrefix}up`,y.targetSizers,y.targetMode,e.worldX,e.worldY,e,a)},"OnUp");const m6=Phaser.Utils.Objects.GetValue;var x6=r(function(e){var t=m6(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",PE,this).on("pointerover",PE,this).on("pointerout",T6,this))},"OverChild"),PE=r(function(e,t,i,a){var y=this._childrenInteractive,S=y.targetSizers[0];if(S){var n=e.camera,C=e.worldX+n.scrollX*(S.scrollFactorX-1),s=e.worldY+n.scrollY*(S.scrollFactorY-1),o=qP(y.targetMode,y.targetSizers,C,s),T=y.lastOverChild;o&&T&&o===T||(y.lastOverChild=o,ui(y.eventEmitter,`${y.eventNamePrefix}out`,y.targetSizers,y.targetMode,T,void 0,e,a),ui(y.eventEmitter,`${y.eventNamePrefix}over`,y.targetSizers,y.targetMode,o,void 0,e,a))}},"OnMove$1"),T6=r(function(e,t){var i=this._childrenInteractive,a=i.lastOverChild;i.lastOverChild=null,ui(i.eventEmitter,`${i.eventNamePrefix}out`,i.targetSizers,i.targetMode,a,void 0,e,t)},"OnOut$1");const y6=Phaser.Utils.Objects.GetValue;var C6=r(function(e){var t=y6(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var i=this._childrenInteractive;this._click=new vs(this,t),this._click.on("click",function(a,y,S,n){ui(i.eventEmitter,`${i.eventNamePrefix}click`,i.targetSizers,i.targetMode,S.worldX,S.worldY,S,n)},this)}},"ClickChild");const Pc=Phaser.Utils.Objects.GetValue,Wm=class Wm extends Ba{constructor(t,i){var a=ph(t);a===t&&(t=void 0),super(a,i),this.gameObject=t,t&&t.setInteractive(Pc(i,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(Pc(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(Pc(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=Rc,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,i){if(this.enable&&this.pointer===void 0){var a=this.bounds?this.bounds.contains(t.x,t.y):!0;a&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=RE,this.gameObject===void 0&&(this.isTouchingAnyObject=i.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;i&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=Rc,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,a=this.pointer===t;!a&&i||(a&&!i?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===RE&&this.onDragEnd(),this.pointer=void 0,this.tracerState=Rc,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,i){}postUpdate(t,i){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=E6,this}isPointerInGameObject(t,i,a){var y=this.lastPointer;return y?zi(t,y,i,a):!1}};r(Wm,"OnePointerTracer");let Xa=Wm;const Rc=0,RE=1,E6="IDLE",ur=Phaser.Utils.Objects.GetValue,S6=Phaser.Math.Distance.Between,km=class km extends Xa{constructor(t,i){super(t,i);var a=this,y={states:{IDLE:{enter:r(function(){a.stop(),a.tapsCount=0,a.x=0,a.y=0,a.worldX=0,a.worldY=0,a.lastPointer=void 0},"enter"),exit:r(function(){var S=a.lastPointer;a.x=S.x,a.y=S.y,a.worldX=S.worldX,a.worldY=S.worldY},"exit")},BEGIN:{enter:r(function(){a.start(),a.tapsCount=0,a.emit("tappingstart",a,a.gameObject,a.lastPointer)},"enter")},RECOGNIZED:{enter:r(function(){a.start(),a.emit("tap",a,a.gameObject,a.lastPointer),a.emit(`${a.tapsCount}tap`,a,a.gameObject,a.lastPointer)},"enter")}},init:r(function(){this.state=fr},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Pi(y))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(ur(t,"time",250)),this.setTapInterval(ur(t,"tapInterval",200)),this.setDragThreshold(ur(t,"threshold",9)),this.setTapOffset(ur(t,"tapOffset",10));var i=ur(t,"taps",void 0);return i!==void 0?this.setTaps(i):(this.setMaxTaps(ur(t,"maxTaps",void 0)),this.setMinTaps(ur(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case fr:this.state=mn;break;case mn:var t=this.lastPointer,i=S6(t.upX,t.upY,t.x,t.y);i>this.tapOffset&&(this.state=xn,this.state=mn);break;case xn:this.state=mn;break}}onDragEnd(){this.state===mn&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=xn))}onDrag(){this.state!==fr&&this.pointer.getDistance()>this.dragThreshold&&(this.state=fr)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===mn){var a=this.lastPointer;if(a.isDown){var y=t-a.downTime;y>this.holdTime&&(this.state=fr)}else{var S=t-a.upTime;S>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=xn:this.state=fr)}}}postUpdate(t,i){!this.isRunning||!this.enable||this.state===xn&&(this.state=fr)}get isTapping(){return this.state===xn}get isTapped(){return this.isTapping}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,i){return i===void 0&&(i=t),this.setMinTaps(t).setMaxTaps(i),this}};r(km,"Tap");let za=km;const fr="IDLE",mn="BEGIN",xn="RECOGNIZED",OE=Phaser.Utils.Objects.GetValue,Xm=class Xm extends Xa{constructor(t,i){super(t,i);var a=this,y={states:{IDLE:{enter:r(function(){a.x=0,a.y=0,a.worldX=0,a.worldY=0,a.lastPointer=void 0},"enter"),exit:r(function(){var S=a.lastPointer;a.x=S.x,a.y=S.y,a.worldX=S.worldX,a.worldY=S.worldY},"exit")},BEGIN:{enter:r(function(){a.start()},"enter"),exit:r(function(){a.stop()},"exit")},RECOGNIZED:{enter:r(function(){a.emit("pressstart",a,a.gameObject,a.lastPointer)},"enter"),exit:r(function(){a.emit("pressend",a,a.gameObject,a.lastPointer)},"exit")}},init:r(function(){this.state=au},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Pi(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(OE(t,"threshold",9)),this.setHoldTime(OE(t,"time",251)),this}onDragStart(){this.state=LE,this.holdTime===0&&(this.state=Oc)}onDragEnd(){this.state=au}onDrag(){this.state!==au&&this.pointer.getDistance()>this.dragThreshold&&(this.state=au)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===LE){var a=t-this.pointer.downTime;a>=this.holdTime&&(this.state=Oc)}}get isPressing(){return this.state===Oc}get isPressed(){return this.isPressing}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}};r(Xm,"Press");let Ia=Xm;const au="IDLE",LE="BEGIN",Oc="RECOGNIZED",A6=Phaser.Utils.Objects.GetValue,zm=class zm extends Xa{constructor(t,i){super(t,i);var a=this,y={states:{IDLE:{},BEGIN:{enter:r(function(){var S=a.pointer;a.startX=S.x,a.startY=S.y,a.startWorldX=S.worldX,a.startWorldY=S.worldY},"enter")},RECOGNIZED:{enter:r(function(){a.emit("panstart",a,a.gameObject,a.lastPointer)},"enter"),exit:r(function(){var S=a.lastPointer;a.endX=S.x,a.endY=S.y;var n=Ef(S,a.pointerCamera,!0);a.endWorldX=n.x,a.endWorldY=n.y,a.emit("panend",a,a.gameObject,a.lastPointer)},"exit")}},init:r(function(){this.state=wE},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Pi(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(A6(t,"threshold",10)),this}onDragStart(){this.state=ME,this.dragThreshold===0&&(this.state=hu)}onDragEnd(){this.state=wE}onDrag(){switch(this.state){case ME:if(this.pointer.getDistance()>=this.dragThreshold){this.state=hu,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var y=this.pointer;this.x=y.x,this.y=y.y,this.worldX=y.worldX,this.worldY=y.worldY}break;case hu:var t=this.pointerCamera,i=this.pointer.position,a=this.pointer.prevPosition;this.dx=i.x-a.x,this.dy=i.y-a.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var y=this.pointer;this.x=y.x,this.y=y.y;var S=Ef(y,t,!0);this.worldX=S.x,this.worldY=S.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanning(){return this.state===hu}get isPanned(){return this.isPanning}setDragThreshold(t){return this.dragThreshold=t,this}};r(zm,"Pan");let Sf=zm;const wE="IDLE",ME="BEGIN",hu="RECOGNIZED",P6=Phaser.Math.Distance.Between,R6=Phaser.Math.Angle.Between,O6={getDt:r(function(){var e=Eg(this.scene);return e},"getDt"),getVelocity:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=P6(t.x,t.y,e.x,e.y),a=i/(this.getDt()*.001);return a},"getVelocity"),getVelocityX:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.x-t.x),a=i/(this.getDt()*.001);return a},"getVelocityX"),getVelocityY:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.y-t.y),a=i/(this.getDt()*.001);return a},"getVelocityY"),getVelocityAngle:r(function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=R6(t.x,t.y,e.x,e.y);return i},"getVelocityAngle")},L6={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var w6=r(function(e,t,i){switch(i===void 0?i={}:i===!0&&(i=M6),i.left=!1,i.right=!1,i.up=!1,i.down=!1,e=(e+360)%360,t){case 0:e<180?i.down=!0:i.up=!0;break;case 1:e>90&&e<=270?i.left=!0:i.right=!0;break;case 2:e>45&&e<=135?i.down=!0:e>135&&e<=225?i.left=!0:e>225&&e<=315?i.up=!0:i.right=!0;break;case 3:e>22.5&&e<=67.5?(i.down=!0,i.right=!0):e>67.5&&e<=112.5?i.down=!0:e>112.5&&e<=157.5?(i.down=!0,i.left=!0):e>157.5&&e<=202.5?i.left=!0:e>202.5&&e<=247.5?(i.left=!0,i.up=!0):e>247.5&&e<=292.5?i.up=!0:(e>292.5&&e<=337.5&&(i.up=!0),i.right=!0);break}return i},"AngleToDirections"),M6={};const Lc=Phaser.Utils.Objects.GetValue,D6=Phaser.Math.RadToDeg,Im=class Im extends Xa{constructor(t,i){super(t,i);var a=this,y={states:{IDLE:{enter:r(function(){a.x=0,a.y=0,a.worldX=0,a.worldY=0},"enter"),exit:r(function(){var S=a.lastPointer;a.x=S.x,a.y=S.y,a.worldX=S.worldX,a.worldY=S.worldY},"exit")},BEGIN:{enter:r(function(){a.validDrag=!1},"enter")},RECOGNIZED:{enter:r(function(){a.start(),a.updateDirectionStates(),a.emit("swipe",a,a.gameObject,a.lastPointer)},"enter"),exit:r(function(){a.stop(),a.clearDirectionStates()},"exit")}},init:r(function(){this.state=wc},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Pi(y)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Lc(t,"threshold",10)),this.setVelocityThreshold(Lc(t,"velocityThreshold",1e3)),this.setDirectionMode(Lc(t,"dir","8dir")),this}onDragStart(){this.state=DE}onDragEnd(){this.state=wc}onDrag(){this.state===DE&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=Mc))}postUpdate(t,i){!this.isRunning||!this.enable||this.state===Mc&&(this.state=wc)}get isSwiping(){return this.state===Mc}get isSwiped(){return this.isSwiping}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=L6[t]),this.dirMode=t,this}updateDirectionStates(){var t=D6(this.getVelocityAngle());return w6(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}};r(Im,"Swipe");let Nr=Im;Object.assign(Nr.prototype,O6);const wc="IDLE",DE="BEGIN",Mc="RECOGNIZED",ou=Phaser.Utils.Objects.GetValue,F6=Phaser.Utils.Array.SpliceOne,b6=Phaser.Math.Distance.Between,N6=Phaser.Math.Angle.Between,$m=class $m{constructor(t,i){var a=ph(t);a===t&&(t=void 0);var y=a.input.manager.pointersTotal-1;y<2&&a.input.addPointer(2-y),this.scene=a,this.gameObject=t,t&&t.setInteractive(ou(i,"inputConfig",void 0)),this.setEventEmitter(ou(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(ou(t,"enable",!0)),this.bounds=ou(t,"bounds",void 0),this.tracerState=lu,this.pointers.length=0,Hs(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Hs(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var a=this.pointers.indexOf(t);if(a===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case lu:this.tracerState=Gh,this.onDrag1Start();break;case Gh:this.tracerState=Di,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var a=this.pointers.indexOf(t);if(a!==-1)switch(delete this.movedState[t.id],F6(this.pointers,a),this.tracerState){case Gh:this.tracerState=lu,this.onDrag1End();break;case Di:this.tracerState=Gh,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,a=this.pointers.indexOf(t)!==-1;if(!(!a&&i)){if(a&&!i)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case Gh:this.onDrag1();break;case Di:this.onDrag2();break}}}}dragCancel(){return this.tracerState===Di&&this.onDrag2End(),this.pointers.length=0,Hs(this.movedState),this.tracerState=lu,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==Di)return 0;var t=this.pointers[0],i=this.pointers[1];return b6(t.x,t.y,i.x,i.y)}get angleBetween(){if(this.tracerState!==Di)return 0;var t=this.pointers[0],i=this.pointers[1];return N6(t.x,t.y,i.x,i.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var i=t.position,a=t.prevPosition;Bh.x=i.x-a.x,Bh.y=i.y-a.y}else Bh.x=0,Bh.y=0;return Bh}get centerX(){if(this.tracerState!==Di)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.x+i.x)/2}get centerY(){if(this.tracerState!==Di)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.y+i.y)/2}get prevCenterX(){if(this.tracerState!==Di)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+i.x)/2}get prevCenterY(){if(this.tracerState!==Di)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+i.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=B6,this}isPointer0InGameObject(t,i,a){var y=this.pointers[0];return y?zi(t,y,i,a):!1}isPointer1InGameObject(t,i,a){var y=this.pointers[1];return y?zi(t,y,i,a):!1}};r($m,"TwoPointersTracer");let No=$m;Object.assign(No.prototype,fl);var Bh={};const lu=0,Gh=1,Di=2,B6="IDLE",G6=Phaser.Utils.Objects.GetValue,Km=class Km extends No{constructor(t,i){super(t,i);var a=this,y={states:{IDLE:{enter:r(function(){a.prevDistance=void 0,a.scaleFactor=1},"enter")},BEGIN:{},RECOGNIZED:{enter:r(function(){a.emit("pinchstart",a)},"enter"),exit:r(function(){a.emit("pinchend",a)},"exit")}},init:r(function(){this.state=FE},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Pi(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(G6(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=bE,this.dragThreshold===0&&(this.state=uu)}onDrag2End(){this.state=FE}onDrag2(){switch(this.state){case bE:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=uu}break;case uu:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinching(){return this.state===uu}get isPinched(){return this.isPinching}setDragThreshold(t){return this.dragThreshold=t,this}};r(Km,"Pinch");let Af=Km;const FE="IDLE",bE="BEGIN",uu="RECOGNIZED",U6=Phaser.Math.RotateAround;var NE=r(function(e,t,i,a){return U6(e,t,i,a),e.rotation+=a,e},"RotateObjectAround"),H6=r(function(e,t,i,a){return a===void 0?a={}:a===!0&&(a=Y6),i.getWorldPoint(e,t,a),a},"ScreenXYToWorldXY"),Y6={},V6=r(function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var i=this.movementCenterX,a=this.movementCenterY,y=H6(this.centerX,this.centerY,t,!0),S=y.x,n=y.y,C=this.rotation;if(Array.isArray(e))for(var s=e,o=0,T=s.length;o<T;o++)e=s[o],e.x+=i,e.y+=a,NE(e,S,n,C);else e.x+=i,e.y+=a,NE(e,S,n,C);return this},"SpinObject");const W6=Phaser.Utils.Objects.GetValue,Dc=Phaser.Math.Angle.WrapDegrees,BE=Phaser.Math.Angle.ShortestBetween,Fc=Phaser.Math.RadToDeg,k6=Phaser.Math.DegToRad,Zm=class Zm extends No{constructor(t,i){super(t,i);var a=this,y={states:{IDLE:{enter:r(function(){a.prevAngle=void 0,a.angle=0},"enter")},BEGIN:{},RECOGNIZED:{enter:r(function(){a.emit("rotatestart",a)},"enter"),exit:r(function(){a.emit("rotateend",a)},"exit")}},init:r(function(){this.state=GE},"init"),eventEmitter:!1};this.setRecongizedStateObject(new Pi(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(W6(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=Dc(Fc(this.angleBetween)),this.state=UE,this.dragThreshold===0&&(this.state=fu)}onDrag2End(){this.state=GE}onDrag2(){switch(this.state){case UE:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=Dc(Fc(this.angleBetween));this.angle=BE(this.prevAngle,t),this.prevAngle=t,this.state=fu}break;case fu:var t=Dc(Fc(this.angleBetween));this.angle=BE(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotating(){return this.state===fu}get isRotated(){return this.isRotating}get rotation(){return k6(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}};r(Zm,"Rotate");let Bo=Zm;var X6={spinObject:V6};Object.assign(Bo.prototype,X6);const GE="IDLE",UE="BEGIN",fu="RECOGNIZED",z6=Phaser.Utils.Objects.GetValue;var I6=r(function(e){var t=z6(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._tap=new za(this,t),this._tap.on("tap",function(a,y,S){ui(i.eventEmitter,`${i.eventNamePrefix}${a.tapsCount}tap`,i.targetSizers,i.targetMode,a.worldX,a.worldY,S,a),ui(i.eventEmitter,`${i.eventNamePrefix}tap`,i.targetSizers,i.targetMode,a.worldX,a.worldY,S,a)},this)}},"TapChild");const $6=Phaser.Utils.Objects.GetValue;var K6=r(function(e){var t=$6(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._press=new Ia(this,t),this._press.on("pressstart",function(a,y,S){ui(i.eventEmitter,`${i.eventNamePrefix}pressstart`,i.targetSizers,i.targetMode,a.worldX,a.worldY,S,a)},this).on("pressend",function(a,y,S){ui(i.eventEmitter,`${i.eventNamePrefix}pressend`,i.targetSizers,i.targetMode,a.worldX,a.worldY,S,a)},this)}},"PressChild");const Z6=Phaser.Utils.Objects.GetValue;var J6=r(function(e){var t=Z6(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var i=this._childrenInteractive;this._swipe=new Nr(this,t),this._swipe.on("swipe",function(a,y,S){var n=a.left?"left":a.right?"right":a.up?"up":"down";ui(i.eventEmitter,`${i.eventNamePrefix}swipe${n}`,i.targetSizers,i.targetMode,a.worldX,a.worldY,S,a),ui(i.eventEmitter,`${i.eventNamePrefix}swipe`,i.targetSizers,i.targetMode,a.worldX,a.worldY,S,a)},this)}},"SwipeChild");const Uh=Phaser.Utils.Objects.GetValue;var wd=r(function(e,t){return e.setInteractive(),Uh(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:Uh(t,"targets",[e]),targetMode:Uh(t,"targetMode","parent"),eventEmitter:Uh(t,"eventEmitter",e),eventNamePrefix:Uh(t,"inputEventPrefix","child.")},d6.call(e,t),p6.call(e,t),x6.call(e,t),C6.call(e,t),I6.call(e,t),K6.call(e,t),J6.call(e,t),e},"SetChildrenInteractive$1"),Q6=r(function(e){return wd(this,e),this},"SetChildrenInteractiveWrap"),j6=r(function(){for(var e=this.getAllChildren([this]),t=0,i=e.length;t<i;t++){var a=e[t];a.emit.apply(a,arguments)}return this},"BroadcastEvent"),_P={getSizerConfig:m9,getChildPrevState:x9,pushIntoBounds:T9,drawBounds:F9,resolveWidth:Ug,hasWidthWrap:Hg,resolveChildrenWidth:K9,runWidthWrap:Yg,resolveHeight:Vg,hasHeightWrap:Wg,resolveChildrenHeight:Z9,runHeightWrap:kg,getChildWidth:J9,getChildHeight:Q9,getExpandedChildWidth:j9,getExpandedChildHeight:q9,getChildrenWidth:_9,getChildrenHeight:t8,addChildrenMap:dE,addElement:dE,removeChildrenMap:k9,getElement:X9,getChildIndex:I9,getAllChildrenSizers:e8,getChildrenSizers:i8,preLayout:Tl,layout:r8,runLayout:h8,layoutChildren:u8,layoutBackgrounds:r6,postLayout:f8,setAnchor:c8,isInTouching:_8,pointToChild:jP,setDraggable:a6,setChildrenInteractive:Q6,broadcastEvent:j6};Object.assign(_P,$9,B9,W9,mh,ss,wo,Rd,L8,M8,$P,$g,o6,l6,u6,b8,Ld,s8,Q8);const qi=Phaser.Utils.Objects.GetValue;var Ta;let jr=(Ta=class extends Fe{constructor(t,i,a,y,S,n){super(t,i,a,1,1),this.isRexSizer=!0;var C=qi(n,"origin",.5),s=qi(n,"originX",C),o=qi(n,"originY",C);this.setOrigin(s,o),this.setMinSize(y,S),this.setName(qi(n,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var T=qi(n,"anchor",void 0);T&&this.setAnchor(T),this.setInnerPadding(qi(n,"space",0));var c=qi(n,"draggable",!1);c&&this.setDraggable(c),this.setSizerEventsEnable(qi(n,"sizerEvents",!1)),this.setDirty(!0),qi(n,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i=this.getAllChildrenSizers([this]),a=0,y=i.length;a<y;a++)i[a].sizerEventsEnable=!1;super.destroy(t),Hs(this.backgroundChildren),Hs(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,i){return this.setMinWidth(t).setMinHeight(i),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-Lt(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+Lt(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+Lt(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-wt(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+wt(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+wt(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}},r(Ta,"Base"),Ta);Object.assign(jr.prototype,_P);var q6=r(function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,a,y,S=!1;for(var n in t)i=t[n],y=this.getChildWidth(i),y===void 0&&(S=!0),!S&&(a=i.rexSizer.padding,y+=(a.left+a.right)*this.scaleX,e=Math.max(y,e));if(!S)return e+(this.space.left+this.space.right)*this.scaleX},"GetChildrenWidth$4"),_6=r(function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,a,y,S=!1;for(var n in t)i=t[n],y=this.getChildHeight(i),y===void 0&&(S=!0),!S&&(a=i.rexSizer.padding,y+=(a.top+a.bottom)*this.scaleY,e=Math.max(y,e));if(!S)return e+(this.space.top+this.space.bottom)*this.scaleY},"GetChildrenHeight$4"),tU=r(function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,a=e.rexSizer;if(a.expandWidth){var y=t-(this.space.left+this.space.right)*this.scaleX,S=a.padding;i=y-(S.left+S.right)*this.scaleX}return i},"GetExpandedChildWidth$3"),eU=r(function(e,t){t===void 0&&(t=this.height);var i,a=e.rexSizer;if(a.expandHeight){var y=t-(this.space.top+this.space.bottom)*this.scaleY,S=a.padding;i=y-(S.top+S.bottom)*this.scaleY}return i},"GetExpandedChildHeight$3"),iU=r(function(e){e===void 0&&(e=[]);var t=this.sizerChildren,i;for(var a in t)i=t[a],i.isRexSizer&&e.push(i);return e},"GetChildrenSizers$4"),Kg=r(function(e,t,i,a){if(i===void 0)i=0;else{var y=typeof i;y==="boolean"?(a=i,i=0):y==="string"&&(i=sU[i])}a===void 0?a={}:a===!0&&(a=rU);var S=t.width/e.width,n=t.height/e.height,C=i?Math.max(S,n):Math.min(S,n);return a.width=e.width*C,a.height=e.height*C,a},"FitTo");const sU={fit:0,FIT:0,envelop:1,ENVELOP:1};var rU={},Zg=r(function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},"CheckSize"),nU=r(function(){var e,t,i,a=this.innerLeft,y=this.innerTop,S=this.innerWidth,n=this.innerHeight,C,s,o,T,c,l,u,h,f,v=this.sizerChildren;for(var d in v)e=v[d],!e.rexSizer.hidden&&(t=e.rexSizer,i=t.padding,yl.call(this,e),u=this.getExpandedChildWidth(e),h=this.getExpandedChildHeight(e),t.aspectRatio>0&&(bc.width=t.aspectRatio,bc.height=1,Nc.width=u,Nc.height=h,f=Kg(bc,Nc,"FIT",!0),u=f.width,h=f.height),e.isRexSizer?(e.runLayout(this,u,h),Zg(e,this)):Ae(e,u,h),C=a+i.left*this.scaleX,o=S-(i.left+i.right)*this.scaleX,s=y+i.top*this.scaleY,T=n-(i.top+i.bottom)*this.scaleY,u===void 0&&(u=Lt(e)),h===void 0&&(h=wt(e)),c=(t.alignOffsetX+t.alignOffsetOriginX*u)*this.scaleX,l=(t.alignOffsetY+t.alignOffsetOriginY*h)*this.scaleY,Cl.call(this,e,C,s,o,T,t.align,c,l))},"LayoutChildren$5"),bc={},Nc={};const HE=Phaser.Utils.Objects.IsPlainObject,Xe=Phaser.Utils.Objects.GetValue,YE=Phaser.Display.Align.CENTER,aU=Phaser.Utils.String.UUID;var hU=r(function(e,t,i,a,y,S,n,C,s,o){var T,c;if(ml.call(this,e),HE(t)){var u=t;t=Xe(u,"key",void 0),i=Xe(u,"align",YE),a=Xe(u,"padding",0),y=Xe(u,"expand",!0),e.isRexSizer||(S=Xe(u,"minWidth",e._minWidth),n=Xe(u,"minHeight",e._minHeighted)),C=Xe(u,"offsetX",0),s=Xe(u,"offsetY",0),T=Xe(u,"offsetOriginX",0),c=Xe(u,"offsetOriginY",0),o=Xe(u,"aspectRatio",0)}var l=t!==void 0;l||(t=aU()),typeof i=="string"&&(i=gh[i]),i===void 0&&(i=YE),a===void 0&&(a=0),y===void 0&&(y=!0),e.isRexSizer||(S===void 0&&(S=e._minWidth),n===void 0&&(n=e._minHeight)),C===void 0&&(C=0),s===void 0&&(s=0),T===void 0&&(T=0),c===void 0&&(c=0),o===void 0?o=0:o===!0&&(o=Lt(e)/wt(e)),o>0&&(y=!0,S===void 0&&(S=0),n===void 0&&(n=0));var u=this.getSizerConfig(e);return u.align=i,u.padding=Qr(a),HE(y)?(u.expandWidth=Xe(y,"width",!1),u.expandHeight=Xe(y,"height",!1)):(u.expandWidth=y,u.expandHeight=y),e.isRexSizer||(u.expandWidth&&(e.minWidth=S===void 0?Lt(e):S),u.expandHeight&&(e.minHeight=n===void 0?wt(e):n)),u.alignOffsetX=C,u.alignOffsetY=s,u.alignOffsetOriginX=T,u.alignOffsetOriginY=c,u.aspectRatio=o,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,l&&this.addChildrenMap(t,e),this},"Add$7");const oU={add:hU},lU=Fe.prototype.clear;var Md=r(function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,i;if(t&&(i=this.getChildren([])),lU.call(this,e),t)for(var a,y=0,S=i.length;y<S;y++)a=i[y],a.emit("sizer.remove",a,this),this.emit("remove",a,this);return this},"ClearChildren");const uU={remove(e,t){var i;if(typeof e=="string"){if(i=e,e=this.sizerChildren[i],!e)return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return i&&(delete this.sizerChildren[i],this.childrenMap.hasOwnProperty(i)&&delete this.childrenMap[i]),xl.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return Md.call(this,e),this}};var tR={getChildrenWidth:q6,getChildrenHeight:_6,getExpandedChildWidth:tU,getExpandedChildHeight:eU,getChildrenSizers:iU,layoutChildren:nU};Object.assign(tR,oU,uU);var Dd=r(function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var i in e)if(e[i]===t)return i;return null},"IndexOf");const VE=Phaser.Utils.Objects.IsPlainObject,Tn=Phaser.Utils.Objects.GetValue,Jm=class Jm extends jr{constructor(t,i,a,y,S,n){VE(i)?(n=i,i=Tn(n,"x",0),a=Tn(n,"y",0),y=Tn(n,"width",void 0),S=Tn(n,"height",void 0)):VE(y)&&(n=y,y=Tn(n,"width",void 0),S=Tn(n,"height",void 0)),super(t,i,a,y,S,n),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var i=t;if(this.sizerChildren.hasOwnPropery(i))return i}else return Dd(this.sizerChildren,t);return null}};r(Jm,"OverlapSizer");let Ve=Jm;Object.assign(Ve.prototype,tR);var fU=Phaser.Math.Distance.Between,Pf=r(function(e,t,i){var a=e.width/2;return fU(a,a,t,i)<=a},"IsLocalPointInKnob");const dU=Phaser.Math.Angle.Between,cU=Phaser.Math.Angle.Normalize;var WE=r(function(e,t,i){if(this.enable&&e.isDown){var a=this.sizerChildren.knob;if(Pf(a,t,i)){var y=a.width/2,S=a.startAngle,n=dU(y,y,t,i),C=a.anticlockwise?S-n:n-S,s=cU(C)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-s)<.1?this.value=s:this.easeValueTo(s)}}},"OnTouchPad"),vU=r(function(){var e=this.sizerChildren.knob;e.on("pointerdown",WE,this).on("pointermove",WE,this).setInteractive()},"InstallEvents$1");const kE=Phaser.Math.Angle.Between,pU=Phaser.Math.Angle.Wrap;var gU=r(function(e,t,i){if(!(!this.enable||this.panPointer)){var a=this.sizerChildren.knob;Pf(a,t,i)&&eR.call(this,e)}},"OnPointerDown"),mU=r(function(e,t,i){if(this.enable&&e.isDown){var a=this.sizerChildren.knob;switch(this.panState){case Jg:Pf(a,t,i)&&eR.call(this,e);break;case sR:Pf(a,t,i)?TU.call(this):iR.call(this);break}}},"OnPointerMove"),xU=r(function(e,t,i){!this.enable||this.panPointer!==e||iR.call(this)},"OnPointerUp"),eR=r(function(e){this.panPointer=e,this.panState=sR},"OnPanStart"),iR=r(function(){this.panPointer=void 0,this.panState=Jg},"OnPanEnd"),TU=r(function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,i=this.sizerChildren.knob,a=kE(i.x,i.y,e.x,e.y),y=kE(i.x,i.y,t.x,t.y),S=i.anticlockwise?a-y:y-a,n=pU(S)/(Math.PI*2);this.stopEaseValue(),this.value+=n},"OnPan");const Jg=0,sR=1;var yU=r(function(){var e=this.sizerChildren.knob;e.on("pointerdown",gU,this).on("pointermove",mU,this).on("pointerup",xU,this).setInteractive(),this.panPointer=void 0,this.panState=Jg},"InstallEvents"),CU=r(function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},"SetTextFormatCallback"),rR=r(function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},"GetFormatText"),EU=r(function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(rR.call(this,e)),t.layout&&t.layout()),this},"UpdateText");const SU={setTextFormatCallback:CU,getFormatText:rR,updateText:EU},ci=Phaser.Utils.Objects.GetValue,AU=Phaser.Math.Snap.To,Qm=class Qm extends Qs(Ve){constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexKnob",this.bootProgressBase(i);var a=ci(i,"background",void 0),y=ci(i,"text",void 0);a&&this.addBackground(a),y&&(i.textColor=void 0,i.textStrokeColor=void 0,this.setTextFormatCallback(ci(i,"textFormatCallback",void 0),ci(i,"textFormatCallbackScope",void 0)),i.textFormatCallback=void 0,i.textFormatCallbackScope=void 0);var S=new Ya(t,i);S.setDepth(ci(i,"knobDepth",0)),S._value=-1,t.add.existing(S),this.add(S,"knob"),y&&(this.add(y,"text","center",0,!1),t.children.moveBelow(S,y)),this.addChildrenMap("background",a),this.addChildrenMap("knob",S),this.addChildrenMap("text",y),this.setEnable(ci(i,"enable",void 0)),this.setGap(ci(i,"gap",void 0)),this.setValue(ci(i,"value",0),ci(i,"min",void 0),ci(i,"max",void 0));var n=ci(i,"input",0);switch(typeof n=="string"&&(n=PU[n]),n){case 0:yU.call(this);break;case 1:vU.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=AU(t,this.gap));var i=this.value;this.sizerChildren.knob.value=t;var a=this.value;i!==a&&(this.updateText(),this.eventEmitter.emit("valuechange",a,i,this.eventEmitter))}};r(Qm,"Knob");let Go=Qm;const PU={pan:0,drag:0,click:1,none:-1};Object.assign(Go.prototype,SU);rt.register("knob",function(e){var t=new Go(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Knob",Go);const RU={arc:zs,circle:Ye,curve:rp,ellipse:np,line:Xi,lines:ue,rectangle:wB,roundRectangle:Ha,triangle:DB},XE=Phaser.Utils.Objects.GetValue,OU=Phaser.Utils.Objects.IsPlainObject,LU=r(function(){for(var e=this.getShapes(),t=0,i=e.length;t<i;t++)e[t].lineStyle().fillStyle()},"ClearAll"),wU={createShape(e,t){var i=RU[e],a=new i;return t&&a.setName(t),a},buildShapes(e){var t=XE(e,"create",void 0);if(OU(t)){var i=t;for(var a in i){var y=i[a];switch(typeof y){case"number":for(var S=0;S<y;S++)this.addShape(this.createShape(a));break;case"string":this.addShape(this.createShape(a,y));break;default:for(var n=y,S=0,C=n.length;S<C;S++)this.addShape(this.createShape(a,n[S]));break}}}else if(Array.isArray(t))for(var i=t,S=0,C=i.length;S<C;S++){var s=i[S];this.addShape(this.createShape(s.type,s.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(XE(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=LU),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},Hh=Phaser.Utils.Objects.GetValue,MU=Phaser.Utils.Objects.IsPlainObject,jm=class jm extends Ai{constructor(t,i,a,y,S,n){MU(i)&&(n=i,i=Hh(n,"x",0),a=Hh(n,"y",0),y=Hh(n,"width",2),S=Hh(n,"height",2)),super(t,i,a,y,S),this.type=Hh(n,"type","rexCustomShapes"),this.buildShapes(n)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,i,a,y){return typeof a=="boolean"&&(y=a,a=void 0),PA(this,t,i,a,y)}};r(jm,"CustomShapes");let $a=jm;Object.assign($a.prototype,wU);rt.register("customShapes",function(e,t,i,a,y){var S=new $a(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.CustomShapes",$a);const Yh=Phaser.Utils.Objects.GetValue,DU=Phaser.Utils.Objects.IsPlainObject,qm=class qm extends Qs($a){constructor(t,i,a,y,S,n){DU(i)&&(n=i,i=Yh(n,"x",0),a=Yh(n,"y",0),y=Yh(n,"width",2),S=Yh(n,"height",2)),n===void 0&&(n={}),n.type||(n.type="rexCustomProgress"),super(t,i,a,y,S,n),this.bootProgressBase(n),this.setValue(Yh(n,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}};r(qm,"CustomProgress");let fi=qm;rt.register("customProgress",function(e,t,i,a,y){var S=new fi(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.CustomProgress",fi);var FU=r(function(e){return this.easeValueTask||(this.easeValueTask=new Je(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},"Start"),bU=r(function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},"Stop$1"),NU=r(function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},"Pause"),BU=r(function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},"Resume");const GU={start:FU,stop:bU,pause:NU,resume:BU},vi=Phaser.Utils.Objects.GetValue,_m=class _m extends Ai{constructor(t,i){var a=vi(i,"x",0),y=vi(i,"y",0),S=vi(i,"width",64),n=vi(i,"height",64);super(t,a,y,S,n),this.resetFromConfig(i,!0),this.buildShapes(i),vi(i,"start",!0)&&this.start()}resetFromConfig(t,i){i===void 0&&(i=!1);var a;return a=i?1e3:this.duration,this.setDuration(vi(t,"duration",a)),a=i?"Linear":this.ease,this.setEase(vi(t,"ease",a)),a=i?0:this.delay,this.setDelay(vi(t,"delay",a)),a=i?0:this.repeatDelay,this.setRepeatDelay(vi(t,"repeatDelay",a)),a=i?16777215:this.color,this.setColor(vi(t,"color",a)),a=i?0:this.value,this.setValue(vi(t,"value",a)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}};r(_m,"Base");let Rf=_m;Object.assign(Rf.prototype,GU);const As=Phaser.Math.DegToRad,UU=Phaser.Math.Linear,HU=Phaser.Math.Easing.Expo.In,YU={right:0,down:1,left:2,up:3};var VU=r(function(e,t,i,a,y,S,n,C,s,o,T){var c=yn(t,0,a,y,S,n,C,s,o,T);e.startAt(c.x,c.y);var l=yn(i,0,a,y,S,n,C,s,o,T);e.lineTo(l.x,l.y);var u=yn(i,i,a,y,S,n,C,s,o,T);e.lineTo(u.x,u.y);var h=yn(0,i,a,y,S,n,C,s,o,T);e.lineTo(h.x,h.y);var f=yn(0,t,a,y,S,n,C,s,o,T);e.lineTo(f.x,f.y);var v=yn(t,t,a,y,S,n,C,s,o,T);e.lineTo(v.x,v.y),e.close()},"ArrowPolygon"),Bc={},yn=r(function(e,t,i,a,y,S,n,C,s,o){var T=e*i,c=t*a;return Bc.x=n*T+C*c+y,Bc.y=s*T+o*c+S,Bc},"Transform");const du={setDirection(e){return typeof e=="string"&&(e=YU[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new ue)},updateShapes(){var e,t,i,a,y,S;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var n=As(315);i=Math.cos(n),a=Math.sin(n);var C=As(45);y=Math.cos(C),S=Math.sin(C);break;case 3:e=this.centerX,t=this.centerY+this.radius;var n=As(135);i=Math.cos(n),a=Math.sin(n);var C=As(225);y=Math.cos(C),S=Math.sin(C);break;case 2:e=this.centerX+this.radius,t=this.centerY;var n=As(225);i=Math.cos(n),a=Math.sin(n);var C=As(315);y=Math.cos(C),S=Math.sin(C);break;default:e=this.centerX-this.radius,t=this.centerY;var n=As(45);i=Math.cos(n),a=Math.sin(n);var C=As(135);y=Math.cos(C),S=Math.sin(C);break}for(var s=this.radius/7,o=this.getShapes(),T=0,c=o.length;T<c;T++){var l=o[T],u=(this.value+(c-T)*.1)%1;u=HU(Ut(u));var h=UU(.25,1,u);l.fillStyle(this.color,h);var f=T*3+1,v=f+2;VU(l,f,v,s,s,e,t,i,a,y,S)}}},WU=Phaser.Math.Linear,kU={buildShapes(){for(var e=0;e<4;e++)this.addShape(new Xi);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,a=e-i,y=t+i,S=i*2,n=this.getShapes(),C=n.length,s=i*2/C,o=s*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var T=0;T<C;T++){var c=n[T],l=this.prevValue===void 0?Math.random():c.getData("to");c.setData("from",l).setData("to",Math.random())}this.prevValue=this.value;for(var T=0;T<C;T++){var c=n[T],l=c.getData("from"),u=c.getData("to"),h=WU(l,u,this.value),f=h*S,v=a+s*(T+.5);c.lineStyle(o,this.color,1).setP0(v,y).setP1(v,y-f)}}},XU=Phaser.Math.Linear,zU={buildShapes(){for(var e=0;e<3;e++)this.addShape(new Ye)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,a=i*.1,y=Math.ceil(a*.25),S=1-Ut(this.value),n=XU(.3,.9,S)*i,C=this.getShapes(),s=0,o=C.length;s<o;s++){var T=C[s],S=(this.value+s/o)%1,c=Math.PI*2*S;T.lineStyle(y,this.color).setRadius(a).setCenterPosition(e+Math.cos(c)*n,t+Math.sin(c)*n)}}},IU=Phaser.Math.Linear,$U=Phaser.Math.Easing.Expo.In,KU={buildShapes(){for(var e=5,t=0;t<e;t++){var i=new Xi;this.addShape(i);var a=Ut(t/(e-1))/2;i.setData("offset",a)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,a=e-i,y=i*2,S=this.getShapes(),n=S.length,C=i*2/n,s=C*.7,o=0;o<n;o++){var T=S[o],c=(this.value+T.getData("offset"))%1;c=$U(Ut(c));var l=IU(.4,1,c)*y,u=a+C*(o+.5);T.lineStyle(s,this.color,1).setP0(u,t-l/2).setP1(u,t+l/2)}}},ZU={buildShapes(){this.addShape(new ue().setName("border")),this.addShape(new ue().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,a=i*.7,y=e-a,S=t-a,n=a*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(y,S).lineTo(n,0,!0).lineTo(0,n,!0).lineTo(-n,0,!0).lineTo(0,-n,!0).close(),this.value<.5){var C=(.5-this.value)*2,s=n*C;this.getShape("fill").fillStyle(this.color,1).startAt(y,S).lineTo(n,0,!0).lineTo(0,s,!0).lineTo(-n,0,!0).lineTo(0,-s,!0).close()}else{var C=(this.value-.5)*2,o=180*C;this.getShape("border").rotateAround(e,t,o),this.getShape("fill").fillStyle().lineStyle()}}},zE=Phaser.Math.RadToDeg,IE=Phaser.Math.Angle.WrapDegrees,JU=Phaser.Math.Angle.Wrap,QU=Phaser.Math.Angle.ShortestBetween,jU=Phaser.Math.DegToRad,$E=Phaser.Math.DegToRad(270),qU={buildShapes(){this.addShape(new Ye().setName("border")),this.addShape(new Xi().setName("minuteHand")),this.addShape(new Xi().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,a=Math.ceil(i/25),y=i-a/2,S=i*.8,n=i*.5,C=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var s=IE(zE(C)),o=IE(zE(this.minuteHandAngle)),T=QU(s,o);this.hourHandAngle=JU(this.hourHandAngle+jU(T)/12),this.getShape("border").lineStyle(a,this.color).setRadius(y).setCenterPosition(e,t);var c=this.minuteHandAngle+$E;this.getShape("minuteHand").lineStyle(a,this.color).setP0(e,t).setP1(e+Math.cos(c)*S,t+Math.sin(c)*S);var c=this.hourHandAngle+$E;this.getShape("hourHand").lineStyle(a,this.color).setP0(e,t).setP1(e+Math.cos(c)*n,t+Math.sin(c)*n)}},KE=Phaser.Math.Linear,_U=Phaser.Math.Easing.Expo.In,Gc=2,Uc=2,t7={buildShapes(){for(var e=Gc*Uc,t=0;t<e;t++){var i=new Xi;this.addShape(i)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,a=e-i,y=t-i,S=i*2/Uc,n=i*2/Gc,C=this.getShapes(),s=C.length,o=0;o<s;o++){var T=o%Uc,c=Math.floor(o/Gc),l=a+S*(T+.5),u=y+n*(c+.5),h=C[o],f=(this.value+(s-o)*.1)%1;f=_U(Ut(f));var v=(s-o)/s,d=KE(.7,1,f)*n,p=KE(.7,1,f)*S;h.lineStyle(p,this.color,v).setP0(l-d/2,u).setP1(l+d/2,u)}}},ZE=Phaser.Math.Linear,e7={buildShapes(){for(var e=3,t=0;t<e;t++){var i=new Ye;this.addShape(i);var a=Ut(t/(e-1))/2;i.setData("offset",a)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,a=e-i,y=this.getShapes(),S=y.length,n=i*2/S,C=n/2,s=0;s<S;s++){var o=y[s],T=(this.value+o.getData("offset"))%1;T=Ut(T);var c=ZE(.25,1,T),l=ZE(.5,1,T)*C;o.fillStyle(this.color,c).setRadius(l).setCenterPosition(a+n*(s+.5),t)}}},JE=Phaser.Math.Linear,i7=Phaser.Math.Easing.Expo.In,s7={buildShapes(){for(var e=0;e<3;e++){var t=new Xi;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,a=e-i,y=this.getShapes(),S=y.length,n=i*2/S,C=i*2,s=0;s<S;s++){var o=y[s],T=(this.value+(S-s)*.1)%1;T=i7(Ut(T));var c=(s+1)/S,l=JE(.7,1,T)*C,u=JE(.7,1,T)*n,h=a+n*(s+.5);o.lineStyle(u,this.color,c).setP0(h,t-l/2).setP1(h,t+l/2)}}},r7=Phaser.Math.Linear,Hc=3,Yc=3,n7={buildShapes(){for(var e=Hc*Yc,t=0;t<e;t++){var i=new Ye;this.addShape(i),i.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,a=this.isInitialize||this.isSizeChanged,y=e-i,S=t-i,n=i*2/Yc,C=i*2/Hc,s=Math.min(n,C)/2*.8,o=this.getShapes(),T=0,c=o.length;T<c;T++){var l=T%Yc,u=Math.floor(T/Hc),h=y+n*(l+.5),f=S+C*(u+.5),v=o[T],d=(this.value+v.getData("offset"))%1;d=Ut(d),v.fillStyle(this.color,r7(.25,1,d)),a&&v.setRadius(s).setCenterPosition(h,f)}this.isInitialize=!1}},a7={buildShapes(){for(var e=0;e<2;e++)this.addShape(new ue)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,a=Math.ceil(i/25),y=i-a,S=y*.6,n=y*.7,C=y*1.2,s=this.getShapes(),o=0,T=s.length;o<T;o++){var c=s[o],l=(this.value+o/T)%1,u=Ut(l),h=e,f=t-15*l,v=y*l,d=S*l,p=n*l,g=C*l;c.lineStyle(a,this.color,u).startAt(h,f).cubicBezierTo(h,f-d,h-v,f-d,h-v,f).cubicBezierTo(h-v,f+d,h,f+p,h,f+g).cubicBezierTo(h,f+p,h+v,f+d,h+v,f).cubicBezierTo(h+v,f-d,h,f-d,h,f).close()}}},h7=Phaser.Math.Linear,o7={buildShapes(){for(var e=0;e<12;e++)this.addShape(new Xi);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.isInitialize||this.isSizeChanged,a=this.radius,y=a/2,S=Math.ceil(a/20),n=this.getShapes(),C=0,s=n.length;C<s;C++){var o=n[C],T=C/s,c=Math.PI*2*T,l=h7(.25,1,(1-this.value+T)%1);o.lineStyle(S,this.color,l),i&&o.setP0(e+Math.cos(c)*y,t+Math.sin(c)*y).setP1(e+Math.cos(c)*a,t+Math.sin(c)*a)}this.isInitialize=!1}},l7={buildShapes(){this.addShape(new Ye().setName("track")),this.addShape(new Ye().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,a=i*.9,y=Math.ceil(a/25),S=i*.1,n=Math.PI*2*this.value;this.getShape("track").lineStyle(y,this.color,.7).setRadius(a).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(S).setCenterPosition(e+Math.cos(n)*a,t+Math.sin(n)*a)}},u7={buildShapes(){this.addShape(new Ye().setName("track")),this.addShape(new zs().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,a=Math.ceil(i/25),y=i-a/2;this.getShape("track").lineStyle(a,this.color,.5).setRadius(y).setCenterPosition(e,t);var S=this.value*360,n=S+60;this.getShape("arc").lineStyle(a,this.color,1).setRadius(y).setCenterPosition(e,t).setAngle(S,n)}},f7=Phaser.Math.Linear,d7={buildShapes(){for(var e=0;e<4;e++){var t=new zs().setPie();this.addShape(t),t.setData("speed",f7(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,a;this.prevValue!==void 0&&(a=this.value-this.prevValue,this.prevValue>this.value&&(a+=1));for(var y=this.getShapes(),S=0,n=y.length;S<n;S++){var C=y[S],s=(S+1)/n;if(this.prevValue===void 0){var o=S/n*360,T=o+90;C.fillStyle(this.color,s).setRadius(i).setCenterPosition(e,t).setAngle(o,T).setData("angle",o)}else{var o=C.getData("angle")+C.getData("speed")*a;o=o%360;var T=o+90;C.fillStyle(this.color,s).setRadius(i).setCenterPosition(e,t).setAngle(o,T).setData("angle",o)}}this.prevValue=this.value}},c7={buildShapes(){this.addShape(new Ye)},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,a=i*this.value,y=Math.ceil(i/25),S=Ut(this.value);this.getShapes()[0].lineStyle(y,this.color,S).setRadius(a).setCenterPosition(e,t)}},v7=Phaser.Math.Linear,p7=Phaser.Math.Easing.Expo.In,g7={buildShapes(){this.addShape(new Ye().setName("center")),this.addShape(new ue().setName("arc0")),this.addShape(new ue().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,a=this.isInitialize||this.isSizeChanged,y=i*2/6,S=e-i+y,n=t+i-y,C=this.getShapes(),s=0,o=C.length;s<o;s++){var T=C[s],c=(this.value+(o-s)*.1)%1;c=p7(Ut(c));var l=v7(.25,1,c);switch(T.name){case"center":T.fillStyle(this.color,l),a&&T.setRadius(y).setCenterPosition(S,n);break;case"arc0":if(T.fillStyle(this.color,l),a){var u=y*2,h=y*3;T.startAt(S,n-u).lineTo(S,n-h).setIterations(8).arc(S,n,h,270,360).lineTo(S+u,n).setIterations(6).arc(S,n,u,360,270,!0).close()}break;case"arc1":if(T.fillStyle(this.color,l),a){var u=y*4,h=y*5;T.startAt(S,n-u).lineTo(S,n-h).setIterations(8).arc(S,n,h,270,360).lineTo(S+u,n).setIterations(6).arc(S,n,u,360,270,!0).close()}break}}this.isInitialize=!1}},m7={buildShapes(){for(var e=0;e<2;e++)this.addShape(new Ye)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,a=Math.ceil(i/25),y=i-a,S=this.getShapes(),n=0,C=S.length;n<C;n++){var s=S[n],o=(this.value+n/C)%1,T=Ut(o);s.lineStyle(a,this.color,T).setRadius(o*y).setCenterPosition(e,t)}}},x7={buildShapes(){this.addShape(new zs().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,a=Math.ceil(i/10),y=i-a,S=this.value*720,n=Ut(this.value)*180,C=S-n;this.getShape("arc").lineStyle(a,this.color,1).setRadius(y).setCenterPosition(e,t).setAngle(C+315,S+315)}};Phaser.Utils.Objects.GetValue;const cp={leftArrow:du,rightArrow:du,upArrow:du,downArrow:du,audio:kU,ball:zU,bars:KU,box:ZU,clock:qU,cube:t7,dots:e7,facebook:s7,grid:n7,hearts:a7,ios:o7,oribit:l7,oval:u7,pie:d7,puff:c7,radio:g7,rings:m7,spinner:x7},vp=[];for(var T7 in cp)vp.push(T7);const QE=Phaser.Utils.Array.GetRandom,y7={setAnimationMode(e,t){cp.hasOwnProperty(e)||(e=QE(vp)),this.animationMode=e;var i=cp[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":i.setDirection.call(this,"left");break;case"rightArrow":i.setDirection.call(this,"right");break;case"upArrow":i.setDirection.call(this,"up");break;case"downArrow":i.setDirection.call(this,"down");break}return this.clear(),i.buildShapes.call(this),this.updateShapes=i.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=QE(vp);return this.setAnimationMode(t,e),this}},C7=Phaser.Utils.Objects.GetValue,tx=class tx extends Rf{constructor(t,i){super(t,i),this.type="rexSpinnerAIO",this.setAnimationMode(C7(i,"animationMode"))}};r(tx,"AIO");let Uo=tx;Object.assign(Uo.prototype,y7);rt.register("aioSpinner",function(e){var t=new Uo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.AIOSpinner",Uo);const E7={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}};var nR=r(function(){for(var e=this.scaleMode-1,t=0,i=this.images.length;t<i;t++){var a=this.images[t],y=Kg(a,this,e,!0),S=y.width/a.width;this.setChildLocalScale(a,S),a.biasScale=S}},"FitImages"),Ku=r(function(e){this.scaleMode===0?this.resize(e.width,e.height):nR.call(this)},"OnTextureChange");const jE=Phaser.Utils.Objects.IsPlainObject,Vc=Phaser.Utils.Objects.GetValue,S7=Phaser.Utils.Array.GetRandom;var A7={out:0,in:1},Fi=r(function(e,t,...i){for(var a=0,y=i.length;a<y;a++){var S=i[a];if(S&&S.hasOwnProperty(e))return S[e]}return t},"GetValueFromConfigs");const P7={setTransitionDirection(e){return typeof e=="string"&&(e=A7[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),Ku.call(this,this.nextImage),this},transit(e,t,i){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),i!==void 0&&(e={key:e,frame:t,mode:i}),this.currentTransitionMode=void 0,jE(e)){var a=e;e=Vc(a,"key",void 0),t=Vc(a,"frame",void 0),i=Vc(a,"mode"),Array.isArray(i)&&(i=S7(i));var y;this.transitionModes&&this.transitionModes.hasOwnProperty(i)&&(y=this.transitionModes[i],this.currentTransitionMode=i),this.setDuration(Fi("duration",this.duration,a,y)).setEaseFunction(Fi("ease",this.easeFunction,a,y)).setTransitionDirection(Fi("dir",this.dir,a,y));var S=Fi("mask",void 0,a,y);S&&this.setMaskGameObject(S),this.setMaskEnable(S===!0);var n=Fi("onStart",void 0,a,y),C=Fi("onProgress",void 0,a,y),s=Fi("onComplete",void 0,a,y);(n!==void 0||C!==void 0||s!==void 0)&&this.setTransitionStartCallback(n,Fi("onStartScope",void 0,a,y)).setTransitionProgressCallback(C,Fi("onProgressScope",void 0,a,y)).setTransitionCompleteCallback(s,Fi("onCompleteScope",void 0,a,y))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),jE(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new Je(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}},R7=Phaser.GameObjects.Graphics.prototype.setPosition;var O7=r(function(e,t){var i=this.parent;return e===void 0&&(e=i.x),t===void 0&&(t=i.y),R7.call(this,e,t),this},"SetPosition$1");const qE=Phaser.Geom.Rectangle,_E=Phaser.Geom.Circle;var L7=r(function(e,t,i,a,y,S,n){switch(e){case 1:a=a.left;var C=-t*(y-.5),s=-i*(S-.5),o=Math.min(t,i)/2+a;(n===void 0||!(n instanceof _E))&&(n=new _E),n.setTo(C,s,o);break;default:var T=-(t*y)-a.left,c=-(i*S)-a.top,l=t+a.left+a.right,u=i+a.top+a.bottom;(n===void 0||!(n instanceof qE))&&(n=new qE),n.setTo(T,c,l,u);break}return n},"GetGeom"),aR=r(function(e,t,i,a,y){switch(this.geom=L7(this.shapeType,e,t,i,a,y,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},"DrawShape"),w7=r(function(e,t,i){var a=this.parent;e===void 0&&(e=a.width),t===void 0&&(t=a.height),i===void 0?i=this.padding:typeof i=="number"&&(i=GetBoundsConfig(i));var y=this.width!==e||this.height!==t,S=this.padding!==i&&!vl(this.padding,i);return!y&&!S?this:(this.width=e,this.height=t,S&&Si(i,this.padding),this.originX=a.originX,this.originY=a.originY,aR.call(this,e,t,i,a.originX,a.originY),this)},"Resize$1"),M7=r(function(e,t){t===void 0&&(t=e);var i=this.parent;return e===void 0&&(e=i.originX),t===void 0&&(t=i.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,aR.call(this,this.width,this.height,this.padding,e,t),this)},"SetOrigin"),D7=r(function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},"Contains$1"),F7={setPosition:O7,resize:w7,setOrigin:M7,contains:D7};const b7=Phaser.GameObjects.Graphics,ex=class ex extends b7{constructor(t,i,a){i===void 0&&(i=0),typeof i=="string"&&(i=N7[i]),super(t.scene),this.parent=t,this.shapeType=i,this.padding=Qr(a),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}};r(ex,"DefaultMaskGraphics");let Ka=ex;const N7={rectangle:0,circle:1};Object.assign(Ka.prototype,F7);const B7={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof Ka)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new Ka(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(i)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var i=this.getCellImages(),a=0,y=i.length;a<y;a++)this.setImageMaskEnable(i[a],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var G7=r(function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var i;return e==="__BASE"?i=r(function(a,y){return`${a}${t}${y}`},"callback"):i=r(function(a,y){return`${e}_${a}${t}${y}`},"callback"),i},"GetFrameNameCallback"),U7=r(function(e,t,i,a,y,S){i==null&&(i="__BASE"),S||(S=G7(i,S));for(var n=e.sys.textures.get(t),C=typeof i=="object"?i:n.get(i),s=C.width,o=C.height,T,c,l,u=s/a,h=o/y,f=C.cutX,v=C.cutY,d=0,p=0,g=0;g<y;g++){d=0;for(var m=0;m<a;m++)l=S(m,g),T=d+f,c=p+v,n.add(l,0,T,c,u,h),d+=u;p+=h}return{getFrameNameCallback:S,cellWidth:u,cellHeight:h,columns:a,rows:y}},"GenerateFrames");const _i=Phaser.Utils.Objects.GetValue,H7=Phaser.GameObjects.Image,Y7=Phaser.Utils.Objects.IsPlainObject,V7=Phaser.Math.RotateAround;var W7=r(function(e,t,i,a){Y7(t)&&(a=t,t=_i(a,"columns",1),i=_i(a,"rows",1));var y=_i(a,"createImageCallback");if(!y){var S=_i(a,"ImageClass",H7);y=r(function(N,B,Y){return new S(N,0,0,B,Y)},"createImageCallback")}for(var n=_i(a,"originX",.5),C=_i(a,"originY",.5),s=_i(a,"add",!0),o=_i(a,"align",s),T=_i(a,"objectPool",void 0),c=e.scene,l=e.texture,u=e.frame,h=U7(c,l,u,t,i),f=h.getFrameNameCallback,v=e.scaleX,d=e.scaleY,p=e.rotation,g=e.getTopLeft(),m=g.x,x=g.y,E=[],A=h.cellWidth*v,R=h.cellHeight*d,P=0;P<i;P++)for(var O=0;O<t;O++){var L,w=f(O,P);if(T&&T.length>0?L=T.pop().setTexture(l,w):L=y(c,l,w),s&&c.add.existing(L),o){var M=m+A*O,b=x+R*P,D=M+n*A,F=b+C*R;L.setOrigin(n,C).setPosition(D,F).setScale(v,d).setRotation(p),V7(L,m,x,p)}E.push(L)}return E},"GridCutImage");const k7={gridCutImage(e,t,i,a){a===void 0&&(a={}),a.objectPool=this.imagesPool;for(var y=W7(e,t,i,a),S,n=0,C=y.length;n<C;n++)S=y[n],S.setVisible(!0),this.add(S);return this.cellImages=y,this.setChildLocalVisible(e,!1),y},gridCutCurrentImage(e,t,i){return this.gridCutImage(this.currentImage,e,t,i)},gridCutNextImage(e,t,i){return this.gridCutImage(this.nextImage,e,t,i)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,i,a,y=0,S=t.length;y<S;y++)i=t[y],this.setChildLocalAlpha(i,1).setChildLocalScale(i,1).setChildLocalVisible(i,!1),i.clearMask(),a=i.frame.name,i.setTexture(),e.remove(a);return this.imagesPool.push(...t),t.length=0,this}},hR={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var oR={};Object.assign(oR,E7,P7,B7,k7,hR);var X7=r(function(e,t,i,a){},"OnStart"),z7=r(function(e,t,i,a){e.setChildLocalAlpha(t,1-a).setChildLocalAlpha(i,a)},"OnProgress"),I7=r(function(e,t,i,a){e.setChildLocalAlpha(t,1)},"OnComplete");const t1=Phaser.Utils.Objects.IsPlainObject,he=Phaser.Utils.Objects.GetValue,$7=Phaser.Math.Clamp,ix=class ix extends Fe{constructor(t,i,a,y,S,n){t1(i)?(n=i,i=he(n,"x",0),a=he(n,"y",0),y=he(n,"key",void 0),S=he(n,"frame",void 0)):t1(S)&&(n=S,S=void 0);var C=he(n,"back",void 0),s=he(n,"front",void 0);C||(C=t.add.image(i,a,y,S)),s||(s=t.add.image(i,a,y,S));var o=he(n,"width",void 0),T=he(n,"height",void 0),c=o!==void 0&&T!==void 0?1:0;o===void 0&&(o=s.width),T===void 0&&(T=s.height),super(t,i,a,o,T),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,c=he(n,"scaleMode",c),typeof c=="string"&&(c=K7[c]),this.scaleMode=c,C.setVisible(!1),this.addMultiple([C,s]),this.backImage=C,this.frontImage=s,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var l=he(n,"onStart",void 0),u=he(n,"onProgress",void 0),h=he(n,"onComplete",void 0),f=he(n,"dir",0);l===void 0&&u===void 0&&h===void 0&&(l=X7,u=z7,h=I7,f=0),this.setTransitionStartCallback(l,he(n,"onStartScope",void 0)).setTransitionProgressCallback(u,he(n,"onProgressScope",void 0)).setTransitionCompleteCallback(h,he(n,"onCompleteScope",void 0)).setTransitionDirection(f).setDuration(he(n,"duration",1e3)).setEaseFunction(he(n,"ease","Linear"));var v=he(n,"mask",void 0);v&&this.setMaskGameObject(v),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,Ku.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,i){return this.flipX=t,this.flipY=i,this}get t(){return this._t}set t(t){if(t=$7(t,0,1),this._t!==t){this._t=t;var i=this.currentImage,a=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),Wc.call(this,this.onStartCallback,this.onStartCallbackScope,this,i,a,t)),Wc.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,i,a,t),t===1){Wc.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,i,a,t);var y=a.texture.key,S=a.frame.name;this.frontImage.setTexture(y,S),this.backImage.setTexture(y,S),Ku.call(this,a),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,i){return super.setOrigin(t,i),this.backImage.setOrigin(t,i),this.frontImage.setOrigin(t,i),this.maskGameObject&&this.maskGameObject.setOrigin(t,i),this}setTexture(t,i){return this.frontImage.setTexture(t,i),this.backImage.setTexture(t,i).setVisible(!1),Ku.call(this,this.frontImage),this}setSize(t,i){return super.setSize(t,i),this.scaleMode&&nR.call(this),this}};r(ix,"TransitionImage");let Za=ix;var Wc=r(function(e,t,i,a,y,S){if(e){if(this.scaleMode){var n;a.biasScale>0&&(n=this.getChildLocalScaleX(a),n=n/a.biasScale,this.setChildLocalScale(a,n)),y.biasScale&&(n=this.getChildLocalScaleX(y),n=n/y.biasScale,this.setChildLocalScale(y,n))}if(t?e.call(t,i,a,y,S):e(i,a,y,S),this.scaleMode){var n;a.biasScale>0&&(n=this.getChildLocalScaleX(a),n=n*a.biasScale,this.setChildLocalScale(a,n)),y.biasScale&&(n=this.getChildLocalScaleX(y),n=n*y.biasScale,this.setChildLocalScale(y,n))}}},"RunCallback");Object.assign(Za.prototype,oR);const K7={fit:1,FIT:1,envelop:2,ENVELOP:2};rt.register("transitionImage",function(e,t,i,a,y){var S=new Za(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.TransitionImage",Za);const Z7="slideLeft",J7="slideRight",Q7="slideUp",j7="slideDown",q7="slideAwayLeft",_7="slideAwayRight",t2="slideAwayUp",e2="slideAwayDown",i2="pushLeft",s2="pushRight",r2="pushUp",n2="pushDown",a2="zoomOut",h2="zoomIn",o2="zoomInOut",l2="fade",u2="crossFade",f2="wipeLeft",d2="wipeRight",c2="wipeUp",v2="wipeDown",p2="irisOut",g2="irisIn",m2="irisInOut",x2="pieOut",T2="pieIn",y2="pieInOut",C2="blinds",E2="squares",S2="diamonds",A2="circles",P2="curtain",R2="pixellate",O2="dissolve",L2="revealLeft",w2="revealRight",M2="revealUp",D2="revealDown";var F2=r(function(e){e.addTransitionMode(_7,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=i.width*y;t.setChildLocalPosition(i,S,0)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(i,0,0)},"onComplete")}).addTransitionMode(q7,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=i.width*-y;t.setChildLocalPosition(i,S,0)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(i,0,0)},"onComplete")}).addTransitionMode(e2,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=i.height*y;t.setChildLocalPosition(i,0,S)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(i,0,0)},"onComplete")}).addTransitionMode(t2,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=i.height*-y;t.setChildLocalPosition(i,0,S)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(i,0,0)},"onComplete")})},"AddSlideAwayModes"),b2=r(function(e){e.addTransitionMode(J7,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=a.width*(y-1);t.setChildLocalPosition(a,S,0)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(Z7,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=a.width*(1-y);t.setChildLocalPosition(a,S,0)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(j7,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=a.height*(y-1);t.setChildLocalPosition(a,0,S)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(Q7,{ease:"Linear",dir:"in",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=a.height*(1-y);t.setChildLocalPosition(a,0,S)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(a,0,0)},"onComplete")})},"AddSlideModes"),N2=r(function(e){e.addTransitionMode(s2,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=i.width*y;t.setChildLocalPosition(i,S,0);var S=a.width*(y-1);t.setChildLocalPosition(a,S,0)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(i2,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=i.width*-y;t.setChildLocalPosition(i,S,0);var S=a.width*(1-y);t.setChildLocalPosition(a,S,0)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(n2,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=i.height*y;t.setChildLocalPosition(i,0,S);var S=a.height*(y-1);t.setChildLocalPosition(a,0,S)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(a,0,0)},"onComplete")}).addTransitionMode(r2,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=i.height*-y;t.setChildLocalPosition(i,0,S);var S=a.height*(1-y);t.setChildLocalPosition(a,0,S)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(a,0,0)},"onComplete")})},"AddSliderModes"),B2=r(function(e){e.addTransitionMode(a2,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=1-y;t.setChildLocalScale(i,S,S)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalScale(i,1,1)},"onComplete")}).addTransitionMode(h2,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){var S=y;t.setChildLocalScale(a,S,S)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalScale(a,1,1)},"onComplete")}).addTransitionMode(o2,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,i,a,y){a.tint=0},"onStart"),onProgress:r(function(t,i,a,y){var S;y<.5?(S=1-Ut(y),t.setChildLocalScale(i,S,S)):(i.visible&&t.setChildVisible(i,!1),S=1-Ut(y),t.setChildLocalScale(a,S,S))},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalScale(i,1,1),t.setChildVisible(i,!0),i.tint=16777215,t.setChildLocalScale(a,1,1),t.setChildVisible(a,!0),a.tint=16777215},"onComplete")})},"AddZoomModes"),G2=r(function(e){e.addTransitionMode(l2,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,i,a,y){a.tint=0},"onStart"),onProgress:r(function(t,i,a,y){var S;y<.5?(y=Ut(y),S=Math.floor(255*(1-y)),i.tint=(S<<16)+(S<<8)+S):(i.visible&&t.setChildVisible(i,!1),y=Ut(y),S=Math.floor(255*(1-y)),a.tint=(S<<16)+(S<<8)+S)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildVisible(i,!0),i.tint=16777215,t.setChildVisible(a,!0),a.tint=16777215},"onComplete")}).addTransitionMode(u2,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,i,a,y){},"onStart"),onProgress:r(function(t,i,a,y){t.setChildLocalAlpha(i,1-y),t.setChildLocalAlpha(a,y)},"onProgress"),onComplete:r(function(t,i,a,y){t.setChildLocalAlpha(i,1)},"onComplete")})},"AddFadeModes"),U2=r(function(e){var t=new fi(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:r(function(){var i=this.getShape("rect").fillStyle(16777215),a=1-this.value;switch(this.wipeMode){case"right":i.setSize(this.width*a,this.height).setTopLeftPosition(this.width-i.width,0);break;case"left":i.setSize(this.width*a,this.height).setTopLeftPosition(0,0);break;case"down":i.setSize(this.width,this.height*a).setTopLeftPosition(0,this.height-i.height);break;case"up":i.setSize(this.width,this.height*a).setTopLeftPosition(0,0);break}},"update")});return t},"CreateMask$7"),H2=r(function(e){var t=U2(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(d2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="right"},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(f2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="left"},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(v2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="down"},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(c2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="up"},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")})},"AddWipeModes"),Y2=r(function(e){var t=new fi(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:r(function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)},"update")});return t},"CreateMask$6"),V2=r(function(e){var t=Y2(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(p2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){i.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(g2,{ease:"Linear",dir:"in",mask:t,onStart:r(function(i,a,y,S){i.setNextImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(1-S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(m2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){y.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},"onStart"),onProgress:r(function(i,a,y,S){var n;S<.5?(S=Ut(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),a.tint=(n<<16)+(n<<8)+n):(a.visible&&i.setChildVisible(a,!1),S=Ut(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),y.tint=(n<<16)+(n<<8)+n)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1),i.setChildVisible(a,!0),a.tint=16777215,i.setChildVisible(y,!0),y.tint=16777215},"onComplete")})},"AddIrisModes"),W2=r(function(e){var t=new fi(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:r(function(){var i=Math.max(this.width,this.height)*2,a=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(i).setAngle(90-a,90+a).setPie()},"update")});return t},"CreateMask$5"),k2=r(function(e){var t=W2(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(x2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){i.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(T2,{ease:"Linear",dir:"in",mask:t,onStart:r(function(i,a,y,S){i.setNextImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(1-S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")}).addTransitionMode(y2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){y.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},"onStart"),onProgress:r(function(i,a,y,S){var n;S<.5?(S=Ut(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),a.tint=(n<<16)+(n<<8)+n):(a.visible&&i.setChildVisible(a,!1),S=Ut(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),y.tint=(n<<16)+(n<<8)+n)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1),i.setChildVisible(a,!0),a.tint=16777215,i.setChildVisible(y,!0),y.tint=16777215},"onComplete")})},"AddPieModes"),X2=r(function(e,t){var i=new fi(e,{type:"Graphics",create:{rectangle:t},update:r(function(){for(var a=this.getShapes(),y=this.width/t,S=0;S<t;S++)a[S].fillStyle(16777215).setSize(y*this.value,this.height).setTopLeftPosition(y*S,0)},"update")});return i},"CreateMask$4"),z2=r(function(e){var t=X2(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(C2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){i.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")})},"AddBlindsModes"),I2=r(function(e,t,i){var a=new fi(e,{type:"Graphics",create:{rectangle:t*i},update:r(function(){for(var y=this.getShapes(),S=this.width/t,n=this.height/i,C=0;C<i;C++)for(var s=0;s<t;s++)y[s*i+C].fillStyle(16777215).setSize(S*this.value,n*this.value).setCenterPosition(S*(s+.5),n*(C+.5))},"update")});return a},"CreateMask$3"),$2=r(function(e){var t=I2(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(E2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){i.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")})},"AddSquaresModes"),K2=r(function(e,t,i){var a=new fi(e,{type:"Graphics",create:{lines:t*i},update:r(function(){for(var y=this.getShapes(),S=this.width/(t-1),n=this.height/i,C=n*2,s=S*this.value,o=n*this.value,T=0;T<i;T++)for(var c=0;c<t;c++){var l=c*S,u=T*C+c%2*n;y[c*i+T].fillStyle(16777215).start(l+s,u).lineTo(l,u+o).lineTo(l-s,u).lineTo(l,u-o).lineTo(l+s,u).close()}},"update")});return a},"CreateMask$2"),Z2=r(function(e){var t=K2(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(S2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){i.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")})},"AddDiamondsMode"),J2=r(function(e,t,i){var a=new fi(e,{type:"Graphics",create:{circle:t*i},update:r(function(){for(var y=this.getShapes(),S=this.width/(t-1),n=this.height/i,C=n*2,s=Math.max(S,n)*this.value,o=0;o<i;o++)for(var T=0;T<t;T++){var c=T*S,l=o*C+T%2*n;y[T*i+o].fillStyle(16777215).setCenterPosition(c,l).setRadius(s)}},"update")});return a},"CreateMask$1"),Q2=r(function(e){var t=J2(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(A2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){i.setCurrentImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(i,a,y,S){i.maskGameObject.setValue(S)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1)},"onComplete")})},"AddCirclesMode"),j2=r(function(e,t){var i=new fi(e,{type:"Graphics",create:{lines:t},update:r(function(){for(var a=this.getShapes(),y=this.width/t,S=y/2,n=0;n<t;n++){var C=y*n,s=this.height*this.value,o=C+S;a[n].fillStyle(16777215).start(C,0).horizontalLineTo(s).arc(o,s,S,180,0,!0).horizontalLineTo(-s).lineTo(C,0).close()}},"update")});return i},"CreateMask"),q2=r(function(e){var t=j2(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(P2,{ease:"Linear",dir:"out",mask:t,onStart:r(function(i,a,y,S){y.tint=0,i.setCurrentImageMaskEnable(!0,!0),i.setNextImageMaskEnable(!0,!0)},"onStart"),onProgress:r(function(i,a,y,S){var n;S<.5?(S=Ut(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),a.tint=(n<<16)+(n<<8)+n):(a.visible&&i.setChildVisible(a,!1),S=Ut(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),y.tint=(n<<16)+(n<<8)+n)},"onProgress"),onComplete:r(function(i,a,y,S){i.removeMaskGameObject(!1),i.setChildVisible(a,!0),a.tint=16777215,i.setChildVisible(y,!0),y.tint=16777215},"onComplete")})},"AddCurtainMode"),_2=r(function(e){e.addTransitionMode(R2,{ease:"Linear",dir:"out",mask:!0,onStart:r(function(t,i,a,y){t.setChildVisible(a,!1),i.effect=i.preFX.addPixelate(0),a.effect=a.preFX.addPixelate(0)},"onStart"),onProgress:r(function(t,i,a,y){if(y<.5){y=Ut(y);var S=Math.min(i.width,i.height)/5;i.effect.amount=Math.ceil(S*y)}else{i.visible&&t.setChildVisible(i,!1),a.visible||t.setChildVisible(a,!0),y=Ut(y);var S=Math.min(a.width,a.height)/5;a.effect.amount=Math.ceil(S*y)}},"onProgress"),onComplete:r(function(t,i,a,y){i.preFX.remove(i.effect),delete i.effect,t.setChildVisible(i,!0),a.preFX.remove(a.effect),delete a.effect},"onComplete")})},"AddPixellateMode");const tH=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,eH=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${tH}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,iH=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,pi=Phaser.Utils.Objects.GetValue,sH=Phaser.Math.Clamp,sx=class sx extends iH{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:eH}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(pi(t,"progress",0)),this.setTransitionTargetTexture(pi(t,"toTexture","__DEFAULT"),pi(t,"toFrame",void 0),pi(t,"resizeMode",1)),this.setNoise(pi(t,"noiseX",void 0),pi(t,"noiseY",void 0),pi(t,"noiseZ",void 0)),this.setFromEdge(pi(t,"fromEdgeStart",.01),pi(t,"fromEdgeWidth",.05)),this.setToEdge(pi(t,"toEdgeStart",.01),pi(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=sH(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,i,a){t===void 0&&(t="__DEFAULT");var y=this.game.textures.getFrame(t,i);return y||(y=this.game.textures.getFrame("__DEFAULT")),this.toRatio=y.width/y.height,this.toFrame=y,this.targetTexture=y.glTexture,a!==void 0&&(this.resizeMode=a),this}setResizeMode(t){return typeof t=="string"&&(t=rH[t]),this.resizeMode=t,this}setNoise(t,i,a){return t===void 0&&(t=4+Math.random()*6),i===void 0&&(i=4+Math.random()*6),a===void 0&&(a=Math.random()*10),this.noiseX=t,this.noiseY=i,this.noiseZ=a,this}setFromEdge(t,i){return this.fromEdgeStart=t,this.fromEdgeWidth=i,this}setToEdge(t,i){return this.toEdgeStart=t,this.toEdgeWidth=i,this}};r(sx,"DissolvePostFxPipeline");let eo=sx;var rH={stretch:0,contain:1,cover:2},nH=r(function(e,t,i){Lr(e).renderer.pipelines.addPostPipeline(t,i)},"RegisterPostPipeline"),aH=r(function(e,t,i){i===void 0&&(i={}),e.setPostPipeline(t);var a=e.postPipelines[e.postPipelines.length-1];return a.resetFromJSON(i),i.name&&(a.name=i.name),a},"AddPostFxPipelineInstance");const hH=Phaser.Utils.Array.SpliceOne;var oH=r(function(e,t,i){for(var a,y,S,a=e.postPipelines,y=a.length-1;y>=0;y--){var S=a[y];S instanceof t&&(S.destroy(),hH(a,y))}e.hasPostPipeline=e.postPipelines.length>0},"RemovePostFxPipelineInstance"),lH=r(function(e){nH(e.scene.game,"rexDissolvePostFx",eo),e.addTransitionMode(O2,{ease:"Linear",dir:"out",mask:!1,onStart:r(function(t,i,a,y){i.effect=aH(i,eo)},"onStart"),onProgress:r(function(t,i,a,y){i.effect.setProgress(y)},"onProgress"),onComplete:r(function(t,i,a,y){oH(i,eo),delete i.effect},"onComplete")})},"AddDissolveMode");const cu=.1,uH=0,fH=0,dH=1,cH=1,e1=0,i1=1;var vH=r(function(e){e.addTransitionMode(w2,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,i,a,y){a.effect=a.preFX.addReveal(cu,uH,e1)},"onStart"),onProgress:r(function(t,i,a,y){a.effect.progress=y},"onProgress"),onComplete:r(function(t,i,a,y){a.preFX.remove(a.effect),delete a.effect},"onComplete")}).addTransitionMode(L2,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,i,a,y){a.effect=a.preFX.addReveal(cu,dH,e1)},"onStart"),onProgress:r(function(t,i,a,y){a.effect.progress=y},"onProgress"),onComplete:r(function(t,i,a,y){a.preFX.remove(a.effect),delete a.effect},"onComplete")}).addTransitionMode(D2,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,i,a,y){a.effect=a.preFX.addReveal(cu,fH,i1)},"onStart"),onProgress:r(function(t,i,a,y){a.effect.progress=y},"onProgress"),onComplete:r(function(t,i,a,y){a.preFX.remove(a.effect),delete a.effect},"onComplete")}).addTransitionMode(M2,{ease:"Linear",dir:"in",mask:!1,onStart:r(function(t,i,a,y){a.effect=a.preFX.addReveal(cu,cH,i1)},"onStart"),onProgress:r(function(t,i,a,y){a.effect.progress=y},"onProgress"),onComplete:r(function(t,i,a,y){a.preFX.remove(a.effect),delete a.effect},"onComplete")})},"AddRevealModes");const s1=[F2,b2,N2,B2,G2,V2,k2,H2,z2,$2,Z2,Q2,q2,_2,lH,vH],rx=class rx extends Za{constructor(t,i,a,y,S,n){super(t,i,a,y,S,n);for(var C=0,s=s1.length;C<s;C++)s1[C](this)}};r(rx,"TransitionImagePack");let Br=rx;rt.register("transitionImagePack",function(e,t,i,a,y){var S=new Br(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.TransitionImagePack",Br);var pH=r(function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=Kg(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},"ScaleImage"),lR={scaleImage:pH};Object.assign(lR,hR);var gH=r(function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),Ae(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this},"ResizeBackground");const r1=Phaser.Utils.Objects.IsPlainObject,ts=Phaser.Utils.Objects.GetValue,nx=class nx extends Fe{constructor(t,i,a,y,S,n){r1(i)?(n=i,i=ts(n,"x",0),a=ts(n,"y",0),y=ts(n,"key",void 0),S=ts(n,"frame",void 0)):r1(S)&&(n=S,S=void 0);var C=ts(n,"image");C?C.setPosition(i,a).setOrigin(.5):(C=t.add.image(i,a,y,S),y===void 0&&C.setVisible(!1)),super(t,i,a,1,1),this.type="rexImageBox";var s=ts(n,"background");s&&this.add(s),this.background=s,this.add(C),this.image=C,this.scaleUp=ts(n,"scaleUp",!1);var o=ts(n,"width",C.width),T=ts(n,"height",C.height);this.resize(o,T)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,i){return super.resize(t,i),gH.call(this),this.scaleImage(),this}setTexture(t,i){var a=this.image;return a.setTexture(t,i),t!==null?(this.setChildVisible(a,!0),this.scaleImage()):this.setChildVisible(a,!1),this}};r(nx,"ImageBox");let Ja=nx;Object.assign(Ja.prototype,lR);rt.register("imageBox",function(e,t,i,a,y){var S=new Ja(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.ImageBox",Ja);rt.register("fullWindowRectangle",function(e,t){var i=new Do(this.scene,e,t);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.FullWindowRectangle",Do);rt.register("fullWindowZone",function(){var e=new Cg(this.scene);return this.scene.add.existing(e),e});it(window,"RexPlugins.UI.FullWindowZone",Cg);rt.register("cover",function(e){var t=new Fo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Cover",Fo);var Qg=r(function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var i=this.node.style;return i.width=`${e}px`,i.height=`${t}px`,this.updateSize(),this},"Resize");const n1={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},a1={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},mH={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},h1=Phaser.Utils.Objects.GetValue;var uR=r(function(e,t,i,a){var y=h1(a,"preventDefault",!1),S=h1(a,"preTest");for(let n in i)t.addEventListener(n,function(C){(!S||S(e,n))&&e.emit(i[n],e,C),y&&C.preventDefault()})},"RouteEvents");const xH=Phaser.GameObjects.DOMElement,o1=Phaser.Utils.Objects.IsPlainObject,bi=Phaser.Utils.Objects.GetValue,ax=class ax extends xH{constructor(t,i,a,y,S,n){o1(i)?(n=i,i=bi(n,"x",0),a=bi(n,"y",0),y=bi(n,"width",0),S=bi(n,"height",0)):o1(y)&&(n=y,y=bi(n,"width",0),S=bi(n,"height",0)),n===void 0&&(n={});var C,s=bi(n,"inputType",void 0);s===void 0&&(s=bi(n,"type","text")),s==="textarea"?(C=document.createElement("textarea"),C.style.resize="none"):(C=document.createElement("input"),C.type=s),ff(n1,n,C);var o=bi(n,"style",void 0);o=ff(a1,n,o);var T=C.style;for(var c in n)if(!(c in n1||c in a1)){if(c in T)o[c]=n[c];else if(c in C){if(c==="type")continue;C[c]=n[c]}}o["box-sizing"]="border-box",super(t,i,a,C,o),this.type="rexInputText",this.resize(y,S),uR(this,C,mH),EP(C),bi(n,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return t===void 0?this.node.select():this.node.setSelectionRange(t,i),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node.style[t]=i,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}};r(ax,"InputText");let fs=ax;var TH={resize:Qg};Object.assign(fs.prototype,TH);rt.register("inputText",function(e){var t=new fs(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.InputText",fs);const l1=Phaser.Utils.Objects.GetValue;var yH=r(function(e,t){var i=document.createElement("input");i.type="file";var a=l1(t,"accept",""),y=l1(t,"multiple",!1);return i.setAttribute("accept",a),y?i.setAttribute("multiple",""):i.removeAttribute("multiple"),i},"CreateFileInput"),fR=r(function(e,t){return e===void 0&&(e=0),new Promise(function(i,a){setTimeout(function(){i(t)},e)})},"Delay"),dR=r(function({game:e,fileInput:t,closeDelay:i}){return yd(Lr(e).events,"focus").then(function(){return fR(i)}).then(function(){var a={files:t.files};return Promise.resolve(a)})},"ClickPromise");const CH=Phaser.Utils.Objects.GetValue,EH=Phaser.DOM.RemoveFromDOM;var cR=r(function(e,t){var i=CH(t,"closeDelay",200),a=yH(e,t);return a.click(),dR({game:e,fileInput:a,closeDelay:i}).then(function(y){return EH(a),a.remove(),Promise.resolve(y)})},"Open$1"),vR=r(function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},"SyncTo"),SH=r(function(e,t,i){if(i===void 0)switch(t){case"image":case"svg":i="textures";break;case"animation":i="json";break;case"tilemapTiledJSON":case"tilemapCSV":i="tilemap";break;case"glsl":i="shader";break;default:i=t;break}e=Lr(e);var a;return i==="textures"?a=e.textures:a=e.cache[i],a},"GetCache"),pR=r(function(e,t,i,a,y,S){if(!(y===null||y===!1))if(Ri(y))y();else{var n=SH(e,i,y);n.exists(a)&&n.remove(a)}var C=e.load;if(S&&C.once(`filecomplete-${i}-${a}`,function(o,T,c){S(c)}),Ri(t))t();else{var s=window.URL.createObjectURL(t);C[i](a,s)}C.start()},"FileObjectToCache"),AH=r(function(e,t,i,a,y){var S=this.scene;return pR(S,e,t,i,a,y),this},"LoadFile"),PH=r(function(e,t,i,a){var y=this.scene;return new Promise(function(S,n){var C=r(function(s){S(s)},"onComplete");pR(y,e,t,i,a,C)})},"LoadFilePromise");const gR={loadFile:AH,loadFilePromise:PH},RH=Phaser.GameObjects.DOMElement,u1=Phaser.Utils.Objects.IsPlainObject,Ni=Phaser.Utils.Objects.GetValue,hx=class hx extends RH{constructor(t,i,a,y,S,n){u1(i)?(n=i,i=Ni(n,"x",0),a=Ni(n,"y",0),y=Ni(n,"width",0),S=Ni(n,"height",0)):u1(y)&&(n=y,y=Ni(n,"width",0),S=Ni(n,"height",0));var C=document.createElement("input");C.type="file";var s=C.style;s.display="none";var o=document.createElement("label");o.appendChild(C);var T=Ni(n,"style",void 0);super(t,i,a,o,T),this.type="rexFileChooser",this.resetFromJSON(n),this.resize(y,S);var c=this;C.onchange=function(){c.emit("change",c)},this.setCloseDelay(Ni(n,"closeDelay",200)),C.onclick=function(){dR({game:t,fileInput:C,closeDelay:c.closeDelay}).then(function(){c.emit("select",c)})}}resetFromJSON(t){return this.setAccept(Ni(t,"accept","")),this.setMultiple(Ni(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}};r(hx,"FileChooser");let Gr=hx;var OH={resize:Qg,syncTo:vR};Object.assign(Gr.prototype,OH,gR);rt.register("fileChooser",function(e){var t=new Gr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileChooser",Gr);const LH={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},wH={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var mR={resize:Qg,syncTo:vR};Object.assign(mR,LH,wH,gR);const MH={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},DH=Phaser.GameObjects.DOMElement,f1=Phaser.Utils.Objects.IsPlainObject,es=Phaser.Utils.Objects.GetValue,ox=class ox extends DH{constructor(t,i,a,y,S,n){f1(i)?(n=i,i=es(n,"x",0),a=es(n,"y",0),y=es(n,"width",0),S=es(n,"height",0)):f1(y)&&(n=y,y=es(n,"width",0),S=es(n,"height",0)),n===void 0&&(n={});var C=document.createElement("div"),s=es(n,"style",void 0);super(t,i,a,C,s),this.type="rexFileDropZone",this.resize(y,S),this._files=[],this.setDropEnable(es(n,"dropEnable",!0));var o=es(n,"filters");o&&this.addFilters(o),uR(this,C,MH,{preventDefault:!0,preTest(T){return T.dropEnable}}),this.on("drop",function(T,c){this._files=c.dataTransfer.files;var l=this._files;if(l&&this.filters)for(var u in this.filters){for(var h=this.filters[u],f=[],v=0,d=l.length;v<d;v++){var p=l[v];h(p,l)&&f.push(p)}f.length>0&&this.emit(`drop.${u}`,f)}},this)}get files(){return this._files}};r(ox,"FileDropZone");let Ho=ox;Object.assign(Ho.prototype,mR);rt.register("fileDropZone",function(e){var t=new Ho(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileDropZone",Ho);var FH=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,a,y,S,n,C,s=!1;if(this.childrenProportion,this.orientation===0)for(var o=!0,T=0,c=i.length;T<c;T++)a=i[T],a.hasOwnProperty("rexSizer")&&(y=a.rexSizer,!y.hidden&&(S=y.proportion,S===0||e?(C=this.getChildWidth(a),y.fitRatio>0&&!y.resolved&&(C=void 0),C===void 0&&(S!==0&&!this.hasProportion0Child?C=0:s=!0)):C=0,!s&&(n=a.rexSizer.padding,C+=(n.left+n.right)*this.scaleX,o?o=!1:C+=this.space.item*this.scaleX,t+=C)));else for(var T=0,c=i.length;T<c;T++)a=i[T],a.hasOwnProperty("rexSizer")&&(y=a.rexSizer,!y.hidden&&(C=this.getChildWidth(a),C===void 0&&(s=!0),!s&&(n=y.padding,C+=(n.left+n.right)*this.scaleX,t=Math.max(C,t))));if(!s)return t+(this.space.left+this.space.right)*this.scaleX},"GetChildrenWidth$3"),bH=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,a,y,S,n,C,s=!1;if(this.childrenProportion,this.orientation===0)for(var o=0,T=i.length;o<T;o++)a=i[o],a.hasOwnProperty("rexSizer")&&(y=a.rexSizer,!y.hidden&&(C=this.getChildHeight(a),C===void 0&&(s=!0),!s&&(n=y.padding,C+=(n.top+n.bottom)*this.scaleY,t=Math.max(C,t))));else for(var c=!0,o=0,T=i.length;o<T;o++)a=i[o],a.hasOwnProperty("rexSizer")&&(y=a.rexSizer,!y.hidden&&(S=y.proportion,S===0||e?(C=this.getChildHeight(a),y.fitRatio>0&&!y.resolved&&(C=void 0),C===void 0&&(S!==0&&!this.hasProportion0Child?C=0:s=!0)):C=0,!s&&(n=y.padding,C+=(n.top+n.bottom)*this.scaleY,c?c=!1:C+=this.space.item*this.scaleY,t+=C)));if(!s)return t+(this.space.top+this.space.bottom)*this.scaleY},"GetChildrenHeight$3"),NH=r(function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,a=e.rexSizer;if(this.orientation===0)a.proportion>0&&this.proportionLength>0&&(i=a.proportion*this.proportionLength);else if(a.expand){var y=this.space,S=t-(y.left+y.right)*this.scaleX,n=a.padding;i=S-(n.left+n.right)*this.scaleX}return i},"GetExpandedChildWidth$2"),BH=r(function(e,t){t===void 0&&(t=this.height);var i,a=e.rexSizer;if(this.orientation===0){if(a.expand){var y=this.space,S=t-(y.top+y.bottom)*this.scaleY,n=a.padding;i=S-(n.top+n.bottom)*this.scaleY}}else a.proportion>0&&this.proportionLength>0&&(i=a.proportion*this.proportionLength);return i},"GetExpandedChildHeight$2"),GH=r(function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,a=0,y=t.length;a<y;a++)i=t[a],i.isRexSizer&&e.push(i);return e},"GetChildrenSizers$3"),UH=r(function(){this.hasRatioFitChild=!1;for(var e,t,i=this.sizerChildren,a=0,y=i.length;a<y;a++)e=i[a],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(Ae(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,Tl.call(this),this},"PreLayout$3");const HH=Phaser.Math.Wrap;var YH=r(function(){for(var e=this.sizerChildren,t,i,a,y=this.innerLeft,S=this.innerTop,n=this.innerWidth,C=this.innerHeight,s=y,o=S,T,c,l,u,h,f,v,d,p,g=this.startChildIndex,m=0,x=e.length;m<x;m++)g===0?p=m:p=HH(m+g,0,x),this.rtl&&(p=x-p-1),t=e[p],!t.rexSizer.hidden&&(i=t.rexSizer,a=i.padding,yl.call(this,t),t.isRexSpace?(v=0,d=0):(v=this.getExpandedChildWidth(t),d=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,v,d),Zg(t,this)):Ae(t,v,d),v===void 0&&(v=Lt(t)),d===void 0&&(d=wt(t)),this.orientation===0?(T=s+a.left*this.scaleX,i.proportion===0||this.proportionLength===0?l=v:l=i.proportion*this.proportionLength,c=o+a.top*this.scaleY,u=C-(a.top+a.bottom)*this.scaleY):(T=s+a.left*this.scaleX,l=n-(a.left+a.right)*this.scaleX,c=o+a.top*this.scaleY,i.proportion===0||this.proportionLength===0?u=d:u=i.proportion*this.proportionLength),v===void 0&&(v=Lt(t)),d===void 0&&(d=wt(t)),h=(i.alignOffsetX+i.alignOffsetOriginX*v)*this.scaleX,f=(i.alignOffsetY+i.alignOffsetOriginY*d)*this.scaleY,Cl.call(this,t,T,c,l,u,i.align,h,f),this.orientation===0?s+=l+(a.left+a.right)*this.scaleX+this.space.item*this.scaleX:o+=u+(a.top+a.bottom)*this.scaleY+this.space.item*this.scaleY)},"LayoutChildren$4"),VH=r(function(t){var t=Ug.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var i=t-this.childrenWidth;i>0?(i=t-this.getChildrenWidth(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},"ResolveWidth$1"),WH=r(function(t){var t=Vg.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var i=t-this.childrenHeight;i>0?(i=t-this.getChildrenHeight(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},"ResolveHeight$1"),kH=r(function(){return this.hasRatioFitChild&&this.orientation===1?!0:Hg.call(this)},"HasWidthWrap$1"),xR=r(function(e,t){if(this.hasRatioFitChild){var i;this.orientation===0?i=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var a,y,S,n,C=this.sizerChildren,s=0,o=C.length;s<o;s++){var a=C[s],y=a.rexSizer;if(!y.hidden){var T=y.fitRatio;T&&(this.orientation===0?(n=i-(this.getChildOuterPadding(a,"top")+this.getChildOuterPadding(a,"bottom"))*this.scaleY,S=n*T):(S=i-(this.getChildOuterPadding(a,"top")+this.getChildOuterPadding(a,"bottom"))*this.scaleX,n=S/T),Ae(a,S,n),a.isRexSizer&&a.setMinSize(S,n),y.resolved=!0)}}}},"ExpandFitRatioChildren"),XH=r(function(e){this.wrapResult||(this.orientation===1&&xR.call(this,e,void 0),Yg.call(this,e))},"RunWidthWrap$2"),zH=r(function(){return this.hasRatioFitChild&&this.orientation===0?!0:Wg.call(this)},"HasHeightWrap$1"),IH=r(function(e){this.wrapResult||(this.orientation===0&&xR.call(this,void 0,e),kg.call(this,e))},"RunHeightWrap$2");const $H=Phaser.GameObjects.Zone,lx=class lx extends $H{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}};r(lx,"Space");let Yo=lx;var KH=r(function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var a=-1,y=1/0,S=0,n=i.length;S<n;S++){var C=i[S],s;this.orientation===0?s=Math.abs(C.left-e):s=Math.abs(C.top-t),y>s&&(y=s,a=S)}var C=i[i.length-1],s;return this.orientation===0?s=Math.abs(C.right-e):s=Math.abs(C.bottom-t),y>s&&(y=s,a=S+1),a},"GetNearestChildIndex$1");const TR=Phaser.Utils.Objects.IsPlainObject,ze=Phaser.Utils.Objects.GetValue,d1=Phaser.Display.Align.CENTER,ZH={min:0,full:-1};var kc=r(function(e,t,i,a,y,S,n,C,s,o){var T,c,l,u;ml.call(this,e);var h=e.isRexSpace,f=typeof t;if(t===null)return this;if(f!=="number"){if(f==="string")t=ZH[t];else if(TR(t)){var v=t;t=ze(v,"proportion",void 0),i=ze(v,"align",d1),a=ze(v,"padding",0),y=ze(v,"expand",!1),S=ze(v,"key",void 0),n=ze(v,"index",void 0),e.isRexSizer||(C=ze(v,"minWidth",void 0),s=ze(v,"minHeight",void 0)),o=ze(v,"fitRatio",0),T=ze(v,"offsetX",0),c=ze(v,"offsetY",0),l=ze(v,"offsetOriginX",0),u=ze(v,"offsetOriginY",0)}}typeof i=="string"&&(i=gh[i]),t===void 0&&(t=h?1:0),i===void 0&&(i=d1),a===void 0&&(a=0),y===void 0&&(y=!1),C===void 0&&(h?C=0:e.isRexSizer||(C=e._minWidth)),s===void 0&&(h?s=0:e.isRexSizer||(s=e._minHeight)),o===void 0||o===!1?o=0:o===!0&&(o=Lt(e)/wt(e)),T===void 0&&(T=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0);var v=this.getSizerConfig(e);return v.proportion=t,v.align=i,v.padding=Qr(a),v.expand=y,v.fitRatio=t===0?o:0,v.alignOffsetX=T,v.alignOffsetY=c,v.alignOffsetOriginX=l,v.alignOffsetOriginY=u,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=C===void 0?Lt(e):C:e.minHeight=s===void 0?wt(e):s),y&&(this.orientation===0?e.minHeight=s:e.minWidth=C)),S!==void 0&&this.addChildrenMap(S,e),this},"Add$6");const JH={add:kc,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),kc.call(this,new Yo(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,i,a,y,S,n,C){return TR(i)&&(i.index=e),kc.call(this,t,i,a,y,S,n,e,C),this},insertAtPosition(e,t,i,a,y,S,n,C,s){var o=KH.call(this,e,t);return o===-1&&(o=void 0),this.insert(o,i,a,y,S,n,C,s),this}},QH=Phaser.Utils.Array.Remove,jH={remove(e,t){return this.getParentSizer(e)!==this?this:(QH(this.sizerChildren,e),xl.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Md.call(this,e),this}},qH={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=gh[t]),this.getSizerConfig(e).align=t,this}},_H={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},tY={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var eY=r(function(e){e===void 0&&(e="left");var t=this.sizerChildren,i=t[0],a=i&&i.isRexSpace;e==="right"||e==="bottom"||e==="center"?a||this.insertSpace(0):a&&this.remove(i,!0);var y=t.length-1,S=t[y],n=S&&S.isRexSpace;return e==="center"?n||this.insertSpace(y+1):n&&this.remove(S,!0),this},"SetChildrenAlignMode");const jg={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(i,a){var y=i.getData(e),S=a.getData(e);return t?S-y:y-S}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(i,a){var y=i[e],S=a[e];return t?S-y:y-S}),this}};var yR={getChildrenWidth:FH,getChildrenHeight:bH,getExpandedChildWidth:NH,getExpandedChildHeight:BH,getChildrenSizers:GH,preLayout:UH,layoutChildren:YH,resolveWidth:VH,resolveHeight:WH,hasWidthWrap:kH,runWidthWrap:XH,hasHeightWrap:zH,runHeightWrap:IH,setChildrenAlignMode:eY};Object.assign(yR,JH,jH,qH,_H,tY,jg);var iY=r(function(){for(var e=0,t=this.sizerChildren,i,a,y=0,S=t.length;y<S;y++)i=t[y],!i.rexSizer.hidden&&(a=i.rexSizer.proportion,a>0?e+=a:a===0&&(this.hasProportion0Child=!0));return e},"GetChildrenProportion");const Xc=Phaser.Utils.Objects.IsPlainObject,ii=Phaser.Utils.Objects.GetValue,ux=class ux extends jr{constructor(t,i,a,y,S,n,C){Xc(i)?(C=i,i=ii(C,"x",0),a=ii(C,"y",0),y=ii(C,"width",void 0),S=ii(C,"height",void 0),n=ii(C,"orientation",0)):Xc(y)?(C=y,y=ii(C,"width",void 0),S=ii(C,"height",void 0),n=ii(C,"orientation",0)):Xc(n)&&(C=n,n=ii(C,"orientation",0)),n===void 0&&(n=0),super(t,i,a,y,S,C),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n),this.setItemSpacing(ii(C,"space.item",0)),this.setStartChildIndex(ii(C,"startChildIndex",0)),this.setRTL(ii(C,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Jr(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=iY.call(this)),this._childrenProportion}};r(ux,"Sizer");let Tt=ux;Object.assign(Tt.prototype,yR);var vu=r(function(e,t,i){if(e){var a=t==null,y=i==null;return a&&y||(a||(e.displayWidth=t),y||(e.displayHeight=i),a&&(e.scaleX=e.scaleY),y&&(e.scaleY=e.scaleX)),e}},"SetDisplaySize"),sY=r(function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var i=this.childrenMap.icon;if(i){e.icon?this.show(i):this.hide(i);var a=e.iconSize;a&&(this.setChildDisplaySize(i,a,a),this.iconWidth!==void 0&&this.setIconSize(a)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var y=this.childrenMap.action;if(y){e.action?this.show(y):this.hide(y);var S=e.actionSize;S&&(this.setChildDisplaySize(y,S,S),this.actionWidth!==void 0&&this.setActionSize(S)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},"ResetDisplayContent$2"),rY={appendText:wA,resetDisplayContent:sY};const fx=class fx extends Tt{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var i=this.childrenMap.text;i&&i.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,i){var a=this.childrenMap.icon;return!a||!a.setTexture?this:(a.setTexture(t,i),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(vu(a,this.iconWidth,this.iconHeight),this.resetChildScaleState(a)),this)}setTexture(t,i){return this.setIconTexture(t,i),this}setIconSize(t,i){return i===void 0&&(i=t),this.iconWidth=t,this.iconHeight=i,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,i){var a=this.childrenMap.action;return!a||!a.setTexture?this:(a.setTexture(t,i),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(vu(a,this.actionWidth,this.actionHeight),this.resetChildScaleState(a)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,i){return i===void 0&&(i=t),this.actionWidth=t,this.actionHeight=i,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&vu(t,this.iconWidth,this.iconHeight);var i=this.childrenMap.action;i&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&vu(i,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,i,a){var y=this.childrenMap.iconMask;y&&(y.setPosition(),this.resetChildPositionState(y));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,i,a),this}resize(t,i){super.resize(t,i);var a=this.childrenMap.iconMask;a&&a.resize();var y=this.childrenMap.actionMask;return y&&y.resize(),this}};r(fx,"LabelBase");let Vo=fx;Object.assign(Vo.prototype,rY);var Li=r(function(e,t,i,a){var y=new Ka(t,i,a);if(e&&!e.isRexSizer){var S=y.createGeometryMask();e.setMask(S),this.once("destroy",function(){e.setMask(),S.destroy()})}return this.pin(y),y},"AddChildMask");const nY=Phaser.GameObjects.Text;var qg=r(function(e){return e instanceof nY},"IsTextGameObject");const aY=Phaser.GameObjects.BitmapText;var CR=r(function(e){return e instanceof aY},"IsBitmapTextGameObject");const Pe=0,Re=1,Ze=2;var js=r(function(e){var t;return CR(e)?t=Ze:qg(e)?t=Pe:t=Re,t},"GetTextObjectType"),hY=r(function(e,t){for(var i=[],a=e.split(`
`),y=t.style,S=y.wordWrapWidth,n=y.hasOwnProperty("wrapMode")?y.wrapMode:3,C=t.context,s=0,o=a.length;s<o;s++)lY(C,a[s],S,n,i);return i},"TextWrapByCharCallback"),oY=r(function(e,t){var i;if(t===2)i=e.split("");else{i=[];for(var a=e.split(" "),y,S=0,n=a.length;S<n;S++)y=a[S],S<n-1?uo(y)?i.push(y+" "):(i.push(...y.split("")),i.push(" ")):y!==""&&(uo(y)?i.push(y):i.push(...y.split("")))}return i},"GetTokenArray"),lY=r(function(e,t,i,a,y){if(t.length<=100){var S=e.measureText(t).width;if(S<=i)return y.push(t),y}for(var n=oY(t,a),C,s,o=[],T=i,c=0,l=n.length;c<l;c++)C=n[c],s=e.measureText(C).width,T-=s,T<0&&(y.push(o.join("")),o.length=0,T=i-s),o.push(C);return o.length>0&&y.push(o.join("")),y},"WrapLine"),pp=r(function(e,t){var i=js(e);switch(i){case Pe:switch(typeof t=="string"&&(t=_u[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=hY;break;case 1:default:e.style.wordWrapCallback=null;break}break;case Re:typeof t=="string"&&(t=_u[t]||0),e.style.wrapMode=t;break}},"SetWrapMode"),uY=r(function(e){var t=r(function(i){var a=e.padding,y=i-(a.left+a.right)*e.scaleX,S=e.style;return qg(e)?(S.wordWrapWidth=y,S.maxLines=0):(S.wrapMode===0&&(S.wrapMode=1),S.wrapWidth=y,S.maxLines=0),S.fixedWidth=i,S.fixedHeight=0,e.updateText(),e.minHeight=e.height,e},"RunWidthWrap");return t},"TextRunWidthWrap"),fY=r(function(e){var t=r(function(i){return e.setFixedSize(i,0).runWordWrap(),e.minHeight=e.height,e},"RunWidthWrap");return t},"DynamicTextRunWidthWrap"),dY=r(function(e){var t=r(function(i){return e.setMaxWidth(i),e.minHeight=e.height,e},"RunWidthWrap");return t},"BitmapTextRunWidthWrap"),cY=r(function(e){return e instanceof ks},"IsDynamicTextGameObject"),Of=r(function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=cY(e)?fY(e):CR(e)?dY(e):uY(e),e},"WrapExpandText");const zc=65535;var Lf=r(function(e,t,i){if(t==null)return e;if(t===0)return Ic(e,0,i),e;var a=e.text.length;if(a===0)return Ic(e,t,i),e;var y=Math.floor(t*1.5/a);i!==void 0&&y>i&&(y=Math.floor(i));for(var S={},n=v1(e,y,t,i,S),C=0;C<=zc&&n!==0;C++){if(y+=n,y<0){y=0;break}n=v1(e,y,t,i,S)}return C===zc&&console.warn(`FontSizeFit: Test count exceeds ${zc}`),e.setFontSize(y),Ic(e,t,i),e},"FontSizeFit"),c1=r(function(e,t,i){return i[t]===void 0&&(e.setFontSize(t),i[t]={width:e.width,height:e.height}),i[t]},"GetTextSize"),v1=r(function(e,t,i,a,y){var S=c1(e,t,y),n=c1(e,t+1,y),C;if(a!==void 0)if(S.height<=a&&n.height>a)C=0;else{if(S.height>a)return-1;C=Math.floor(a-S.height)}var s;if(S.width<=i&&n.width>i)return 0;if(S.width>i)return-1;var s=Math.floor(i-S.width);return C===void 0?s:Math.min(s,C)},"TestFontSize"),Ic=r(function(e,t,i){var a=e.style;a&&(a.fixedWidth=t,a.parent.width=t,i!==void 0&&(a.fixedHeight=i,a.parent.height=i),a.update(!1))},"SetTextWidth");const $c=Phaser.Utils.Objects.GetValue;var wf=r(function(e,t){typeof t=="number"&&(t={minWidth:t});var i=$c(t,"minWidth",0),a=$c(t,"minHeight",0),y=$c(t,"fitHeight",!1);return e._minWidth=i,e._minHeight=a,y?(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(S,n){return Lf(e,S,n),e}):(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),Lf(e,S,void 0),e},e.resize=function(S,n){return e.width===S&&e.height===n||e.setFixedSize(S,n),e}),e},"FontSizeExpandText");const Pt=Phaser.Utils.Objects.GetValue,dx=class dx extends Vo{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexLabel";var a=Pt(i,"background",void 0),y=Pt(i,"icon",void 0),S=Pt(i,"iconMask",void 0),n=Pt(i,"text",void 0),C=Pt(i,"action",void 0),s=Pt(i,"actionMask",void 0),o=Pt(i,"align",void 0);if(a&&this.addBackground(a),y){var T;this.orientation===0?(n||C)&&(T={right:Pt(i,"space.icon",0),top:Pt(i,"space.iconTop",0),bottom:Pt(i,"space.iconBottom",0),left:Pt(i,"space.iconLeft",0)}):(n||C)&&(T={bottom:Pt(i,"space.icon",0),left:Pt(i,"space.iconLeft",0),right:Pt(i,"space.iconRight",0),top:Pt(i,"space.iconTop",0)});var c=Pt(i,"squareFitIcon",!1)?1:0;if(this.add(y,{proportion:0,padding:T,fitRatio:c}),S&&(S=Li.call(this,y,y,1)),!c){var l=Pt(i,"iconSize",void 0);this.setIconSize(Pt(i,"iconWidth",l),Pt(i,"iconHeight",l))}}if(n){var u=Pt(i,"wrapText",!1),h=Pt(i,"adjustTextFontSize",!1);u?(u===!0&&(u="word"),pp(n,u),i.expandTextWidth=!0,Of(n)):h&&(i.expandTextWidth=!0,i.expandTextHeight=!0,wf(n,{fitHeight:!0}));var f=Pt(i,"space.text",0),v=Pt(i,"expandTextWidth",!1),d=Pt(i,"expandTextHeight",!1),p,T,g;this.orientation===0?(p=v?1:0,C&&(T={right:f}),g=d):(p=d?1:0,C&&(T={bottom:f}),g=v),this.add(n,{proportion:p,expand:g,padding:T})}if(C){var T;this.orientation===0?T={top:Pt(i,"space.actionTop",0),bottom:Pt(i,"space.actionBottom",0),right:Pt(i,"space.actionRight",0)}:T={left:Pt(i,"space.actionLeft",0),right:Pt(i,"space.actionRight",0),bottom:Pt(i,"space.actionBottom",0)};var c=Pt(i,"squareFitAction",!1)?1:0;if(this.add(C,{proportion:0,padding:T,fitRatio:c}),s&&(s=Li.call(this,C,C,1)),!c){var m=Pt(i,"actionSize");this.setActionSize(Pt(i,"actionWidth",m),Pt(i,"actionHeight",m))}}this.setChildrenAlignMode(o),this.addChildrenMap("background",a),this.addChildrenMap("icon",y),this.addChildrenMap("iconMask",S),this.addChildrenMap("text",n),this.addChildrenMap("action",C),this.addChildrenMap("actionMask",s)}};r(dx,"Label");let wi=dx;const Fs=Phaser.Utils.Objects.GetValue;var vY=r(function(e,t){var i=Fs(t,"canvas"),a=Fs(i,"width",128),y=Fs(i,"height",128),S=new us(e,0,0,a,y);e.add.existing(S);var n=Fs(i,"key"),C=Fs(i,"frame"),s=Fs(i,"fill");return s!==void 0?S.fill(s):n!==void 0&&S.loadTexture(n,C),S.setTexture=S.loadTexture.bind(S),S},"CreateCanvas"),pY=r(function(e,t){var i=new Ja(e,{scaleUp:Fs(t,"scaleUpIcon",!1),background:Fs(t,"iconBackground"),image:vY(e,t)});return e.add.existing(i),i},"CreateImageBox");const gY=Phaser.Utils.Objects.GetValue;var ER=r(function(e,t){var i=gY(t,"clickTarget",this);return typeof i=="string"&&(i=e.getElement(i)),i},"GetClickTarget");const mY=Phaser.Utils.Objects.GetValue;var xY=r(function(e,t){var i=ER(e,t);if(i){var a=mY(t,"click"),y=new vs(i,a);return y.on("click",e.open,e),y}},"CreateClickBehavior");const SR={accept:"image/*",multiple:!1};var AR=r(function(e,t){if(t.length!==0){var i=e.childrenMap.icon,a=i.image,y=t[0];return a.loadFromFilePromise(y).then(function(){return i.scaleImage(),e.emit("select",y,e),Promise.resolve(y)})}},"OnSelectFile"),TY=r(function(e,t){var i=e.scene,a=new Gr(i,SR);return i.add.existing(a),e.pin(a),a.on("change",function(){AR(e,a.files)}),a},"CreateFileChooser");const yY={async openPromise(){var e=this;return cR(this.scene.game,SR).then(function(t){return AR(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var CY=r(function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},"GetFileName"),EY=r(function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},"SaveTexture"),PR={getFileName:CY,saveTexture:EY};Object.assign(PR,yY);const SY=Phaser.Utils.Objects.GetValue,cx=class cx extends wi{constructor(t,i){var a=pY(t,i);i.icon=a,super(t,i),this.type="rexImageFileInputLabel";var y=this.iconWidth,S=this.iconWidth;y!==void 0&&S!==void 0&&a.resize(y,S),this.clickTarget=ER(this,i),this.clickTarget&&(SY(i,"domButton",!0)?this.fileChooser=TY(this):this.clickBehavior=xY(this,i)),this.addChildrenMap("canvas",a.image),this.addChildrenMap("iconBackground",a.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,i,a){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,i,a)}};r(cx,"ImageInputLabel");let Wo=cx;Object.assign(Wo.prototype,PR);rt.register("imageInputLabel",function(e){var t=new Wo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ImageInputLabel",Wo);var ya;let AY=(ya=class extends Yt{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ot(t,i))return t[i];var a=t.parent;if(Ot(a,i))return a[i]}set(t,i,a){return Ot(t,i)?t[i]=a:Ot(t.parent,i)&&(t.parent[i]=a),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}},r(ya,"Style"),ya);const Kc=Phaser.Utils.Objects.GetValue,vx=class vx extends Yt{constructor(t,i){super(t,i),this.style=Kc(i,"style",this);var a=Kc(i,"propertiesMap");this.activeStyle=Zc(i,"active",a),this.hoverStyle=Zc(i,"hover",a),this.disableStyle=Zc(i,"disable",a),this.onModifyStyle=Kc(i,"onModifyStyle")}getStyle(t){return Cd(this.style,t)}modifyStyle(t){for(var i in t)this.style[i]=t[i];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var i=this.getStyle(t);if(!vl(i,t))return this.modifyStyle(t),i}}setActiveState(t){return Jc.call(this,"active",t),this}setHoverState(t){return Jc.call(this,"hover",t),this}setDisableState(t){return Jc.call(this,"disable",t),this}};r(vx,"StyleManager");let gp=vx;var Zc=r(function(e,t,i){var a=$u(e,t);if(i)for(var y in a)i.hasOwnProperty(y)&&(a[i[y]]=a[y],delete a[y]);return a},"ExtractStyle"),Jc=r(function(e,t){t===void 0&&(t=!0);var i=`${e}State`,a=`${e}Style`,y=`${e}StyleSave`;this[i]!==t&&(this[i]=t,t?this[y]=this.applyStyle(this[a]):(this.applyStyle(this[y]),this[y]=void 0))},"SetStateEnableMethod");const qr={addStyleManager(e){return this.styleManager=new gp(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},PY=Phaser.GameObjects.Image,Vh=Phaser.Utils.Objects.GetValue,px=class px extends PY{constructor(t,i){i===void 0&&(i={});var a=Vh(i,"x",0),y=Vh(i,"y",0),S=Vh(i,"key",""),n=Vh(i,"frame",void 0);super(t,a,y,S,n),this.type="rexStatesImage";var C=Vh(i,"effects",!0);C&&ch(this,C),this.style=new AY(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}};r(px,"StatesImage");let Ur=px;Object.assign(Ur.prototype,qr);rt.register("statesImage",function(e){var t=new Ur(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesImage",Ur);const gx=class gx extends Zr{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesRoundRectangleShape",i.style=this,i.propertiesMap=RY,this.addStyleManager(i),delete i.style,delete i.propertiesMap}};r(gx,"StatesRoundRectangle");let Hr=gx;const RY={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(Hr.prototype,qr);rt.register("statesRoundRectangle",function(e){var t=new Hr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesRoundRectangle",Hr);var Ca;let OY=(Ca=class extends Yt{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ot(t,i))return t[i];var a=t.parent;if(Ot(a,i))return a[i]}set(t,i,a){return Ot(t,i)?t[i]=a:Ot(t.parent,i)&&(t.parent[i]=a),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}},r(Ca,"Style"),Ca);const LY=Phaser.GameObjects.NineSlice,gi=Phaser.Utils.Objects.GetValue,mx=class mx extends LY{constructor(t,i){i===void 0&&(i={});var a=gi(i,"x",0),y=gi(i,"y",0),S=gi(i,"key",null),n=gi(i,"frame",null),C=gi(i,"width",0),s=gi(i,"height",0),o=gi(i,"leftWidth",0),T=gi(i,"rightWidth",0),c=gi(i,"topHeight",0),l=gi(i,"bottomHeight",0);super(t,a,y,S,n,C,s,o,T,c,l),this.type="rexStatesNineSlice";var u=gi(i,"effects",!0);u&&ch(this,u),this.style=new OY(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}};r(mx,"StatesNineSlice");let Yr=mx;Object.assign(Yr.prototype,qr);rt.register("statesNineSlice",function(e){var t=new Yr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesNineSlice",Yr);var Ea;let wY=(Ea=class extends Yt{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ot(t,i))return t[i];var a=t.parent;if(Ot(a,i))return a[i]}set(t,i,a){return Ot(t,i)?t[i]=a:Ot(t.parent,i)&&(t.parent[i]=a),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}},r(Ea,"Style"),Ea);const MY=Phaser.Utils.Objects.GetValue,xx=class xx extends vd{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesNinePatch";var a=MY(i,"effects",!0);a&&ch(this,a),this.style=new wY(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}};r(xx,"StatesNinePatch");let Vr=xx;Object.assign(Vr.prototype,qr);rt.register("statesNinePatch",function(e){var t=new Vr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesNinePatch",Vr);const DY=Phaser.GameObjects.Text,Qc=Phaser.Utils.Objects.GetValue,Tx=class Tx extends DY{constructor(t,i){i===void 0&&(i={});var a=Qc(i,"x",0),y=Qc(i,"y",0),S=Qc(i,"text","");super(t,a,y,S,i),this.type="rexStatesText",i.style=this.style,i.onModifyStyle=function(n,C){var s=C.hasOwnProperty("fontStyle")||C.hasOwnProperty("fontSize")||C.hasOwnProperty("fontFamily");n.style.update(s)},this.addStyleManager(i),delete i.style}};r(Tx,"StatesText");let Qa=Tx;Object.assign(Qa.prototype,qr);rt.register("statesText",function(e){var t=new Qa(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesText",Qa);const yx=class yx extends Yt{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Ot(t,i))return t[i];var a=t.parent;if(Ot(a,i))return a[i]}set(t,i,a){return Ot(t,i)?t[i]=a:Ot(t.parent,i)&&(t.parent[i]=a),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}};r(yx,"Style");let mp=yx;const FY=Phaser.GameObjects.BitmapText,dr=Phaser.Utils.Objects.GetValue,Cx=class Cx extends FY{constructor(t,i){i===void 0&&(i={});var a=dr(i,"x",0),y=dr(i,"y",0),S=dr(i,"font",""),n=dr(i,"fontSize",!1),C=dr(i,"align",0),s=dr(i,"tint");super(t,a,y,S,"",n,C),this.type="rexStatesBitmapText",s!==void 0&&this.setTint(s);var o=dr(i,"effects",!0);o&&ch(this,o),this.style=new mp(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}};r(Cx,"StatesBitmapText");let ja=Cx;Object.assign(ja.prototype,qr);rt.register("statesBitmapText",function(e){var t=new ja(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesBitmapText",ja);const Ex=class Ex extends Ed{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("value")||(i.value=0),i.hasOwnProperty("hover.bar")||(i["hover.bar"]=!0),i.hasOwnProperty("easeDuration")||(i.easeDuration=200),i.hasOwnProperty("ease")||(i.ease="Quad"),it(i,"easeValue.duration",i.easeDuration),it(i,"easeValue.ease",i.ease),super(t,i),this.type="rexStatesBarRectangleShape",this.barState=!1,i.style=this,i.propertiesMap=bY,this.addStyleManager(i),delete i.style,delete i.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}};r(Ex,"StatesBarRectangle");let qa=Ex;const bY={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(qa.prototype,qr);rt.register("statesBarRectangle",function(e){var t=new qa(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesBarRectangle",qa);var NY=r(function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,BY(this,e)),this},"SetChart"),BY=r(function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var i=t.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var a=!1;i.animation===void 0?i.animation={}:i.animation===!1&&(a=!0,i.animation={});var y=i.animation;a&&(y.duration=0);var S=y.onProgress;y.onProgress=function(C){S&&S(C),e.needRedraw()};var n=y.onComplete;return y.onComplete=function(C){n&&n(C),e.needRedraw()},t},"FillConfig"),GY=r(function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,i,a=0,y=t.length;a<y;a++)if(i=t[a],i.label===e)return i}else return this.chart.data.datasets[e]},"GetChartDataset"),UY=r(function(e,t){var i=this.getChartDataset(e);if(i!==void 0){if(typeof t=="string"){var a=this.chart.data.labels;if(t=a.indexOf(t),t===-1)return}return i.data[t]}},"GetChartData"),HY=r(function(e,t,i){if(this.chart===void 0)return this;var a=this.getChartDataset(e);if(typeof t=="string"){var y=this.chart.data.labels;if(t=y.indexOf(t),t===-1)return this}return a.data[t]=i,this},"SetChartData"),YY=r(function(){return this.chart===void 0?this:(this.chart.update(),this)},"UpdateChart"),Sa;let _g=(Sa=class extends us{constructor(t,i,a,y,S,n){super(t,i,a,y,S),this.type="rexChart",this.chart=void 0,n!==void 0&&this.setChart(n)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,i){if(t===this.width&&i===this.height)return this;if(super.resize(t,i),this.chart){var a=this.chart;a.height=this.canvas.height,a.width=this.canvas.width,a.aspectRatio=a.height?a.width/a.height:null,a.update()}return this}},r(Sa,"Chart"),Sa);var VY={setChart:NY,getChartDataset:GY,getChartData:UY,setChartData:HY,updateChart:YY};Object.assign(_g.prototype,VY);rt.register("chart",function(e,t,i,a,y){var S=new _g(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.Chart",_g);rt.register("container",function(e,t,i,a,y){var S=new Fe(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.Container",Fe);rt.register("sizer",function(e,t,i,a,y,S){var n=new Tt(this.scene,e,t,i,a,y,S);return this.scene.add.existing(n),n});it(window,"RexPlugins.UI.Sizer",Tt);var RR=r(function(){return Array.prototype.reduce.call(arguments,WY,0)},"Sum"),WY=r(function(e,t){return e+t},"Add$5"),kY=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,a=this.sizerChildren,y,S,n,C,s=!1;this.totalColumnProportions;for(var o=0;o<this.columnCount;o++){if(C=this.columnProportions[o],i=0,C===0||e){for(var T=0;T<this.rowCount;T++)y=a[T*this.columnCount+o],y&&(y.rexSizer.hidden||(n=this.getChildWidth(y),n===void 0&&(C!==0&&!this.hasColumnProportion0Child?n=0:s=!0),!s&&(S=y.rexSizer.padding,n+=(S.left+S.right)*this.scaleX,i=Math.max(i,n))));s||(t+=i)}s||e&&(this.columnWidth[o]=i)}if(!s){var c=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),l=RR(this.space.left,c,...this.space.column,this.space.right);return t+l*this.scaleX}},"GetChildrenWidth$2"),XY=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,a=this.sizerChildren,y,S,n,C,s=!1;this.totalRowProportions;for(var o=0;o<this.rowCount;o++){if(C=this.rowProportions[o],i=0,C===0||e){for(var T=0;T<this.columnCount;T++)y=a[o*this.columnCount+T],y&&(y.rexSizer.hidden||(n=this.getChildHeight(y),n===void 0&&(C!==0&&!this.hasRowProportion0Child?n=0:s=!0),!s&&(S=y.rexSizer.padding,n+=(S.top+S.bottom)*this.scaleY,i=Math.max(i,n))));s||(t+=i)}s||e&&(this.rowHeight[o]=i)}if(!s){var c=Math.max(this.space.indentTopOdd,this.space.indentTopEven),l=RR(this.space.top,c,...this.space.row,this.space.bottom);return t+l*this.scaleY}},"GetChildrenHeight$2"),zY=r(function(e,t){var i,a=e.rexSizer;if(a.expandWidth){var y=a.padding;i=t-(y.left+y.right)*this.scaleX}return i},"GetExpandedChildWidth$1"),IY=r(function(e,t){var i,a=e.rexSizer;if(a.expandHeight){var y=a.padding;i=t-(y.top+y.bottom)*this.scaleY}return i},"GetExpandedChildHeight$1"),$Y=r(function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,a=0,y=t.length;a<y;a++)i=t[a],i&&i.isRexSizer&&e.push(i);return e},"GetChildrenSizers$2"),KY=r(function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,Tl.call(this),this},"PreLayout$2"),ZY=r(function(){for(var e,t,i,a=this.innerLeft,y=this.innerTop,S,n=y,C,s,o,T,c,l,u,h,f,v,d,p,g=0;g<this.rowCount;g++){v=this.getRowHeight(g),d=g%2?this.space.indentLeftEven:this.space.indentLeftOdd,S=a+d*this.scaleX;for(var m=0;m<this.columnCount;m++){if(f=this.getColumnWidth(m),e=this.getChildAt(m,g),!e||e.rexSizer.hidden){S+=f+this.space.column[m]*this.scaleX;continue}yl.call(this,e),u=this.getExpandedChildWidth(e,f),h=this.getExpandedChildHeight(e,v),e.isRexSizer?(e.runLayout(this,u,h),Zg(e,this)):Ae(e,u,h),t=e.rexSizer,i=t.padding,C=S+i.left*this.scaleX,o=f-(i.left+i.right)*this.scaleX,p=m%2?this.space.indentTopEven:this.space.indentTopOdd,s=n+p*this.scaleY+i.top*this.scaleY,T=v-(i.top+i.bottom)*this.scaleY,u===void 0&&(u=Lt(e)),h===void 0&&(h=wt(e)),c=(t.alignOffsetX+t.alignOffsetOriginX*u)*this.scaleX,l=(t.alignOffsetY+t.alignOffsetOriginY*h)*this.scaleY,Cl.call(this,e,C,s,o,T,t.align,c,l),S+=f+this.space.column[m]*this.scaleX}n+=v+this.space.row[g]*this.scaleY}},"LayoutChildren$3"),JY=r(function(t){var t=Ug.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var i=this.totalColumnProportions;if(i>0){var a=t-this.getChildrenWidth(!1);a>=0&&(this.proportionWidthLength=a/i)}else this.proportionWidthLength=0}return t},"ResolveWidth"),QY=r(function(t){var t=Vg.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var i=this.totalRowProportions;if(i>0){var a=t-this.getChildrenHeight(!1);a>=0&&(this.proportionHeightLength=a/i)}else this.proportionHeightLength=0}return t},"ResolveHeight"),jY=r(function(e){var t,i,a,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(y=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,y),a=t.resolveWidth(i),a===void 0&&(a=i),t.resolveChildrenWidth(a))},"ResolveChildrenWidth"),qY=r(function(e){var t,i,a,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(y=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,y),a=t.resolveHeight(i),a===void 0&&(a=i),t.resolveChildrenHeight(a))},"ResolveChildrenHeight"),_Y=r(function(e){var t,i,a,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(y=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,y),t.isRexSizer&&(a=t.resolveWidth(i),a===void 0&&(a=i)),t.runWidthWrap(a));return this},"RunWidthWrap$1"),tV=r(function(e){var t,i,a,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(y=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,y),t.isRexSizer&&(a=t.resolveHeight(i),a===void 0&&(a=i)),t.runHeightWrap(a));return this},"RunHeightWrap$1");const p1=Phaser.Utils.Objects.IsPlainObject,si=Phaser.Utils.Objects.GetValue,g1=Phaser.Display.Align.CENTER;var m1=r(function(e,t,i,a,y){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var S,n=0;n<a;n++)if(S=t*a+n,!i[S])return S}else if(t===void 0){for(var S,n=0;n<y;n++)if(S=n*a+e,!i[S])return S}else{var S=t*a+e;if(!i[S])return S}else if(t===!0){for(var S,n=0;n<a;n++)for(var C=0;C<y;C++)if(S=C*a+n,!i[S])return S}else for(var n=0,s=i.length;n<s;n++)if(!i[n])return n;return null},"GetEmptyCellIndex"),eV=r(function(e,t,i,a,y,S,n){var C,s,o,T;if(ml.call(this,e),p1(t)){var l=t;t=si(l,"column",void 0),i=si(l,"row",void 0),a=si(l,"align",g1),y=si(l,"padding",0),S=si(l,"expand",!1),n=si(l,"key",void 0),C=si(l,"offsetX",0),s=si(l,"offsetY",0),o=si(l,"offsetOriginX",0),T=si(l,"offsetOriginY",0)}var c=m1(t,i,this.sizerChildren,this.columnCount,this.rowCount);if(c===null){if(typeof t=="number"&&typeof i=="number")return this;i===!0||typeof i=="number"?this.addEmptyColumn():this.addEmptyRow(),c=m1(t,i,this.sizerChildren,this.columnCount,this.rowCount)}typeof a=="string"&&(a=gh[a]),a===void 0&&(a=g1),y===void 0&&(y=0),S===void 0&&(S=!0),C===void 0&&(C=0),s===void 0&&(s=0),o===void 0&&(o=0),T===void 0&&(T=0);var l=this.getSizerConfig(e);return l.align=a,l.padding=Qr(y),p1(S)?(l.expandWidth=si(S,"width",!1),l.expandHeight=si(S,"height",!1)):(l.expandWidth=S,l.expandHeight=S),l.alignOffsetX=C,l.alignOffsetY=s,l.alignOffsetOriginX=o,l.alignOffsetOriginY=T,this.sizerChildren[c]=e,n!==void 0&&this.addChildrenMap(n,e),this},"Add$4");const iV={add:eV};var Vn=r(function(e,t,i,a){i===void 0&&(i=0),a===void 0&&(a=e.length-1);for(var y=i;y<=a;y++)e[y]=t;return e},"Fill");const sV={remove(e,t){if(this.getParentSizer(e)!==this)return this;var i=this.sizerChildren.indexOf(e);return i!==-1&&(this.sizerChildren[i]=null),xl.call(this,e,t),this},removeAt(e,t,i){var a=this.getChildAt(e,t);return a&&this.remove(a,i),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var i=this.sizerChildren[t];i&&this.remove(i,e)}return this},clear(e){return Vn(this.sizerChildren,null),Md.call(this,e),this}},rV={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,Vn(this.space.column,e);else{this.space.column0=e[0];for(var t=0,i=this.columnCount-1;t<i;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,Vn(this.space.row,e);else{this.space.row0=e[t];for(var t=0,i=this.rowCount-1;t<i;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},x1=Phaser.Utils.Objects.GetValue;var nV=r(function(e,t,i,a,y){if(e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),a===void 0&&(a=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,Vn(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof i=="number")Vn(this.columnProportions,i);else for(var S=0;S<e;S++)this.columnProportions[S]=i[S]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof a=="number")Vn(this.rowProportions,a);else for(var S=0;S<t;S++)this.rowProportions[S]=a[S]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(x1(y,"column",0)),this.setRowSpace(x1(y,"row",0));var n=this.scene,C=this.createCellContainerCallback;if(C)for(var s=0,o=this.rowCount;s<o;s++)for(var T=0,c=this.columnCount;T<c;T++){var l={column:T,row:s},u=C(n,T,s,l);u&&this.add(u,l)}return this},"ResetGrid"),OR=r(function(e,t,i){t===void 0&&(t=this.rowProportions[0]||0),i===void 0&&(i=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var a=[e*this.columnCount,0],y=0;y<this.columnCount;y++)a.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,a),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,i),this},"InsertEmptyRow"),aV=r(function(e,t){return OR.call(this,this.rowCount,e,t),this},"AddEmptyRow"),LR=r(function(e,t,i){t===void 0&&(t=this.columnProportions[0]||0),i===void 0&&(i=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var a=this.rowCount-1;a>=0;a--){var y=a*this.columnCount+e;this.sizerChildren.splice(y,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,i),this},"InsertEmptyColumn"),hV=r(function(e,t){return LR.call(this,this.columnCount,e,t),this},"AddEmptyColumn"),wR={getChildrenWidth:kY,getChildrenHeight:XY,getExpandedChildWidth:zY,getExpandedChildHeight:IY,getChildrenSizers:$Y,preLayout:KY,layoutChildren:ZY,resolveWidth:JY,resolveHeight:QY,resolveChildrenWidth:jY,resolveChildrenHeight:qY,runWidthWrap:_Y,runHeightWrap:tV,resetGrid:nV,insertEmptyRow:OR,addEmptyRow:aV,insertEmptyColumn:LR,addEmptyColumn:hV};Object.assign(wR,iV,sV,rV,jg);var oV=r(function(){for(var e=0,t,i=0;i<this.columnCount;i++)t=this.columnProportions[i],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},"GetTotalColumnProportions"),lV=r(function(){for(var e=0,t,i=0;i<this.rowCount;i++)t=this.rowProportions[i],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e},"GetTotalRowProportions");const pu=Phaser.Utils.Objects.IsPlainObject,Ht=Phaser.Utils.Objects.GetValue,Sx=class Sx extends jr{constructor(t,i,a,y,S,n,C,s,o,T){pu(i)?(T=i,i=Ht(T,"x",0),a=Ht(T,"y",0),y=Ht(T,"width",void 0),S=Ht(T,"height",void 0),n=Ht(T,"column",T.col||0),C=Ht(T,"row",0),s=Ht(T,"columnProportions",0),o=Ht(T,"rowProportions",0)):pu(y)?(T=y,y=Ht(T,"width",void 0),S=Ht(T,"height",void 0),n=Ht(T,"column",T.col||0),C=Ht(T,"row",0),s=Ht(T,"columnProportions",0),o=Ht(T,"rowProportions",0)):pu(n)?(T=n,n=Ht(T,"column",T.col||0),C=Ht(T,"row",0),s=Ht(T,"columnProportions",0),o=Ht(T,"rowProportions",0)):pu(s)&&(T=s,s=Ht(T,"columnProportions",0),o=Ht(T,"rowProportions",0)),super(t,i,a,y,S,T),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(Ht(T,"createCellContainerCallback")),this.setIndentLeft(Ht(T,"space.indentLeftOdd",0),Ht(T,"space.indentLeftEven",0)),this.setIndentTop(Ht(T,"space.indentTopOdd",0),Ht(T,"space.indentTopEven",0)),this.resetGrid(n,C,s,o,Ht(T,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=oV.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=lV.call(this)),this._totalRowProportions}getChildAt(t,i){return this.sizerChildren[i*this.columnCount+t]}childToGridIndex(t,i){if(!t)return null;var a=this.sizerChildren.indexOf(t);return a===-1?null:(i===void 0&&(i={}),i.x=a%this.columnCount,i.y=Math.floor(a/this.columnCount),i)}getColumnWidth(t){var i=this.columnProportions[t],a=i===0?this.columnWidth[t]:i*this.proportionWidthLength;return a}getRowHeight(t){var i=this.rowProportions[t],a=i===0?this.rowHeight[t]:i*this.proportionHeightLength;return a}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}};r(Sx,"GridSizer");let je=Sx;Object.assign(je.prototype,wR);rt.register("gridSizer",function(e,t,i,a,y,S,n,C,s){var o=new je(this.scene,e,t,i,a,y,S,n,C,s);return this.scene.add.existing(o),o});it(window,"RexPlugins.UI.GridSizer",je);var uV=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},"GetChildrenWidth$1"),fV=r(function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},"GetChildrenHeight$1"),dV=r(function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,a=0,y=t.length;a<y;a++)i=t[a],i!==`
`&&i.isRexSizer&&e.push(i);return e},"GetChildrenSizers$1"),cV=r(function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,Tl.call(this),this},"PreLayout$1"),vV=r(function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,i,a,y,S=0,n,C,s=this.innerLeft,o=this.innerTop,T,c,l,u,h,f,v=this.wrapResult.lines,d,p,g,m=s,x=o,E=0,A=v.length;E<A;E++){switch(d=v[E],p=d.children,this.rtl&&p.reverse(),e?(n=E%2?this.space.indentLeftEven:this.space.indentLeftOdd,m=s+n*this.scaleX):(C=E%2?this.space.indentTopEven:this.space.indentTopOdd,x=o+C*this.scaleY),g=t-(e?d.width:d.height),this.align){case 0:break;case 1:e?m+=g:x+=g;break;case 2:e?m+=g/2:x+=g/2;break;case 3:S=jc(t,g,this.justifyPercentage,p.length);break;case 4:S=jc(t,g,this.justifyPercentage,p.length),S===0&&(e?m+=g:x+=g);break;case 5:S=jc(t,g,this.justifyPercentage,p.length),S===0&&(e?m+=g/2:x+=g/2);break}for(var R=!0,P=0,O=p.length;P<O;P++)i=p[P],!i.rexSizer.hidden&&(a=i.rexSizer,y=a.padding,yl.call(this,i),e?T=m+y.left*this.scaleX:c=x+y.top*this.scaleY,R?R=!1:e?T+=this.space.item*this.scaleX:c+=this.space.item*this.scaleY,l=Lt(i),u=wt(i),e?(C=P%2?this.space.indentTopEven:this.space.indentTopOdd,c=x+C*this.scaleY+y.top*this.scaleY,m=T+l+y.right*this.scaleX+S):(n=P%2?this.space.indentLeftEven:this.space.indentLeftOdd,T=m+n*this.scaleX+y.left*this.scaleX,x=c+u+y.top*this.scaleY+S),h=(a.alignOffsetX+a.alignOffsetOriginX*l)*this.scaleX,f=(a.alignOffsetY+a.alignOffsetOriginY*u)*this.scaleY,Cl.call(this,i,T,c,l,u,a.align,h,f));e?x+=d.height+this.space.line*this.scaleY:m+=d.width+this.space.line*this.scaleX}},"LayoutChildren$2"),jc=r(function(e,t,i,a){return t/e<=i?t/(a-1):0},"GetJustifySpace"),pV=r(function(){return this.orientation===0?!0:Hg.call(this)},"HasWidthWrap"),MR=r(function(e){var t={lines:[],width:0,height:0},i=this.sizerChildren,a,y,S,n,C=0,s,o,T=t.lines,c=void 0,l;if(this.orientation===0){for(var u=0,h=i.length;u<h;u++){if(a=i[u],a===`
`)a=void 0,S=0,l=!0;else{if(a.rexSizer.hidden)continue;a.isRexSizer&&a.runLayout(this),S=this.getChildWidth(a),y=a.rexSizer.padding,S+=(y.left+y.right)*this.scaleX,l=C<S||c===void 0}l&&(c&&(c.width=e-(C+this.space.item*this.scaleX),t.width=Math.max(t.width,c.width),t.height+=c.height+this.space.line*this.scaleY),c={children:[],width:0,height:0},T.push(c),s=T.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,C=e-s*this.scaleX),C-=S+this.space.item*this.scaleX,a&&(c.children.push(a),n=this.getChildHeight(a),y=a.rexSizer.padding,n+=(y.top+y.bottom)*this.scaleY,c.height=Math.max(c.height,n))}c&&(c.width=e-(C+this.space.item*this.scaleX),t.width=Math.max(t.width,c.width),t.height+=c.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var f=e,u=0,h=i.length;u<h;u++){if(a=i[u],a===`
`)a=void 0,S=0,l=!0;else{if(a.rexSizer.hidden)continue;a.isRexSizer&&a.layout(),n=this.getChildHeight(a),y=a.rexSizer.padding,n+=(y.top+y.bottom)*this.scaleY,l=C<n||c===void 0}l&&(c&&(c.height=f-(C+this.space.item*this.scaleY),t.height=Math.max(t.height,c.height),t.width+=c.width+this.space.line*this.scaleX),c={children:[],width:0,height:0},T.push(c),o=T.length%2?this.space.indentTopOdd:this.space.indentTopEven,C=f-o*this.scaleY),C-=n+this.space.item*this.scaleY,a&&(c.children.push(a),S=this.getChildWidth(a),y=a.rexSizer.padding,S+=(y.left+y.right)*this.scaleX,c.width=Math.max(c.width,S))}c&&(c.height=f-(C+this.space.item*this.scaleY),t.height=Math.max(t.height,c.height),t.width+=c.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},"RunChildrenWrap"),gV=r(function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=MR.call(this,t),this.rexSizer.resolved=!0,Yg.call(this,e)}},"RunWidthWrap"),mV=r(function(){return this.orientation===1?!0:Wg.call(this)},"HasHeightWrap"),xV=r(function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=MR.call(this,t),this.rexSizer.resolved=!0,kg.call(this,e)}},"RunHeightWrap"),TV=r(function(e,t){},"GetExpandedChildWidth"),yV=r(function(e,t){},"GetExpandedChildHeight");const T1=Phaser.Math.Distance.Between;var CV=r(function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var a=-1,y=1/0,S=0,n=i.length;S<n;S++){var C=i[S];if(!(Math.abs(C.centerY-t)>C.height/2)){var o=T1(C.left,C.centerY,e,t);y>o&&(y=o,a=S);var s=i[S+1];if(!(s&&s.y===C.y)){var o=T1(C.right,C.centerY,e,t);y>o&&(y=o,a=S+1)}}}return a},"GetNearestChildIndex");const EV=Phaser.Utils.Objects.IsPlainObject,cr=Phaser.Utils.Objects.GetValue,SV=Phaser.Display.Align.CENTER;var qc=r(function(e,t,i,a){if(e===`
`)return this.addNewLine(),this;var y,S,n,C;if(ml.call(this,e),EV(t)){var s=t;t=cr(s,"padding",0),i=cr(s,"key",void 0),a=cr(s,"index",void 0),y=cr(s,"offsetX",0),S=cr(s,"offsetY",0),n=cr(s,"offsetOriginX",0),C=cr(s,"offsetOriginY",0)}t===void 0&&(t=0),y===void 0&&(y=0),S===void 0&&(S=0),n===void 0&&(n=0),C===void 0&&(C=0);var s=this.getSizerConfig(e);return s.align=SV,s.padding=Qr(t),s.alignOffsetX=y,s.alignOffsetY=S,s.alignOffsetOriginX=n,s.alignOffsetOriginY=C,a===void 0||a>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(a,0,e),i!==void 0&&this.addChildrenMap(i,e),this},"Add$3");const AV={add(e,t,i){if(Oi(e))for(var a=e,y=0,S=a.length;y<S;y++)qc.call(this,a[y],t);else qc.call(this,e,t,i);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,i,a){return qc.call(this,t,i,a,e),this},insertAtPosition(e,t,i,a,y){var S=CV.call(this,e,t);return S===-1&&(S=void 0),this.insert(S,i,a,y),this}},PV=Phaser.Utils.Array.Remove,RV={remove(e,t){return this.getParentSizer(e)!==this?this:(PV(this.sizerChildren,e),xl.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Md.call(this,e),this}};var DR={getChildrenWidth:uV,getChildrenHeight:fV,getChildrenSizers:dV,preLayout:cV,layoutChildren:vV,hasWidthWrap:pV,runWidthWrap:gV,hasHeightWrap:mV,runHeightWrap:xV,getExpandedChildWidth:TV,getExpandedChildHeight:yV};Object.assign(DR,AV,RV,jg);var OV=r(function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,a,y=!1,S=0,n=e.length;S<n;S++)i=e[S],i!==`
`&&(a=this.getChildWidth(i),a===void 0&&(y=!0),!y&&(t=Math.max(a,t)));if(!y)return t},"GetMaxChildWidth"),LV=r(function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,a,y=!1,S=0,n=e.length;S<n;S++)i=e[S],i!==`
`&&(a=this.getChildHeight(i),a===void 0&&(y=!0),!y&&(t=Math.max(a,t)));if(!y)return t},"GetMaxChildHeight");const y1=Phaser.Utils.Objects.IsPlainObject,Ee=Phaser.Utils.Objects.GetValue,Ax=class Ax extends jr{constructor(t,i,a,y,S,n){y1(i)?(n=i,i=Ee(n,"x",0),a=Ee(n,"y",0),y=Ee(n,"width",void 0),S=Ee(n,"height",void 0)):y1(y)&&(n=y,y=Ee(n,"width",void 0),S=Ee(n,"height",void 0)),super(t,i,a,y,S,n),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation(Ee(n,"orientation",0)),this.setItemSpacing(Ee(n,"space.item",0)),this.setLineSpacing(Ee(n,"space.line",0)),this.setIntentLeft(Ee(n,"space.indentLeftOdd",0),Ee(n,"space.indentLeftEven",0)),this.setIntentTop(Ee(n,"space.indentTopOdd",0),Ee(n,"space.indentTopEven",0)),this.setAlign(Ee(n,"align",0)),this.setJustifyPercentage(Ee(n,"justifyPercentage",.25)),this.setRTL(Ee(n,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Jr(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,i){return this.space.indentLeftOdd=t,this.space.indentLeftEven=i,this}setIntentTop(t,i){return this.space.indentTopOdd=t,this.space.indentTopEven=i,this}setAlign(t){return typeof t=="string"&&(t=wV[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=OV.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=LV.call(this)),this._maxChildHeight}};r(Ax,"FixWidthSizer");let Ii=Ax;const wV={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(Ii.prototype,DR);rt.register("fixWidthSizer",function(e,t,i,a,y){var S=new Ii(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.FixWidthSizer",Ii);rt.register("overlapSizer",function(e,t,i,a,y){var S=new Ve(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.OverlapSizer",Ve);rt.register("space",function(){var e=new Yo(this.scene);return e});it(window,"RexPlugins.UI.Space",Yo);rt.register("label",function(e){var t=new wi(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Label",wi);const C1=["alpha","tint","flipX","flipY"];var t0=r(function(e,t){if(!t)return e;for(var i=0,a=C1.length;i<a;i++){var y=C1[i];y in t&&y in e&&(e[y]=t[y])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var S,n;"originX"in t&&"originX"in e&&(S=t.originX),"originY"in t&&"originY"in e&&(n=t.originY),S!==void 0&&n!==void 0&&e.setOrigin(S,n)}return e},"DecorateGameObject"),le=r(function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("barColor")?i="bar":t.hasOwnProperty("leftWidth")?i="nineSlice":t.hasOwnProperty("key")&&(i="image"));var a;switch(i){case"bar":a=new qa(e,t);break;case"image":a=new Ur(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?a=new Vr(e,t):a=new Yr(e,t);break;default:a=new Hr(e,t);break}return t0(a,t),e.add.existing(a),a},"CreateBackground$2"),MV=r(function(){switch(this.scrollMode){case 0:case 1:_c.call(this),this.updateController(),tv.call(this),ev.call(this);break;default:_c.call(this,"y"),_c.call(this,"x"),this.updateController(),tv.call(this,"y"),tv.call(this,"x"),ev.call(this,"y"),ev.call(this,"x");break}return this},"ResizeController"),_c=r(function(e){var t,i,a,y;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,i=this.bottomChildOY,a=this.childrenMap.scroller,y=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,i=this.bottomChildOY):(t=this.leftChildOX,i=this.rightChildOX),a=this.childrenMap[`scroller${e}`],y=this.childrenMap[`slider${e}`]}var S=e==="Y"?this.scaleY:this.scaleX;i*=S,a&&a.setBounds(t,i),y&&(y.setEnable(t!==i),y.tickLength&&y.setTick(y.tickLength,t,i))},"SetControllerBounds"),tv=r(function(e){switch(this.scrollMode){case 0:case 1:var i=this.childrenMap.slider;i&&this.hideUnscrollableSlider&&this.setChildVisible(i,this.isOverflow);var y=this.childrenMap.scroller;y&&this.disableUnscrollableDrag&&y.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],i=this.childrenMap[`slider${e}`],a=this[`hideUnscrollableSlider${e}`];i&&a&&this.setChildVisible(i,t);var y=this.childrenMap.scroller,S=this[`disableUnscrollableDrag${e}`];y&&S&&y.setEnable(t);break}},"HideUnscrollableSlider"),ev=r(function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var S=this.childrenMap.slider;if(!S)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),n=S.childrenMap.track,C=S.childrenMap.thumb,s=this.minThumbSize;if(this.scrollMode===0){var i=n.displayHeight*t;s!==void 0&&i<s&&(i=s),Ae(C,void 0,i)}else{var a=n.displayWidth*t;s!==void 0&&a<s&&(a=s),Ae(C,a,void 0)}E1(S);break;default:e=e.toUpperCase();var y=this[`adaptThumb${e}SizeMode`];if(!y)return;var S=this.childrenMap[`slider${e}`];if(!S)return;var n=S.childrenMap.track,C=S.childrenMap.thumb,s=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),i=n.displayHeight*t;s!==void 0&&i<s&&(i=s),Ae(C,void 0,i)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),a=n.displayWidth*t;s!==void 0&&a<s&&(a=s),Ae(C,a,void 0)}E1(S);break}},"AdaptThumbSize"),E1=r(function(e){var t=e.minWidth,i=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=i},"LayoutSlider"),DV=r(function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var i=this.childrenMap.scrollerY,a=this.childrenMap.sliderY,y=this.childrenMap.scrollerX,S=this.childrenMap.sliderX;i&&i.setValue(this.childOY),a&&a.setValue(this.t),y&&y.setValue(this.childOX),S&&S.setValue(this.s);break}},"UpdateController");const gu=Phaser.Math.Clamp,FV={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=gu(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=gu(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=gu(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=gu(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}};var FR={resizeController:MV,updateController:DV};Object.assign(FR,FV);const bR={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var e0=r(function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=bV(e));var i=e[t];return typeof i=="string"&&(i=bR[i]),i},"GetScrollMode"),bV=r(function(e){var t=!!e.sliderY||!!e.scrollerY,i=!!e.sliderX||!!e.scrollerX,a;return t&&i?a=2:t?a=0:i?a=1:a=0,a},"GetDefaultScrollMode");const fe=Phaser.Utils.Objects.GetValue;var NV=r(function(e,t,i){var a=fe(i,"child"),y=fe(a,"gameObject",void 0);if(y){var S=fe(i,"space.child",0);e.childMargin={};var n=e.childMargin,C={};if(typeof S=="number")switch(e.scrollMode){case 0:case 1:n.top=0,n.bottom=0,n.left=0,n.right=0;break;default:n.top=S,n.bottom=S,n.left=S,n.right=S;break}else switch(e.scrollMode){case 0:n.top=fe(S,"top",0),n.bottom=fe(S,"bottom",0),C.left=fe(S,"left",0),C.right=fe(S,"right",0);break;case 1:n.top=fe(S,"left",0),n.bottom=fe(S,"right",0),C.top=fe(S,"top",0),C.bottom=fe(S,"bottom",0);break;default:n.top=fe(S,"top",0),n.bottom=fe(S,"bottom",0),n.left=fe(S,"left",0),n.right=fe(S,"right",0);break}t.add(y,{column:1,row:1,align:fe(a,"align","center"),padding:C,expand:{width:fe(a,"expandWidth",!0),height:fe(a,"expandHeight",!0)}})}e.addChildrenMap("child",y)},"AddChild");const S1=Phaser.Math.Percent;var BV=r(function(e,t,i){var a;return e.y===t.y?a=S1(i.x,e.x,t.x):e.x===t.x&&(a=S1(i.y,e.y,t.y)),a},"PositionToPercent"),NR=r(function(e,t){iv.x=e,iv.y=t;var i,a;this.reverseAxis?(i=this.getEndPoint(),a=this.getStartPoint()):(i=this.getStartPoint(),a=this.getEndPoint());var y=BV(i,a,iv);return y},"GetValueByPosition"),iv={},GV=r(function(e,t,i){!this.enable||!this.inputActive||(this.value=NR.call(this,t,i))},"OnDragThumb"),sv=r(function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=NR.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}},"OnTouchTrack");const UV=Phaser.Utils.Objects.GetValue;var HV=r(function(e){this.inputActive=!1;var t=UV(e,"input",0);typeof t=="string"&&(t=YV[t]);var i=this.childrenMap.thumb;switch(t){case 0:i&&(i.setInteractive(),this.scene.input.setDraggable(i),i.on("dragstart",function(y){this.inputActive=!0,this.eventEmitter.emit("inputstart",y)},this).on("dragend",function(y){this.inputActive=!1,this.eventEmitter.emit("inputend",y)},this).on("drag",GV,this));break;case 1:this.setInteractive().on("pointerdown",function(y){this.inputActive=!0,this.eventEmitter.emit("inputstart",y)},this).on("pointerdown",sv,this);var a=r(function(y){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",y))},"OnReleaseTrack");this.scene.input.on("pointerup",a,this).on("pointermove",sv,this),this.once("destroy",function(){this.scene.input.on("pointerup",a,this).off("pointermove",sv,this)},this);break}},"RegisterInputEvents");const YV={pan:0,drag:0,click:1,none:-1};var BR=r(function(e,t){t===void 0&&(t=VV);var i=this.childrenMap.thumb,a=i.x,y=i.y;return gl(i,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=i.x,t.y=i.y,i.x=a,i.y=y,t},"GetThumbAlignPoint"),VV={};const WV=Phaser.Display.Align.LEFT_CENTER,kV=Phaser.Display.Align.TOP_CENTER;var XV=r(function(e){if(e===void 0&&(e=zV),this.childrenMap.thumb){var t=this.orientation===0?WV:kV;BR.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},"GetStartPoint"),zV={};const IV=Phaser.Display.Align.RIGHT_CENTER,$V=Phaser.Display.Align.BOTTOM_CENTER;var KV=r(function(e){if(e===void 0&&(e=ZV),this.childrenMap.thumb){var t=this.orientation===0?IV:$V;BR.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},"GetEndoint"),ZV={};const A1=Phaser.Math.Linear;var JV=r(function(e,t,i,a){return a===void 0&&(a=QV),a.x=A1(t.x,i.x,e),a.y=A1(t.y,i.y,e),a},"PercentToPosition"),QV={},jV=r(function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var i,a;return this.reverseAxis?(i=this.getEndPoint(),a=this.getStartPoint()):(i=this.getStartPoint(),a=this.getEndPoint()),JV(e,i,a,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this},"UpdateThumb");const qV=Phaser.Display.Align.LEFT_CENTER,_V=Phaser.Display.Align.TOP_CENTER,tW=Phaser.Display.Align.RIGHT_CENTER,eW=Phaser.Display.Align.BOTTOM_CENTER;var iW=r(function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var i=this.reverseAxis,a,y,S=this.childrenMap.thumb;if(S)if(this.orientation===0){var n=Lt(S);if(i){var C=S.x-n*S.originX;a=this.right-C}else{var C=S.x-n*S.originX,s=C+n;a=s-this.left}}else{var o=wt(S);if(i){var T=S.y-o*S.originY;y=this.bottom-T}else{var T=S.y-o*S.originY,c=T+o;y=c-this.top}}else this.orientation===0?a=this.width*e:y=this.height*e;Ae(t,a,y);var l;i?l=this.orientation===0?tW:eW:l=this.orientation===0?qV:_V,HP(t,this,l),this.resetChildPositionState(t)},"UpdateIndicator");const Ie=Phaser.Utils.Objects.GetValue,mu=Phaser.Utils.Objects.IsPlainObject,sW=Phaser.Math.Clamp,rW=Phaser.Math.Snap.To,Px=class Px extends Qs(Tt){constructor(t,i){super(t,i),this.type="rexSlider",this.bootProgressBase(i),this.reverseAxis=Ie(i,"reverseAxis",!1);var a=Ie(i,"background",void 0),y=Ie(i,"track",void 0),S=Ie(i,"indicator",void 0),n=Ie(i,"thumb",void 0);if(a&&(mu(a)&&(a=le(t,a)),this.addBackground(a)),y&&(mu(y)&&(y=le(t,y)),this.add(y,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),S&&(mu(S)&&(S=le(t,S)),this.pin(S)),n){mu(n)&&(n=le(t,n)),this.pin(n);var C=Ie(i,"thumbOffsetX",0),s=Ie(i,"thumbOffsetY",0);this.setThumbOffset(C,s)}this.addChildrenMap("background",a),this.addChildrenMap("track",y),this.addChildrenMap("indicator",S),this.addChildrenMap("thumb",n),this.setEnable(Ie(i,"enable",void 0));var o=Ie(i,"tick",void 0);o===void 0&&(o=Ie(i,"gap",void 0)),this.setGap(o),HV.call(this,i),this.setValue(Ie(i,"value",0),Ie(i,"min",void 0),Ie(i,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,i,a){return t&&i!==void 0&&(t=t/(a-i)),this.gap=t,this}setTick(t,i,a){return this.setGap(t,i,a),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,i){return this.thumbOffsetX=t,this.thumbOffsetY=i,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=rW(t,this.gap));var i=this._value;this._value=sW(t,0,1),i!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,i,this.eventEmitter))}postLayout(t,i,a){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,i,a),this}};r(Px,"Slider");let $s=Px;var nW={getStartPoint:XV,getEndPoint:KV,updateThumb:jV,updateIndicator:iW};Object.assign($s.prototype,nW);const Ge=Phaser.Utils.Objects.GetValue,Rx=class Rx extends Tt{constructor(t,i){super(t,i),this.type="rexScrollBar";var a=Ge(i,"background",void 0),y=Ge(i,"buttons",void 0),S=Ge(y,"top",Ge(y,"left",void 0)),n=Ge(y,"bottom",Ge(y,"right",void 0)),C,s=Ge(i,"slider",void 0);if(a&&this.addBackground(a),S){this.add(S);var o=new Is(S);o.on("intouch",function(){if(this.enable){var v=C.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=v}},this)}if(s){s.orientation=this.orientation,s.eventEmitter=this,s.value=null;var T;if(this.orientation===0){var c=Ge(s,"width",void 0);T=c===void 0?1:0}else{var l=Ge(s,"height",void 0);T=l===void 0?1:0}C=new $s(t,s),t.add.existing(C),this.add(C,{proportion:T})}if(n){this.add(n);var o=new Is(n);o.on("intouch",function(){if(this.enable){var d=C.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=d}},this)}var u=[S,n];this.addChildrenMap("background",a),this.addChildrenMap("slider",C),this.addChildrenMap("buttons",u);var h=Ge(i,"valuechangeCallback",null);if(h!==null){var f=Ge(i,"valuechangeCallbackScope",void 0);this.on("valuechange",h,f)}this.setEnable(Ge(i,"enable",void 0)),this.setValue(Ge(i,"value",0)),this.setScrollStep(Ge(y,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,a){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,a),this}addValue(t,i,a){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,a),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,a){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,a),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,i,a){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,i,a),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,i,a){return this.setGap(t,i,a),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}};r(Rx,"ScrollBar");let ko=Rx;var aW=r(function(e,t){t===void 0&&(t={});var i=Si(t);t={slider:i},t.orientation=i.orientation,delete i.orientation,t.background=i.background,delete i.background,t.buttons=i.buttons,delete i.buttons,t.value=null;var a=new ko(e,t);e.add.existing(a);var y=a.childrenMap.slider;return a.addChildrenMap("track",y.childrenMap.track),a.addChildrenMap("indicator",y.childrenMap.indicator),a.addChildrenMap("thumb",y.childrenMap.thumb),a},"CreateScrollbar");const hW=Phaser.Math.Snap.To;Phaser.Math.Clamp;var oW=r(function(){this.emit("dragstart")},"OnDragStart"),lW=r(function(){this.emit("dragend")},"OnDragEnd"),uW=r(function(){this.value+=this.dragDelta},"Dragging"),fW=r(function(){var e=this.value,t=this.dragSpeed,i=this.snapStep,a=!!i;if(a){var S=e,n=t===0?0:t*t/(2*this.slidingDeceleration);if(S+=t>0?n:-n,S=hW(S,i,this.minValue),n=Math.abs(S-e),n>0){var y;t===0?(y=this.backDeceleration,t=Math.sqrt(2*y*n)):(y=t*t/(2*n),y*=.99),this._slowDown.init(e,void 0,t,y,S)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var y=this.slidingDeceleration;this._slowDown.init(e,t>0,t,y)}},"OnSliding"),dW=r(function(e,t){t*=.001;var i=this._slowDown.update(t).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i},"Sliding"),cW=r(function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(t-e),a=this.backDeceleration,y=Math.sqrt(2*a*i);this._slowDown.init(e,void 0,y,a,t)},"OnBack"),vW=r(function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},"Back"),P1=r(function(){this._slowDown.stop()},"Stop");const Ox=class Ox extends Pi{constructor(t,i){super(i),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,i=this.parent,a=i.dragState;return a.isDown&&(t=i.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,i){this.next()}next_DRAGBEGIN(){var t,i=this.parent,a=i.dragState;return a.isDown?t=a.pointer.getDistance()>=i.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,i){this.next()}next_DRAG(){var t,i=this.parent,a=i.dragState;return a.isUp&&(i.outOfBounds?t="BACK":i.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,i){var a=this.parent,y=a.dragState;y.justMoved&&uW.call(a),this.next()}enter_DRAG(){oW.call(this.parent)}exit_DRAG(){lW.call(this.parent)}next_SLIDE(){var t,i=this.parent,a=i.dragState;return a.isDown?t="DRAG":i.isSliding||(t="IDLE"),t}enter_SLIDE(){fW.call(this.parent)}exit_SLIDE(){P1.call(this.parent)}update_SLIDE(t,i){dW.call(this.parent,t,i),this.next()}next_BACK(){var t,i=this.parent,a=i.dragState;return a.isDown?t="DRAG":i.isPullBack||(t="IDLE"),t}enter_BACK(){cW.call(this.parent)}exit_BACK(){P1.call(this.parent)}update_BACK(t,i){vW.call(this.parent,t,i),this.next()}};r(Ox,"State");let xp=Ox;const Wh=Phaser.Utils.Objects.GetValue,pW=Phaser.Math.Distance.Between,Lx=class Lx extends Yt{constructor(t,i){super(t,i),this._enable=void 0,this.rectBoundsInteractive=Wh(i,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(Wh(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(Wh(t,"enable",!0)),this.holdThreshold=Wh(t,"holdThreshold",50),this.pointerOutReleaseEnable=Wh(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,i=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(i.on("pointerdown",this.onPointIn,this),i.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&i.on("pointerout",this.onPointOut,this),i.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var i=this.scene;this.parent,this.rectBoundsInteractive&&(i.input.off("pointerdown",this.onPointIn,this),i.input.off("pointerup",this.onPointOut,this),i.input.off("pointermove",this.onPointerMove,this)),i.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=Eg(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=pW(this.preX,this.preY,this.x,this.y),i=t/(this.dt*.001);return i}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,i,a){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!zi(this.parent,t)||(this.pointer=t,this.localX=i,this.localY=a)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,i,a){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!zi(this.parent,t)){this.onPointOut(t);return}this.localX=i,this.localY=a}}preupdate(t,i){if(this.enable){var a=this.pointer;this.justMoved=!1,a&&!this.isInTouched?(this.x=a.worldX,this.y=a.worldY,this.preX=a.worldX,this.preY=a.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",a,this.localX,this.localY)):a&&this.isInTouched?this.x===a.x&&this.y===a.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=a.worldX,this.y=a.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",a,this.localX,this.localY)):!a&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",a))}}};r(Lx,"DragSpeed");let Tp=Lx;const rv=Phaser.Utils.Objects.GetValue,wx=class wx{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(rv(t,"value",0)),this.setSpeed(rv(t,"speed",0)),this.setAcceleration(rv(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}};r(wx,"Movement");let yp=wx;const Mx=class Mx{constructor(){this.value,this.dir,this.movement=new yp}init(t,i,a,y,S){return this.value=t,this.end=S,S!==void 0?this.dir=t<S:this.dir=i,a=Math.abs(a),this.movement.setSpeed(a).setAcceleration(-y),this}stop(){this.movement.reset()}update(t){var i=this.movement.getDeltaValue(t);return this.dir||(i=-i),this.end===void 0?this.value+=i:i===0?this.value=this.end:(this.value+=i,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}};r(Mx,"SlowDown");let Cp=Mx;const qt=Phaser.Utils.Objects.GetValue,gW=Phaser.Math.Clamp,Dx=class Dx extends Yt{constructor(t,i){super(t,i);var a=qt(i,"enable",!0);this._state=new xp(this,{enable:a,eventEmitter:!1});var y={rectBoundsInteractive:qt(i,"rectBoundsInteractive",!1),inputConfig:qt(i,"inputConfig",void 0),enable:a,pointerOutRelease:qt(i,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new Tp(t,y),this._enable=void 0,this._value=void 0,this._slowDown=new Cp,this.setSnapStep(qt(i,"snapStep",void 0));var S=qt(i,"valuechangeCallback",null);if(S!==null){var n=qt(i,"valuechangeCallbackScope",void 0);this.on("valuechange",S,n)}if(S=qt(i,"overmaxCallback",null),S!==null){var n=qt(i,"overmaxCallbackScope",void 0);this.on("overmax",S,n)}if(S=qt(i,"overminCallback",null),S!==null){var n=qt(i,"overminCallbackScope",void 0);this.on("overmin",S,n)}this.resetFromJSON(i),this.boot()}resetFromJSON(t){this.setOrientationMode(qt(t,"orientation",0)),this.setDragThreshold(qt(t,"threshold",10)),this.setSlidingDeceleration(qt(t,"slidingDeceleration",5e3)),this.setBackDeceleration(qt(t,"backDeceleration",2e3));var i=qt(t,"dragRate",1);i=i*(qt(t,"dragReverse",!1)?-1:1),this.setDragRate(i);var a=qt(t,"bounds",void 0);return a?this.setBounds(a):this.setBounds(qt(t,"max",0),qt(t,"min",0)),this.setValue(qt(t,"value",this.maxValue||0)),this.setEnable(qt(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=mW[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,i){if(Array.isArray(t)){var a=t;t=a[0],i=a[1]}return t<i?(this.minValue=t,this.maxValue=i):(this.minValue=i,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var i=this._value,a=this.overMax(t),y=this.overMin(t);a&&this.emit("overmax",t,i),y&&this.emit("overmin",t,i),this.backEnable||(a&&(t=this.maxValue),y&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,i)}}setValue(t,i){return i===void 0&&(i=!1),i&&(t=gW(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,i){return this.setValue(this.value+t,i),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}};r(Dx,"Scroller");let Ep=Dx;const mW={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},xu=Phaser.Utils.Objects.GetValue,Fx=class Fx extends Yt{constructor(t,i){switch(super(t,i),this.parent!==this.scene?this.focusMode=xu(i,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(xu(i,"speed",.1)),this.setEnable(xu(i,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(xu(i,"inputConfig",void 0)).on("wheel",function(a,y,S,n,C){this.tryScroll(S)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,i,a,y,S,n){this.focusMode===2&&!zi(this.parent,t)||this.tryScroll(y)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}};r(Fx,"MouseWheelScroller");let Sp=Fx;const $t=Phaser.Utils.Objects.GetValue,xW=Phaser.Math.Snap.To;var Tu=r(function(e,t,i,a){i=i.toUpperCase();var y=i==="Y",S=e.scrollMode===2,n=e.childrenMap.child,C,s=`snapStep${i}`;if(S)C=$t(a,s,void 0);else{var C=$t(a,"snapStep",void 0);C===void 0&&(C=$t(a,s,void 0))}e[s]=C;var o,T,c=`slider${i}`;if(S||a.hasOwnProperty(c)?o=$t(a,c,void 0):o=$t(a,"slider",void 0),o){o===!0&&(o={}),o.orientation=y?1:0,T=aW(e.scene,o);var l,u,h,f=$t(o,"position",0);typeof f=="string"&&(f=TW[f]);var v=$t(a,`space.slider${i}`,void 0),d;v===void 0&&(v=$t(a,"space.slider",void 0),v===void 0&&(S?v=0:d=$t(a,"space.child",0)));var p;d===void 0?p=typeof v=="number":p=typeof d=="number",y?f===0?(l=2,u=1,d===void 0?h=p?{left:v}:v:h={left:$t(d,"right",d)}):(l=0,u=1,d===void 0?h=p?{right:v}:v:h={right:$t(d,"left",d)}):f===0?(l=1,u=2,d===void 0?h=p?{top:v}:v:h={top:$t(d,"bottom",d)}):(l=1,u=0,d===void 0?h=p?{bottom:v}:v:h={bottom:$t(d,"top",d)}),t.add(T,{column:l,row:u,align:"center",padding:h,expand:!0}),e[`hideUnscrollableSlider${i}`]=$t(o,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${i}`]=$t(o,"disableUnscrollableDrag",!1),e[`adaptThumb${i}SizeMode`]=$t(o,"adaptThumbSize",!1),e[`minThumb${i}Size`]=$t(o,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${i}`]=!1,e[`disableUnscrollableDrag${i}`]=!1,e[`adaptThumb${i}SizeMode`]=!1,e[`minThumb${i}Size`]=void 0;var g=$t(a,"scrollDetectionMode");typeof g=="string"&&(g=yW[g]);var m,x,E=`scroller${i}`;S||a.hasOwnProperty(E)?m=$t(a,E,!0):m=$t(a,"scroller",!0),m&&n&&(m===!0&&(m={}),m.orientation=y?0:1,g!==void 0&&(m.rectBoundsInteractive=g===1),m.snapStep=C,x=new Ep(n,m),n.isRexContainerLite&&n.sendChildToBack(n));var A=$t(a,S?`mouseWheelScroller${i}`:"mouseWheelScroller",!1),R;if(A&&n&&(g!==void 0&&(A.focus=g===1?2:0),R=new Sp(n,A)),e.addChildrenMap(`slider${i}`,T),e.addChildrenMap(`scroller${i}`,x),e.addChildrenMap(`mouseWheelScroller${i}`,R),(!S||y)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${i}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${i}`],e.adaptThumbSizeMode=e[`adaptThumb${i}SizeMode`],e.minThumbSize=e[`minThumb${i}Size`],e.addChildrenMap("slider",T),e.addChildrenMap("scroller",x),e.addChildrenMap("mouseWheelScroller",R)),T){var P,O;S?(P=y?"t":"s",O=`scroll${i}`):(P="t",O="scroll"),T.on("valuechange",function(M){e[P]=M,e.emit(O,e)}).on("inputend",function(){var M=e[`snapStep${i}`];if(M){var b=e[y?"topChildOY":"leftChildOX"],D=e[y?"bottomChildOY":"rightChildOX"],F=e[`childO${i}`],N=xW(F,M,b),B=500*(Math.abs(N-F)/M);T.setEaseValueDuration(B).easeValueTo(N,b,D)}})}if(x){var L,O;S?(L=`childO${i}`,O=`scroll${i}`):(L="childOY",O="scroll"),x.on("valuechange",function(b){e[L]=b,e.emit(O,e)})}if(R){var w;S?w=`addChildO${i}`:w="addChildOY",R.on("scroll",function(M){var b=e[s];b&&(M=b),e[w](-M,!0)})}},"AddSlider");const TW={right:0,left:1,bottom:0,top:1},yW={gameObject:0,rectBounds:1},yu=Phaser.Utils.Objects.GetValue;var CW=r(function(e,t){var i=e.scene,a=[0,1,0],y=[0,1,0],S=yu(t,"width"),n=yu(t,"height");if(!S){var C=yu(t,"child.expandWidth",!0);C||(a[1]=0)}if(!n){var s=yu(t,"child.expandHeight",!0);s||(y[1]=0)}var o=new je(i,{column:3,row:3,columnProportions:a,rowProportions:y});switch(NV(e,o,t),e.scrollMode){case 0:Tu(e,o,"y",t);break;case 1:Tu(e,o,"x",t);break;default:Tu(e,o,"y",t),Tu(e,o,"x",t);break}return o},"CreateScrollableSizer");const Bi=Phaser.Utils.Objects.GetValue;var Aa;let El=(Aa=class extends Tt{constructor(t,i){i===void 0&&(i={});var a=e0(i),y=a===1;i.orientation=y?0:1,super(t,i),this.type=Bi(i,"type","rexScrollable"),this.scrollMode=a;var S=Bi(i,"background",void 0);S&&this.addBackground(S);var n=Bi(i,"header",void 0);if(n){var C=Bi(i,"align.header","center"),s=Bi(i,"space.header",0),o;y?o={right:s}:o={bottom:s},this.add(n,{proportion:0,align:C,padding:o,expand:Bi(i,"expand.header",!0)})}var T=CW(this,i);T&&this.add(T,{proportion:1,align:"center",padding:0,expand:!0});var c=Bi(i,"footer",void 0);if(c){var C=Bi(i,"align.footer","center"),l=Bi(i,"space.footer",0),o;y?o={left:l}:o={top:l},this.add(c,{proportion:0,align:C,padding:o,expand:Bi(i,"expand.footer",!0)})}this.addChildrenMap("background",S),this.addChildrenMap("header",n),this.addChildrenMap("footer",c),this.runLayoutFlag=!1}postLayout(t,i,a){var y=0,S=0;return this.runLayoutFlag?(S=this.t,this.scrollMode===2&&(y=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(S),this.scrollMode===2&&this.setS(y),super.postLayout(t,i,a),this}set t(t){var i=this.childMargin;if(i.top!==0||i.bottom!==0){var a=this.childrenMap.child,y=a.topChildOY-a.bottomChildOY,S=y+i.top+i.bottom,n=S*t-i.top;t=y!==0?n/y:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,i=this.childMargin;if(i.top!==0||i.bottom!==0){var a=this.childrenMap.child,y=a.topChildOY-a.bottomChildOY,S=y+i.top+i.bottom,n=y*t+i.top;t=S!==0?n/S:0}return t}set s(t){var i=this.childMargin;if(i.left!==0||i.right!==0){var a=this.childrenMap.child,y=a.leftChildOX-a.rightChildOX,S=y+i.left+i.right,n=S*t-i.left;t=y!==0?n/y:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,i=this.childMargin;if(i.left!==0||i.right!==0){var a=this.childrenMap.child,y=a.leftChildOX-a.rightChildOX,S=y+i.left+i.right,n=y*t+i.left;t=S!==0?n/S:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var i=this.childrenMap.slider;i&&i.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var i=this.childrenMap.sliderX;i&&i.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var i=this.childrenMap.scroller;i&&i.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var i=this.childrenMap.mouseWheelScroller;i&&i.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var i=this.childrenMap.mouseWheelScrollerX;i&&i.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setInteractive(),i.input.dropZone=t,this}},r(Aa,"Scrollable"),Aa);Object.assign(El.prototype,FR);var i0=r(function(e,t,i){var a=js(e);switch(a){case Pe:i=e.getWrappedText(t);break;case Re:i=e.getPenManager(t,i);break;case Ze:e.maxWidth>0?i=e.setText(t).getTextBounds().wrappedText.split(`
`):i=t.split(`
`);break}return i},"TextToLines"),EW=r(function(e){return e!==void 0&&(this.text=e),this.lines=i0(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},"SetText"),GR=r(function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},"TextHeightToLinesCount$1"),UR=r(function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},"LinesCountToTextHeight"),SW=r(function(e){var t=e+this.visibleLinesCount+1,i;switch(this.textObjectType){case Pe:i=this.lines.slice(e,t).join(`
`);break;case Re:var a=this.lines.getLineStartIndex(e),y=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(a,y,!0);break;case Ze:i=this.lines.slice(e,t).join(`
`);break}return i},"GetLines$1"),Fd=r(function(e,t){var i=js(e);switch(i){case Pe:var S=e.style,a=S.wordWrapWidth,y=S.wordWrapCallback;S.wordWrapWidth=0,S.wordWrapCallback=void 0,e.setText(t),S.wordWrapWidth=a,S.wordWrapCallback=y;break;case Re:var S=e.style,n=S.wrapMode;S.wrapMode=0,e.setText(t),S.wrapMode=n;break;case Ze:var C=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=C;break}},"SetNoWrapText"),HR=r(function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&AW.call(this)},"ResetTextObjectPosition"),AW=r(function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,i;e<=0?(t=-e,i=this.height):(t=0,i=this.height-e),this.textObject.setCrop(0,t,this.width,i)}},"CropTextObject"),PW=r(function(){var e=Math.max(Math.floor(GR.call(this,-this.textOY)),0),t=UR.call(this,e)+this.textOY,i=SW.call(this,e);return Fd(this.textObject,i),this.textObject.rexSizer.offsetY=t,HR.call(this),this},"UpdateTextObject"),RW=r(function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,Tl.call(this),this},"PreLayout"),OW=r(function(e,t,i){if(i+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===i)){switch(this.textObjectWidth=t,this._textObjectRealHeight=i,this.textObjectType){case Pe:case Re:e.setFixedSize(t,i);var a=e.style,y=Math.max(t,0);this.textObjectType===Pe?a.wordWrapWidth=y:(a.wrapMode===0&&(a.wrapMode=1),a.wrapWidth=y);break;case Ze:e.setMaxWidth(t);break}this.setText()}},"ResizeText"),LW=r(function(){var e,t,i,a=this.left,y=this.top,S,n,C,s;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,i=t.padding,S=a+i.left*this.scaleX,n=y+i.top*this.scaleY,C=this.width*this.scaleX-(i.left+i.right)*this.scaleX,s=this.height*this.scaleY-(i.top+i.bottom)*this.scaleY,OW.call(this,e,C,s),gl(e,S,n,C,s,t.align),t.preOffsetY=0,HR.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))},"LayoutChildren$1");const wW={setText:EW,updateTextObject:PW,preLayout:RW,layoutChildren:LW},R1=Phaser.Utils.Objects.IsPlainObject,$e=Phaser.Utils.Objects.GetValue,MW=Phaser.Display.Align.TOP_LEFT,bx=class bx extends jr{constructor(t,i,a,y,S,n){R1(i)?(n=i,i=$e(n,"x",0),a=$e(n,"y",0),y=$e(n,"width",void 0),S=$e(n,"height",void 0)):R1(y)&&(n=y,y=$e(n,"width",void 0),S=$e(n,"height",void 0)),super(t,i,a,y,S,n),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=$e(n,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode($e(n,"clampTextOY",!0)),this.alwaysScrollable=$e(n,"alwaysScrollable",!1);var C=$e(n,"background",void 0),s=$e(n,"text",void 0);s===void 0&&(s=DW(t)),this.textCropEnable=$e(n,"textCrop",!!s.setCrop);var o=$e(n,"textMask",!this.textCropEnable);C&&this.addBackground(C),this.add(s),this.sizerChildren=[s];var T=this.getSizerConfig(s);T.align=MW,T.padding=Qr(0),T.expand=!0,this.textObject=s,this.textObjectType=js(s),T.preOffsetY=0,T.offsetY=0,o&&(this.textMask=Li.call(this,this.textObject,this)),this.addChildrenMap("background",C),this.addChildrenMap("text",s)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Pe:this.lines.length=0;break;case Re:this.lines.destroy();break;case Ze:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Pe:case Re:var i=this.textObject.style;t=i.metrics.fontSize+i.strokeThickness;break;case Ze:var a=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*a;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Pe:case Re:t=this.textObject.lineSpacing;break;case Ze:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(GR.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=UR.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var i=this.topTextOY,a=this.bottomTextOY,y=this.textOYExceedTop(t),S=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:y?t=i:S&&(t=a)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),y&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,a)),this.execeedBottomState=S}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}};r(bx,"TextBlock");let Mf=bx;var DW=r(function(e){return e.add.text(0,0,"")},"CreateDefaultTextObject");Object.assign(Mf.prototype,wW);var FW=r(function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:r(function(){return e.textOY},"get"),set:r(function(t){e.textOY=t},"set")}),Object.defineProperty(e,"topChildOY",{get:r(function(){return e.topTextOY},"get")}),Object.defineProperty(e,"bottomChildOY",{get:r(function(){return e.bottomTextOY},"get")}),Object.defineProperty(e,"childVisibleHeight",{get:r(function(){return e.textObjectHeight},"get")}),Object.defineProperty(e,"childHeight",{get:r(function(){return e.textHeight},"get")})},"InjectProperties$2");const bW={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},NW={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Gi=Phaser.Utils.Objects.GetValue,Nx=class Nx extends El{constructor(t,i){i===void 0&&(i={});var a=Gi(i,"text",void 0),y=Gi(i,"textWidth",void 0),S=Gi(i,"textHeight",void 0),n=Gi(i,"textCrop",!!a.setCrop),C=Gi(i,"textMask",!n),s=Gi(i,"content",""),o=new Mf(t,{width:y,height:S,text:a,textMask:C,textCrop:n&&!C,content:s,clampTextOY:Gi(i,"clampChildOY",!1),alwaysScrollable:Gi(i,"alwaysScrollable",!1)});t.add.existing(o),FW(o),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:o,expandWidth:y===void 0,expandHeight:S===void 0};var T=Gi(i,"space",void 0);T&&(T.child=Gi(T,"text",0)),super(t,i),this.addChildrenMap("text",a)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}};r(Nx,"TextArea");let Wr=Nx;Object.assign(Wr.prototype,bW,NW);const Cu=Phaser.Utils.Objects.GetValue;var YR=r(function(e,t,i){t=t?ge(t):{};var a=Cu(i,"background",le),y=Cu(i,"text",s0),S=Cu(i,"track",le),n=Cu(i,"thumb",le);a?t.background=a(e,t.background):delete t.background,y?t.text=y(e,t.text):delete t.text;var C=t.slider;C!==!1&&C!==null&&(C===void 0&&(C={}),S?C.track=S(e,C.track):delete C.track,n?C.thumb=n(e,C.thumb):delete C.thumb,t.slider=C);var s=new Wr(e,t);return e.add.existing(s),s},"CreateTextArea"),s0=r(function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("key")&&(i="bitmaptext",t.font=t.key));var a;switch(i){case"bitmaptext":case"bitmap":a=new ja(e,t);break;case"bbcodetext":case"bbcode":a=new Ws(e,0,0,"",t);break;case"label":a=new kr(e,t);break;case"textarea":a=YR(e,t);break;default:a=new Qa(e,t);break}return t0(a,t),e.add.existing(a),a},"CreateText"),O1=r(function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("leftWidth")?i="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(i="roundRectangle"));var a;switch(i){case"nineSlice":t.hasOwnProperty("stretchMode")?a=new Vr(e,t):a=new Yr(e,t);break;case"roundRectangle":a=new Hr(e,t);break;default:a=new Ur(e,t);break}return t0(a,t),e.add.existing(a),a},"CreateImage");const Eu=Phaser.Utils.Objects.GetValue;var bd=r(function(e,t,i){t=t?ge(t):{};var a=Eu(i,"background",le),y=Eu(i,"text",s0),S=Eu(i,"icon",O1),n=Eu(i,"action",O1);return t.background!==null&&a?t.background=a(e,t.background):delete t.background,t.text!==null&&y?t.text=y(e,t.text):delete t.text,t.icon!==null&&S?t.icon=S(e,t.icon):delete t.icon,t.action!==null&&n?t.action=n(e,t.action):delete t.action,t},"BuildLabelConfig");const Bx=class Bx extends wi{constructor(t,i,a){i=bd(t,i,a),super(t,i),this.type="rexSimpleLabel"}setActiveState(t){return nv(this.getChildren(),"setActiveState",t),this}setHoverState(t){return nv(this.getChildren(),"setHoverState",t),this}setDisableState(t){return nv(this.getChildren(),"setDisableState",t),this}};r(Bx,"SimpleLabel");let kr=Bx;var nv=r(function(e,t,i){for(var a=0,y=e.length;a<y;a++){var S=e[a];S&&S[t]&&S[t](i)}},"RunMethod$1");rt.register("simpleLabel",function(e,t){var i=new kr(this.scene,e,t);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.SimpleLabel",kr);const vt=Phaser.Utils.Objects.GetValue;var BW=r(function(e){var t=this.scene,i=vt(e,"orientation",0);this.setOrientation(i);var a=vt(e,"icon",void 0),y=vt(e,"iconMask",void 0),S=vt(e,"innerBackground",void 0),n=vt(e,"title",void 0),C=vt(e,"separator",void 0),s=vt(e,"text",void 0),o=vt(e,"action",void 0),T=vt(e,"actionMask",void 0);if(a){var c=vt(e,"align.icon","center"),E;this.orientation===0?E={right:vt(e,"space.icon",0),top:vt(e,"space.iconTop",0),bottom:vt(e,"space.iconBottom",0),left:vt(e,"space.iconLeft",0)}:E={bottom:vt(e,"space.icon",0),left:vt(e,"space.iconLeft",0),right:vt(e,"space.iconRight",0),top:vt(e,"space.iconTop",0)};var l=vt(e,"squareFitIcon",!1)?1:0;if(this.add(a,{proportion:0,align:c,padding:E,fitRatio:l}),y&&(y=Li.call(this,a,a,1)),!l){var u=vt(e,"iconSize",void 0);this.setIconSize(vt(e,"iconWidth",u),vt(e,"iconHeight",u))}}var h=new Tt(t,{orientation:1});S&&h.addBackground(S);var f=vt(e,"space.separator",0);if(n){var c=vt(e,"align.title","left"),v=vt(e,"expandTitleWidth",!1),d=vt(e,"expandTitleHeight",!1),p,E,g;p=d?1:0,g=v,E={bottom:!C&&s?vt(e,"space.title",f):0,left:vt(e,"space.titleLeft",0),right:vt(e,"space.titleRight",0)},h.add(n,{proportion:p,expand:g,align:c,padding:E})}if(C){var E={top:n?f:0,bottom:s?f:0,left:vt(e,"space.separatorLeft",0),right:vt(e,"space.separatorRight",0)};h.add(C,{expand:!0,padding:E})}if(s){var c=vt(e,"align.text","left"),m=vt(e,"expandTextWidth",!1),x=vt(e,"expandTextHeight",!1),p,E,g;p=x?1:0,g=m,E={left:vt(e,"space.textLeft",0),right:vt(e,"space.textRight",0)},h.add(s,{proportion:p,expand:g,align:c,padding:E})}var E=void 0;if(o&&(E={right:vt(e,"space.text",0)}),this.add(h,{proportion:1,padding:E}),o){var c=vt(e,"align.action","center"),E;this.orientation===0?E={top:vt(e,"space.actionTop",0),bottom:vt(e,"space.actionBottom",0),right:vt(e,"space.actionRight",0)}:E={left:vt(e,"space.actionLeft",0),right:vt(e,"space.actionRight",0),bottom:vt(e,"space.actionBottom",0)};var l=vt(e,"squareFitAction",!1)?1:0;if(this.add(o,{proportion:0,align:c,padding:E,fitRatio:l}),T&&(T=Li.call(this,o,o,1)),!l){var A=vt(e,"actionSize");this.setActionSize(vt(e,"actionWidth",A),vt(e,"actionHeight",A))}}this.addChildrenMap("icon",a),this.addChildrenMap("iconMask",y),this.addChildrenMap("innerSizer",h),this.addChildrenMap("innerBackground",S),this.addChildrenMap("title",n),this.addChildrenMap("separator",C),this.addChildrenMap("text",s),this.addChildrenMap("action",o),this.addChildrenMap("actionMask",T)},"LayoutMode0$2");const dt=Phaser.Utils.Objects.GetValue;var GW=r(function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,i=dt(e,"title",void 0),a=dt(e,"separator",void 0),y=dt(e,"innerBackground",void 0),S=dt(e,"icon",void 0),n=dt(e,"iconMask",void 0),C=dt(e,"text",void 0),s=dt(e,"action",void 0),o=dt(e,"actionMask",void 0);if(i){var T=dt(e,"align.title","left"),c=dt(e,"expandTitleWidth",!1),l=dt(e,"expandTitleHeight",!1),u,h,f;u=l?1:0,f=c,h={bottom:dt(e,"space.title",0),left:dt(e,"space.titleLeft",0),right:dt(e,"space.titleRight",0)},this.add(i,{proportion:u,expand:f,align:T,padding:h})}if(a){var v=dt(e,"space.separator",0),h={top:i?v:0,bottom:C?v:0,left:dt(e,"space.separatorLeft",0),right:dt(e,"space.separatorRight",0)};this.add(a,{proportion:0,expand:!0,padding:h})}var d=dt(e,"orientation",0),p=new Tt(t,{orientation:d,rtl:dt(e,"rtl",!1),space:{left:dt(e,"space.innerLeft",0),right:dt(e,"space.innerRight",0),top:dt(e,"space.innerTop",0),bottom:dt(e,"space.innerBottom",0)}});if(y&&p.addBackground(y),this.add(p,{proportion:1,expand:!0}),S){var T=dt(e,"align.icon","center"),h;p.orientation===0?h={right:dt(e,"space.icon",0),top:dt(e,"space.iconTop",0),bottom:dt(e,"space.iconBottom",0),left:dt(e,"space.iconLeft",0)}:h={bottom:dt(e,"space.icon",0),left:dt(e,"space.iconLeft",0),right:dt(e,"space.iconRight",0),top:dt(e,"space.iconTop",0)};var g=dt(e,"squareFitIcon",!1)?1:0;if(p.add(S,{proportion:0,align:T,padding:h,fitRatio:g}),n&&(n=Li.call(this,S,S,1)),!g){var m=dt(e,"iconSize",void 0);this.setIconSize(dt(e,"iconWidth",m),dt(e,"iconHeight",m))}}if(C){var T=dt(e,"align.text","left"),x=dt(e,"space.text",0),E=dt(e,"expandTextWidth",!1),A=dt(e,"expandTextHeight",!1),u,h,f;p.orientation===0?(u=E?1:0,s&&(h={right:x}),f=A):(u=A?1:0,s&&(h={bottom:x}),f=E),p.add(C,{proportion:u,expand:f,align:T,padding:h})}if(s){var T=dt(e,"align.action","center"),h;p.orientation===0?h={top:dt(e,"space.actionTop",0),bottom:dt(e,"space.actionBottom",0),right:dt(e,"space.actionRight",0)}:h={left:dt(e,"space.actionLeft",0),right:dt(e,"space.actionRight",0),bottom:dt(e,"space.actionBottom",0)};var g=dt(e,"squareFitAction",!1)?1:0;if(p.add(s,{proportion:0,align:T,padding:h,fitRatio:g}),o&&(o=Li.call(this,s,s,1)),!g){var R=dt(e,"actionSize");this.setActionSize(dt(e,"actionWidth",R),dt(e,"actionHeight",R))}}this.addChildrenMap("title",i),this.addChildrenMap("separator",a),this.addChildrenMap("innerSizer",p),this.addChildrenMap("innerBackground",y),this.addChildrenMap("icon",S),this.addChildrenMap("iconMask",n),this.addChildrenMap("text",C),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",o)},"LayoutMode1$1");const Ps=Phaser.Utils.Objects.GetValue,L1=[BW,GW],Gx=class Gx extends Vo{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTitleLabel";var a=Ps(i,"background",void 0);a&&this.addBackground(a);var y=Ps(i,"title",void 0),S=Ps(i,"text",void 0);if(y){var n=Ps(i,"wrapTitle",!1),C=Ps(i,"adjustTitleFontSize",!1);n?(n===!0&&(n="word"),pp(y,n),i.expandTitleWidth=!0,Of(y)):C&&(i.expandTextWidth=!0,i.expandTextHeight=!0,wf(y,{fitHeight:!0}))}if(S){var s=Ps(i,"wrapText",!1),o=Ps(i,"adjustTextFontSize",!1);s?(s===!0&&(s="word"),pp(S,s),i.expandTextWidth=!0,Of(S)):o&&(i.expandTextWidth=!0,i.expandTextHeight=!0,wf(S,{fitHeight:!0}))}var T=Ps(i,"layoutMode",0),c=L1[T]||L1[0];c.call(this,i),this.addChildrenMap("background",i.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var i=this.childrenMap.title;i&&i.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var i=this.childrenMap.title;return i&&(t.title===void 0||(t.title?(this.show(i),this.setTitle(t.title)):this.hide(i))),this}};r(Gx,"TitleLabel");let _a=Gx;rt.register("titleLabel",function(e){var t=new _a(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TitleLabel",_a);const av=Phaser.Utils.Objects.GetValue;var VR=r(function(e,t,i){var a=av(i,"innerBackground",le),y=av(i,"separator",le),S=av(i,"title",s0),n,C;t.innerBackground!==null&&a&&(n=a(e,t.innerBackground)),t.separator!==null&&y&&(C=y(e,t.separator)),t=bd(e,t,i),n?t.innerBackground=n:delete t.innerBackground,C?t.separator=C:delete t.separator,t.title!==null&&S?t.title=S(e,t.title):delete t.title;var s=t.background;return s&&(n?e.children.moveBelow(s,n):C&&e.children.moveBelow(s,C)),t},"BuildTitleLabelConfig");const Ux=class Ux extends _a{constructor(t,i,a){i=VR(t,i,a),super(t,i),this.type="rexSimpleTitleLabel"}setActiveState(t){return hv(this.getChildren(),"setActiveState",t),this}setHoverState(t){return hv(this.getChildren(),"setHoverState",t),this}setDisableState(t){return hv(this.getChildren(),"setDisableState",t),this}};r(Ux,"SimpleTitleLabel");let Df=Ux;var hv=r(function(e,t,i){for(var a=0,y=e.length;a<y;a++){var S=e[a];S&&S[t]&&S[t](i)}},"RunMethod");rt.register("simpleTitleLabel",function(e,t){var i=new Df(this.scene,e,t);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.SimpleTitleLabel",Df);const Rt=Phaser.Utils.Objects.GetValue,UW=Phaser.Utils.Objects.IsPlainObject;var HW=r(function(e,t){var i=Rt(t,"background",void 0),a=Rt(t,"icon",void 0),y=Rt(t,"iconMask",void 0),S=Rt(t,"nameText",void 0),n=Rt(t,"valueText",void 0),C=Rt(t,"bar",void 0),s=Rt(t,"action",void 0),o=Rt(t,"actionMask",void 0),T=Rt(t,"barShape","line")==="line";if(UW(C)){var c=T?Ro:Ya;C=new c(e,C),e.add.existing(C),S&&e.children.moveBelow(C,S),n&&e.children.moveBelow(C,n)}var l=S||n||C;if(i&&this.addBackground(i),a){var u=void 0;this.orientation===0?(l||s)&&(u={right:Rt(t,"space.icon",0),top:Rt(t,"space.iconTop",0),bottom:Rt(t,"space.iconBottom",0)}):(l||s)&&(u={bottom:Rt(t,"space.icon",0),left:Rt(t,"space.iconLeft",0),right:Rt(t,"space.iconRight",0)}),this.add(a,{proportion:0,padding:u}),y&&(y=Li.call(this,a,a,1))}if(l){var h=new Tt(e,{orientation:1}),f;if(S||n){if(f=new Tt(e,{orientation:0}),S){S.text===""&&S.setText(" "),S.setOrigin(0,S.originY);var u={left:Rt(t,"space.name",0)};f.add(S,{padding:u})}if(n){n.text===""&&n.setText(" "),n.setOrigin(1,n.originY),f.addSpace();var u={right:Rt(t,"space.value",0)};f.add(n,{padding:u}),this.setValueTextFormatCallback(Rt(t,"valueTextFormatCallback",YW),Rt(t,"valueTextFormatCallbackScope",void 0))}h.add(f,{expand:!0})}if(C)if(T){var v=f?Rt(t,"space.bar"):0;v===void 0&&(v=Rt(t,"space.barTop",0));var u={top:v,bottom:Rt(t,"space.barBottom",0),left:Rt(t,"space.barLeft",0),right:Rt(t,"space.barRight",0)};h.add(C,{expand:!0,padding:u})}else{var u={top:Rt(t,"space.barTop",0),bottom:Rt(t,"space.barBottom",0),left:Rt(t,"space.barLeft",0),right:Rt(t,"space.barRight",0)};this.addBackground(C,u)}var u=void 0;s&&(u={right:Rt(t,"space.text",0)});var d=Rt(t,"align.text","bottom");this.add(h,{proportion:1,align:d,padding:u})}if(s){var u;this.orientation===0?u={top:Rt(t,"space.actionTop",0),bottom:Rt(t,"space.actionBottom",0)}:u={left:Rt(t,"space.actionLeft",0),right:Rt(t,"space.actionRight",0)},this.add(s,{proportion:0,padding:u}),o&&(o=Li.call(this,s,s,1))}this.addChildrenMap("background",i),this.addChildrenMap("icon",a),this.addChildrenMap("iconMask",y),this.addChildrenMap("name",S),this.addChildrenMap("value",n),this.addChildrenMap("bar",C),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",o)},"Build$1"),YW=r(function(e,t,i){return e.toString()},"DefaultValueTextFormatCallback");const VW=Phaser.Math.Clamp,WW={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,i){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),i===void 0&&(i=this.maxValue);var a;return this.valueTextFormatCallbackScope?a=this.valueTextFormatCallback(e,t,i):a=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,i),a},updateValueText(e,t,i){var a=this.childrenMap.value;return a&&this.valueTextFormatCallback&&(a.setText(this.getFormatValueText(e,t,i)),a.layout&&a.layout()),this},setValue(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,e=VW(e,t,i),this.value=e,this.updateValueText(e,t,i),this.setBarValue(e,t,i),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,this.easeValueTask===void 0&&(this.easeValueTask=new Je(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}},Hx=class Hx extends Tt{constructor(t,i){super(t,i),this.type="rexNameValueLabel",HW.call(this,t,i),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var i=this.childrenMap.name;i!==void 0&&i.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var i=this.childrenMap.value;i!==void 0&&i.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var i=this.childrenMap.bar;i!==void 0&&i.setValue(t)}setBarValue(t,i,a){var y=this.childrenMap.bar;return y===void 0?this:(y.setValue(t,i,a),this)}easeBarValueTo(t,i,a){var y=this.childrenMap.bar;return y===void 0?this:(y.easeValueTo(t,i,a),this)}setTexture(t,i){var a=this.childrenMap.icon;if(a!==void 0)return a.setTexture(t,i),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,i,a){var y=this.childrenMap.iconMask;y&&(y.setPosition(),this.resetChildPositionState(y));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,i,a),this}resize(t,i){super.resize(t,i);var a=this.childrenMap.iconMask;a&&a.resize();var y=this.childrenMap.actionMask;return y&&y.resize(),this}};r(Hx,"NameValueLabel");let th=Hx;Object.assign(th.prototype,WW);rt.register("nameValueLabel",function(e){var t=new th(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.NameValueLabel",th);const Yx=class Yx extends uP{constructor(t){super(),this.setTable(Mt(t,"table")),this.setMaxLevel(Mt(t,"maxLevel"));var i=Mt(t,"exp",0),a=Mt(t,"level",void 0);a!==void 0&&!this.checkLevel(a,i)&&(console.error(`Level ${a} and Exp ${i} are mismatch`),a=void 0),this.resetExp(i,a)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=Ri(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var i;return t!==-1?i=this.getExp(t):i=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=i,this}resetExp(t,i){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),i===void 0&&(i=this.getLevel(t)),this._exp=t,this._level=i,this._requiredExp=this.getRequiredExpToNextLevel(i,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var i=this.getLevel(t,this._level),a=this._level,y=this._exp,S;;){var n=this.getExp(a),C=this.getExp(a+1);if(S=Math.min(C,t),this.emit("levelup",a,y,S,n,C),a===i&&S===t)break;a++,y=C}this.resetExp(t,i)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,i){if(t===void 0)return this._level;for(i===void 0&&(i=0);;){var a=this.getExp(i+1);if(a>t||(i++,this.hasMaxLevel&&a===this.maxExp))break}return i}getRequiredExpToNextLevel(t,i){return t===void 0&&(t=this.level),i===void 0&&(i=this.exp),this.getExp(t+1)-i}checkLevel(t,i){return i>=this.getExp(t)&&i<this.getExp(t+1)}gainExp(t,i,a){return i&&this.on("levelup",i,a),this.exp+=t,i&&this.off("levelup",i,a),this}setExp(t,i,a){return i&&this.on("levelup",i,a),this.exp=t,i&&this.off("levelup",i,a),this}setLevel(t,i,a){return i&&this.on("levelup",i,a),this.level=t,i&&this.off("levelup",i,a),this}};r(Yx,"LevelCounter");let Ap=Yx;var Pp=r(function(e,t,i){var a=Mt(i,"reverse",!1),y;if(Oi(e[0]))if(a)for(var n=e.length,S=n-1;S>=0;S--)y=Pp(e[S],t,i);else for(var S=0,n=e.length;S<n;S++)y=Pp(e[S],t,i);else y=kW(e,t,i);return y},"RunCommands"),kW=r(function(e,t,i){var a=Mt(i,"argsConvert",void 0),y=Mt(i,"argsConvertScope",void 0),S=e[0];if(Rs=vf(Rs,e,1),a){a===!0&&(a=Tg,y=void 0);for(var n=0,C=Rs.length;n<C;n++)y?Rs[n]=a.call(y,Rs[n],e):Rs[n]=a(Rs[n],e)}var s;typeof S=="string"?(s=t[S],s==null&&(s=Mt(t,S,null))):s=S;var o=s.apply(t,Rs);return o},"RunCommand"),Rs=[];const mi=Phaser.Utils.Objects.GetValue,Vx=class Vx extends Yt{constructor(t,i){super(t,i);var a=mi(i,"clock",void 0);a||(a=new hf(t)),this.clock=a,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(i)}resetFromJSON(t){return this.clock.resetFromJSON(mi(t,"clock",void 0)),this.state=mi(t,"state",0),this.commands=mi(t,"commands",[]),this.scope=mi(t,"scope",void 0),this.setTimeUnit(mi(t,"timeUnit",0)),this.setDtMode(mi(t,"dtMode",0)),this.index=mi(t,"index",0),this.nextTime=mi(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,i,a){this.stop();var y=mi(a,"timeUnit",void 0);y!==void 0&&this.setTimeUnit(y);var S=mi(a,"dtMode",void 0);return S!==void 0&&this.setDtMode(S),t=t.filter(function(n){var C=n[0];return!isNaN(C)}).map(function(n){var C=n[0];return typeof C=="string"&&(n[0]=parseFloat(n[0])),n}),this.dtMode===0&&t.sort(function(n,C){var s=n[0],o=C[0];return s>o?1:s<o?-1:0}),vf(this.commands,t),this.scope=i,this}clear(){return this.commands.length=0,this}append(t,i,...a){var y;return Array.isArray(i)?y=i:y=[i,...a],this.commands.push([t,y]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var i=this.commands;;){var a=i[this.index],y=a[1];if(Oi(y)||(y=vf(XW,a,1)),Pp(y,this.scope),this.emit("runcommand",y,this.scope),this.index>=i.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var i=this.commands[this.index][0];return this.timeUnit===1&&(i=i*1e3),this.dtMode===1&&(i+=t),i}setDtMode(t){return typeof t=="string"&&(t=IW[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=zW[t]),this.timeUnit=t,this}};r(Vx,"Player");let Ff=Vx;var XW=[];const zW={ms:0,s:1,sec:1},IW={abs:0,absolute:0,inc:1,increment:1};var $W=r(function(e,t,i,a,y){var S=(i-t)/(y-a)*this.totalEaseDuration,n=i===y?e+1:e;this.player.append(0,this.setEaseValueDuration,S).append(0,this.easeValueTo,i,a,y).append(0,this.emit,"levelup.start",e,t,i,this).append(S,oe).append(0,this.emit,"levelup.end",n,t,i,this),this.player.isPlaying||this.player.start()},"OnLevelUp");const KW={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},w1=Phaser.Utils.Objects.GetValue,Wx=class Wx extends th{constructor(t,i){super(t,i),this.type="rexExpBar",this.setTotalEaseDuration(w1(i,"easeDuration",1e3)),this.levelCounter=new Ap(w1(i,"levelCounter")),this.player=new Ff(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",$W,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}};r(Wx,"ExpBar");let Xo=Wx;Object.assign(Xo.prototype,KW);rt.register("expBar",function(e){var t=new Xo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ExpBar",Xo);const Su=Tt.prototype.add,M1=Tt.prototype.addSpace;var ov=r(function(e){var t=!e.isRexSpace,i=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var a=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");a&&M1.call(this),Su.call(this,e,{proportion:i,expand:!0});var y=!this.buttonsExpand&&this.buttonsAlign==="center";y&&M1.call(this),this.hasTailSpace=y}else Su.call(this,e,{proportion:i,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var S=this.sizerChildren.length-1;Su.call(this,e,{index:S,proportion:i,expand:!0})}else Su.call(this,e,{proportion:i,expand:!0});return t&&this.buttonGroup.add(e),this},"Add$2");const ZW={addButton(e){if(Oi(e))for(var t=e,i=0,a=t.length;i<a;i++)ov.call(this,t[i]);else ov.call(this,e);return this},addButtons(e){for(var t=0,i=e.length;t<i;t++)ov.call(this,e[t]);return this}},JW=Tt.prototype.remove,QW=Tt.prototype.clear;var lv=r(function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),JW.call(this,e,t),this)},"Remove$3");const jW={remove(e,t){if(Oi(e))for(var i=e,a=0,y=i.length;a<y;a++)lv.call(this,i[a],t);else lv.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,QW.call(this,e),this},removeButton(i,t){var i=this.getButton(i);return i?(this.remove(i,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)lv.call(this,t[i],e);return this}};var qW=r(function(e,t,i){if(e){var a=this.setValueCallback,y=this.setValueCallbackScope;a&&(y?a.call(y,e,t,i):a(e,t,i)),this.fireEvent("button.statechange",e,t,i)}},"OnButtonStateChange"),_W=r(function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:r(function(){return e._selected},"get"),set:r(function(i){if(e._selected!==i){var a=e._selected;e._selected=i,qW.call(t,e,i,a)}},"set"),enumerable:!0,configurable:!0}),e.selected=!1},"InjectSelectedProperty");const tk={add(e){return this.buttons.push(e),e._click||(e._click=new vs(e,this.clickConfig),e._click.on("click",function(t,i,a,y){this.fireEvent("button.click",i,a,y)},this).on("enable",function(t,i){this.fireEvent("button.enable",i)},this).on("disable",function(t,i){this.fireEvent("button.disable",i)},this).on("over",function(t,i,a,y){this.fireEvent("button.over",i,a,y)},this).on("out",function(t,i,a,y){this.fireEvent("button.out",i,a,y)},this).on("down",function(t,i,a,y){this.fireEvent("button.down",i,a,y)},this).on("up",function(t,i,a,y){this.fireEvent("button.up",i,a,y)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),_W.call(this,e)),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)this.add(e[t]);return this}},ek=Phaser.Utils.Array.Remove,ik={remove(e){return this.buttonsType&&delete e.selected,ek(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,i=e.length;t<i;t++)delete e[t].selected;return this.buttons.length=0,this}};var sk=r(function(e,t,...i){if(this.buttons){var a;if(typeof t=="number"){if(a=t,t=this.buttons[a],!t)return}else if(a=this.buttons.indexOf(t),a===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,a,...i),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,a,...i):this.eventEmitter.emit(e,t,a,...i)}},"FireEvent");const kh=Phaser.Utils.Objects.GetValue,rk={setButtonsType(e){e===void 0&&(e={});var t=kh(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var i,a;switch(i=kh(e,"setValueCallback",void 0),a=kh(e,"setValueCallbackScope",void 0),i===void 0&&(i=kh(e,"setButtonStateCallback",void 0),a=kh(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=i,this.setValueCallbackScope=a,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var i=void 0;return Object.defineProperty(e,"value",{get:r(function(){return e._value},"get"),set:r(function(a){if(e._value!==a){e._value=a;for(var y=0,S=t.length;y<S;y++){var n=t[y];n.rexSizer.hidden||(i===void 0?n.name===a?n.selected=!0:n.selected=!1:i===y?n.selected=!0:n.selected=!1)}}},"set"),enumerable:!0,configurable:!0}),e.on("button.click",function(a){i=this.buttons.indexOf(a),e.value=a.name,i=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,i=e.length;t<i;t++){var a=e[t];a.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,i=0,a=t.length;i<a;i++){var y=t[i];y.rexSizer.hidden||(e[y.name]=y.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var i=this.buttons,a=0,y=i.length;a<y;a++){var S=i[a];if(!S.rexSizer.hidden&&S.name===e){S.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,i=0,a=t.length;i<a;i++){var y=t[i];if(!y.rexSizer.hidden&&y.name===e)return y.selected}}};var nk=r(function(e,t){if(e)if(Oi(e)){for(var i,a=0,y=e.length;a<y;a++)if(i=D1(e[a],t),i)return i}else{var i;for(var S in e)if(i=D1(e[S],t),i)return i}else return null},"GetGameObjectByName"),D1=r(function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null},"TestName");const Nd={getButton(e){var t=this.buttons,i,a=typeof e;switch(a){case"number":i=t[e];break;case"string":i=nk(t,e);break;default:i=e,t.indexOf(i)===-1&&(i=void 0);break}return i},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var i=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var a=0,y=i.length;a<y;a++)i[a]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var i=0,a=t.length;i<a;i++)t[i]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,i=this.buttons,a=0,y=i.length;a<y;a++){var S=i[a];S._click.isOver&&(S._click.isOver=!1,t.fireEvent("button.out",S))}var S=this.getButton(e);return S&&(S._click.isOver=!0,t.fireEvent("button.over",S)),this},showButton(e){return Bs(this.getButton(e)),this},hideButton(e){return Gs(this.getButton(e)),this},isButtonShown(e){return zg(this.getButton(e)),this},forEachButtton(e,t){for(var i=this.buttons,a=0,y=i.length;a<y;a++)t?e.call(t,i[a],a,i):e(i[a],a,i);return this}},kx=class kx{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}};r(kx,"ButtonGroup");let eh=kx;var ak={fireEvent:sk};Object.assign(eh.prototype,tk,ik,rk,Nd,ak);const r0={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},vr=Phaser.Utils.Objects.GetValue;var Pa;let ve=(Pa=class extends Tt{constructor(t,i){i===void 0&&(i={});var a=i.space;typeof a=="number"&&(i.space={item:a}),super(t,i),this.type="rexButtons",this.buttonGroup=new eh({parent:this,eventEmitter:vr(i,"eventEmitter",this),groupName:vr(i,"groupName",void 0),clickConfig:vr(i,"click",void 0)}).setButtonsType(i);var y=vr(i,"background",void 0),S=vr(i,"buttons",void 0);this.buttonsExpand=vr(i,"expand",!1),this.buttonsAlign=vr(i,"align",void 0),y&&this.addBackground(y),S&&this.addButtons(S),this.addChildrenMap("background",y),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}},r(Pa,"Buttons"),Pa);Object.assign(ve.prototype,ZW,jW,Nd,r0);rt.register("buttons",function(e){var t=new ve(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Buttons",ve);const hk=je.prototype.add,ok={addButton(e,t,i){return hk.call(this,e,t,i,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var i=0,a=e;i<a;i++)this.addButton(e[i],void 0,t);return this}},lk=je.prototype.remove,uk=je.prototype.clear;var uv=r(function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),lk.call(this,i,t),this):this},"Remove$2");const fk={remove(e,t){if(Oi(e))for(var i=e,a=0,y=i.length;a<y;a++)uv.call(this,i[a],t);else uv.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,uk.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)uv.call(this,t[i],e);return this}},Ui=Phaser.Utils.Objects.GetValue,Xx=class Xx extends je{constructor(t,i){i===void 0&&(i={});var a=Ui(i,"row",0),y=Ui(i,"column",i.col||0),S=Ui(i,"createCellContainerCallback"),n=Ui(i,"buttons",void 0),C=Ui(i,"expand",!0),s=C?1:0;if(S&&(i.createCellContainerCallback=void 0),n!==void 0){a=Math.max(a,n.length);for(var o=0,T=n.length;o<T;o++)y=Math.max(y,n[o].length)}i.row=a,i.column=y,i.columnProportions=s,i.rowProportions=s,super(t,i),this.type="rexGridButtons",this.buttonGroup=new eh({parent:this,eventEmitter:Ui(i,"eventEmitter",this),groupName:Ui(i,"groupName",void 0),clickConfig:Ui(i,"click",void 0)}).setButtonsType(i);var c=Ui(i,"background",void 0);if(this.buttonsExpand=C,Ui(i,"space",void 0),c&&this.addBackground(c),n)for(var l,u,h=0,f=n.length;h<f;h++){l=n[h];for(var v=0,d=l.length;v<d;v++)u=l[v],u&&this.addButton(u,v,h)}else if(S)for(var p=0;p<a;p++)for(var g=0;g<y;g++){var u=S(t,g,p);u&&this.addButton(u,g,p)}this.addChildrenMap("background",c),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};r(Xx,"GridButtons");let ih=Xx;Object.assign(ih.prototype,ok,fk,Nd,r0);rt.register("gridButtons",function(e){var t=new ih(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.GridButtons",ih);const WR=Ii.prototype.add;var Au=r(function(e){return WR.call(this,e),this.buttonGroup.add(e),this},"Add$1");const dk={addButton(e){if(Oi(e))for(var t=e,i=0,a=t.length;i<a;i++)Au.call(this,t[i]);else Au.call(this,e);return this},addButtons(e){if(Oi(e[0]))for(var t=e,i,a=0,y=t.length-1;a<=y;a++){i=t[a];for(var S=0,n=i.length;S<n;S++)Au.call(this,i[S]);a>y&&WR.addNewLine(this)}else for(var S=0,n=e.length;S<n;S++)Au.call(this,e[S]);return this}},ck=Ii.prototype.remove,vk=Ii.prototype.clear;var fv=r(function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),ck.call(this,i,t),this):this},"Remove$1");const pk={remove(e,t){if(Oi(e))for(var i=e,a=0,y=i.length;a<y;a++)fv.call(this,i[a],t);else fv.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,vk.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)fv.call(this,t[i],e);return this}},Cn=Phaser.Utils.Objects.GetValue,zx=class zx extends Ii{constructor(t,i){i===void 0&&(i={});var a=i.space;typeof a=="number"&&(i.space={item:a,line:a}),super(t,i),this.type="rexFixWidthButtons",this.buttonGroup=new eh({parent:this,eventEmitter:Cn(i,"eventEmitter",this),groupName:Cn(i,"groupName",void 0),clickConfig:Cn(i,"click",void 0)}).setButtonsType(i);var y=Cn(i,"background",void 0),S=Cn(i,"buttons",void 0);this.buttonsAlign=Cn(i,"align",void 0),y&&this.addBackground(y),S&&this.addButtons(S),this.addChildrenMap("background",y),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};r(zx,"Buttons");let $i=zx;Object.assign($i.prototype,dk,pk,Nd,r0);rt.register("fixWidthButtons",function(e){var t=new $i(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FixWidthButtons",$i);const gk={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,i,a,y){return this.childrenMap.fileChooser.loadFile(e,t,i,a,y),this},loadFilePromise(e,t,i,a){return this.childrenMap.fileChooser.loadFilePromise(e,t,i,a)}},F1=Phaser.Utils.Objects.GetValue,Ix=class Ix extends wi{constructor(t,i){super(t,i),this.type="rexFileSelectorButton";var a=new Gr(t);t.add.existing(a),this.addBackground(a),this.addChildrenMap("fileChooser",a),this.setAccept(F1(i,"accept","")),this.setMultiple(F1(i,"multiple",!1)),a.on("change",function(y){var S=y.files;S.length!==0&&(S=Array.from(S),this.emit("select",S,this))},this)}get files(){return this.childrenMap.fileChooser.files}};r(Ix,"FileSelectorButton");let zo=Ix;Object.assign(zo.prototype,gk);rt.register("fileSelectorButton",function(e){var t=new zo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileSelectorButton",zo);const mk={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},xk={onCreateModalBehavior(e){e.on("button.click",function(t,i,a,y,S){var n=!1;switch(i){case"actions":n=!0;break;case"choices":e.hasAnyAction()||(n=!0);break}if(n){var C={index:a,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":C.value=e.getChoicesSelectedButtonName();break;case"checkboxes":C.value=e.getChoicesButtonStates();break;default:C.value=void 0}e.modalClose(C)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,Ld.modal.call(this,e,t),this}};var kR={};Object.assign(kR,mk,xk);const ut=Phaser.Utils.Objects.GetValue,$x=class $x extends Tt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexDialog",this.eventEmitter=ut(i,"eventEmitter",this);var a=ut(i,"background",void 0),y=ut(i,"title",void 0),S=ut(i,"toolbar",void 0),n=ut(i,"toolbarBackground",void 0),C=ut(i,"leftToolbar",void 0),s=ut(i,"leftToolbarBackground",void 0),o=ut(i,"content",void 0),T=ut(i,"description",void 0),c,l=ut(i,"choices",void 0),u=ut(i,"choicesBackground",void 0),h,f=ut(i,"actions",void 0),v=ut(i,"actionsBackground",void 0),d=ut(i,"click",void 0);a&&this.addBackground(a);var p;S&&(p=new ve(t,{groupName:"toolbar",background:n,buttons:S,orientation:0,space:{item:ut(i,"space.toolbarItem",0)},click:d,eventEmitter:this.eventEmitter}),t.add.existing(p));var g;if(C&&(g=new ve(t,{groupName:"leftToolbar",background:s,buttons:C,orientation:0,space:{item:ut(i,"space.leftToolbarItem",0)},click:d,eventEmitter:this.eventEmitter}),t.add.existing(g)),y||S||C){var m=!!y&&ut(i,"expand.title",!0),x=ut(i,"align.title","center"),E=y&&!m&&x==="center"||!y&&(S||C),A=!E,R;A?R=new Tt(t,{orientation:0}):R=new Ve(t),t.add.existing(R);var P=A?!0:{height:!0};if(g&&R.add(g,{align:"left",expand:P}),y){A&&!m&&x==="right"&&R.addSpace();var O={left:ut(i,"space.titleLeft",0),right:ut(i,"space.titleRight",0)},L=m?1:0;R.add(y,{align:x,proportion:L,expand:P,padding:O}),A&&!m&&x==="left"&&R.addSpace()}p&&(A&&!y&&R.addSpace(),R.add(p,{align:"right",expand:P}));var O;(o||T||l||f)&&(O={bottom:ut(i,"space.title",0),top:ut(i,"space.titleTop",0)});var L=ut(i,"proportion.title",0);this.add(R,{padding:O,proportion:L,expand:!0})}if(o){var w=ut(i,"align.content","center"),M=ut(i,"space.content",0),O={left:ut(i,"space.contentLeft",0),right:ut(i,"space.contentRight",0),bottom:T||l||f?M:0},L=ut(i,"proportion.content",0),b=ut(i,"expand.content",!0);this.add(o,{align:w,padding:O,proportion:L,expand:b})}if(T){var w=ut(i,"align.description","center"),D=ut(i,"space.description",0),O={left:ut(i,"space.descriptionLeft",0),right:ut(i,"space.descriptionRight",0),bottom:l||f?D:0},L=ut(i,"proportion.description",0),b=ut(i,"expand.description",!0);this.add(T,{align:w,padding:O,proportion:L,expand:b})}if(l){var F=ut(i,"choicesType","").split("-"),N=Xh(F,"wrap")?$i:Xh(F,"grid")?ih:ve,B=Xh(F,"radio")?"radio":Xh(F,"checkboxes")?"checkboxes":void 0,Y={left:ut(i,"space.choicesBackgroundLeft",0),right:ut(i,"space.choicesBackgroundRight",0),top:ut(i,"space.choicesBackgroundTop",0),bottom:ut(i,"space.choicesBackgroundBottom",0)},W=ut(i,"space.choice",0);N===ve?Y.item=W:N===$i?(Y.item=W,Y.line=ut(i,"space.choiceLine",W)):(Y.column=ut(i,"space.choiceColumn",W),Y.row=ut(i,"space.choiceRow",W));var z={width:ut(i,"choicesWidth",void 0),height:ut(i,"choicesHeight",void 0),groupName:"choices",buttonsType:B,background:u,buttons:l,space:Y,click:d,eventEmitter:this.eventEmitter,setValueCallback:ut(i,"choicesSetValueCallback",void 0),setValueCallbackScope:ut(i,"choicesSetValueCallbackScope",void 0)};N===ve&&(z.orientation=Xh(F,"x")?0:1),c=new N(t,z),t.add.existing(c);var X=ut(i,"space.choices",0),O={left:ut(i,"space.choicesLeft",0),right:ut(i,"space.choicesRight",0),bottom:f?X:0},w=ut(i,"align.choices","center"),L=ut(i,"proportion.choices",0),b=ut(i,"expand.choices",!0);this.add(c,{align:w,padding:O,proportion:L,expand:b}),this.buttonsType=B}if(f){h=new ve(t,{groupName:"actions",background:v,buttons:f,orientation:0,space:{item:ut(i,"space.action",0)},expand:ut(i,"expand.actions",!1),align:ut(i,"align.actions","center"),click:d,eventEmitter:this.eventEmitter}),t.add.existing(h);var O={left:ut(i,"space.actionsLeft",0),right:ut(i,"space.actionsRight",0),bottom:ut(i,"space.actionsBottom",0)},L=ut(i,"proportion.action",0);this.add(h,{align:"center",padding:O,proportion:L,expand:!0})}zh(this,"click"),zh(this,"over"),zh(this,"out"),zh(this,"enable"),zh(this,"disable"),this.addChildrenMap("background",a),this.addChildrenMap("title",y),this.addChildrenMap("toolbar",S),this.addChildrenMap("leftToolbar",C),this.addChildrenMap("content",o),this.addChildrenMap("description",T),this.addChildrenMap("choices",c?c.buttons:void 0),this.addChildrenMap("actions",h?h.buttons:void 0),this.addChildrenMap("choicesSizer",c),this.addChildrenMap("actionsSizer",h),this.addChildrenMap("toolbarSizer",p),this.addChildrenMap("leftToolbarSizer",g)}};r($x,"Dialog");let Xr=$x;var Xh=r(function(e,t){return e.indexOf(t)!==-1},"Contains"),b1={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},zh=r(function(e,t){e.on(`button.${t}`,function(i,a,y,S,n){b1.hasOwnProperty(a)&&e.emit(`${b1[a]}.${t}`,i,y,S,n)})},"EmitButtonEvent");Object.assign(Xr.prototype,kR);rt.register("dialog",function(e){var t=new Xr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Dialog",Xr);var pe=r(function(e,t,i){var a=new kr(e,t,i);return e.add.existing(a),a},"CreateLabel"),Tk=r(function(e){return e===void 0&&(e={}),yk.call(this,e),Ck.call(this,e),Ek.call(this,e),Sk.call(this,e),this},"ResetDisplayContent$1"),yk=r(function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},"ResetTitle$1"),Ck=r(function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var i=e||"";t.setText(i)}},"ResetContent$1"),Ek=r(function(e){var t=this.childrenMap.actions;if(t){var i=e.buttons;if(i){for(var S=this.scene,n=this.defaultActionConfig,C=this.defaultActionButtonCreator,s=0,o=i.length;s<o;s++){var T=i[s],c=t[s];c||(c=pe(S,n,C),this.addAction(c)),c.show().resetDisplayContent(T)}this.buttonMode=i.length;for(var s=i.length,o=t.length;s<o;s++)t[s].hide()}else{var a=t[0];a&&(e.buttonA===null?a.hide():(a.show(),a.resetDisplayContent(e.buttonA)));var y=t[1];y&&(e.buttonB===null?y.hide():(y.show(),y.resetDisplayContent(e.buttonB)))}}},"ResetActions$1"),Sk=r(function(e){var t=this.childrenMap.choices;if(t){var i=e.choices;i||(i=[]);for(var a=this.scene,y=this.defaultChoiceConfig,S=this.defaultActionButtonCreator,n=0,C=i.length;n<C;n++){var s=i[n];typeof s=="string"&&(s={text:s});var o=t[n];o||(o=pe(a,y,S),this.addChoice(o)),o.show().resetDisplayContent(s);var T;s.hasOwnProperty("value")?T=s.value:T=s.text,o.setName(T)}for(var n=i.length,C=t.length;n<C;n++)t[n].hide()}},"ResetChoices");const Ak=Phaser.Utils.Objects.Merge;var Pk=r(function(e,t){Ri(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=Ak(e,this.modalStyle);var i;this.buttonMode===0?this.hasAnyChoice()?i=!1:i=!0:i=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=i),e.hasOwnProperty("manualClose")||(e.manualClose=!i);var a=this,y=r(function(S){var n=S.index;n===a.confirmButtonIndex?a.emit("confirm",S):n===a.cancelButtonIndex&&a.emit("cancel",S),t&&t(S)},"onCloseWrap");return Ld.modal.call(this,e,y),this},"Modal$1");const Rk={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var XR={resetDisplayContent:Tk,modal:Pk};Object.assign(XR,Rk);var Ok=r(function(e){e.setHoverState&&e.setHoverState(!0)},"OnPointerOverCallback"),Lk=r(function(e){e.setHoverState&&e.setHoverState(!1)},"OnPointerOutCallback"),wk=r(function(e,t,i,a){e.setActiveState&&e.setActiveState(a)},"OnChoiceButtonStateChange"),Mk=r(function(e){e.setDisableState&&e.setDisableState(!1)},"OnButtonEnable"),Dk=r(function(e){e.setDisableState&&e.setDisableState(!0)},"OnButtonDisable"),zR=r(function(){this.on("button.over",Ok).on("button.out",Lk).on("button.enable",Mk).on("button.disable",Dk).on("button.statechange",wk)},"RegisterEvents");const Fk=Phaser.Utils.Objects.GetValue;var bk=r(function(e,t,i){var a=Fk(t,"$type");a===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(a="textarea");var y;switch(a){case"textarea":y=new YR(e,t,i);break;default:y=new pe(e,t,i);break}return e.add.existing(y),y},"CreateContent$1");const dv=Phaser.Utils.Objects.GetValue,Kx=class Kx extends Xr{constructor(t,i,a){i=i?ge(i):{},a===void 0&&(a={});var y=dv(a,"background",le);i.background=y(t,i.background),i.title=pe(t,i.title,a.title),i.content=bk(t,i.content,a.content),i.content instanceof Wr&&is(i,"height")&&!is(i,"proportion.content")&&it(i,"proportion.content",1);var S=i.button,n=i.buttonA||S,C=i.buttonB||S,s=i.buttonMode;s===void 0&&(s=n&&C?2:n?1:0);var o=a.button,T=a.buttonA||o,c=a.buttonB||o;switch(s){case 2:i.actions=[pe(t,n,T),pe(t,C,c)];break;case 1:i.actions=[pe(t,n,T)];break;case 0:break;default:i.actions=[];break}var l=i.choice;l&&(i.choices=[]),super(t,i),this.type="rexConfirmDialog",this.buttonMode=s,this.defaultActionConfig=S,this.defaultActionButtonCreator=o,this.defaultChoiceConfig=l,this.defaultChoiceCreator=a.choice;var u=this.childrenMap.actions;this.addChildrenMap("buttonA",u?u[0]:null),this.addChildrenMap("buttonB",u?u[1]:null),zR.call(this),this.setConfirmButtonIndex(dv(i,"confirmButtonIndex",0)),this.setCancelButtonIndex(dv(i,"cancelButtonIndex",1)),this.modalStyle=i.modal||{}}};r(Kx,"ConfirmDialog");let sh=Kx;Object.assign(sh.prototype,XR);rt.register("confirmDialog",function(e,t){var i=new sh(this.scene,e,t);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.ConfirmDialog",sh);const N1=Phaser.Utils.Objects.GetValue;var IR=r(function(e,t){var i=t.dialog,a=!i;if(a){var y=t.style;y.buttonMode=2,i=new sh(e,y,t.creators),e.add.existing(i)}i.setConfirmButtonIndex(N1(t,"confirmButtonIndex",0)).setCancelButtonIndex(N1(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),a&&t.onCreateDialog&&t.onCreateDialog(i);var S=t.modal;S&&!S.hasOwnProperty("destroy")&&(S.destroy=a);var n=t.confirm,C=t.cancel,s=t.confirmScope,o=t.cancelScope;n&&i.once("confirm",n,s),C&&i.once("cancel",C,o);var T=r(function(c){i.off("confirm",n,s),i.off("cancel",C,o)},"onClose");return i.modal(S,T),i},"ConfirmAction");const Zx=class Zx extends wi{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=Si(i.confirmDialog||{}),i.confirm&&this.setConfirmCallback(i.confirm,i.confirmScope),i.cancel&&this.setCancelCallback(i.cancel,i.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=IR(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,i){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=i,this}setCancelCallback(t,i){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=i,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,i=this.confirmActionConfig.confirmScope;return t&&t.call(i),this}};r(Zx,"ConfirmActionButton");let bf=Zx;rt.register("confirmActionButton",function(e){var t=new bf(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ConfirmActionButton",bf);var Nk=r(function(e){return e===void 0&&(e={}),Bk.call(this,e),Gk.call(this,e),Uk.call(this,e),this},"ResetDisplayContent"),Bk=r(function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},"ResetTitle"),Gk=r(function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var i=e.firstNameTitle||"";t.resetDisplayContent(i)}var a=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(a);else{this.show(a);var y=e.firstName||"";a.setText(y)}var S=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(S);else{this.show(S);var n=e.lastNameTitle||"";S.resetDisplayContent(n)}var C=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(C);else{this.show(C);var s=e.lastName||"";C.setText(s)}},"ResetContent"),Uk=r(function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))},"ResetActions");const Hk=Phaser.Utils.Objects.Merge;var Yk=r(function(e,t){Ri(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=Hk(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var i=this,a=r(function(y){y.firstName=i.firstName,y.lastName=i.lastName,i.emit("confirm",y),t&&t(y)},"onCloseWrap");return Ld.modal.call(this,e,a),this},"Modal"),Vk={resetDisplayContent:Nk,modal:Yk},Ks=r(function(e,t,i){i===void 0&&(i=!0),i?t=t?ge(t):{}:t||(t={});var a=new wr(e,t);return e.add.existing(a),a},"CreateInputText$1");const ri=Phaser.Utils.Objects.GetValue;var Wk=r(function(e,t,i){var a=Jr(ri(t,"layoutMode",0)),y=a===0,S=new Tt(e,{orientation:a,space:{item:ri(t,"space.firstName",0)}});e.add.existing(S);var n=new Tt(e,{orientation:"x"});e.add.existing(n);var C=ri(t,"firstNameTitle",t.nameTitle),s=pe(e,C,i.firstNameTitle||i.nameTitle);n.add(s,{expand:!0,proportion:ri(t,"proportion.firstNameTitle",0),padding:{right:ri(t,"space.firstNameTitle",0)}});var o=t.nameInput||{},T=ri(t,"firstNameInput",o),c=Ks(e,T,i.firstNameInput||i.nameInput),l=!T.hasOwnProperty("width");n.add(c,{expand:!0,proportion:l?1:0});var u=new Tt(e,{orientation:"x"});e.add.existing(u);var h=ri(t,"lastNameTitle",t.nameTitle),f=pe(e,h,i.lastNameTitle||i.nameTitle);u.add(f,{expand:!0,proportion:ri(t,"proportion.lastNameTitle",0),padding:{right:ri(t,"space.lastNameTitle",0)}});var v=ri(t,"firstNameInput",o),d=Ks(e,v,i.lastNameInput||i.nameInput),p=!v.hasOwnProperty("width");if(u.add(d,{expand:!0,proportion:p?1:0}),y){var g=l?1:0,m=ri(t,"proportion.firstName",g);S.add(n,{expand:!0,proportion:m});var x=p?1:0,E=ri(t,"proportion.lastName",x);S.add(u,{expand:!0,proportion:E})}else S.add(n,{expand:l,proportion:0}),S.add(u,{expand:p,proportion:0});return S.addChildrenMap("firstNameTitle",s),S.addChildrenMap("firstNameInput",c),S.addChildrenMap("lastNameTitle",f),S.addChildrenMap("lastNameInput",d),S},"CreateContent");const kk=Phaser.Utils.Objects.GetValue,Jx=class Jx extends Xr{constructor(t,i,a){i===void 0&&(i={}),a===void 0&&(a={}),i.orientation="y";var y=i.space;y&&(y.hasOwnProperty("names")&&(y.content=y.names),y.hasOwnProperty("namesLeft")&&(y.contentLeft=y.namesLeft),y.hasOwnProperty("namesRight")&&(y.contentRight=y.namesRight));var S=kk(a,"background",le);i.background=S(t,i.background),i.title=pe(t,i.title,a.title),i.content=Wk(t,i,a),i.actions=[pe(t,i.button,a.button)],super(t,i),this.type="rexNameInputDialog";var n=i.content.childrenMap;this.addChildrenMap("firstNameTitle",n.firstNameTitle),this.addChildrenMap("firstNameInput",n.firstNameInput),this.addChildrenMap("lastNameTitle",n.lastNameTitle),this.addChildrenMap("lastNameInput",n.lastNameInput),this.addChildrenMap("button",i.actions[0]),zR.call(this),this.modalStyle=i.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}};r(Jx,"NameInputDialog");let Io=Jx;Object.assign(Io.prototype,Vk);rt.register("nameInputDialog",function(e,t){var i=new Io(this.scene,e,t);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.NameInputDialog",Io);var Er=r(function(e,t){if(e){var i=Qe(e);i&&i.remove(e,t)}},"RemoveFromParent");const Pu=Phaser.Utils.Objects.GetValue;var Sl=r(function(e,t,i){var a=Pu(e,`proportion.${t}`,i.proportion),y=Pu(e,`align.${t}`,"center"),S=Pu(e,`space.${t}`,void 0);if(typeof S=="number"&&i.paddingKey){var n=S;S={},S[i.paddingKey]=n}var C=Pu(e,`expand.${t}`,!0);return{proportion:a,align:y,padding:S,expand:C}},"GetAddChildConfig"),Bd=r(function(e){return Sl(e,"header",{proportion:0,paddingKey:"bottom"})},"GetAddHeaderConfig"),Gd=r(function(e){return Sl(e,"leftSide",{proportion:0,paddingKey:"right"})},"GetAddLeftSideConfig"),Ud=r(function(e){return Sl(e,"content",{proportion:1})},"GetAddContentConfig"),Hd=r(function(e){return Sl(e,"rightSide",{proportion:0,paddingKey:"left"})},"GetAddRightSideConfig"),Yd=r(function(e){return Sl(e,"footer",{proportion:0,paddingKey:"top"})},"GetAddFooterConfig"),ns=r(function(e){return{proportion:1,align:"center",padding:0,expand:!0}},"GetAddContainerConfig"),as=r(function(e,t){var i=new Tt(e,{orientation:t});return e.add.existing(i),i},"CreatExpandContainer"),Xk=r(function(e){var t=this.scene,i=e.header;i&&this.add(i,Bd(e));var a=as(t,0);this.add(a,ns());var y=e.leftSide;y&&a.add(y,Gd(e));var S=e.content;S&&a.add(S,Ud(e));var n=e.rightSide;n&&a.add(n,Hd(e));var C=e.footer;C&&this.add(C,Yd(e))},"LayoutMode0$1"),zk=r(function(e){var t=this.scene,i=e.header;i&&this.add(i,Bd(e));var a=as(t,0);this.add(a,ns());var y=e.leftSide;y&&a.add(y,Gd(e));var S=as(t,1);a.add(S,ns());var n=as(t,0);S.add(n,ns());var C=e.content;C&&n.add(C,Ud(e));var s=e.rightSide;s&&n.add(s,Hd(e));var o=e.footer;o&&S.add(o,Yd(e))},"LayoutMode1"),Ik=r(function(e){var t=this.scene,i=e.header;i&&this.add(i,Bd(e));var a=as(t,0);this.add(a,ns());var y=as(t,1);a.add(y,ns());var S=as(t,0);y.add(S,ns());var n=e.leftSide;n&&S.add(n,Gd(e));var C=e.content;C&&S.add(C,Ud(e));var s=e.footer;s&&y.add(s,Yd(e));var o=e.rightSide;o&&a.add(o,Hd(e))},"LayoutMode2"),$k=r(function(e){var t=this.scene,i=e.header;i&&this.add(i,Bd(e));var a=as(t,0);this.add(a,ns());var y=e.leftSide;y&&a.add(y,Gd(e));var S=as(t,1);a.add(S,ns());var n=e.content;n&&S.add(n,Ud(e));var C=e.footer;C&&S.add(C,Yd(e));var s=e.rightSide;s&&a.add(s,Hd(e))},"LayoutMode0");const Kk=Phaser.Utils.Objects.GetValue,B1=[Xk,zk,Ik,$k];var Zk=r(function(e){e===void 0&&(e={});var t=e.background,i=e.header,a=e.leftSide,y=e.content,S=e.rightSide,n=e.footer;Er(t),Er(i),Er(a),Er(y),Er(S),Er(n),this.clear(!0),t&&this.addBackground(t);var C=Kk(e,"layoutMode",0);typeof C=="string"&&(C=Jk[C.toUpperCase()]);var s=B1[C]||B1[0];return s.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",i),this.addChildrenMap("leftSide",a),this.addChildrenMap("content",y),this.addChildrenMap("rightSide",S),this.addChildrenMap("footer",n),this},"Build");const Jk={FFF:0,LFF:1,FFR:2,LFR:3},Qx=class Qx extends Tt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexHolyGrail",this.build(i)}};r(Qx,"HolyGrail");let $o=Qx;var Qk={build:Zk};Object.assign($o.prototype,Qk);rt.register("holyGrail",function(e){var t=new $o(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.HolyGrail",$o);const jk={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var i=this.getButtonsSizer(e);return i?i.getButton(t):void 0},setButtonEnable(e,t,i){return this.getButtonsSizer(e).setButtonEnable(t,i),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var i=this.getButtonsSizer(e);return i?(i.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return Bs(this.getButton(e,t)),this},showLeftButton(e){return Bs(this.getLeftButton(e)),this},showRightButton(e){return Bs(this.getRightButton(e)),this},showTopButton(e){return Bs(this.getTopButton(e)),this},showBottomButton(e){return Bs(this.getBottomButton(e)),this},hideButton(e,t){return Gs(this.getButton(e,t)),this},hideLeftButton(e){return Gs(this.getLeftButton(e)),this},hideRightButton(e){return Gs(this.getRightButton(e)),this},hideTopButton(e){return Gs(this.getTopButton(e)),this},hideBottomButton(e){return Gs(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,i){return this.getButtonsSizer(e).removeButton(t,i),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,i){return this.getButtonsSizer(e).forEachButtton(t,i),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},Dt=Phaser.Utils.Objects.GetValue,jx=class jx extends je{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var a=Dt(i,"expand.panel",!1);a&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabs",this.eventEmitter=Dt(i,"eventEmitter",this);var y=Dt(i,"background",void 0),S=Dt(i,"panel",void 0),n=Dt(i,"leftButtons",void 0),C=Dt(i,"leftButtonsBackground",void 0),s,o=Dt(i,"rightButtons",void 0),T=Dt(i,"rightButtonsBackground",void 0),c,l=Dt(i,"topButtons",void 0),u=Dt(i,"topButtonsBackground",void 0),h,f=Dt(i,"bottomButtons",void 0),v=Dt(i,"bottomButtonsBackground",void 0),d,p=Dt(i,"click",void 0);if(y&&this.addBackground(y),S&&this.add(S,{column:1,row:1,expand:a}),n){var g=Dt(i,"space.leftButtonsOffset",0),m=Dt(i,"space.leftButton",0),x=Dt(i,"expand.leftButtons",!1),E=Dt(i,"align.leftButtons","top");s=new ve(t,{groupName:"left",background:C,buttons:n,orientation:"y",space:{item:m},expand:x,click:p,eventEmitter:this.eventEmitter}),this.add(s,{column:0,row:1,align:E,padding:{top:g},expand:x})}if(o){var A=Dt(i,"space.rightButtonsOffset",0),R=Dt(i,"space.rightButton",0),P=Dt(i,"expand.rightButtons",!1),O=Dt(i,"align.rightButtons","top");c=new ve(t,{groupName:"right",background:T,buttons:o,orientation:"y",space:{item:R},expand:P,click:p,eventEmitter:this.eventEmitter}),this.add(c,{column:2,row:1,align:O,padding:{top:A},expand:P})}if(l){var L=Dt(i,"space.topButtonsOffset",0),w=Dt(i,"space.topButton",0),M=Dt(i,"expand.topButtons",!1),b=Dt(i,"align.topButtons","left");h=new ve(t,{groupName:"top",background:u,buttons:l,orientation:"x",space:{item:w},expand:M,align:Dt(i,"align.topButtons",void 0),click:p,eventEmitter:this.eventEmitter}),this.add(h,{column:1,row:0,align:b,padding:{left:L},expand:M})}if(f){var D=Dt(i,"space.bottomButtonsOffset",0),F=Dt(i,"space.bottomButton",0),N=Dt(i,"expand.bottomButtons",!1),B=Dt(i,"align.bottomButtons","left");d=new ve(t,{groupName:"bottom",background:v,buttons:f,orientation:"x",space:{item:F},expand:N,align:Dt(i,"align.bottomButtons",void 0),click:p,eventEmitter:this.eventEmitter}),this.add(d,{column:1,row:2,align:B,padding:{left:D},expand:N})}this.addChildrenMap("background",y),this.addChildrenMap("panel",S),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",o),this.addChildrenMap("topButtons",l),this.addChildrenMap("bottomButtons",f),this.addChildrenMap("leftButtonsSizer",s),this.addChildrenMap("rightButtonsSizer",c),this.addChildrenMap("topButtonsSizer",h),this.addChildrenMap("bottomButtonsSizer",d)}};r(jx,"Tabs");let Ko=jx;Object.assign(Ko.prototype,jk);rt.register("tabs",function(e){var t=new Ko(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Tabs",Ko);rt.register("slider",function(e){var t=new $s(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Slider",$s);const qx=class qx{constructor(t,i){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,i){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,i),this}setCellContainerAlign(t){return typeof t=="string"&&(t=gh[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var i=this.parent;this._deltaHeight===0&&t!==0?i.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&i.nonZeroDeltaHeightCount--;var a=this._deltaHeight!==t;if(this._deltaHeight=t,a){i.resetTotalRowsHeight();var y=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(y,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}};r(qx,"Cell");let Nf=qx;Object.assign(Nf.prototype,gd);const G1=Phaser.Utils.Objects.GetValue,qk=Phaser.Utils.Array.SpliceOne,_x=class _x{constructor(t,i){this.parent=t,this.cells=[],this.cellPool=new li,this.resetFromJSON(i)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var i=t.cellHeight;i===void 0&&(i=60);var a=t.cellWidth;return a===void 0&&(a=60),this.setDefaultCellHeight(i),this.setDefaultCellWidth(a),this.initCells(G1(t,"cellsCount",0)),this.setColumnCount(G1(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var i=this.cells;i.length=t;for(var a=0;a<t;a++)i[a]=null;return this}insertNewCells(t,i){var a=this.cells;if(t===a.length){var y=t+i;a.legth=y;for(var S=t;S<y;S++)a[S]=null}else{var n=[];n.length=i;for(var S=0;S<i;S++)n[S]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCells(t,i){for(var a=t+i,y=t;y<a;y++)this.freeCell(y);return a===this.cells.length?this.cells.length=t:(i===1?qk(this.cells,t):this.cells.splice(t,i),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var i=this.parent;if(i.expandCellSize){var a=i.scrollMode===0?i.width:i.height,y=a/t;this.setDefaultCellWidth(y)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,i){if(i===void 0&&(i=0),t===0)return 0;if(this.defaultCellHeightMode){var C=t/this.defaultCellHeight;switch(i){case 1:C=Math.ceil(C);break;default:C=Math.floor(C);break}return C}for(var a=this.rowCount,y=t,S,n,C=0;;)if(n=this.getRowHeight(C),y-=n,S=C>=0&&C<a,y>0&&S)C+=1;else{if(y===0)return i===2&&(C+=1),C;if(i===1){var s=C;C+=1,S=C>=0&&C<a,S||(C=s)}return C}}widthToColIndex(t,i){if(t===0)return 0;var a=t/this.defaultCellWidth;return i?a=Math.ceil(a):a=Math.floor(a),a}colRowToCellIndex(t,i){return t>=this.colCount?null:i*this.colCount+t}rowIndexToHeight(t,i){if(this.defaultCellHeightMode)return(i-t+1)*this.defaultCellHeight;for(var a,y=0,S=t;S<=i;S++)a=this.getRowHeight(S),y+=a;return y}colIndexToWidth(t,i){return(i-t+1)*this.defaultCellWidth}getRowHeight(t){var i=this.colCount;if(i<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var a=0,y,S=0;S<i;S++)y=this.getCellHeight(this.colRowToCellIndex(S,t)),a<y&&(a=y);return a}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var i;if(this.defaultCellHeightMode)i=this.defaultCellHeight;else{var a=this.getCell(t,!1),y=a?a.deltaHeight:0;i=this.defaultCellHeight+y}return i}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,i){if(!this.isValidCellIdx(t))return null;if(i===void 0&&(i=!0),this.cells[t]===null&&i){var a=this.newCell(t);this.cells[t]=a}return this.cells[t]}newCell(t){var i=this.cellPool.pop();return i===null?i=new Nf(this):i.setParent(this),i.index=t,i}buildCellIndex(t){t===void 0&&(t=0);for(var i=this.cells,a,y=t,S=i.length;y<S;y++)a=i[y],a&&(a.index=y);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}};r(_x,"Table");let Rp=_x;var _k=r(function(e){var t=this.table,i=this.topTableOY,a=this.bottomTableOY,y=e>i,S=e<a;if(this.clampTableOXY){var n=t.rowCount,C=t.heightToRowIndex(this.instHeight,1);n<C?e=0:y?e=i:S&&(e=a)}return this._tableOY!==e&&(this._tableOY=e),y&&(this.execeedTopState||this.emit("execeedtop",this,e,i)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,e,a)),this.execeedBottomState=S,this},"SetTableOY"),tX=r(function(e){var t=this.table,i=this.leftTableOX,a=this.rightTableOX,y=e>this.leftTableOX,S=e<this.rightTableOX;if(this.clampTableOXY){var n=t.colCount,C=t.widthToColIndex(this.instWidth,!0);n<C?e=0:y?e=i:S&&(e=a)}return this._tableOX!==e&&(this._tableOX=e),y&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=y,S&&(this.execeedRightState||this.emit("execeedright",this,e,a)),this.execeedRightState=S,this},"SetTableOX"),n0=r(function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask},"MaskToGameObject");const eX=Phaser.Geom.Intersects.RectangleToRectangle,iX=Phaser.Geom.Rectangle.Overlaps;var sX=r(function({parent:e,mask:t,children:i,onVisible:a,onInvisible:y,scope:S}){if(t){i===void 0&&(i=e.getAllChildren());for(var n=!!a||!!y,C=e.getBounds(),s=n0(t),o,T,c,l,u=0,h=i.length;u<h;u++)if(o=i[u],o!==s&&rX(o)){if(l=o.visible,o.getBounds)switch(T=o.getBounds(T),c=nX(C,T),c){case 4:aX(e,o);break;case 0:eX(C,T)||iX(C,T)?cv(e,o,t):hX(e,o);break;default:cv(e,o,t);break}else cv(e,o,t);if(n&&o.visible!==l){var f=o.visible?a:y;f&&(S?f.call(S,o,e):f(o,e))}}}},"MaskChildren"),rX=r(function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var i=t.parent;if(i){e=i;continue}else return!0}else return!1;else return e.visible}},"IsVisible"),nX=r(function(e,t){var i=t.top,a=t.bottom,y=t.left,S=t.right,n=0;return n+=e.contains(y,i)?1:0,n+=e.contains(y,a)?1:0,n+=e.contains(S,i)?1:0,n+=e.contains(S,a)?1:0,n},"ContainsPoints"),aX=r(function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},"ShowAll"),cv=r(function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(i),e.setChildMaskVisible(t,!0))},"ShowSome"),hX=r(function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))},"ShowNone");const En=Phaser.Utils.Objects.GetValue,oX={update:0,everyTick:1},$R={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(En(e,"updateMode",0)),this.enableChildrenMask(En(e,"padding",0)),this.setMaskLayer(En(e,"layer",void 0)),this.onMaskGameObjectVisible=En(e,"onVisible"),this.onMaskGameObjectInvisible=En(e,"onInvisible"),this.maskGameObjectCallbackScope=En(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=oX[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=Li.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):sX({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=n0(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var lX=r(function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;i||this.setScale(1);var a=this.table,y=this.tableOYOffset,S=this.tableOY+y,n=this.tableOX;this.startRowIndex=Math.max(a.heightToRowIndex(-S,2),0);for(var C=this.startRowIndex,s=Math.max(a.widthToColIndex(-n),0),o=s,T=a.colRowToCellIndex(o,C),c=this.bottomBound,l=this.rightBound,u=a.cellsCount-1,h=a.colCount-1,f=this.getCellTLX(o),v=f,d=this.getCellTLY(C)+y,p=d;p<c&&T<=u;){if(this.table.isValidCellIdx(T)){var g=a.getCell(T,!0);this.visibleCells.set(g),this.preVisibleCells.contains(g)||this.showCell(g);var m,x;if(this.scrollMode===0?(m=v,x=p):(m=p,x=v),g.cellContainerAlign==null)g.setXY(m,x);else{var E=g.getContainer();gl(E,m,x,g.width,g.height,g.cellContainerAlign),g.setXY(E.x,E.y)}}v<l&&o<h?(v+=a.getColWidth(o),o+=1):(v=f,p+=a.getRowHeight(C),o=s,C+=1),T=a.colRowToCellIndex(o,C)}i||this.setScale(e,t)}},"ShowCells"),KR=r(function(e){var t=null,i=e.getContainer();if(i?(t=i,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var i=e.getContainer();i?t===null?this.cellContainersPool.add(i):t!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},"ShowCell"),uX=r(function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,i=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return i},"GetCellTLX"),fX=r(function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,i=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return i},"GetCellTLY"),dX=r(function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(i){t.contains(i)||this.hideCell(i)},this)},"HideCells"),ZR=r(function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},"HideCell"),cX=r(function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(U1.call(this),this.hideCells()),U1.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},"UpdateTable"),U1=r(function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},"ClearVisibleCellIndexes"),vX=r(function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},"IsCellVisible"),JR=r(function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var i=this.tableOY-(this.scrollMode===0?t:e),a=this.tableOX-(this.scrollMode===0?e:t),y=this.table,S=y.heightToRowIndex(-i,0),n=y.widthToColIndex(-a),C=y.colRowToCellIndex(n,S);return C===null||!this.isCellVisible(C)?null:C},"PointToCellIndex"),pX=r(function(e,t){var i=JR.call(this,e,t);if(i!==null)return this.getCellContainer(i)},"PointToCellContainer"),gX=r(function(e,t){return this.visibleCells.each(e,t),this},"EachVisibleCell"),mX=r(function(e,t){return this.visibleCells.iterate(e,t),this},"IterateVisibleCell"),xX=r(function(e,t){return this.table.cells.slice().forEach(e,t),this},"EachCell"),TX=r(function(e,t){return this.table.cells.forEach(e,t),this},"IterateCell"),yX=r(function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)},"SetCellsCount");const CX=Phaser.Math.Clamp;var EX=r(function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=CX(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},"InsertNewCells"),SX=r(function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var i,a=e,y=e+t;a<y;a++)i=this.getCell(a,!1),i&&(this.visibleCells.contains(i)&&(ZR.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(e,t),this},"RemoveCells"),AX=r(function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},"SetColumnCount"),PX=r(function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},"SetGridSize"),RX=r(function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(KR.call(this,t),this)},"UpdateVisibleCell"),QR={setTableOY:_k,setTableOX:tX,showCells:lX,showCell:KR,getCellTLX:uX,getCellTLY:fX,hideCells:dX,hideCell:ZR,updateTable:cX,isCellVisible:vX,pointToCellIndex:JR,pointToCellContainer:pX,eachVisibleCell:gX,iterateVisibleCell:mX,eachCell:xX,iterateCell:TX,setCellsCount:yX,insertNewCells:EX,removeCells:SX,setColumnCount:AX,setGridSize:PX,updateVisibleCell:RX};Object.assign(QR,$R);const OX=Phaser.GameObjects.Group,H1=Phaser.Structs.Set,ni=Phaser.Utils.Objects.GetValue;var Ra;let jR=(Ra=class extends Fe{constructor(t,i,a,y,S,n){n===void 0&&(n={}),super(t,i,a,y,S),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new H1,this.preVisibleCells=new H1,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var C=ni(n,"reuseCellContainer",!1);C&&(this.cellContainersPool=new OX(t));var s=ni(n,"cellVisibleCallback",null);if(s!==null){var o=ni(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",s,o)}if(s=ni(n,"cellInvisibleCallback",null),s!==null){var o=ni(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",s,o)}ni(n,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(ni(n,"mask",void 0)),this.setScrollMode(ni(n,"scrollMode",0)),this.setClampMode(ni(n,"clampTableOXY",!0)),this.setStartFromBottomEnable(ni(n,"startFromBottom",!1));var T,c,l,u=this.scrollMode===0;if(u?(T=n.cellWidth,c=n.cellHeight,l=n.columns):(T=n.cellHeight,c=n.cellWidth,l=ni(n,"rows",n.columns)),this.fixedCellSize=ni(n,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&T===void 0,l||(l=1),this.fixedCellSize)l=Math.max(Math.floor(this.instWidth/T),1);else if(this.expandCellSize){var y=u?this.width:this.height;T=y/l}n.cellWidth=T,n.cellHeight=c,n.columns=l,this.table=new Rp(this,n),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=LX[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}setStartFromBottomEnable(t){return t===void 0&&(t=!0),this.startFromBottomEnable=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,i){return this.setTableOY(i).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,i){return this.addTableOY(i).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var i=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-i).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var i=this.table.getCell(t,!1),a;return i&&(a=i.getContainer()),a}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,i){var a;return typeof t=="number"?a=this.table.getCell(t,!0):a=t,a.height=i,this}setCellWidth(t,i){var a;return typeof t=="number"?a=this.table.getCell(t,!0):a=t,a.width=i,this}resetAllCellsSize(t,i){if(this.scrollMode===1){var a=t;t=i,i=a}this.table.setDefaultCellHeight(i).setDefaultCellWidth(t);for(var y=this.table.cells,S=0,n=y.length;S<n;S++){var C=y[S];C&&(C.deltaHeight=0)}if(this.fixedCellSize){var s=Math.floor(this.instWidth/t);this.table.setColumnCount(s)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var t=this.tableHeight-this.instHeight;if(t<0)return-t}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,i){if(this.width===t&&this.height===i)return this;if(super.resize(t,i),this.fixedCellSize){var a=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(a)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}},r(Ra,"GridTable"),Ra);Object.assign(jR.prototype,QR);const LX={v:0,vertical:0,h:1,horizontal:1};var wX=r(function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:r(function(){return e.tableOY},"get"),set:r(function(t){e.tableOY=t},"set")}),Object.defineProperty(e,"childOX",{configurable:!0,get:r(function(){return e.tableOX},"get"),set:r(function(t){e.tableOX=t},"set")}),Object.defineProperty(e,"topChildOY",{get:r(function(){return e.topTableOY},"get")}),Object.defineProperty(e,"bottomChildOY",{get:r(function(){return e.bottomTableOY},"get")}),Object.defineProperty(e,"leftChildOX",{get:r(function(){return e.leftTableOX},"get")}),Object.defineProperty(e,"rightChildOX",{get:r(function(){return e.rightTableOX},"get")}),Object.defineProperty(e,"childVisibleHeight",{get:r(function(){return e.instHeight},"get")}),Object.defineProperty(e,"childHeight",{get:r(function(){return e.tableHeight},"get")}),Object.defineProperty(e,"childVisibleWidth",{get:r(function(){return e.instWidth},"get")}),Object.defineProperty(e,"childWidth",{get:r(function(){return e.tableWidth},"get")})},"InjectProperties$1"),MX=r(function(e){e.on("cellvisible",function(t,n,a){var y=this.createCellContainerCallback,S=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var n;S?n=y.call(S,t,n,a):n=y(t,n,a),n&&(t.cellContainerAlign==null&&n.setOrigin&&n.setOrigin(0),n.isRexSizer&&n.layout()),t.item=void 0,t.items=void 0,t.setContainer(n)},this)},"TableOnCellVisible"),Ki=r(function(e,t,i,a,y,S,n){var C;if(y===void 0)C=a;else{var s=S.camera,o=a+s.scrollX*(i.scrollFactorX-1),T=y+s.scrollY*(i.scrollFactorY-1);C=i.pointToCellIndex(o,T)}if(C!=null){var c=i.getCellContainer(C);c&&e.emit(t,c,C,S,n)}},"EmitCellEvent"),DX=r(function(e,t){e.on("pointerdown",function(i,a,y,S){Ki(this.eventEmitter,"cell.down",e,i.worldX,i.worldY,i,S)},this).on("pointerup",function(i,a,y,S){Ki(this.eventEmitter,"cell.up",e,i.worldX,i.worldY,i,S)},this)},"PointerUpDownCell"),FX=r(function(e,t){e.on("pointermove",Y1,this).on("pointerover",Y1,this).on("pointerout",bX,this)},"OverCell"),Y1=r(function(e,t,i,a){var y=this.childrenMap.child,S=e.camera,n=e.worldX+S.scrollX*(y.scrollFactorX-1),C=e.worldY+S.scrollY*(y.scrollFactorY-1),s=y.pointToCellIndex(n,C);if(s!==y.input.lastOverCellIndex){var o=y.input.lastOverCellIndex;y.input.lastOverCellIndex=s,Ki(this.eventEmitter,"cell.out",y,o,void 0,e,a),Ki(this.eventEmitter,"cell.over",y,s,void 0,e,a)}},"OnMove"),bX=r(function(e,t){var i=this.childrenMap.child,a=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,Ki(this.eventEmitter,"cell.out",i,a,void 0,e,t)},"OnOut");const NX=Phaser.Utils.Objects.GetValue;var BX=r(function(e,t){var i=NX(t,"click",void 0);i!==!1&&(i===void 0&&(i={}),i.threshold=10,e._click=new vs(e,i),e._click.on("click",function(a,y,S,n){Ki(this.eventEmitter,"cell.click",y,S.worldX,S.worldY,S,n)},this))},"ClickCell");const GX=Phaser.Utils.Objects.GetValue;var UX=r(function(e,t){var i=GX(t,"tap",void 0);i!==!1&&(e._tap=new za(e,i),e._tap.on("tap",function(a,y,S){var n=`cell.${a.tapsCount}tap`;Ki(this.eventEmitter,n,a.gameObject,a.worldX,a.worldY,S)},this))},"TapCell");const HX=Phaser.Utils.Objects.GetValue;var YX=r(function(e,t){var i=HX(t,"press",void 0);i!==!1&&(e._press=new Ia(e,i),e._press.on("pressstart",function(a,y,S){Ki(this.eventEmitter,"cell.pressstart",e,a.worldX,a.worldY,S)},this).on("pressend",function(a,y,S){Ki(this.eventEmitter,"cell.pressend",e,a.worldX,a.worldY,S)},this))},"PressCell");const VX=Phaser.Utils.Objects.GetValue;var WX=r(function(e,t){var i=VX(t,"swipe",void 0);i!==!1&&(i===void 0&&(i={}),i.dir="4dir",e._swipe=new Nr(e,i),e._swipe.on("swipe",function(a,y,S){var n=a.left?"left":a.right?"right":a.up?"up":"down";Ki(this.eventEmitter,`cell.swipe${n}`,e,a.worldX,a.worldY,S)},this))},"SwipeCell"),kX=r(function(e,t){e.setInteractive(),DX.call(this,e,t),FX.call(this,e,t),BX.call(this,e,t),UX.call(this,e,t),YX.call(this,e,t),WX.call(this,e,t)},"TableSetInteractive"),XX=r(function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setCellsCount(this.items.length),t&&(i.updateTable(!0),this.resizeController()),this},"SetItems");const zX={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},xi=Phaser.Utils.Objects.GetValue,tT=class tT extends El{constructor(t,i){i===void 0&&(i={});var a=e0(i),y=xi(i,"table",void 0);y===void 0&&(y={}),y.scrollMode=a===2?0:a,y.clampTableOXY=xi(i,"clampChildOY",!1);var S=xi(y,"width",void 0),n=xi(y,"height",void 0),C=new jR(t,0,0,S,n,y);t.add.existing(C);var s,o;y.scrollMode===0?(s=S===void 0,o=n===void 0):(s=n===void 0,o=S===void 0),wX(C),C._minWidth=S===void 0?0:void 0,C._minHeight=n===void 0?0:void 0,i.type="rexGridTable",i.child={gameObject:C,expandWidth:s,expandHeight:o};var T=xi(i,"space",void 0);T&&(T.child=xi(T,"table",0)),super(t,i),this.addChildrenMap("table",C),this.addChildrenMap("tableLayer",C.maskLayer),this.eventEmitter=xi(i,"eventEmitter",this);var c=xi(i,"createCellContainerCallback",oe),l=xi(i,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(c,l),MX.call(this,C),this.resizeControllerFlag=!1;var u=a===0?"cellheightchange":"cellwidthchange";C.on(u,function(){this.resizeControllerFlag=!0},this),xi(y,"interactive",!0)&&kX.call(this,C,y),this.setItems(xi(i,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,i){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=i,this}refresh(){return this.setItems(this.items),this}getCell(t){var i=this.childrenMap.child;return i.getCell(t)}getCellContainer(t){var i=this.childrenMap.child;return i.getCellContainer(t)}updateVisibleCell(t){var i=this.childrenMap.child;return i.updateVisibleCell(t)}resetAllCellsSize(t,i){var a=this.childrenMap.child;return a.resetAllCellsSize(t,i),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}};r(tT,"GridTable");let Zo=tT;var IX={setItems:XX};Object.assign(Zo.prototype,zX,IX);rt.register("gridTable",function(e){var t=new Zo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.GridTable",Zo);var a0=r(function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},"GetEaseConfig"),$X=r(function(e,t){e.popUp(a0(e.root.easeIn,e))},"PopUp"),KX=r(function(e,t){e.scaleDown(a0(e.root.easeOut,e))},"ScaleDown$1");const ZX={setTransitInCallback(e){return e===void 0&&(e=$X),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=KX),this.transitOutCallback=e,this}};var JX=r(function(e,t,i,a,y){var S=ph(e),n=S.time.delayedCall(t,function(){S.sys.events.once("postupdate",function(){i.call(a,y)})});return n},"PostUpdateDelayCall");const QX={delayCall(e,t,i){return this.timer=JX(this,e,t,i),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var jX=r(function(e,t){var a=this.childrenMap.subMenu;if(a&&a.parentButton===e)return this;this.collapseSubMenu();var i;this.root.toggleOrientation?i=this.orientation===0?1:0:i=this.orientation;var a=new this.constructor(this.scene,{items:t,orientation:i,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(a),this.childrenMap.subMenu=a,this.root.emit("expand",a,e,this),this},"ExpandSubMenu"),qX=r(function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},"Collapse"),_X=r(function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},"CollapseSubMenu"),qR={expandSubMenu:jX,collapse:qX,collapseSubMenu:_X};Object.assign(qR,ZX,QX);var tz=r(function(e,t,i,a){var y;return i&&(t.scene=e,a?y=i.call(a,t):y=i(t),t.scene=void 0),y},"CreateBackground$1"),ez=r(function(e,t,i,a){var y,S=[],n;if(t&&i)for(var C=0,s=t.length;C<s;C++)y=t[C],y.scene=e,a?n=i.call(a,y,C,t):n=i(y,C,t),y.scene=void 0,S.push(n);return S},"CreateButtons$4"),iz=r(function(e){e.on(e.root.expandEventName,function(t,i){if(!this._isPassedEvent){var a=this.root.childrenKey,y=this.items[i][a];y&&this.expandSubMenu(t,y)}},e).on("button.click",function(t,i,a,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,i,a,y),this.root._isPassedEvent=!1)},e).on("button.over",function(t,i,a,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,i,a,y),this.root._isPassedEvent=!1)},e).on("button.out",function(t,i,a,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,i,a,y),this.root._isPassedEvent=!1)},e)},"MenuSetInteractive"),V1=r(function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Jr(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},"ParseEaseConfig"),sz=r(function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)},"Expand");const Me=Phaser.Utils.Objects.GetValue,eT=class eT extends ve{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var a=i._rootMenu,y=i._parentMenu,S=i._parentButton,n=Me(i,"popup",!0),C=Me(i,"items",void 0),s=Me(i,"createBackgroundCallback",void 0),o=Me(i,"createBackgroundCallbackScope",void 0);i.background=tz(t,C,s,o);var T=Me(i,"createButtonCallback",void 0),c=Me(i,"createButtonCallbackScope",void 0);if(i.buttons=ez(t,C,T,c),super(t,i),this.type="rexMenu",this.items=C,this.root=a===void 0?this:a,this.isRoot=this.root===this,this.parentMenu=y,this.parentButton=S,this.timer=void 0,this.isRoot){this.isPopUpMode=n;var l=i.bounds;l===void 0&&(l=vh(t)),this.bounds=l,this.subMenuSide=[this.y<l.centerY?Lp:Ju,this.x<l.centerX?Op:Zu];var u=Me(i,"subMenuSide",void 0);u!==void 0&&(typeof u=="string"&&(u=rz[u]),this.subMenuSide[this.orientation]=u),this.toggleOrientation=Me(i,"toggleOrientation",!1),this.expandEventName=Me(i,"expandEvent","button.click"),this.easeIn=V1(this,Me(i,"easeIn",0)),this.easeOut=V1(this,Me(i,"easeOut",0)),this.setTransitInCallback(Me(i,"transitIn")),this.setTransitOutCallback(Me(i,"transitOut")),this.createBackgroundCallback=s,this.createBackgroundCallbackScope=o,this.createButtonCallback=T,this.createButtonCallbackScope=c,this.childrenKey=Me(i,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=Me(i,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var h=0,f=0;if(!this.root.easeIn.sameOrientation){var v=a0(this.root.easeIn,this).orientation,d=y?y.orientation:this.orientation,u=this.root.subMenuSide[d];v===0&&u===Zu&&(h=1),v===1&&u===Ju&&(f=1)}if(n&&this.setOrigin(h,f).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var u=this.root.subMenuSide[y.orientation];switch(u){case Zu:this.alignTop(S.top).alignRight(S.left);break;case Op:this.alignTop(S.top).alignLeft(S.right);break;case Ju:this.alignLeft(S.left).alignBottom(S.top);break;case Lp:this.alignLeft(S.left).alignTop(S.bottom);break}}iz(this),n&&(this.pushIntoBounds(this.root.bounds),sz.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}};r(eT,"Menu");let Jo=eT;const Zu=2,Op=0,Ju=3,Lp=1,rz={up:Ju,down:Lp,left:Zu,right:Op};Object.assign(Jo.prototype,qR);rt.register("menu",function(e){var t=new Jo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Menu",Jo);var nz={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=az[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const az={down:0,up:1};var hz=r(function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,a=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(a=!0);break;case 1:e=0;break;default:e=0;break}if(!a)return e},"GetChildrenWidth"),oz=r(function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,a=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(a=!0);break;default:e=0;break}if(!a)return e},"GetChildrenHeight"),lz=r(function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},"GetChildrenSizers"),uz=r(function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},"ResetChildPosition"),fz=r(function(){var e=this.child,t,i;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:i=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,i):Ae(e,t,i),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},"LayoutChildren"),dz=r(function(e,t){t||e.clearMask&&e.clearMask(!1)},"RemoveChildCallback"),_R={getChildrenWidth:hz,getChildrenHeight:oz,getChildrenSizers:lz,resetChildPosition:uz,layoutChildren:fz,removeChildCallback:dz};Object.assign(_R,$R);const W1=Phaser.Utils.Objects.IsPlainObject,ai=Phaser.Utils.Objects.GetValue,cz=Phaser.Display.Align.TOP_LEFT,iT=class iT extends jr{constructor(t,i,a,y,S,n){W1(i)?(n=i,i=ai(n,"x",0),a=ai(n,"y",0),y=ai(n,"width",void 0),S=ai(n,"height",void 0)):W1(y)&&(n=y,y=ai(n,"width",void 0),S=ai(n,"height",void 0)),super(t,i,a,y,S,n),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(ai(n,"scrollMode",0));var C=ai(n,"clampChildOY",!0),s=ai(n,"clampChildOX",C);this.setClampMode(C,s);var o=ai(n,"child",void 0),T=ai(n,"expand",!0);o.setOrigin&&o.setOrigin(0),this.add(o),this.sizerChildren=[o];var c=this.getSizerConfig(o);c.align=cz,c.expand=T,this.child=o;var l=ai(n,"mask");this.setupChildrenMask(l),this.childrenMask&&(this.maskGameObject=n0(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=bR[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,i){return this.clampChildOY=t,this.clampChildOX=i,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?wt(this.child):Lt(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?Lt(this.child):wt(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var i=this.topChildOY,a=this.bottomChildOY,y=this.childOYExceedTop(t),S=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:y?t=i:S&&(t=a)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),y&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,a)),this.execeedBottomState=S}get childOX(){return this._childOX}set childOX(t){var i=this.leftChildOX,a=this.rightChildOX,y=this.childOXExceedLeft(t),S=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:y?t=i:S&&(t=a)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),y&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=y,S&&(this.execeedRightState||this.emit("execeedright",this,t,a)),this.execeedRightState=S}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}};r(iT,"ScrollableBlock");let Bf=iT;Object.assign(Bf.prototype,_R);var vz=r(function(e,t,i,a){if(!this.hasChild(e))return this;var y,S;switch(this.scrollMode){case 0:y=this.childOY+Ru.call(this,e,"y",t);break;case 1:y=this.childOY+Ru.call(this,e,"x",t);break;default:y=this.childOY+Ru.call(this,e,"y",t),S=this.childOX+Ru.call(this,e,"x",t);break}return i===void 0||i<=0?(this.childOY=y,this.scrollMode===2&&(this.childOX=S)):(this._easeScrollChildOY===void 0&&(this._easeScrollChildOY=new Je(this)),this._easeScrollChildOY.restart({key:"childOY",to:y,duration:i,ease:a}),this.scrollMode===2&&(this._easeScrollChildOX===void 0&&(this._easeScrollChildOX=new Je(this)),this._easeScrollChildOX.restart({key:"childOX",to:S,duration:i,ease:a}))),this},"ScrollToChild");const k1=["top","bottom","centerY","center"],X1=["left","right","centerX","center"];var Ru=r(function(e,t,i){t=t.toUpperCase();var a=t==="Y",y=this.childrenMap.child,S;if(a){if(i)for(var n=0,C=k1.length;n<C;n++){var s=k1[n];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"top":S=y.top-Pr(e).y;break;case"bottom":S=y.bottom-To(e).y;break;case"centerY":case"center":S=y.centerY-oC(e).y;break;default:var o=y.top-Pr(e).y,T=y.bottom-To(e).y;o<=0&&T>=0?S=0:S=Math.abs(o)<=Math.abs(T)?o:T;break}}else{if(i)for(var n=0,C=X1.length;n<C;n++){var s=X1[n];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"left":S=y.left-Pr(e).x;break;case"right":S=y.right-xo(e).x;break;case"centerX":case"center":S=y.centerX-oC(e).x;break;default:var c=y.left-Pr(e).x,l=y.right-xo(e).x;c<=0&&l>=0?S=0:S=Math.abs(c)<=Math.abs(l)?c:l;break}}return S},"AlignChild");const Os=Phaser.Utils.Objects.GetValue,sT=class sT extends El{constructor(t,i){i===void 0&&(i={});var a=e0(i),y=Os(i,"panel",void 0);y===void 0&&(y={}),y.scrollMode=a,y.clampChildOY=Os(i,"clampChildOY",!1),y.clampChildOX=Os(i,"clampChildOX",!1);var S=new Bf(t,y);t.add.existing(S);var n,C;switch(a){case 0:n=Os(i,"expand.panel",!0),C=!0;break;case 1:n=!0,C=Os(i,"expand.panel",!0);break;default:n=!0,C=!0}i.type="rexScrollablePanel",i.child={gameObject:S,expandWidth:n,expandHeight:C,align:Os(i,"align.panel","center")};var s=Os(i,"space",void 0);s&&(s.child=Os(s,"panel",0)),super(t,i),this.addChildrenMap("panel",S.child),this.addChildrenMap("panelLayer",S.maskLayer),this.addChildrenMap("mask",S.maskGameObject),this.addChildrenMap("scrollableBlock",S)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),wd(this.childrenMap.child,t),this}};r(sT,"ScrollablePanel");let zr=sT;var pz={scrollToChild:vz};Object.assign(zr.prototype,pz);const gz=Phaser.Utils.Objects.GetValue;var mz=r(function(){var e=this.scene,t,i=this.listCreateBackgroundCallback;i&&(t=i.call(this,e),e.add.existing(t));var c=[],a=this.listCreateButtonCallback;if(a)for(var y=this.options,S=0,n=y.length;S<n;S++){var C=a.call(this,e,y[S],S,y);C&&(e.add.existing(C),c.push(C))}var s=this.listWidth;s===void 0&&(this.listAlignMode==="text"?s=this.getElement("text").width:s=this.width);var o=this.listHeight,T={width:s,buttons:c,space:this.listSpace},c,l,u;if(this.listCreateSliderThumbCallback?u=o>0||this.listMaxHeight>0:u=!1,!u)T.height=o,c=z1(e,T,this.listWrapEnable),l=c;else{var c=z1(e,T,this.listWrapEnable);if(this.listMaxHeight>0&&(c.layout(),c.height<=this.listMaxHeight&&(l=c)),!l){o===0&&(o=this.listMaxHeight);var h=I1(e,this.listCreateSliderTrackCallback),f=I1(e,this.listCreateSliderThumbCallback);l=new zr(e,{height:o,scrollMode:0,panel:{child:c,mask:{padding:1}},slider:{track:h,thumb:f,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:gz(this.listSpace,"panel",0)}}),e.add.existing(l)}}return t&&l.addBackground(t,"background"),this.listDraggable&&l.setDraggable(!0),l!==c&&c.on("button.over",function(v,d,p,g){l.emit("button.over",v,d,p,g)}).on("button.out",function(v,d,p,g){l.emit("button.out",v,d,p,g)}).on("button.click",function(v,d,p,g){l.emit("button.click",v,d,p,g)}),l},"CreateListPanel"),z1=r(function(e,t,i){var a;return i?(t.orientation="x",a=new $i(e,t)):(t.orientation="y",a=new ve(e,t)),e.add.existing(a),a},"CreateButtons$3"),I1=r(function(e,t,i){var a;return t&&(a=t.call(i,e),e.add.existing(a)),a},"CreateGameObject"),xz=r(function(e,t,i,a,y){var S={};switch(S.mode=0,i){case 0:case"x":S.end={x:0};break;case 1:case"y":S.end={y:0};break;default:S.end=0;break}return S.duration=t,S.ease=a,y===void 0?y=new Fr(e,S):y.resetFromJSON(S),y.restart(),y},"ScaleDown"),Tz=r(function(e,t,i,a,y){return is(e,t)?Mt(e,t):is(e,i)?Mt(e,i):y},"GetValueFromAliasKeys");const Sn=Phaser.Utils.Objects.GetValue;var yz=r(function(e,t){var i=Sn(t,"expandDirection",void 0);typeof i=="string"&&(i=Cz[i]);var a=Tz(t,"alignTarget","alignTargetX"),y=Sn(t,"alignTargetY",a),S=Sn(t,"alignOffsetX",0),n=Sn(t,"alignOffsetY",0),C=Sn(t,"alignSide",""),s=C.includes("right"),o=Sn(t,"bounds"),T=i===0,c=i===1,l=!T&&!c,u=s?1:0,h=T||l?0:1;e.setOrigin(u,h);var f,v;s?f=a.getTopRight().x:f=a.getTopLeft().x,v=y.getBottomLeft().y,e.setPosition(f+S,v+n);var d=o;d||(d=vh(e.scene)),l&&e.getBottomLeft().y>d.bottom&&(v=y.getTopLeft().y,e.setOrigin(0,1).setPosition(f+S,v+n))},"SetPosition");const Cz={down:0,up:1},$1=Phaser.Utils.Objects.GetValue,rT=class rT extends Wa{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=function(S,n){Xg(S,n,"y","Cubic")}),i.transitOut==null&&(i.transitOut=function(S,n){xz(S,n,"y","Linear")}),i.manualClose=!0,i.clickOutsideClose=!0,i.destroy=!0,super(t,i),yz(t,i),t.isRexSizer&&t.layout();var a=$1(i,"touchOutsideClose",!1),y=$1(i,"anyTouchClose",!1);y&&(a=!1),y?this.once("open",this.anyTouchClose,this):a&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Od(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}};r(rT,"DropDown");let Gf=rT;var Ez=r(function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=mz.call(this);e.on("button.over",function(a,y,S,n){this.currentOverIndex=y,this.listOnButtonOver&&this.listOnButtonOver.call(this,a,y,S,n),this.emit("button.over",this,e,a,y,S,n)},this).on("button.out",function(a,y,S,n){this.currentOverIndex===y&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,a,y,S,n),this.emit("button.out",this,e,a,y,S,n)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var i=new Gf(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(a,y,S,n){this.listOnButtonClick&&this.listOnButtonClick.call(this,a,y,S,n),this.emit("button.click",this,e,a,y,S,n),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){i.requestClose()}),this.listPanel=e,this.dropDownBehavior=i,this.pin(e),this},"OpenListPanel"),Sz=r(function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},"CloseListPanel"),Az=r(function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},"ToggleListPanel"),Pz=r(function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,i=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,i,e),this.emit("button.click",this,t,i,e),this},"EmitListButtonClick"),Rz=r(function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this},"EmitButtonOver");const Oz={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e+1)%i}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e-1+i)%i}return this.emitButtonOver(t),this}};var tO={openListPanel:Ez,closeListPanel:Sz,toggleListPanel:Az,emitButtonClick:Pz,emitButtonOver:Rz};Object.assign(tO,nz,Oz);const Nt=Phaser.Utils.Objects.GetValue,nT=class nT extends wi{constructor(t,i){super(t,i),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(Nt(i,"options"));var a=Nt(i,"list");this.setWrapEnable(Nt(a,"wrap",!1)),this.setCreateButtonCallback(Nt(a,"createButtonCallback")),this.setCreateListBackgroundCallback(Nt(a,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(Nt(a,"createTrackCallback")),this.setCreateListSliderThumbCallback(Nt(a,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(Nt(a,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(Nt(a,"scroller")),this.setListMouseWheelScrollerConfig(Nt(a,"mouseWheelScroller")),this.setButtonClickCallback(Nt(a,"onButtonClick")),this.setButtonOverCallback(Nt(a,"onButtonOver")),this.setButtonOutCallback(Nt(a,"onButtonOut")),this.setListExpandDirection(Nt(a,"expandDirection")),this.setListEaseInDuration(Nt(a,"easeIn",500)),this.setListEaseOutDuration(Nt(a,"easeOut",100)),this.setListTransitInCallback(Nt(a,"transitIn")),this.settListTransitOutCallback(Nt(a,"transitOut")),this.setListMaxHeight(Nt(a,"maxHeight",0)),this.setListSize(Nt(a,"width"),Nt(a,"height",0)),this.setListAlignmentMode(Nt(a,"alignParent","text")),this.setListAlignmentSide(Nt(a,"alignSide","")),this.setListBounds(Nt(a,"bounds")),this.setListSpace(Nt(a,"space")),this.setListDraggable(Nt(a,"draggable",!1)),this.setValueChangeCallback(Nt(i,"setValueCallback"),Nt(i,"setValueCallbackScope")),this.setValue(Nt(i,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,i){return this.valueChangeCallback=t,this.valueChangeCallbackScope=i,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t;var a=this.valueChangeCallback,y=this.valueChangeCallbackScope;a&&(y?a.call(y,this,t,i):a(this,t,i)),this.emit("valuechange",this,t,i)}}};r(nT,"DropDownList");let Ir=nT;Object.assign(Ir.prototype,tO);rt.register("dropDownList",function(e){var t=new Ir(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.DropDownList",Ir);var eO=r(function(e,t,i){t=t?ge(t):{},i===void 0&&(i={});var a=t.label||t.button,y=t.button||t.label;delete t.label,delete t.button;var S=i.label||i.button||i,n=i.button||i.label||i,C=bd(e,a,S);C.list=t.list||{},C.list.createButtonCallback=function(T,c){var l=pe(T,y,n).resetDisplayContent(c);return c.hasOwnProperty("value")&&(l.value=c.value),l};var s=t.track;s&&(C.list.createTrackCallback=function(T){return le(T,s)},delete t.track);var o=t.thumb;return o&&(C.list.createThumbCallback=function(T){return le(T,o)},delete t.thumb),C.list.onButtonOver=function(T,c,l,u){T.setHoverState&&T.setHoverState(!0)},C.list.onButtonOut=function(T,c,l,u){T.setHoverState&&T.setHoverState(!1)},C},"BuildListConfig");const aT=class aT extends Ir{constructor(t,i,a){i=eO(t,i,a),super(t,i),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var i=0,a=t.length;i<a;i++){var y=t[i];typeof y=="string"&&(t[i]={text:y,value:y})}return super.setOptions(t),this}};r(aT,"SimpleDropDownList");let Uf=aT;rt.register("simpleDropDownList",function(e,t){var i=new Uf(this.scene,e,t);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.SimpleDropDownList",Uf);var Lz=r(function(e){var t=js(e),i,a,y;switch(t){case Pe:case Re:i=e.height-e.padding.top-e.padding.bottom,a=e.lineSpacing,y=e.style.metrics.fontSize+e.style.strokeThickness;break;case Ze:i=e.height,a=0;var S=e.fontSize/e.fontData.size;y=e.fontData.lineHeight*S;break}return(i-a)/(y+a)},"TextHeightToLinesCount"),wz=r(function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var i=this.pageLinesCount;i>0?t=e+i:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var a;switch(this.textObjectType){case Pe:case Ze:a=this.lines.slice(e,t).join(`
`);break;case Re:var y=this.lines.getLineStartIndex(e),S=this.lines.getLineEndIndex(t-1);a=this.lines.getSliceTagText(y,S,!0);var n=(a.match(/\n/g)||[]).length;n>t-e-1&&(a=a.substring(0,a.length-1));break}return a},"GetLines");const Mz={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(i){var t=this.totalLinesCount;this.sections.push(Hn(i));var i=this.sections.join(`
`);this.lines=i0(this.parent,i,this.lines);var a=this.totalLinesCount-t,y=this.pageLinesCount,S;y>0?S=Math.ceil(a/this.pageLinesCount):S=1;for(var n=0;n<S;n++)this.pageStartIndexes.push(t+n*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var i=Hn(e).split(this.pageBreak),a=0,y=i.length;a<y;a++)this.appendPage(i[a]);return this},appendText(e){var t=this.content+Hn(e);return this.setText(t,!1),this}},K1=Phaser.Math.Clamp,Dz={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=K1(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=K1(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},Fz={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){Fd(this.parent,e)}};var iO={getLines:wz};Object.assign(iO,Mz,Dz,Fz);const An=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;const hT=class hT extends Yt{constructor(t,i){super(t,{eventEmitter:!1}),this.textObjectType=js(this.parent),this.pageStartIndexes=[],this.lines=i0(this.parent,""),this.sections=[],this.resetFromJSON(i)}resetFromJSON(t){this.setMaxLines(An(t,"maxLines",void 0)),this.setPageBreak(An(t,"pageBreak",`\f
`)),this.setText(An(t,"text","")),this.startLineIndex=An(t,"start",-1),this.endLineIndex=An(t,"end",void 0);var i=An(t,"page");return i===void 0?this.resetIndex():this.setPageIndex(i),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Pe:this.lines.length=0;break;case Re:this.lines.destroy();break;case Ze:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Pe:case Re:var i=this.parent.style.maxLines;i>0?t=i:t=Math.floor(Lz(this.parent));break;case Ze:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}};r(hT,"TextPage");let rh=hT;Object.assign(rh.prototype,iO);const bz={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?Fd(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(Hn(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}};var Nz=r(function(e,t,i,a){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),i===void 0&&(i=0),this.typingIndex=i+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(a)),this},"StartTyping"),sO=r(function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},"GetPlainText"),Bz=r(function(e,t,i,a,y){var S;if(t>0){a===void 0&&(a=0);var n=sO(this.parent,e);S=Gz(n,t)+a}return this.start(e,i,S,y)},"StartTypingFromLine"),Gz=r(function(e,t){for(var i=void 0,a=0;a<t&&(i=e.indexOf(`
`,i+1),i!==-1);a++);return i},"GetNewLineIndex"),Ih=r(function(e,t,i,a){var y;return e.getSubString?y=e.getSubString(t,i,a):y=t.slice(i,a),y},"GetSubString"),rO=r(function(e,t,i,a){var y=this.parent,S;if(a===0){var n=0,C=t;this.insertIndex=C,S=Ih(y,e,n,C)}else if(a===1){var C=i,n=C-t;this.insertIndex=0,S=Ih(y,e,n,C)}else if(a===2){var s=i/2,n=Math.floor(s-t/2),C=n+t;this.insertIndex=t%2?t:0,S=Ih(y,e,n,C)}else if(a===3){var o=Math.floor(t/2),T;if(o>0){var C=i,n=C-o;T=Ih(y,e,n,C)}else T="";var c=t-o,l;if(c>0){var n=0,C=n+c;this.insertIndex=C,l=Ih(y,e,n,C)}else l="",this.insertIndex=0;S=l+T}return this.insertChar=S.charAt(this.insertIndex-1),S},"GetTypingString"),Uz=r(function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)rO.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},"StopTyping"),Hz=r(function(){var e=this.getTimer();return e&&(e.paused=!0),this},"PauseTyping"),Yz=r(function(){var e=this.getTimer();return e&&(e.paused=!1),this},"ResumeTyping"),nO={start:Nz,startFromLine:Bz,stop:Uz,pause:Hz,resumeTyping:Yz};Object.assign(nO,bz);var Vz=r(function(e,t){var i=js(e);switch(i){case Pe:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case Re:t=e.getText(t,void 0,void 0,!0);break;case Ze:t=e.setText(t).getTextBounds().wrappedText;break}return t},"GetWrapText");const $h=Phaser.Utils.Objects.GetFastValue,vv=Phaser.Utils.Objects.GetValue,oT=class oT extends Yt{constructor(t,i){super(t,i),this.timer=null,this.resetFromJSON(i)}resetFromJSON(t){this.setTextWrapEnable(vv(t,"wrap",!1)),this.setTypeMode(vv(t,"typeMode",0)),this.setTypingSpeed(vv(t,"speed",333)),this.setTextCallback=$h(t,"setTextCallback",null),this.setTextCallbackScope=$h(t,"setTextCallbackScope",null),this.setTypingContent($h(t,"text","")),this.typingIndex=$h(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var i=$h(t,"elapsed",null);return i!==null&&this.start(void 0,void 0,this.typingIndex,i),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=Wz[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var i=Hn(t);this.textWrapEnable&&(i=Vz(this.parent,i)),this._text=i}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=sO(this.parent,this.text).length,this}onTyping(){var t=rO.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var i;return t===void 0?i=0:(this.speed,i=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:i,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?Fd(this.parent,t):this.parent.setText(t)}};r(oT,"TextTyping");let nh=oT;const Wz={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(nh.prototype,nO);const Kh=Phaser.Utils.Objects.GetValue;var kz=r(function(e,t){t===void 0&&(t="rexTextBox");const a=class a extends e{constructor(S,n){super(S,n),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var C=this.childrenMap.text,s=Kh(n,"expandTextWidth",!1),o=Kh(n,"expandTextHeight",!1);if(s||o){var T=js(C);switch(T){case Pe:case Re:if(C.resize=function(l,u){var h=s?l:0,f=o?u:0;C.setFixedSize(h,f),h>0&&C.setWordWrapWidth(h)},T===Re){var c=C.style;c.wrapMode===0&&(c.wrapMode=1)}break}s&&(C._minWidth=0),o&&(C._minHeight=0)}this.setTypingMode(Kh(n,"typingMode","page")),this.page=new rh(C,Kh(n,"page",void 0)),this.typing=new nh(C,Kh(n,"typing",n.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=C.width,this.textHeightSave=C.height}setTypingMode(S){return typeof S=="string"&&(S=Xz[S]),this.typingMode=S,this}start(S,n){return n!==void 0&&this.setTypingSpeed(n),this.isRunning=!0,this.page.setText(S),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(S,n){if(n!==void 0&&this.setTypingSpeed(n),this.isRunning)this.page.appendText(S),this.typing.appendText(S);else{if(this.isRunning=!0,this.page.appendText(S),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var C=this.page.getPage(),s=this.typing.textLength;this.typing.start(C,void 0,s)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var S=this.page.getNextPage();this.typing.start(S)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var S=this.page.getPageOfNextLine(),n;this.isFirstLine?n=0:n=this.page.pageLinesCount-1,this.typing.startFromLine(S,n)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(S){return this.isRunning?(this.typing.stop(S),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(S){return this.typing.setTypingSpeed(S),this}setTypingSpeed(S){return this.typing.setTypingSpeed(S),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var S=this.childrenMap.text;(this.textWidthSave!==S.width||this.textHeightSave!==S.height)&&(this.textWidthSave=S.width,this.textHeightSave=S.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(S){this.emit("typechar",S)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var S=this.isLastPage;this.isRunning=!S,this.emit("pageend"),S&&this.emit("complete")}else this.typeNextLine()}};r(a,"TextBox");let i=a;return i},"TextBoxBase");const Xz={page:0,line:1},lT=class lT extends kz(_a){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("layoutMode")||(i.layoutMode=1),super(t,i)}};r(lT,"TextBox");let Qo=lT;rt.register("textBox",function(e){var t=new Qo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TextBox",Qo);const uT=class uT extends Qo{constructor(t,i,a){i=VR(t,i,a),super(t,i)}};r(uT,"SimpleTextBox");let Hf=uT;rt.register("simpleTextBox",function(e){var t=new Hf(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.SimpleTextBox",Hf);const Ke=Phaser.Utils.Objects.GetValue,fT=class fT extends Tt{constructor(t,i){super(t,i),this.type="rexNumberBar";var a=Ke(i,"background",void 0),y=Ke(i,"icon",void 0),S=Ke(i,"iconMask",void 0),n=Ke(i,"slider",void 0),C=Ke(i,"text",void 0),s=Ke(i,"space.icon",0),o=Ke(i,"space.slider",0);if(a&&this.addBackground(a),y){var T;this.orientation===0?(n||C)&&(T={right:s}):(n||C)&&(T={bottom:s}),this.add(y,{proportion:0,align:"center",padding:T}),S&&(S=Li.call(this,y,y,1))}var c;if(n){n.orientation=this.orientation,n.eventEmitter=this,n.value=null,n.hasOwnProperty("input")||(n.input=-1),c=new $s(t,n),t.add.existing(c);var T;this.orientation===0?C&&(T={right:o}):C&&(T={bottom:o});var l;if(this.orientation===0){var u=Ke(n,"width",void 0);l=u===void 0?1:0}else{var h=Ke(n,"height",void 0);l=h===void 0?1:0}this.add(c,{proportion:l,align:"center",padding:T})}C&&this.add(C),this.addChildrenMap("background",a),this.addChildrenMap("icon",y),this.addChildrenMap("iconMask",S),this.addChildrenMap("slider",c),this.addChildrenMap("text",C);var f=Ke(i,"valuechangeCallback",null);if(f!==null){var v=Ke(i,"valuechangeCallbackScope",void 0);this.on("valuechange",f,v)}this.setEnable(Ke(i,"enable",void 0)),this.setValue(Ke(i,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,a){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,a),this}addValue(t,i,a){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,a),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,a){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,a),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var i;return t.text?i=t.text:i=t.getData("text"),i}set text(t){var i=this.childrenMap.text;i!==void 0&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}};r(fT,"NumberBar");let Yf=fT;rt.register("numberBar",function(e){var t=new Yf(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.NumberBar",Yf);rt.register("scrollBar",function(e){var t=new ko(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ScrollBar",ko);const pv=Phaser.Utils.Objects.GetValue,Z1={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"},dT=class dT extends Ve{constructor(t,i){super(t,i),this.type="rexBadge";var a=pv(i,"background",void 0);a&&this.addBackground(a),this.addChildrenMap("background",a);var y=pv(i,"main",void 0);y&&this.add(y,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",y);for(var S in Z1){var n=pv(i,S,void 0);n&&(this.add(n,{key:S,align:Z1[S],expand:!1}),this.addChildrenMap(S,n))}}};r(dT,"Badge");let Vf=dT;rt.register("badgeLabel",function(e){var t=new Vf(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.BadgeLabel",Vf);const zz=Ve.prototype.add;var J1=r(function(e,t,i,a,y,S,n,C,s){return e.setVisible(!1),zz.call(this,e,t,i,a,y,S,n,C,s),this},"Add");const Iz={add:J1,addPage:J1};var $z=r(function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null},"GetPage$1");const Q1=Fe.prototype.setChildVisible;var Kz=r(function(e,t){this._previousKey=this._currentKey;var i=this.previousPage;i&&(this.swapMode===0?(Q1.call(this,i,!1),this.emit("pageinvisible",i,this._previousKey,this)):i.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var a=this.currentPage;return a&&(Q1.call(this,a,!0),this.emit("pagevisible",a,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&a.setAlpha(0).fadeIn(t,1)),this},"SwapPage$1"),Zz=r(function(e){return this.sizerChildren.hasOwnProperty(e)},"HasPage"),aO={getPage:$z,swapPage:Kz,hasPage:Zz};Object.assign(aO,Iz);const j1=Phaser.Utils.Objects.GetValue,cT=class cT extends Ve{constructor(t,i){super(t,i),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(j1(i,"swapMode",0)),this.setFadeInDuration(j1(i,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=Jz[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}};r(cT,"Pages");let ah=cT;Object.assign(ah.prototype,aO);const Jz={invisible:0,destroy:1};rt.register("pages",function(e){var t=new ah(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Pages",ah);const Qz=Phaser.GameObjects.Mesh,vT=class vT extends Qz{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}};r(vT,"MeshBase");let Wf=vT;const hO=Phaser.Math.Vector3,jz=Phaser.Math.Matrix4;var q1=new hO,_1=new hO,tS=new jz,qz=r(function(e,t,i,a,y,S,n){t===void 0&&(t=0),i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=0),S===void 0&&(S=0),n===void 0&&(n=0),q1.set(t,i,a),_1.set(y,S,n),tS.fromRotationXYTranslation(_1,q1,!0);for(var C=0,s=e.vertices.length;C<s;C++)e.vertices[C].transformMat4(tS)},"TransformVerts");const _z=Phaser.Utils.Objects.IsPlainObject,pr=Phaser.Utils.Objects.GetValue,tI=Phaser.Geom.Mesh.GenerateGridVerts,gv=Phaser.Math.RadToDeg,Qu=Phaser.Math.DegToRad,oO=45,eI=1+1/Math.sin(Qu(oO));var Oa;let lO=(Oa=class extends Wf{constructor(t,i,a,y,S,n){_z(i)&&(n=i,i=pr(n,"x",0),a=pr(n,"y",0),y=pr(n,"key",null),S=pr(n,"frame",null)),super(t,i,a,y,S),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(eI),this.hideCCW=pr(n,"hideCCW",!0);var C=pr(n,"gridWidth",0),s=pr(n,"gridHeight",C);this.resetVerts(C,s),this.prevFrame=this.frame}preUpdate(t,i){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,i)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,oO),this}resetVerts(S,n){if(S!==void 0&&(this.gridWidth=S),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var a=this.frame.cutWidth,y=this.frame.cutHeight,S,n;this.gridWidth===0?S=Math.max(a/8,32):n=this.gridWidth,this.gridHeight===0?n=Math.max(y/8,32):n=this.gridHeight,tI({mesh:this,width:a/this.height,height:y/this.height,widthSegments:Math.ceil(a/S),heightSegments:Math.ceil(y/n)});var C=this.transformInfo;return C&&this.transformVerts(C.x,C.y,C.z,C.rotateX,C.rotateY,C.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return gv(this.rotationX)}set angleX(t){this.rotationX=Qu(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return gv(this.rotationY)}set angleY(t){this.rotationY=Qu(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return gv(this.rotationZ)}set angleZ(t){this.rotationZ=Qu(t)}transformVerts(t,i,a,y,S,n){return t===void 0&&(t=0),i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=0),S===void 0&&(S=0),n===void 0&&(n=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=i,this.transformInfo.rotateX=y,this.transformInfo.rotateY=S,this.transformInfo.rotateZ=n,qz(this,t,i,a,y,S,n),this}},r(Oa,"Image"),Oa);const iI=Phaser.Textures.DynamicTexture;var uO=r(function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=2);var a=new iI(e.sys.textures,null,t,i);return a},"CreateDynamicTexture");const sI=Phaser.Utils.Objects.IsPlainObject,Ou=Phaser.Utils.Objects.GetValue,pT=class pT extends lO{constructor(t,i,a,y,S,n){sI(i)&&(n=i,i=Ou(n,"x",0),a=Ou(n,"y",0),y=Ou(n,"width",32),S=Ou(n,"height",32));var C=uO(t,y,S);super(t,i,a,C,null,n),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,i){return i===void 0&&(i={}),i.gameObjects=t,i.renderTexture=this.rt,Ag(i),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}};r(pT,"RenderTexture");let kf=pT;Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var Ei=r(function(e,t,i,a){if(Array.isArray(e))for(var y=!1,S=0,n=e.length;S<n;S++){var C=e[S];if(!(a&&!C)&&(i?y=t.call(i,C,S,e):y=t(C,S,e),y))return}else{var y=!1;for(var s in e){var C=e[s];if(!(a&&!C)&&(i?y=t.call(i,C,s,e):y=t(C,s,e),y))return}}},"ForEachFace");const Pn=Phaser.Math.RadToDeg,Rn=Phaser.Math.DegToRad,gT=class gT extends Fe{constructor(t,i,a,y,S,n){super(t,i,a,y,S),this.faces=n,Ei(n,function(C){C.setPosition(i,a),this.add(C)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Pn(this.rotationX)}set angleX(t){this.rotationX=Rn(t)}get rotateX(){return Pn(this.rotationX)}set rotateX(t){this.rotationX=Rn(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Pn(this.rotationY)}set angleY(t){this.rotationY=Rn(t)}get rotateY(){return Pn(this.rotationY)}set rotateY(t){this.rotationY=Rn(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Pn(this.rotationZ)}set angleZ(t){this.rotationZ=Rn(t)}get rotateZ(){return Pn(this.rotationZ)}set rotateZ(t){this.rotationZ=Rn(t)}setDebug(t,i){return Ei(this.faces,function(a){a.setDebug(t,i)},null,!0),this}panX(t){return Ei(this.faces,function(i){i.panX(t)},null,!0),this}panY(t){return Ei(this.faces,function(i){i.panY(t)},null,!0),this}panZ(t){return Ei(this.faces,function(i){i.panZ(t)},null,!0),this}transformVerts(t,i,a,y,S,n){return Ei(this.faces,function(C){C.transformVerts(t,i,a,y,S,n)},null,!0),this}forEachFace(t,i,a){return Ei(this.faces,t,i,a),this}};r(gT,"FaceContainer");let wp=gT;const rI=Phaser.Utils.Objects.IsPlainObject,nI={key:"__WHITE"},aI={image:lO,rendertexture:kf};var eS=r(function(e,t){t===void 0&&(t=nI);var i;return rI(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),i=new aI[t.type](e,t),e.add.existing(i)):i=t,i},"CreatePerspectiveObject"),hI=r(function(e,t,i){var a;if(i===void 0){a=[];for(var y,S,n=0,C=t.length;n<C;n++)S=t[n],S?y=eS(e,S):y=null,a.push(y)}else{a={};for(var y,s,n=0,C=i.length;n<C;n++)s=i[n],t.hasOwnProperty(s)?y=eS(e,t[s]):y=null,a[s]=y}return a},"CreateFaces");const oI=Phaser.Math.DegToRad,iS=oI(180);var lI=r(function(e,t){var i=t.back;i&&(e.orientation===0?i.transformVerts(0,0,0,0,iS,0):i.transformVerts(0,0,0,iS,0,0))},"LayoutFaces");const mv=Phaser.Utils.Objects.GetValue,uI=Phaser.Math.Linear;var La;let fI=(La=class extends ls{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(mv(t,"ease","Cubic")),this.setFrontToBackDirection(mv(t,"frontToBack",0)),this.setBackToFrontDirection(mv(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=sS[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=sS[t]),this.endAngleBF=t===0?-180:180,this}start(t,i){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var a=i+1,y=this.parent;return y.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*a):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*a),super.start(),this}flip(t,i){return this.isRunning?this:(t===void 0&&(t=this.duration),i===void 0&&(i=0),this.start(t,i),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+i+1)%2,this)}flipRight(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,i),this}flipLeft(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,i),this}updateTarget(t,i){var a=this.easeFn(i.t),y=uI(this.startAngle,this.endAngle,a);t.orientation===0?t.angleY=y:t.angleX=y}},r(La,"Flip"),La);const sS={right:0,"left-to-right":0,left:1,"right-to-left":1},dI=Phaser.Utils.Objects.IsPlainObject,gr=Phaser.Utils.Objects.GetValue,cI=["back","front"],mT=class mT extends wp{constructor(t,i,a,y){dI(i)&&(y=i,i=gr(y,"x",0),a=gr(y,"y",0));var S=hI(t,y,cI),n=S.back,C=S.front,s=gr(y,"width"),o=gr(y,"height");if(s===void 0||o===void 0){if(s===void 0){var T=C?C.width:0,c=n?n.width:0;s=Math.max(T,c)}if(o===void 0){var l=C?C.height:0,u=n?n.height:0;o=Math.max(l,u)}}super(t,i,a,s,o,S),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,Ei(S,function(f,v){this[`${v}Face`]=f},this);var h=gr(y,"flip",void 0);h!==!1&&(this.flip=new fI(this,h)),this.setOrientation(gr(y,"orientation",0)),lI(this,S),this.setFace(gr(y,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,Ei(this.faces,function(i){i.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,Ei(this.faces,function(i){i.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,Ei(this.faces,function(i){i.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=vI[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=pI[t]),this.currentFaceIndex=t;var i=t===1,a=i?180:0;this.orientation===0?this.angleY=a:this.angleX=a}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}};r(mT,"Card");let Mp=mT;const vI={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},pI={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const gI=Phaser.Utils.Objects.GetValue;var mI=r(function(e,t,i){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=gI(i,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},"Init"),fO=r(function(e,t){if(!e)return!1;for(var i=t.visibleSibling,a=0,y=i.length;a<y;a++)e.setChildVisible(i[a],!0);return i.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},"Exit"),xI=r(function(e,t){if(!e)return!1;fO(e,t);var i=t.useParentBounds;Ag({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:i?e.displayWidth:void 0,height:i?e.displayHeighth:void 0,originX:i?e.originX:void 0,originY:i?e.originY:void 0}),e.setChildVisible(t,!0);for(var a=t.visibleSibling,y=e.children,S=0,n=y.length;S<n;S++){var C=y[S];C.visible&&C!==t&&(e.setChildVisible(C,!1),a.push(C))}return t.isRunning=!0,!0},"Enter"),dO=r(function(e){var t;return t=class extends e{constructor(a,y){var S=a.scene;super(S,0,0,1,1,y),S.add.existing(this),mI(a,this,y)}destroy(a){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(a))}enter(){var a=xI(this.rexContainer.parent,this);return a&&this.syncSize(),this}exit(){return fO(this.rexContainer.parent,this),this}},r(t,"Base"),t},"MeshRenderTextureBase");const xT=class xT extends dO(kf){get perspectiveState(){return this.isRunning}};r(xT,"ContainerPerspective");let Xf=xT;const TI=Phaser.Utils.Objects.GetValue;var yI=r(function(e){var t=this.scene;this.setSnapshotPadding(TI(e,"snapshotPadding",0)),e=Si(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var i=new Mp(t,e);t.add.existing(i);var a=i.flip;if(a){var y=this;a.on("start",function(){y.enterPerspectiveMode()}).on("complete",function(){y.exitPerspectiveMode()})}return i},"CreatePerspectiveCardMesh");const CI=["front","back"],EI={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=CI[e]);var t=this.perspectiveCard.faces[e],i=this.childrenMap[e];t.rt.clear();var a=i.visible;i.visible=!0;var y=i.isRexContainerLite?i.getAllVisibleChildren():i;return t.snapshot(y,{padding:this.snapshotPadding}),i.visible=a,this}},rS=Phaser.Utils.Objects.GetValue,TT=class TT extends Ve{constructor(t,i){super(t,i),this.type="rexPerspectiveCard";var a=i.back,y=rS(i,"expand.back",!0);this.add(a,{key:"back",expand:y});var S=i.front,n=rS(i,"expand.front",!0);this.add(S,{key:"front",expand:n}),this.perspectiveCard=yI.call(this,i),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var i=t===0,a=this.childrenMap.front,y=this.childrenMap.back;this.setChildVisible(a,i),this.setChildVisible(y,!i)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,i,a,y,S,n){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,i,a,y,S,n),this}forEachFace(t,i,a){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,i,a),this}};r(TT,"PerspectiveCard");let jo=TT;Object.assign(jo.prototype,EI);rt.register("perspectiveCard",function(e){var t=new jo(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.PerspectiveCard",jo);var SI=r(function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},"GetPageKeyByIndex"),AI=r(function(e){for(var t=this.getElement("tabs.buttons"),i=0,a=t.length;i<a;i++)if(t[i].name===e)return i},"GetPageIndexByKey");const PI=Phaser.Utils.Objects.IsPlainObject,xv=Phaser.Utils.Objects.GetValue,RI=Phaser.Utils.String.UUID;var OI=r(function(e,t,i){if(PI(e)){var a=e;e=xv(a,"key"),t=xv(a,"tab"),i=xv(a,"page")}return e||(e=RI()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(i,{key:e}),this},"AddPage"),LI=r(function(e,t){var i;if(typeof e=="number"?i=e:i=this.getPageIndex(e),i!=null){var a;t!==void 0&&(a=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(i),a!==void 0&&(this.childrenMap.pages.fadeInDuration=a)}return this},"SwapPage"),wI=r(function(e){return this.swapPage(0,e),this},"SwapFirstPage"),MI=r(function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this},"SwapLastPage");const DI={swapPage:LI,swapFirstPage:wI,swapLastPage:MI},FI={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var i=this.childrenMap.tabs,a=i.getByName(e),y=this.childrenMap.pages,S=y.getElement(e);return!a||!S?this:(y.removeChildrenMap(e),i.removeButton(a,t),y.remove(S,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),i=t.length-1;i>=0;i--)this.removePage(t[i].name,e);return this}};var bI=r(function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},"GetPage"),NI=r(function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},"GetTab"),BI={top:1,left:3,right:5,bottom:7},nS={top:"bottom",left:"right",right:"left",bottom:"top"},GI=r(function(e){var t=BI[e];if(t===void 0)return this;var i=this.childrenMap.tabs,a=this.sizerChildren.indexOf(i);if(a===t)return this;this.sizerChildren[a]=null,this.sizerChildren[t]=i;var y=this.getSizerConfig(i).padding,S=nS[this.tabsPosition],n=nS[e];return y[n]=y[S],y[S]=0,this.tabsPosition=e,this},"SetTabPosition");const UI={setTabsPadding(e,t){var i=this.childrenMap.tabs;return i.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}};var cO={getPageKey:SI,getPageIndex:AI,addPage:OI,getPage:bI,getTab:NI,setTabPosition:GI};Object.assign(cO,DI,FI,UI);const Ti=Phaser.Utils.Objects.GetValue,aS=je.prototype.add;var wa;let Vd=(wa=class extends je{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var a=Ti(i,"expand.pages",!0);a&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabPages";var y=Ti(i,"background",void 0);y&&this.addBackground(y);var S=Ti(i,"pages"),n=new ah(t,S);t.add.existing(n);var C=Ti(i,"tabsPosition",void 0);C===void 0&&(C=Ti(i,"tabPosition","top"));var s=Ti(i,"wrapTabs",!1),o=s?$i:ve,T=Ti(i,"tabs",void 0);T===void 0&&(T={}),T.orientation=C==="top"||C==="bottom"?"x":"y",T.buttonsType="radio",!s&&!T.hasOwnProperty("expand")&&(T.expand=Ti(i,"expand.tabs",!1));var c=new o(t,T);t.add.existing(c),aS.call(this,n,{column:1,row:1,expand:a});var l,u,h=Ti(i,"space.item",0);switch(C){case"top":l=1,u=0,h={bottom:h};break;case"bottom":l=1,u=2,h={top:h};break;case"left":l=0,u=1,h={right:h};break;case"right":l=2,u=1,h={left:h};break}aS.call(this,c,{column:l,row:u,padding:h,expand:s?!0:Ti(i,"expand.tabs",!1),align:Ti(i,"align.tabs","left")}),this.addChildrenMap("background",y),this.addChildrenMap("tabs",c),this.addChildrenMap("pages",n),this.tabsPosition=C,c.on("button.click",function(f){var v=f.name;n.hasPage(v)&&n.swapPage(v)}),c.on("button.statechange",function(f,v,d,p){var g=d?"tab.focus":"tab.blur";this.emit(g,f,f.name)},this),n.on("pagevisible",function(f,v,d){this.emit("page.focus",f,v)}),n.on("pageinvisible",function(f,v,d){this.emit("page.blur",f,v)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}},r(wa,"TabPages"),wa);Object.assign(Vd.prototype,cO);rt.register("tabPages",function(e){var t=new Vd(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TabPages",Vd);const yT=class yT extends Wa{constructor(t,i){i===void 0&&(i={}),i.destroy=!1,super(t,i)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}};r(yT,"Transition");let Dp=yT;const HI={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,i=this.childrenMap.child;if(this.show(i),this.reLayoutEnable){var a=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();a.layout()}return t.emit("folder.expand",e,this),i.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,i=this.childrenMap.child;return t.emit("folder.collapse",e,this),i.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(i,1,1).hide(i),this.reLayoutEnable){var a=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();a.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var YI=r(function(e,t){ss.popUp.call(e,t,this.expandDirection)},"DefaultExpandCallback"),VI=r(function(e,t){ss.scaleDown.call(e,t,this.expandDirection)},"DefaultCollapseCallback");const WI={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=YI.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=VI.bind(this)),this.childTransition.setTransitOutCallback(e),this}},ee=Phaser.Utils.Objects.GetValue;var Ma;let Al=(Ma=class extends Tt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var a=i.background,y=i.title,S=i.child;a&&this.addBackground(a);var n=ee(i,"space"),C=this.orientation===1?"left":"top",l=ee(i,"align.title",C),u=ee(i,"expand.title",!0);this.add(y,{proportion:0,align:l,expand:u,padding:{left:ee(n,"titleLeft",0),right:ee(n,"titleRight",0),top:ee(n,"titleTop",0),bottom:ee(n,"titleBottom",0)}});var s=ee(i,"toggleByTarget",void 0),o=ee(i,"toggleClickConfig");s===void 0&&(s=y),s&&$g.onClick.call(s,function(){this.toggle()},this,o),this.childTransition=new Dp(S);var T=ee(i,"customChildOrigin",!1);if(!T){var c=this.rtl?1:0;S.setOrigin(c)}var l=ee(i,"align.child","left"),u=ee(i,"expand.child",!0),h=u?1:0;this.add(S,{proportion:h,align:l,expand:u,padding:{left:ee(n,"childLeft",0),right:ee(n,"childRight",0),top:ee(n,"childTop",0),bottom:ee(n,"childBottom",0)}}),this.addChildrenMap("title",y),this.addChildrenMap("child",S),this.addChildrenMap("background",a);var f=i.transition;this.setTransitionDuration(ee(f,"duration",200)),this.setExpandCallback(ee(f,"expandCallback",void 0)),this.setCollapseCallback(ee(f,"collapseCallback",void 0)),this.reLayoutTarget=ee(i,"reLayoutTarget",void 0);var v=i.onExpandStart;v&&this.on("expand.start",v);var d=i.onExpandComplete;d&&this.on("expand.complete",d);var p=i.onCollapseStart;p&&this.on("collapse.start",p);var g=i.onCollapseComplete;g&&this.on("collapse.complete",g);var m=ee(i,"expanded",void 0);m!==void 0&&this.setExpandedState(m)}},r(Ma,"Folder"),Ma);Object.assign(Al.prototype,HI,WI);rt.register("folder",function(e){var t=new Al(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Folder",Al);var kI=r(function(e,t,i,a){for(var y in this.treesMap){var S=this.treesMap[y];if(br(S.nodeBody,e,t,i,a))return S;var n=S.pointToChild(e,t,i,a);if(n)return n}return null},"PointToChild$1"),XI=r(function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],wd(this,e),this},"SetChildrenInteractive"),vO=r(function(e){var t;return t=class extends e{get isTree(){return!1}get isNode(){return!1}setText(a){return this.text=a,this}get text(){var a=this.nodeBody;return a.text}set text(a){var y=this.nodeBody;y.setText&&y.setText(a)}setTexture(a,y){var S=this.nodeBody;return S.setTexture&&S.setTexture(a,y),this}get texture(){var a=this.nodeBody;if(a)return a.texture}get frame(){var a=this.nodeBody;if(a)return a.frame}},r(t,"Base"),t},"ExtendNodeClass"),zI=r(function(e,t,i,a){for(var y in this.nodesMap){var S=this.nodesMap[y];if(this.isTreeObject(S)){var n=S;if(br(n.nodeBody,e,t,i,a))return n;var C=n.pointToChild(e,t,i,a);if(C)return C}else if(br(S,e,t,i,a))return S}return null},"PointToChild");const II={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}};var qo=r(function(e,t,i,a,y=!1){var S;if(He(t))S=t,delete t[key];else if(Ri(t)){var n=t;S=n(e,i),S&&e.add.existing(S)}else(y||t)&&a&&(S=a(e,t,i));return S},"CreateGameObjectFromConfig"),h0=r(function(e,t,i){var a=le(e,t);return a},"DefaultCreateBackgroundCallback"),$I=r(function(e,t,i){var a=new kr(e,t);return e.add.existing(a),a.resetDisplayContent(""),a},"DefaultCreateNodeBodyCallback");const On=Phaser.Utils.Objects.GetValue,CT=class CT extends vO(Tt){constructor(t,i,a){var y=i.space;super(t,{orientation:"x",space:{left:On(y,"nodeLeft",0),right:On(y,"nodeRight",0),top:On(y,"nodeTop",0),bottom:On(y,"nodeBottom",0)}}),this.type="rexTreeNode";var S=qo(t,On(i,"nodeBackground"),a,h0,!1),n=qo(t,On(i,"nodeBody"),a,$I,!0);S&&this.addBackground(S),this.add(n,{proportion:1}),this.nodeBody=n,this.addChildrenMap("background",S),this.addChildrenMap("nodeBody",n)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}};r(CT,"Node");let zf=CT;var pO=r(function(e,t){var i=e.parentContainer;if(i){t.isRexContainerLite?t.addToContainer(i):i.add(t);return}var a=e.displayList;if(_h(a)){t.isRexContainerLite?t.addToLayer(a):a.add(t);return}e.scene.add.existing(t)},"SyncDisplayList");const hS=Phaser.Utils.String.UUID,KI={addTree(e,t){if(He(e)){var i=e;e={nodeBody:i,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=hS());var a=this.createTree(t);return pO(this,a),this.insertNode(e,a,{expand:!0}),a._postAddCallback(),a},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,i){var a;He(t)||(i=t,t=new zf(this.scene,this.configSave,{isLeaf:!0})),typeof i=="string"?(a=i,i=void 0):i&&(a=i.nodeKey,delete i.nodeKey),a===void 0&&(a=hS()),i===void 0&&(i={}),i.hasOwnProperty("expand")||(i.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(a)&&(console.error(`[Trees] Duplicate nodeKey '${a}'`),this.removeNode(this.nodesMap[a],!0)),t.nodeKey=a,this.nodesMap[a]=t;var y=this.childrenMap.child;return y.insert(e,t,i),t}},ZI={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var i=this.getTreePatent(e);if(!i)return this;delete i.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var a=i.childrenMap.child;return a.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var i in t)this.removeNode(t[i],e);return this}},JI={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),i=this.nodesMap[t];return e.length===0?i:i&&this.isTreeObject(i)?i.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var i in t)e.push(t[i]);return e},getAllNodes(e){}};var gO={pointToChild:zI};Object.assign(gO,II,KI,ZI,JI);var QI=r(function(e,t,i){var a=new Dr(e,t);return e.add.existing(a),a.on("expand.start",function(y){y.setDirection("down")}).on("collapse.complete",function(y){y.setDirection("right")}),a},"DefaultCreateToggleButtonCallback");const oS=Phaser.Utils.Objects.GetValue;var jI=r(function(e,t){var i=new zf(e,t,{isLeaf:!1});e.add.existing(i);var a=qo(e,oS(t,"toggleButton"),{isLeaf:!1},QI,!0);return i.insert(0,a,{padding:{right:oS(t,"space.toggleButton",0)},fitRatio:1}),i.addChildrenMap("toggleButton",a),i},"CreateTitleSizer");const lS=Phaser.Utils.Objects.GetValue;var qI=r(function(e,t){var i=new Tt(e,{orientation:lS(t,"childrenOrientation","y")});e.add.existing(i);var a=qo(e,lS(t,"childrenBackground"),{isLeaf:!1},h0,!1);return a&&i.addBackground(a),i},"CreateChildrenSizer");const _I=Phaser.Utils.Objects.Clone;var t$=r(function(e,t){var i=e?_I(e):{};if(!t)return i;for(var a in t)i[a]=t[a];return i},"Merge$2");const Ls=Phaser.Utils.Objects.GetValue,ro=class ro extends vO(Al){constructor(t,i){i===void 0&&(i={});var a=qo(t,Ls(i,"background"),{isLeaf:!1},h0,!1),y=qI(t,i),S=y.childrenMap.items,n=jI(t,i),C=n.childrenMap.toggleButton,s=n.childrenMap.nodeBody,o=Jr(Ls(i,"orientation","y")),T=i.space;if(T){var c=Ls(T,"indent",0);T.childLeft=Ls(T,"indentLeft",o===1?c:0),T.childRight=Ls(T,"indentRight",0),T.childTop=Ls(T,"indentTop",o===0?c:0),T.childBottom=Ls(T,"indentBottom",0)}var l={background:a,title:n,child:y,toggleByTarget:C,transition:i.transition,orientation:o,space:T,align:i.align,expand:i.expand};super(t,l),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=i,this.nodeBody=s,this.addChildrenMap("toggleButton",C),this.addChildrenMap("nodeBody",s),this.addChildrenMap("childrenNodes",S),this.on("expand.start",function(){C.emit("expand.start",C),Lu(this,"expand.start")},this).on("expand.complete",function(){C.emit("expand.complete",C),Lu(this,"expand.complete")}).on("collapse.start",function(){C.emit("collapse.start",C),Lu(this,"collapse.start")}).on("collapse.complete",function(){C.emit("collapse.complete",C),Lu(this,"collapse.complete")});var u=this;u._postAddCallback=function(){var h=Ls(i,"expanded",!0);h!==void 0&&u.setExpandedState(h),delete u._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return ro.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof ro}};r(ro,"Tree");let hh=ro;hh.CreateTree=function(e,t,i){return new hh(e,t$(t,i))};var Lu=r(function(e,t){var i=e.getTreesSizer();i&&i.emit(t,e)},"FireTreesSizerEvent");Object.assign(hh.prototype,gO);const e$=Phaser.Utils.String.UUID,i$={addTree(e){if(He(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=e$());var a=hh.CreateTree(this.scene,this.treeConfig,t);return pO(this,a),a.nodeKey=i,this.treesMap[i]=a,this.insert(e,a,{expand:!0}),a._postAddCallback(),a}},s$={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var i in t)this.removeTree(t[i],e);return this}},r$={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var i=this.getTree(e.substring(0,t));if(i)return i.getNode(e.substring(t+1))}};var mO={pointToChild:kI,setChildrenInteractive:XI};Object.assign(mO,i$,s$,r$);const n$=Phaser.Utils.Objects.GetValue,ET=class ET extends Tt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation="y"),super(t,i),this.type="rexTrees",this.treesMap={},this.treeConfig=n$(i,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}};r(ET,"Trees");let _o=ET;Object.assign(_o.prototype,mO);rt.register("trees",function(e){var t=new _o(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Trees",_o);rt.register("textArea",function(e){var t=new Wr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TextArea",Wr);var a$=r(function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:r(function(){return e.textOY},"get"),set:r(function(t){e.textOY=t},"set")}),Object.defineProperty(e,"topChildOY",{get:r(function(){return e.topTextOY},"get")}),Object.defineProperty(e,"bottomChildOY",{get:r(function(){return e.bottomTextOY},"get")}),Object.defineProperty(e,"childVisibleHeight",{get:r(function(){return e.textVisibleHeight},"get")}),Object.defineProperty(e,"childHeight",{get:r(function(){return e.contentHeight},"get")})},"InjectProperties");const h$={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},o$={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},wu=Phaser.Utils.Objects.GetValue,ST=class ST extends El{constructor(t,i){i===void 0&&(i={});var a=wu(i,"text"),y;He(a)?y=a:(a===void 0&&(a={}),a.textArea=!0,y=new wr(t,a),t.add.existing(y)),a$(y);var S=a.width===void 0,n=a.height===void 0;S&&(y.minWidth=0),n&&(y.minHeight=0),i.scrollMode=0,i.type="rexTextAreaInput",i.child={gameObject:y,expandWidth:S,expandHeight:n};var C=wu(i,"space",void 0);C&&(C.child=wu(C,"text",0)),i.scroller=!1,super(t,i),this.addChildrenMap("text",y);var s,o;y.on("cursorin",function(){var c=y.textOY,l=y.contentHeight,u=s!==c,h=o!==l;s=c,o=l,h&&this.resizeController(),(u||h)&&(this.t=y.t)},this),y.on("textchange",function(c){this.emit("textchange",c,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var T=wu(i,"content",void 0);T&&this.setText(T)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var i=this.childrenMap.child;i.readOnly=t}setReadOnly(t){var i=this.childrenMap.child;return i.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}};r(ST,"TextAreaInput");let oh=ST;Object.assign(oh.prototype,h$,o$);rt.register("textAreaInput",function(e){var t=new oh(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TextAreaInput",oh);rt.register("scrollablePanel",function(e){var t=new zr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ScrollablePanel",zr);const Mu={popUp:r(function(e,t){e.popUp(t)},"popUp"),scaleDown:r(function(e,t){e.scaleDown(t)},"scaleDown"),fadeIn:r(function(e,t){e.fadeIn(t)},"fadeIn"),fadeOut:r(function(e,t){e.fadeOut(t)},"fadeOut")},bs={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},l$={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=bs[e]),e){case bs.popUp:e=Mu.popUp;break;case bs.fadeIn:e=Mu.fadeIn;break}return e||(e=oe),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=bs[e]),e){case bs.scaleDown:e=Mu.scaleDown;break;case bs.fadeOut:e=Mu.fadeOut;break}return e||(e=oe),this.transitOutCallback=e,this}},u$={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[oe]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[oe]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},Zh=Phaser.Utils.Objects.GetValue,AT=class AT extends wi{constructor(t,i){i===void 0&&(i={text:createDefaultTextObject(t)}),super(t,i),this.type="rexToast",this.setTransitInTime(Zh(i,"duration.in",200)),this.setDisplayTime(Zh(i,"duration.hold",1200)),this.setTransitOutTime(Zh(i,"duration.out",200)),this.setTransitInCallback(Zh(i,"transitIn",bs.popUp)),this.setTransitOutCallback(Zh(i,"transitOut",bs.scaleDown)),this.player=new Ff(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,i){return i===void 0&&(i=t),this.scaleX0=t,this.scaleY0=i,super.setScale(t,i),this}get isShowingMessage(){return this.player.isPlaying}};r(AT,"Toast");let tl=AT;Object.assign(tl.prototype,l$,u$);rt.register("toast",function(e){var t=new tl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Toast",tl);var f$={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const d$={setQueueDirection(e){return typeof e=="string"&&(e=f$[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=oe),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=oe),this.transitOutCallback=e,this}},c$=$g.onClick,xO=$P.delayCall,v$=Rd.moveTo;var p$=r(function(e,t,i){var a=t(e.scene,i,e);if(c$.call(a,function(){e.removeMessage(a)}),e.displayTime){var y=e.transitInTime+e.displayTime+10;xO.call(a,y,function(){e.removeMessage(a)})}return a},"CreateChild"),TO=r(function(e){for(var t=e.childrenMap.items,i,a=[],y=0,S=t.length;y<S;y++)i=t[y],a.push({x:i.x,y:i.y});return a},"GetChildrenPosition"),g$=r(function(e){for(var t=e.childrenMap.items,i,a=[],y=0,S=t.length;y<S;y++)i=t[y],a.push({x:i.scaleX,y:i.scaleY}),i.setScale(1);e.layout();for(var n=TO(e),y=0,S=t.length;y<S;y++){var C=a[y];t[y].setScale(C.x,C.y)}return n},"RunLayout"),m$=r(function(e,t,i,a){for(var y=e.childrenMap.items,S=Math.min(t.length,i.length,y.length),n,C,s,o=e.queueDirection,T=0;T<S;T++){switch(n=y[T],C=t[T],s=i[T],n.setPosition(C.x,C.y),o){case 0:if(C.y<=s.y)continue;break;case 1:if(C.y>=s.y)continue;break;case 2:if(C.x<=s.x)continue;break;case 3:if(C.x>=s.x)continue;break}v$.call(n,a,s.x,s.y)}},"EaseChildren"),x$=r(function(e,t,i){var a=TO(e);e.add(t);var y=g$(e);m$(e,a,y,i),e.transitInCallback(t,i,e)},"PushChild");const T$={showMessage(e){var t=p$(this,this.createMessageLabelCallback,e);return x$(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),xO.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,i=e.length;t<i;t++)this.removeMessage(e[t]);return this}};var yO={};Object.assign(yO,d$,T$);const uS={transitIn(e,t,i){switch(i.queueDirection){case 0:e.setOrigin(.5,1),ss.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),ss.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),ss.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),ss.popUp.call(e,t,"x");break}wo.fadeIn.call(e,t)},transitOut(e,t,i){wo.fadeOut.call(e,t)}},mr=Phaser.Utils.Objects.GetValue,PT=class PT extends Tt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexToastQueue",this.setCreateMessageLabelCallback(mr(i,"createMessageLabelCallback")),this.setQueueDirection(mr(i,"queueDirection",1)),this.setTransitInTime(mr(i,"duration.in",200)),this.setDisplayTime(mr(i,"duration.hold",2e3)),this.setTransitOutTime(mr(i,"duration.out",200)),this.setTransitInCallback(mr(i,"transitIn",uS.transitIn)),this.setTransitOutCallback(mr(i,"transitOut",uS.transitOut))}};r(PT,"ToastQueue");let el=PT;Object.assign(el.prototype,yO);rt.register("toastQueue",function(e){var t=new el(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ToastQueue",el);var y$=r(function(e,t){if(t===!1)return null;if(He(t))return t;var i=new Zr(e,t);return e.add.existing(i),i},"CreateSwatch");const C$=Phaser.Utils.String.Pad;var fS=r(function(e,t){t===void 0&&(t="0x");var i=e.toString(16).toUpperCase();return i=C$(i,6,0,1),i=t+i,i},"GetHexColorString"),E$=r(function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))},"SetSwatchColor");const hi=Phaser.Utils.Objects.GetValue,S$=Phaser.Utils.Objects.IsPlainObject,A$=Phaser.Math.Clamp;var Da;let o0=(Da=class extends Tt{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorInputLite";var a=hi(i,"background",void 0),y=hi(i,"swatch"),S;S$(y)&&(S=hi(y,"size"));var n=y$(t,hi(i,"swatch")),C=hi(i,"inputText",{}),s;if(C&&(s=Ks(t,C)),a&&this.addBackground(a),n){S=hi(i,"swatchSize",S);var o;S!==void 0?(Ae(n,S,S),o=!1):o=hi(i,"squareExpandSwatch",!0);var T=o?1:0;this.add(n,{proportion:0,expand:!0,fitRatio:T})}if(s){var c=hi(C,"width")===void 0?1:0,l=hi(C,"height")===void 0;this.add(s,{proportion:c,expand:l})}this.addChildrenMap("background",a),this.addChildrenMap("swatch",n),this.addChildrenMap("inputText",s),s&&s.on("close",function(){this.setValue(s.value)},this);var u=hi(i,"valuechangeCallback",null);if(u!==null){var h=hi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",u,h)}this.setValue(hi(i,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=hp(t),t==null){var a=this.childrenMap.inputText;a&&a.setText(fS(this._value));return}}else t=A$(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var i=this.childrenMap.swatch;i&&E$(i,t);var a=this.childrenMap.inputText;a&&a.setText(fS(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}},r(Da,"ColorInput"),Da);var P$={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=R$[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const R$={down:0,up:1},CO=Phaser.Display.Color,If=Phaser.Math.Percent;var O$=r(function(e,t,i){i===void 0&&(i=!1);var a=e.width,y=e.height,S=new CO;if(i)for(var n=0;n<y;n++){var C=If(n,0,y);S.setFromHSV(C,1,1),t.fillStyle=S.rgba,t.fillRect(0,n,a,1)}else for(var s=0;s<a;s++){var C=If(s,0,a);S.setFromHSV(C,1,1),t.fillStyle=S.rgba,t.fillRect(s,0,1,y)}},"DrawHPalette"),L$=r(function(e,t,i){for(var a=e.width,y=e.height,S=t.getImageData(0,0,a,y),n=S.data,C=new CO,s=0;s<y;s++)for(var o=0;o<a;o++){var T=If(o,0,a),c=1-If(s,0,y);C.setFromHSV(i,T,c);var l=(s*a+o)*4;n[l]=C.red,n[l+1]=C.green,n[l+2]=C.blue,n[l+3]=255}t.putImageData(S,0,0)},"DrawSVPalette");const w$=Phaser.Display.Color,dS=Phaser.Math.Percent,M$=Phaser.Display.Color.ColorToRGBA,D$=Phaser.Display.Color.HSVToRGB,RT=class RT extends us{constructor(t,i,a,y,S,n){i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=2),S===void 0&&(S=2),super(t,i,a,y,S),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new w$,this.setOrientation(n),this.setSize(y,S)}setOrientation(t){return this.orientation=Jr(t),this}updateTexture(){return O$(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,i){return t===void 0?this.hue:(this.orientation===0?this.hue=dS(t,0,this.width):this.hue=dS(i,0,this.height),this.hue)}getColor(t,i){if(t===void 0)return this.color;var a=this.getHue(t,i);return this.colorObject.setFromRGB(D$(a,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(Tv===void 0&&(Tv={}),i=Tv),this.colorObject.setFromRGB(M$(t)),this.orientation===0?(i.x=this.width*this.colorObject.h,i.y=this.height/2):(i.x=this.width/2,i.y=this.height*this.colorObject.h),i}};r(RT,"HPaletteCanvas");let Fp=RT;var Tv=void 0,F$=Phaser.Math.RotateAround,EO=r(function(e,t,i,a){a===void 0?a={}:a===!0&&(yv===void 0&&(yv={}),a=yv),t-=e.width*e.originX,i-=e.height*e.originY;var y={x:t*e.scaleX,y:i*e.scaleY};return F$(y,0,0,-e.rotation),a.x=e.x+t,a.y=e.y+i,a},"LocalToWorld"),yv;const OT=class OT extends Ve{constructor(t,i){i===void 0&&(i={}),super(t,i);var a=i.width!=null?1:0,y=new Fp(t).setOrientation(a);t.add.existing(y),this.type="rexColorPicker.HPalette",y.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var S=new Zr(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(S),this.add(y,{key:"paletteCanvas",expand:!0}).add(S,{key:"marker",expand:!1})}resize(t,i){if(this.width===t&&this.height===i)return this;super.resize(t,i);var a=Math.min(t,i);return this.childrenMap.marker.setSize(a,a),this}onPaletteCanvasPointerDown(t,i,a,y){if(t.isDown){var S=this.childrenMap.paletteCanvas,n=S.getColor(i,a);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,a=this.childrenMap.marker,y=i.colorToLocalPosition(t,!0);return EO(i,y.x,y.y,a),this.resetChildPositionState(a),this}getHue(t,i){var a=this.childrenMap.paletteCanvas;return a.getHue(t,i)}};r(OT,"HPalette");let bp=OT;const b$=Phaser.Display.Color,cS=Phaser.Math.Percent,vS=Phaser.Display.Color.ColorToRGBA,N$=Phaser.Display.Color.HSVToRGB,LT=class LT extends us{constructor(t,i,a,y,S,n){i===void 0&&(i=0),a===void 0&&(a=0),y===void 0&&(y=2),S===void 0&&(S=2),super(t,i,a,y,S),this.type="rexColorPicker.SVPaletteCanvas",n===void 0&&(n=1),this.colorObject=new b$,this.setHue(n),this.setSize(y,S)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return L$(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,i){if(t===void 0)return this.colorObject.color;var a=cS(t,0,this.width),y=1-cS(i,0,this.height);return this.colorObject.setFromRGB(N$(this.hue,a,y)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(vS(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(Cv===void 0&&(Cv={}),i=Cv),this.colorObject.setFromRGB(vS(t)),i.x=this.width*this.colorObject.s,i.y=this.height*(1-this.colorObject.v),i}};r(LT,"SVPaletteCanvas");let Np=LT;var Cv=void 0;const wT=class wT extends Ve{constructor(t,i){super(t,i);var a=new Np(t);t.add.existing(a),this.type="rexColorPicker.SVPalette",a.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var y=new Zr(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(y),this.add(a,{key:"paletteCanvas",expand:!0}).add(y,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,i,a,y){if(t.isDown){var S=this.childrenMap.paletteCanvas,n=S.getColor(i,a);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var i=this.childrenMap.paletteCanvas;return i.setHue(t),this}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,a=this.childrenMap.marker,y=i.colorToLocalPosition(t,!0);return EO(i,y.x,y.y,a),this.resetChildPositionState(a),this}};r(wT,"SVPalette");let Bp=wT;const yi=Phaser.Utils.Objects.GetValue,MT=class MT extends Tt{constructor(t,i){super(t,i),this.type="rexColorPicker",this.freezePalettes=!1;var a=yi(i,"hPalette.position",0);typeof a=="string"&&(a=B$[a]);var y=a===0||a===2?1:0;this.setOrientation(y);var S=yi(i,"background",void 0),n,C;if(this.orientation===0){var n=yi(i,"hPalette.width",void 0);n===void 0&&(n=yi(i,"hPalette.size",10))}else C=yi(i,"hPalette.height",void 0),C===void 0&&(C=yi(i,"hPalette.size",10));var s=new bp(t,{width:n,height:C});t.add.existing(s);var o=yi(i,"svPalette.width",void 0),T=yi(i,"svPalette.height",void 0),c=new Bp(t,{width:o,height:T});t.add.existing(c),S&&this.addBackground(S);var l={proportion:0,expand:!0},u,h;this.orientation===0?(u=o===void 0?1:0,h=T===void 0):(u=T===void 0?1:0,h=o===void 0);var f={proportion:u,expand:h};a===0||a===3?this.add(c,f).add(s,l):this.add(s,l).add(c,f),s.on("input",function(){c.setHue(s.getHue()),this.setValue(c.color,!0)},this),c.on("input",function(){this.setValue(c.color,!0)},this),this.addChildrenMap("background",S),this.addChildrenMap("hPalette",s),this.addChildrenMap("svPalette",c);var v=yi(i,"valuechangeCallback",null);if(v!==null){var d=yi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",v,d)}this.setValue(yi(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,i,this)}}setValue(t,i){return this.freezePalettes=!!i,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,i,a){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,i,a),this}};r(MT,"ColorPicker");let il=MT;var B$={bottom:0,left:1,top:2,right:3};const Hi=Phaser.Utils.Objects.GetValue,G$=Phaser.Display.Color,U$=Phaser.Display.Color.ColorToRGBA,H$=Phaser.Display.Color.HSVToRGB,xr=Phaser.Math.Clamp,DT=class DT extends Tt{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorComponents",this.colorObject=new G$;var a=Hi(i,"background",void 0),y=Hi(i,"formatLabel",void 0);He(y)||(y=pe(t,y).resetDisplayContent());var S=[];if(i.inputText0&&i.inputText1&&i.inputText2)S.push(i.inputText0),S.push(i.inputText1),S.push(i.inputText2);else for(var n=Hi(i,"inputText"),C=0;C<3;C++){var s=Ks(t,n).setMaxLength(3).setNumberInput();S.push(s)}a&&this.addBackground(a);var T=Hi(i,"proportion.formatLabel",0),o=!!y.isRexContainerLite,c=Hi(i,"expand.formatLabel",o);this.add(y,{proportion:T,expand:c});for(var T=Hi(n,"width")===void 0?1:0,c=Hi(n,"height")===void 0,C=0,l=S.length;C<l;C++)this.add(S[C],{proportion:T,expand:c});this.addChildrenMap("background",a),this.addChildrenMap("formatLabel",y),this.addChildrenMap("components",S),this.onClick(y,this.toggleColorFormat,this);for(var C=0,l=S.length;C<l;C++)S[C].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var u=Hi(i,"valuechangeCallback",null);if(u!==null){var h=Hi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",u,h)}y.setText("RGB"),this.setValue(Hi(i,"value",16777215))}get value(){return this._value}set value(t){t=xr(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(U$(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,i,a,y;return this.colorFormat==="RGB"?(i=this.colorObject.red,a=this.colorObject.green,y=this.colorObject.blue):(i=Math.floor(this.colorObject.h*360),a=Math.floor(this.colorObject.s*100),y=Math.floor(this.colorObject.v*100)),t[0].setValue(i),t[1].setValue(a),t[2].setValue(y),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var i=xr(t[0].value,0,255),a=xr(t[1].value,0,255),y=xr(t[2].value,0,255);this.colorObject.setTo(i,a,y)}else{var S=xr(t[0].value,0,359)/360,n=xr(t[1].value,0,100)/100,C=xr(t[2].value,0,100)/100;this.colorObject.setFromRGB(H$(S,n,C))}return this}};r(DT,"ColorComponents");let sl=DT;const Ev=Phaser.Utils.Objects.GetValue,FT=class FT extends Tt{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexColorInput.ColorPickerPanel";var a=Ev(i,"background",void 0),y=new il(t,{hPalette:i.hPalette||{},svPalette:i.svPalette||{},space:{item:Ev(i,"space.hPalette",8)}});t.add.existing(y);var S;i.colorComponents&&(S=new sl(t,i.colorComponents),t.add.existing(S)),a&&(this.addBackground(a),new ka(a,{stopAllLevels:!1})),this.add(y,{proportion:1,expand:!0}),S&&this.add(S,{proportion:0,expand:!0}),this.addChildrenMap("background",a),this.addChildrenMap("colorPicker",y),this.addChildrenMap("colorComponents",S),y.on("valuechange",function(n){this.setValue(n)},this),S&&S.on("valuechange",function(n){this.setValue(n)},this),this.setValue(Ev(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var i=this.childrenMap.colorPicker;i.setValue(t);var a=this.childrenMap.colorComponents;a&&a.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}};r(FT,"ColorPickerPanel");let Gp=FT;Phaser.Utils.Objects.GetValue;var Y$=r(function(t){var t=this.scene,i,a=this.colorPickerCreateBackgroundCallback;a&&(i=a.call(this,t),t.add.existing(i));var y=this.colorPickerWidth;y===void 0&&(y=this.width);var S=this.colorPickerHeight;S===void 0&&(S=y);var n;this.colorComponentsHeight>0?n={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:n=!1;var C=new Gp(t,{width:y,height:S,background:i,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:n,value:this.value});return t.add.existing(C),C},"CreateColorPicker"),V$=r(function(){if(!this.colorPicker){var e=Y$.call(this).layout(),t=new Gf(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(i){this.setValue(i)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},"OpenColorPicker"),SO={openColorPicker:V$};Object.assign(SO,P$);const xe=Phaser.Utils.Objects.GetValue,bT=class bT extends o0{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexColorInput",i.hasOwnProperty("colorPicker")||(i.colorPicker={background:{color:0}});var a=i.colorPicker,y=a!==!1&&a!==null;if(y){this.setColorPickerSize(xe(a,"width",160),xe(a,"height",170));var S,n=xe(a,"background");n?S=r(function(u){return le(u,n)},"createBackgroundCallback"):S=xe(a,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(S),this.setColorPickerHPalettePosition(xe(a,"hPalettePosition",0)),this.setColorPickerExpandDirection(xe(a,"expandDirection")),this.setColorPickerEaseInDuration(xe(a,"easeIn",200)),this.setColorPickerEaseOutDuration(xe(a,"easeOut",200)),this.setColorPickerTransitInCallback(xe(a,"transitIn")),this.setColorPickerTransitOutCallback(xe(a,"transitOut")),this.setColorPickerBounds(xe(a,"bounds"));var C=xe(a,"space");C===void 0&&(C={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(C)}var s=i.colorComponents,o=s!==!1&&s!==null;if(y&&o){this.setColorComponentsHeight(xe(s,"height",30)),this.setColorComponentsFormatLabelConfig(xe(s,"formatLabel"));var T=xe(s,"inputText");T||(T=xe(i,"inputText")),this.setColorComponentsInputTextConfig(T);var c=xe(s,"space");c===void 0&&(c={item:8}),this.setColorComponentsSpace(c)}var l=this.childrenMap.swatch;l&&y&&this.onClick(l,this.openColorPicker,this)}};r(bT,"ColorInput");let lh=bT;Object.assign(lh.prototype,SO);rt.register("colorInput",function(e){var t=new lh(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorInput",lh);rt.register("colorInputLite",function(e){var t=new o0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorInputBase",o0);rt.register("colorPicker",function(e){var t=new il(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorPicker",il);rt.register("colorComponents",function(e){var t=new sl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorComponents",sl);var AO=r(function(e){for(var t=e.scene.input,i=t.manager,a=i.pointersTotal,y=i.pointers,S,n=0;n<a;n++)if(S=y[n],!(!S.primaryDown||t.getDragState(S)!==0||!yg(e,S)))return t.setDragState(S,1),t._drag[S.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(S,3),t.processDragStartList(S)):t.setDragState(S,2),!0;return!1},"RequestDrag");const Du=Phaser.Utils.Objects.GetValue,pS=Phaser.Math.Distance.Between,gS=Phaser.Math.RotateAroundDistance,NT=class NT extends Yt{constructor(t,i){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(Du(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(Du(t,"enable",!0)),this.setAxisMode(Du(t,"axis",0)),this.setAxisRotation(Du(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=W$[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return AO(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,i,a){this.isDragging||(this.pointer=t)}onDrag(t,i,a){if(this.pointer===t){var y=this.parent;if(this.axisMode===0)y.x=i,y.y=a;else if(this.axisRotation===0)this.axisMode===1?y.x=i:this.axisMode===2&&(y.y=a);else{var S,n={x:i,y:a};S=pS(n.x,n.y,y.x,y.y),n=gS(n,y.x,y.y,-this.axisRotation,S),this.axisMode===1?n.y=y.y:this.axisMode===2&&(n.x=y.x),S=pS(n.x,n.y,y.x,y.y),n=gS(n,y.x,y.y,this.axisRotation,S),y.x=n.x,y.y=n.y}}}onDragEnd(t,i,a,y){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}};r(NT,"Drag");let rl=NT;const W$={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var k$=r(function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],i=this.sizerChildren[2],a=this.getSizerConfig(e).padding,y=this.getSizerConfig(t).padding,S=this.getSizerConfig(i).padding;if(this.orientation===0){var n=this.innerLeft+a.left,C=this.innerRight-S.right,s=Lt(t),o=t.x+s*(0-t.originX),T=t.x+s*(1-t.originX),c=o-y.left-this.space.item-a.right,l=T+y.right+this.space.item+S.left,u=c-n,h=C-l,f=u+h;this.minFirstChildSize>0&&u<this.minFirstChildSize&&(u=this.minFirstChildSize,h=f-u),this.minSecondChildSize>0&&h<this.minSecondChildSize&&(h=this.minSecondChildSize,u=f-h),this.setSplitRatio(u/f)}else{var v=this.innerTop+a.top,d=this.innerBottom-S.bottom,p=wt(t),g=t.y+p*(0-t.originY),m=t.y+p*(1-t.originY),x=g-y.top-this.space.item-a.bottom,E=m+y.bottom+this.space.item+S.top,A=x-v,R=d-E,P=A+R;this.minFirstChildSize>0&&A<this.minFirstChildSize&&(A=this.minFirstChildSize,R=P-A),this.minSecondChildSize>0&&R<this.minSecondChildSize&&(R=this.minSecondChildSize,A=P-R),this.setSplitRatio(A/P)}var O=this.minWidth,L=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(O,L)},"OnDragSplitter");const re=Phaser.Utils.Objects.GetValue,X$=Phaser.Math.Clamp,BT=class BT extends Tt{constructor(t,i){i.hasOwnProperty("orientation")||(i.orientation=i.hasOwnProperty("leftPanel")?0:1),super(t,i),this.type="rexSplit";var a=re(i,"background",void 0),y,S,n,C;this.orientation===0?(y="leftPanel",S="rightPanel",n="minLeftPanelWidth",C="minRightPanelWidth"):(y="topPanel",S="bottomPanel",n="minTopPanelHeight",C="minBottomPanelHeight");var s=re(i,y,void 0),o=re(i,"splitter",void 0),T=re(i,S,void 0);a&&this.addBackground(a);var c=re(i,"space",void 0);this.add(s,{proportion:1,expand:!0,padding:{left:re(c,`${y}Left`,0),right:re(c,`${y}Right`,0),top:re(c,`${y}Top`,0),bottom:re(c,`${y}Bottom`,0)}}),this.add(o,{proportion:0,expand:!0,padding:{left:re(c,"splitterLeft",0),right:re(c,"splitterRight",0),top:re(c,"splitterTop",0),bottom:re(c,"splitterBottom",0)}}),this.add(T,{proportion:1,expand:!0,padding:{left:re(c,`${S}Left`,0),right:re(c,`${S}Right`,0),top:re(c,`${S}Top`,0),bottom:re(c,`${S}Bottom`,0)}}),this.addChildrenMap("background",a),this.addChildrenMap(y,s),this.addChildrenMap("splitter",o),this.addChildrenMap(S,T),this.minFirstChildSize=re(i,n,0),this.minSecondChildSize=re(i,C,0),this.setSplitRatio(re(i,"splitRatio",.5)),this.splitterDragBehavior=new rl(o,{axis:this.orientation===0?1:2}),o.on("dragstart",function(){this.emit("splitter.dragstart",o,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",o,this.splitRatio)},this).on("drag",function(){k$.call(this),this.emit("splitter.drag",o,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",o,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",o,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=X$(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}};r(BT,"SplitPanels");let $f=BT;rt.register("splitPanels",function(e){var t=new $f(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.SplitPanels",$f);var z$=r(function(){return function(e,t,i,a){t!=="panel"&&i.setChildVisible(e,!0)}},"GetShowCallback$1"),I$=r(function(){return function(e,t,i,a){t!=="panel"&&i.setChildVisible(e,!1)}},"GetHideCallback$1");const $$={show:z$,hide:I$};var K$=r(function(e,t){return t===void 0&&(t=1),function(i,a,y,S){a!=="panel"&&y.fadeChild(i,S?0:e,t)}},"GetShowCallback"),Z$=r(function(e,t){return t===void 0&&(t=0),function(i,a,y,S){a!=="panel"&&y.fadeChild(i,S?0:e,t)}},"GetHideCallback");const J$={show:K$,hide:Z$};var mS=r(function(e,t){return function(i,a,y,S){a!=="panel"&&y.moveChild(i,S?0:e,t)}},"GetCallback$1");const Q$={show:mS,hide:mS};var xS=r(function(e,t){return function(i,a,y,S){a==="panel"&&y.moveChild(i,S?0:e,t)}},"GetCallback");const j$={show:xS,hide:xS},Sv={visible:$$,fade:J$,move:Q$,"move-panel":j$};var q$=r(function(e){var t,i;[t,...i]=typeof e=="string"?[e]:e;var a,y;return Sv.hasOwnProperty(t)?(a=Sv[t].show.apply(null,i),y=Sv[t].hide.apply(null,i)):(a=oe,y=oe),{show:a,hide:y}},"GetDefaultCallbacks");const _$={showChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("showchild",i,e,this,t),this.resetChildState(i)),this},hideChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("hidechild",i,e,this,t),this.resetChildState(i)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},tK=Fe.prototype.setChildVisible,eK={setChildVisible(e,t){var i;if(typeof e=="string"){var i=e;e=this.sizerChildren[i]}else i=Dd(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===i),tK.call(this,e,t),this}},iK={fadeChild(e,t,i){var a;return typeof e=="string"?(a=e,e=this.sizerChildren[a]):a=Dd(this.sizerChildren,e),t===void 0&&(t=500),i===void 0&&(i=this.currentChildKey===a?1:0),e.fadeIn(t,{start:e.alpha,end:i}),this},fadeChildPromise(e,t,i){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,i),e._fade?Te(e._fade):Promise.resolve()}},sK={moveChild(e,t,i,a){var y;typeof e=="string"?(y=e,e=this.sizerChildren[y]):y=Dd(this.sizerChildren,e),t===void 0&&(t=500);var S=this.currentChildKey===y;if(a===void 0)switch(y){case"leftSide":case"rightSide":a=Lt(e);break;case"topSide":case"bottomSide":a=wt(e);break;default:if(S)switch(this.previousChildKey){case"leftSide":case"rightSide":a=Lt(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":a=wt(this.sizerChildren[this.previousChildKey]);break;default:a=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":a=Lt(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":a=wt(this.sizerChildren[this.currentChildKey]);break;default:a=0;break}break}var n,C,s,o;if(S)switch(y){case"panel":switch(this.previousChildKey){case"leftSide":n=!0;break;case"rightSide":C=!0;break;case"topSide":s=!0;break;case"bottomSide":o=!0;break}break;case"leftSide":C=!0;break;case"rightSide":n=!0;break;case"topSide":o=!0;break;case"bottomSide":s=!0;break}else switch(y){case"panel":switch(this.currentChildKey){case"leftSide":C=!0;break;case"rightSide":n=!0;break;case"topSide":o=!0;break;case"bottomSide":s=!0;break}break;case"leftSide":n=!0;break;case"rightSide":C=!0;break;case"topSide":s=!0;break;case"bottomSide":o=!0;break}return n?e.moveTo(t,`-=${a}`,void 0,i):C?e.moveTo(t,`+=${a}`,void 0,i):s?e.moveTo(t,void 0,`-=${a}`,i):o?e.moveTo(t,void 0,`+=${a}`,i):e.moveTo(0),this},moveChildPromise(e,t,i,a){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,i,a),e._easeMove?Te(e._easeMove):Promise.resolve()}};var PO={};Object.assign(PO,eK,iK,sK);const Ue=Phaser.Utils.Objects.GetValue,GT=class GT extends Ve{constructor(t,i){super(t,i),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var a=Ue(i,"showChildCallback",void 0);if(a)if(Ri(a)){var y=Ue(i,"showChildCallbackScope",void 0);this.on("showchild",a,y);var S=Ue(i,"hideChildCallback",void 0),n=Ue(i,"hideChildCallbackScope",void 0);this.on("hidechild",S,n)}else{var C=q$(a);this.on("showchild",C.show),this.on("hidechild",C.hide)}var s=Ue(i,"background",void 0),o=Ue(i,"panel",void 0),T=Ue(i,"leftSide",void 0),c=Ue(i,"rightSide",void 0),l=Ue(i,"topSide",void 0),u=Ue(i,"bottomSide",void 0);if(s&&this.addBackground(s),o&&this.add(o,"panel","center",0,!0),T){var h=Ue(i,"expand.left",!0);this.add(T,"leftSide","left-top",0,{height:h})}if(c){var h=Ue(i,"expand.right",!0);this.add(c,"rightSide","right-top",0,{height:h})}if(l){var h=Ue(i,"expand.top",!0);this.add(l,"topSide","left-top",0,{width:h})}if(u){var h=Ue(i,"expand.bottom",!0);this.add(u,"bottomSide","left-bottom",0,{width:h})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}};r(GT,"Sides");let nl=GT;Object.assign(nl.prototype,_$,PO);rt.register("sides",function(e){var t=new nl(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Sides",nl);var rK=r(function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this},"RegisterInputHandler");const nK=Phaser.Utils.Array.GetFirst,aK=Phaser.Utils.Array.Remove;var hK=r(function(e){var t=nK(this.inputHandlers,"name",e);return t&&aK(this.inputHandlers,t),this},"RemoveInputHandler");const UT=class UT extends wi{constructor(t,i){i=bd(t,i),super(t,i),this.type="rexTweaker.Title"}setTitle(t){return t=t?ge(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}};r(UT,"Title");let $r=UT;const HT=class HT extends $r{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTweaker.FolderTitle";var a=new Dr(t,i.expandedIcon);t.add.existing(a),this.addSpace().add(a,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",a)}setExpandedState(t){t===void 0&&(t=!0);var i=t?"down":"right",a=this.childrenMap.expandedIcon;return a.setDirection(i),this}};r(HT,"FolderTitle");let Up=HT;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var RO=r(function(e,t){var i=Si(e);for(var a in t)i.hasOwnProperty(a)||(i[a]=t[a]);return i},"Merge$1"),io=r(function(e,t,i){return le(e,RO(t,i))},"CreateBackground");const oK={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},lK={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}},YT=class YT extends Al{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexTweaker.Folder"}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}};r(YT,"Folder");let Kf=YT;Object.assign(Kf.prototype,oK,lK);const Ln=Phaser.Utils.Objects.GetValue;var uK=r(function(e,t,i){var a=e.scene,y=Ln(i,"title")||{},S=new Up(a,y);a.add.existing(S),S.on("folder.expand",function(){S.setExpandedState(!0)}).on("folder.collapse",function(){S.setExpandedState(!1)});var n={root:Ln(i,"root"),styles:Ln(i,"tweaker"),space:Ln(i,"space")||{}},C=e.createTweaker(n),s=Ln(i,"background"),o=io(a,t,s),T=new Kf(a,{title:S,child:C,background:o,transition:{duration:Ln(i,"transition.duration",200)}});return a.add.existing(T),T},"CreateFolder");const TS=Phaser.Utils.Objects.GetValue;var fK=r(function(e){e===void 0&&(e={});var t=TS(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var i=uK(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var a=TS(e,"expanded",!0);a!==void 0&&i.setExpandedState(a);var y=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,y),y},"AddFolder");const dK={setBindingTarget(e){for(var t=this.childrenMap.pages.children,i=0,a=t.length;i<a;i++)t[i].setBindingTarget(e);return this}},cK={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,i=0,a=t.length;i<a;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,i=0,a=t.length;i<a;i++)t[i].setInputRowTitleWidth(e);return this}},VT=class VT extends Vd{constructor(t,i){super(t,i),this.type="rexTweaker.TabPages"}};r(VT,"TabPages");let Zf=VT;Object.assign(Zf.prototype,dK,cK);const Fu=Phaser.Utils.Objects.GetValue;var vK=r(function(e,t,i){var a=e.scene,y=new Zf(a,i);a.add.existing(y);for(var S=Fu(i,"tab"),n={root:Fu(i,"root"),styles:Fu(i,"tweaker")},C=Fu(t,"pages")||[],s=0,o=C.length;s<o;s++){var T=C[s];y.addPage({key:T.title,tab:pe(a,S).setActiveState(!1).resetDisplayContent({text:T.title}),page:e.createTweaker(n)})}return y.on("tab.focus",function(c,l){c.setActiveState(!0)}).on("tab.blur",function(c,l){c.setActiveState(!1)}),y},"CreateTab");const yS=Phaser.Utils.Objects.GetValue;var pK=r(function(e){e===void 0&&(e={});var t=yS(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var i=vK(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0});for(var a=yS(e,"pages")||[],y=[],S=0,n=0,C=a.length;n<C;n++){var s=i.getPage(n),o=a[n].show;o&&(S=n);var T=a[n].key;T&&this.root.addChildrenMap(T,s),y.push(s)}return i.swapPage(S,0),y},"AddTab");const gK={setBindingTarget(e){for(var t=this.childrenMap.columns,i=0,a=t.length;i<a;i++)t[i].setBindingTarget(e);return this}},mK={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,i=0,a=t.length;i<a;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,i=0,a=t.length;i<a;i++)t[i].setInputRowTitleWidth(e);return this}},wn=Phaser.Utils.Objects.GetValue,WT=class WT extends Tt{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Columns";var a=wn(i,"background",void 0),y=wn(i,"title",void 0);a&&this.addBackground(a),y&&this.add(y,{expand:!0,space:{bottom:wn(i,"space.title",0)}});var S=new Tt(t,{orientation:"x",space:{item:wn(i,"space.column",0)}});t.add.existing(S);for(var n=wn(i,"columns",void 0),C,s,o=0,T=n.length;o<T;o++)C=n[o],s=C.child,S.add(C.child,{proportion:s.minWidth===0?1:0,expand:wn(C,"expand",!0)});this.add(S,{expand:!0}),this.addChildrenMap("title",y),this.addChildrenMap("columnsSizer",S),this.addChildrenMap("columns",S.childrenMap.items)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}};r(WT,"Columns");let Jf=WT;Object.assign(Jf.prototype,gK,mK);const Tr=Phaser.Utils.Objects.GetValue;var xK=r(function(e,t,i){var a=e.scene,y=Tr(i,"title")||{},S=new $r(a,y);a.add.existing(S);var n={root:Tr(i,"root"),styles:Tr(i,"tweaker")},C=Tr(i,"background");C&&!Array.isArray(C)&&(C=[C]);var s=Tr(t,"columns",2);if(typeof s=="number"){var o=s;s=[];for(var T=0,c=o;T<c;T++)s.push({})}for(var T=0,c=s.length;T<c;T++){var l=s[T];C&&(n.background=C[T%C.length]),n.width=Tr(l,"width",0);var u=e.createTweaker(n);l.child=u}var h=new Jf(a,{title:S,columns:s,space:Tr(i,"space")});return a.add.existing(h),h},"CreateColumns");const CS=Phaser.Utils.Objects.GetValue;var TK=r(function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=CS(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var i=xK(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var a=CS(e,"columns",void 0);if(a&&Array.isArray(a))for(var y=0,S=a.length;y<S;y++){var n=a[y].key;n&&this.root.addChildrenMap(n,i.getColumn(y))}return i.getColumns()},"AddColumns");const yK={setBindingTarget(e){for(var t=this.childrenMap.child,i=0,a=t.length;i<a;i++)t[i].setBindingTarget(e);return this}},CK={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}},bu=Phaser.Utils.Objects.GetValue,kT=class kT extends Tt{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Wrap";var a=bu(i,"background",void 0),y=bu(i,"title",void 0);a&&this.addBackground(a),y&&this.add(y,{expand:!0,space:{bottom:bu(i,"space.title",0)}});var S=bu(i,"child",void 0);this.add(S,{expand:!0}),this.addChildrenMap("title",y),this.addChildrenMap("child",S)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}};r(kT,"Wrap");let Qf=kT;Object.assign(Qf.prototype,yK,CK);const Yi=Phaser.Utils.Objects.GetValue;var EK=r(function(e,t,i){var a=e.scene,y=Yi(i,"title")||{},S=new $r(a,y);a.add.existing(S);var n=Yi(i,"itemWidth",0),C=Yi(i,"itemHeight",0),s={root:Yi(i,"root"),styles:Yi(i,"tweaker"),space:Yi(i,"space"),align:Yi(i,"align",5),wrap:!0,itemWidth:Yi(t,"itemWidth",n),itemHeight:Yi(t,"itemHeight",C)};Yi(i,"background");var o=e.createTweaker(s),T=new Qf(a,{title:S,child:o});return a.add.existing(T),T},"CreateWrap");const SK=Phaser.Utils.Objects.GetValue;var AK=r(function(e){e===void 0&&(e={});var t=SK(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var i=EK(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var a=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,a),a},"AddWrap");const PK={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},RK={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}},XT=class XT extends zr{constructor(t,i){super(t,i),this.type="rexTweaker.Scrollable"}setTitle(t){var i=this.childrenMap.header;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}};r(XT,"Scrollable");let jf=XT;Object.assign(jf.prototype,PK,RK);const ws=Phaser.Utils.Objects.GetValue;var OK=r(function(e,t,i){var a=e.scene,y=ws(i,"title")||{},S=new $r(a,y);a.add.existing(S);var n={root:ws(i,"root"),styles:ws(i,"tweaker"),space:ws(i,"space")||{}},C=e.createTweaker(n),s=ws(i,"slider");if(s){s=ge(s);var o=s.track;o&&(s.track=io(a,t,o));var T=s.thumb;T&&(s.thumb=io(a,t,T))}var c=ws(i,"background"),l=io(a,t,c),u=new jf(a,{scrollMode:0,header:S,panel:{child:C,mask:{padding:1}},slider:s,background:l,height:ws(t,"height",0),space:ws(i,"space",void 0)});return a.add.existing(u),u},"CreateScrollable");const LK=Phaser.Utils.Objects.GetValue;var wK=r(function(e){e===void 0&&(e={});var t=LK(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var i=OK(this,e,t);delete t.tweaker,delete t.root,this.add(i,{proportion:i.minWidth===0?1:0,expand:!0}),i.setTitle(e);var a=i.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,a),a},"AddScrollable");const ES=Phaser.Utils.Objects.GetValue,MK={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var i=this.childrenMap.inputField;return i.onBindTarget&&i.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=ES(e,"onGetValue"),this.onSetValue=ES(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},DK={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},FK={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,i=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return i+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var i=t.rexSizer.padding;return e-=(i.left+i.right)*t.scaleX,t.minWidth=e,this}},Av=Phaser.Utils.Objects.GetValue,zT=class zT extends Tt{constructor(t,i){super(t,i),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var a=i.inputTitle,y=i.inputField,S=i.background,o=Av(i,"proportion.title",0),n=Av(i,"space.title",0),C;this.orientation===0?C={right:n}:C={bottom:n},this.add(a,{proportion:o,expand:!0,padding:C});var s=y.defaultProportion;s===void 0&&(s=i.defaultExpandWidth?1:0);var o=Av(i,"proportion.inputField",s);this.add(y,{proportion:o,expand:!0}),S&&this.addBackground(S),this.addChildrenMap("title",a),this.addChildrenMap("inputField",y),this.addChildrenMap("background",S),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}};r(zT,"InputRow");let al=zT;Object.assign(al.prototype,MK,DK,FK);var OO=r(function(e,t,i){var a=new $r(e,i);return e.add.existing(a),a},"CreateTitleLabel"),bK=r(function(e){e===void 0&&(e=Tt);const i=class i extends e{get bindingTarget(){var y=this.getParentSizer();return y.bindingTarget}get bindingKey(){var y=this.getParentSizer();return y.bindTargetKey}get value(){return this._value}get root(){var y=this.getParentSizer(),S=y.getParentSizer();return S.root}onBindTarget(y,S){this.onBindTargetCallback&&this.onBindTargetCallback(this,y,S)}validate(y){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(y,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(y){return this.textFormatCallback?y=this.textFormatCallback(y):y=y.toString(),y}set value(y){if(this._value!==y&&(this.validate(y)||(y=this._value),this.filterValueCallback&&(y=this.filterValueCallback(this,y)),this.displayValueCallback&&this.displayValueCallback(this,y),this._value!==y)){var S=this._value;if(this._value=y,!this.syncValueFlag){var n=this.bindingTarget,C=this.bindingKey;this.emit("valuechange",y,S,n,C),this.root.emit("valuechange",y,S,n,C)}}}getValue(){return this.value}setValue(y){return this.value=y,this}syncValue(y){return this.syncValueFlag=!0,this.value=y,this.syncValueFlag=!1,this}setup(y,S){return S===void 0&&(S=!1),(S||y.hasOwnProperty("format"))&&this.setTextFormatCallback(y.format),(S||y.hasOwnProperty("onValidate"))&&this.setValidateCallback(y.onValidate),this.setupCallback&&this.setupCallback(this,y,S),this}setSetupCallback(y){return this.setupCallback=y,this}setFilterValueCallback(y){return this.filterValueCallback=y,this}setDisplayValueCallback(y){return this.displayValueCallback=y,this}setOnBindTargetCallback(y){return this.onBindTargetCallback=y,this}setTextFormatCallback(y){return this.textFormatCallback=y,this}setValidateCallback(y){return this.validateCallback=y,this}};r(i,"InputFiled");let t=i;return t},"GenerateInputFieldClass"),NK=r(function(e,t,i){for(var a,y=this.inputHandlers,S=0,n=y.length;S<n;S++){var C=y[S];if(C.accept(t)){var s=bK(C.baseClass);a=new s(e),e.add.existing(a),a.setSetupCallback(C.setup).setFilterValueCallback(C.filterValue).setDisplayValueCallback(C.displayValue).setOnBindTargetCallback(C.onBindTarget),C.build(a,i);break}}return a&&a.setup(t,!0),a},"CreateInputField");const SS=Phaser.Utils.Objects.GetValue;var BK=r(function(e,t,i){var a=NK.call(this,e,t,i);if(!a)return null;var y=SS(i,"title")||{},S=OO(e,t,y),n=SS(i,"background")||{},C=le(e,n),s=new al(e,{...i,...t,inputTitle:S,inputField:a,background:C});return e.add.existing(s),s.setTitle(t),s.setValueCallbacks(t),s},"CreateInputRow"),GK=r(function(e,t,i){arguments.length===1?(i=e,e=i.bindingTarget,t=i.bindingKey):(i===void 0&&(i={}),i.bindingTarget=e,i.bindingKey=t),i.title||(i.title=t),i.bindingTarget&&i.bindingKey?i.value=i.bindingTarget[i.bindingKey]:i.value=void 0;var a=this.styles.inputRow||{};this.isWrapMode?a.defaultExpandWidth=!0:a.defaultExpandWidth=this.styles.orientation===1;var y=BK.call(this,this.scene,i,a);if(!y)return console.error(`[Tweaker] Can't add Input
    title: ${i.title}
    view: ${i.view}
`),this;if(this.isWrapMode)y.setMinWidth(this.itemWidth),y.setMinHeight(this.itemHeight),this.add(y);else{var S;this.orientation===1?S=0:(S=this.itemWidth>0?0:1,y.minWidth===0&&y.setMinWidth(this.itemWidth)),y.minHeight===0&&y.setMinHeight(this.itemHeight),this.add(y,{proportion:S,expand:!0})}if(i.onValueChange){var n=y.childrenMap.inputField;n.on("valuechange",i.onValueChange)}return y.setAutoUpdateEnable(i.autoUpdate),y.setBindingTarget(e,t),i.monitor&&y.startMonitorTarget(),i.key&&this.root.addChildrenMap(i.key,y),this},"AddInput"),UK=r(function(e,t){var i=new Zr(e,t);return e.add.existing(i),i},"CreateRoundRectangle");const HK=Phaser.Utils.Objects.GetValue;var YK=r(function(e,t){var i=HK(t,"wrap",!1),a=i?$i:ve,y=new a(e,t);return e.add.existing(y),y},"CreateButtons$2");const Nu=Phaser.Utils.Objects.GetValue;var VK=r(function(e,t,i){for(var a=Nu(i,"title")||{},y=OO(e,t,a),S=t.buttons,n=Nu(i,"button")||{},C=[],s=0,o=S.length;s<o;s++){var T=pe(e,n);C.push(T);var c=S[s];T.resetDisplayContent(c.label),T.callback=c.callback}var l=YK(e,{buttons:C,expand:!0,wrap:Nu(t,"wrap",!1)});l.defaultProportion=1;var u=Nu(i,"background")||{},h=UK(e,u),f=new al(e,{...i,inputTitle:y,inputField:l,background:h});return e.add.existing(f),f.setTitle(t),l.on("button.click",function(v){v.callback(f.bindingTarget)}),f},"CreateButtons$1");const WK=Phaser.Utils.Objects.GetValue;var kK=r(function(e){e===void 0&&(e={});var t=this.scene,i=e.bindingTarget;delete e.bindingTarget;var a=WK(this.styles,"inputRow")||{},y=VK(t,e,a);return this.add(y,{expand:!0}),i&&y.setBindingTarget(i),e.key&&this.root.addChildrenMap(e.key,y),this},"AddButtons"),XK=r(function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},"AddButton"),zK=r(function(e,t,i){return le(e,RO(t,i))},"CreateSeparator");const IK=Phaser.Utils.Objects.GetValue;var $K=r(function(e){e===void 0&&(e={});var t=this.scene,i=IK(this.styles,"separator"),a=zK(t,e,i);return this.add(a,{expand:!0}),this},"AddSeparator"),KK=r(function(e,t,i){return typeof t=="boolean"&&(i=t,t=void 0),i===void 0&&(i=!0),qh(this,ge(e),t,i),this},"AddRows"),qh=r(function(e,t,i,a){if(t)for(var y=0,S=t.length;y<S;y++){var n=t[y];n.hasOwnProperty("$target")&&(i=n.$target,delete n.$target);var C=n.$type;switch(delete n.$type,C){case"folder":var s=e.addFolder(n);qh(s,n.$properties,i,a);break;case"tab":for(var o=e.addTab(n),T=0,c=o.length;T<c;T++)qh(o[T],n.pages[T].$properties,i,a);break;case"columns":for(var l=e.addColumns(n),T=0,c=l.length;T<c;T++)qh(l[T],n.columns[T].$properties,i,a);break;case"scrollable":var u=e.addScrollable(n);qh(u,n.$properties,i,a);break;case"separator":e.addSeparator();break;case"button":n.bindingTarget=i,e.addButton(n);break;case"buttons":n.bindingTarget=i,e.addButtons(n);break;default:var h=n.$key;if(delete n.$key,h.indexOf(".")===-1)n.bindingTarget=i,n.bindingKey=h;else{var f=h.split(".");n.bindingKey=f.pop();for(var v=i,d=0,p=f.length;d<p;d++)if(v=v[f[d]],!i){console.warn(`[Monitor] Key path '${h}' is invalid`);continue}n.bindingTarget=v}n.hasOwnProperty("monitor")||(n.monitor=a),e.addInput(n);break}}},"AddProperties"),ZK=r(function(e){for(var t=this.sizerChildren,i=0,a=t.length;i<a;i++){var y=t[i];y.setBindingTarget&&y.setBindingTarget(e)}return this},"SetBindingTarget"),JK=r(function(){for(var e=0,t=this.sizerChildren,i=0,a=t.length;i<a;i++){var y=t[i];y.rexSizer.hidden||(y.getMinTitleWidth?e=Math.max(e,y.getMinTitleWidth()):y.getMaxInputRowTitleWidth&&(e=Math.max(e,y.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},"GetMaxInputRowTitleWidth"),QK=r(function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,i=0,a=t.length;i<a;i++){var y=t[i];y.rexSizer.hidden||(y.setMinTitleWidth?y.setMinTitleWidth(e):y.setInputRowTitleWidth&&y.setInputRowTitleWidth(e))}return this},"SetInputRowTitleWidth"),jK={registerInputHandler:rK,removeInputHandler:hK,addFolder:fK,addTab:pK,addColumns:TK,addWrap:AK,addScrollable:wK,addInput:GK,addButtons:kK,addButton:XK,addSeparator:$K,addRows:KK,setBindingTarget:ZK,getMaxInputRowTitleWidth:JK,setInputRowTitleWidth:QK};const Ms=Phaser.Utils.Objects.GetValue;var LO=r(function(e){var t=Ms(e,"wrap",!1),i=t?Ii:Tt;const y=class y extends i{constructor(n,C){C===void 0&&(C={}),C.orientation===void 0&&(C.orientation=t?0:1),super(n,C),this.type="rexTweakerShell",this.isWrapMode=t,C.root?(this.root=C.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=Ms(C,"styles")||{},this.styles.orientation=this.orientation;var s=Ms(C,"itemWidth");s===void 0&&(s=Ms(this.styles,"itemWidth",0)),this.itemWidth=s;var o=Ms(C,"itemHeight");if(o===void 0&&(o=Ms(this.styles,"itemHeight",0)),this.itemHeight=o,t||this.root===this&&this.orientation===1){var T=Ms(C,"inputRow.alignTitle");if(T===void 0){var c=Ms(this.styles,"inputRow.proportion.title");T=!c}else T&&it(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=T}else this.alignInputRowTitleStartFlag=!1;var l=io(n,void 0,C.background);l&&this.addBackground(l)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(n,C){C===void 0&&(C=!0);var s=LO(n),o=new s(this.scene,n);return C&&this.scene.add.existing(o),o}};r(y,"TweakerShell");let a=y;return Object.assign(a.prototype,jK),a},"GenerateTweakerShellClass"),qK=r(function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},"SetInputTextReadOnly$4");const _K={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var i=e.scene;e.type="rexTweaker.TextInput";var a=t.inputText,y=Ks(i,a);e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&qK(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var tZ=r(function(e,t,i){i===void 0&&(i=!0),i?t=t?ge(t):{}:t||(t={});var a=new oh(e,t);return e.add.existing(a),a},"CreateInputTextArea"),eZ=r(function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},"SetInputTextReadOnly$3");const iZ={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var i=e.scene;this.type="rexTweaker.TextAreaInput";var a=t.inputTextArea;a===void 0&&(a={}),a.hasOwnProperty("text")||(a.text=t.inputText),a.hasOwnProperty("slider")||(a.slider=t.slider);var y=tZ(i,a);e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&eZ(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}};var sZ=r(function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},"SetInputTextReadOnly$2");const rZ={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var i=e.scene;e.type="rexTweaker.NumberInput";var a=t.inputNumber||t.inputText,y=Ks(i,a).setNumberInput();e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&sZ(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var nZ=r(function(e,t){var i=new $s(e,t);return e.add.existing(i),i},"CreateSlider");const Pv=Phaser.Utils.Objects.GetValue,aZ=Phaser.Math.Linear,hZ=Phaser.Math.Snap.Floor;var oZ=r(function(e,t,i,a){e.minValue=t,e.maxValue=i,e.step=a;var y=e.childrenMap.slider;y.setGap(a,t,i)},"SetRange"),lZ=r(function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},"SetInputTextReadOnly$1");const uZ={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var i=e.scene;e.type="rexTweaker.RangeInput";var a=t.slider,y=e.orientation===0?"track.height":"track.width",S=Pv(a,y),n=nZ(i,a),T=t.defaultExpandWidth?2:0,c=Pv(t,"proportion.range.slider",T),C=S===void 0;e.add(n,{proportion:c,expand:C,key:"slider"});var s=t.inputNumber||t.inputText,o=Ks(i,s).setNumberInput(),T=t.defaultExpandWidth?1:0,c=Pv(t,"proportion.range.inputText",T);e.add(o,{proportion:c,expand:!0,key:"inputText"}),o.on("close",function(){e.setValue(o.value)}),n.on("valuechange",function(){var l=aZ(e.minValue,e.maxValue,n.value);e.step&&(l=hZ(l,e.step,e.minValue)),e.setValue(l)})},setup(e,t,i){(i||t.hasOwnProperty("max"))&&oZ(e,t.min,t.max,t.step),(i||t.hasOwnProperty("inputTextReadOnly"))&&lZ(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.slider;i.setValue(t,e.minValue,e.maxValue);var a=e.childrenMap.inputText;a.setText("").setText(e.getFotmatText(t))}};var wO=r(function(e,t){var i=new ve(e,t);return e.add.existing(i),i},"CreateButtons");const fZ=Phaser.Utils.Objects.GetValue;var dZ=r(function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)},"SetInputTextReadOnly");const cZ={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var i=e.scene;e.type="rexTweaker.IncDecInput";var a=fZ(t,"incDec")||{},y={text:null,action:null},S=wO(i,{expand:!1}),n=t.defaultExpandWidth?1:0;e.add(S,{proportion:n,expand:!0});var C=t.inputNumber||t.inputText,s=Ks(i,C).setNumberInput();s.on("close",function(){e.setValue(s.value)});var o=Object.assign(ge(y),a.incButton||{}),T=pe(i,o),c=Object.assign(ge(y),a.decButton||{}),l=pe(i,c);S.addButton(T),S.addButton(l);var u=a.inputTextIndex||0;S.insert(u,s,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,S.on("button.click",function(h,f,v,d){var p=e.value;f===0?p+=e.step:p-=e.step,e.maxValue!==void 0&&p>e.maxValue&&(p=e.maxValue),e.minValue!==void 0&&p<e.minValue&&(p=e.minValue),e.setValue(p)}),e.addChildrenMap("incButton",T),e.addChildrenMap("decButton",l),e.addChildrenMap("inputText",s)},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&dZ(e,!!t.inputTextReadOnly),(i||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(i||t.hasOwnProperty("min"))&&(e.minValue=t.min),(i||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText("").setText(e.getFotmatText(t))}};var vZ=r(function(e,t,i){i===void 0&&(i=!0),i?t=t?ge(t):{}:t||(t={});var a=new lh(e,t);return e.add.existing(a),a},"CreateColorInput");const pZ={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ColorInput";var a=t.colorInput;a===void 0&&(a={}),a.hasOwnProperty("inputText")||(a.inputText=t.inputText);var y=vZ(i,a);e.add(y,{proportion:1,expand:!0,key:"colorInput"}),y.on("valuechange",function(S){e.setValue(S)})},displayValue(e,t){var i=e.childrenMap.colorInput;i.setValue(t)}};var gZ=r(function(e,t){var i=new So(e,t);return e.add.existing(i),i},"CreateCheckbox");const mZ={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var i=e.scene;e.type="rexTweaker.CheckboxInput";var a=t.checkbox,y=gZ(i,a),S=a.size;S!==void 0&&y.setSize(S,S);var n=S!==void 0?0:1;e.add(y,{proportion:0,expand:!1,fitRatio:n,key:"checkbox"}),y.on("valuechange",function(C){e.setValue(C)})},displayValue(e,t){var i=e.childrenMap.checkbox;i.setValue(t)}};var xZ=r(function(e,t){var i=new Ao(e,t);return e.add.existing(i),i},"CreateToggleSwitch");const TZ={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ToggleSwitchInput";var a=t.toggleSwitch,y=xZ(i,a),S=a.size;S!==void 0&&y.setSize(S,S);var n=S!==void 0?0:1;e.addSpace().add(y,{proportion:0,expand:!1,fitRatio:n,key:"toggleSwitch"}),y.on("valuechange",function(C){e.setValue(C)})},displayValue(e,t){var i=e.childrenMap.toggleSwitch;i.setValue(t)}};var yZ=r(function(e,t){t=eO(e,t);var i=new Ir(e,t);return e.add.existing(i),i},"CreateDropDownList"),MO=r(function(e,t){for(var i=0,a=e.length;i<a;i++){var y=e[i];if(y.value===t)return i}},"GetOptionIndex"),CZ=r(function(e,t){var i=MO(e,t);if(i!=null)return e[i]},"GetOption"),EZ=r(function(e,t){var i=e.childrenMap.list;i.setOptions(t)},"SetOptions$1");const SZ={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var i=e.scene;e.type="rexTweaker.ListInput";var a=yZ(i,t.list);e.add(a,{proportion:1,expand:!0,key:"list"}),a.on("button.click",function(y,S,n,C,s,o){e.setValue(n.value)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&EZ(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,a=CZ(i.options,t);i.resetDisplayContent(a).setMinSize(i.width,i.height).layout().setMinSize(0,0)}};var AZ=r(function(e,t){for(var i=0,a=e.length;i<a;i++){var y=e[i];y&&y.setActiveState(i===t)}},"SetButtonsActiveStateByIndex");const PZ=Phaser.Utils.Objects.GetValue;var RZ=r(function(e,t){var i=e.childrenMap.list;i.options=t;var a=e.scene,y=i.buttonConfig;i.clearButtons(!0);for(var S=0,n=t.length;S<n;S++){var C=t[S],s=pe(a,y).setActiveState(!1).resetDisplayContent({text:C.text});i.addButton(s)}},"SetOptions");const OZ={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ButtonsInput";var a=t.button?ge(t.button):{},y=PZ(a,"expand",!0);y&&(a.align="center"),delete a.expand;var S=wO(i,{expand:y});S.buttonConfig=a,e.add(S,{proportion:1,expand:!0,key:"list"}),S.on("button.click",function(n,C,s,o){var T=S.options[C];T&&(e._selectedIndex=C,e.setValue(T.value),e._selectedIndex=void 0)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&RZ(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,a=e._selectedIndex;a===void 0&&(a=MO(i.options,t)),AZ(i.childrenMap.buttons,a)}};var LZ=r(function(){this.registerInputHandler(_K).registerInputHandler(iZ).registerInputHandler(rZ).registerInputHandler(uZ).registerInputHandler(cZ).registerInputHandler(pZ).registerInputHandler(mZ).registerInputHandler(TZ).registerInputHandler(SZ).registerInputHandler(OZ)},"RegisterDefaultInputHandlers");const IT=class IT extends LO(){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("style")&&(i.styles=i.style),i.styles===void 0&&(i.styles={}),i.background=i.styles.background||{},i.space=i.styles.space||{},super(t,i),this.type="rexTweaker",LZ.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}};r(IT,"Tweaker");let qf=IT;rt.register("tweaker",function(e){var t=new qf(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Tweaker",qf);rt.register("click",function(e,t){return new vs(e,t)});it(window,"RexPlugins.UI.Click",vs);rt.register("clickOutside",function(e,t){return new bo(e,t)});it(window,"RexPlugins.UI.ClickOutside",bo);rt.register("inTouching",function(e,t){return new Is(e,t)});it(window,"RexPlugins.UI.InTouching",Is);rt.register("tap",function(e,t){return He(e)||(t=e,e=this.scene),new za(e,t)});it(window,"RexPlugins.UI.Tap",za);rt.register("press",function(e,t){return He(e)||(t=e,e=this.scene),new Ia(e,t)});it(window,"RexPlugins.UI.Press",Ia);rt.register("swipe",function(e,t){return He(e)||(t=e,e=this.scene),new Nr(e,t)});it(window,"RexPlugins.UI.Swipe",Nr);rt.register("pan",function(e,t){return He(e)||(t=e,e=this.scene),new Sf(e,t)});it(window,"RexPlugins.UI.Pan",Sf);rt.register("drag",function(e,t){return new rl(e,t)});it(window,"RexPlugins.UI.Drag",rl);rt.register("pinch",function(e){return new Af(this.scene,e)});it(window,"RexPlugins.UI.Pinch",Af);rt.register("rotate",function(e){return new Bo(this.scene,e)});it(window,"RexPlugins.UI.Rotate",Bo);const wZ=Phaser.Utils.Objects.IsPlainObject,AS=Phaser.Utils.Objects.GetValue;var PS=r(function(e,t,i){var a;if(e===void 0)e=i.texture.key,t=i.frame.name;else if(wZ(e)){var y=e;e=AS(y,"key",i.texture.key),t=AS(y,"frame",i.frame.name)}else typeof e=="string"||(a=e);return a===void 0&&(a=r(function(S){S.setTexture(e,t)},"callback")),a},"GetFrameUpdatingCallback");const Jh=Phaser.Utils.Objects.GetValue,MZ=Phaser.Utils.Objects.GetAdvancedValue,DZ=Phaser.Math.Linear,$T=class $T extends ls{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(MZ(t,"duration",500)),this.setEase(Jh(t,"ease","Sine")),this.setOrientation(Jh(t,"orientation",0)),this.setFrontFace(Jh(t,"front",void 0)),this.setBackFace(Jh(t,"back",void 0)),this.setFace(Jh(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=FZ[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=bZ[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,i){return this.frontFaceCallback=PS(t,i,this.parent),this}setBackFace(t,i){return this.backFaceCallback=PS(t,i,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,i){i.justRestart&&this.toggleFace();var a=i.t;i.isOddIteration&&(a=1-a),a=this.easeFn(a);var y=DZ(this.scale0,0,a);this.orientation===0?t.scaleX=y:t.scaleY=y}};r($T,"Flip");let _f=$T;const FZ={x:0,horizontal:0,y:1,vertical:1},bZ={front:0,back:1};rt.register("flip",function(e,t){return new _f(e,t)});it(window,"RexPlugins.UI.Flip",_f);rt.register("shake",function(e,t){return new Mo(e,t)});it(window,"RexPlugins.UI.Shake",Mo);rt.register("touchEventStop",function(e,t){return new ka(e,t)});it(window,"RexPlugins.UI.TouchEventStop",ka);rt.register("perspective",function(e,t){return new Xf(e,t)});it(window,"RexPlugins.UI.Perspective",Xf);const DO=Phaser.Math.RotateAround;var Rv=r(function(e,t,i){var a=e.width/2,y=e.height/2;return Se.x=t-a,Se.y=i-y,DO(Se,0,0,e.rotation),Se.x*=e.scaleX,Se.y*=e.scaleY,Se.x+=e.x,Se.y+=e.y,Se},"LocalXYToWorldXY"),NZ=r(function(e,t,i){var a=e.width/2,y=e.height/2;return Se.x=t-e.x,Se.y=i-e.y,Se.x/=e.scaleX,Se.y/=e.scaleY,DO(Se,0,0,-e.rotation),Se.x+=a,Se.y+=y,Se},"WorldXYToLocalXY"),Se={x:0,y:0};const KT=class KT{constructor(t,i){this.parent=t,this.vertex=i,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,i){var a=this.parent,y=a.height,S=a.frame.cutWidth/y/2,n=a.frame.cutHeight/y/2,C=t/y-S,s=i/y-n,o=this.vertex;return o.x=C,o.y=-s,a.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,i){return this._localXOrigin=t,this._localYOrigin=i,this._localX=t,this._localY=i,this}setLocalXY(t,i,a){return this._localX===t&&this._localY===i?this:(this._localX=t,this._localY=i,a||this.updateVertexPosition(t,i),this)}setWorldXY(t,i){if(this._worldX===t&&this._worldY===i)return this;var a=NZ(this.parent,t,i);return this.setLocalXY(a.x,a.y),this}setPosition(t,i){return this.setWorldXY(t,i),this}getWorldXY(){return Rv(this.parent,this._localX,this._localY)}get x(){var t=Rv(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=Rv(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}};r(KT,"ControlPoint");let Hp=KT;const BZ=Phaser.Geom.Mesh.Vertex,GZ=Phaser.Geom.Mesh.Face;var UZ=r(function(e){for(var t=e.isNinePointMode,i=t?9:4,a=e.vertices,y=e.faces,S=e.controlPoints,n=0;n<i;n++){var C=new BZ;a.push(C),S.push(new Hp(e,C))}var s;t?s=VZ:e.fourPointsModeRTL?s=YZ:s=HZ;for(var n=0,o=s.length;n<o;n+=3){var T=a[s[n+0]],c=a[s[n+1]],l=a[s[n+2]];y.push(new GZ(T,c,l))}t?(e.topLeft=S[0],e.topCenter=S[1],e.topRight=S[2],e.centerLeft=S[3],e.center=S[4],e.centerRight=S[5],e.bottomLeft=S[6],e.bottomCenter=S[7],e.bottomRight=S[8]):(e.topLeft=S[0],e.topRight=S[1],e.bottomLeft=S[2],e.bottomRight=S[3])},"InitFaces");const HZ=[0,2,3,0,3,1],YZ=[1,3,2,1,2,0],VZ=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var WZ=r(function(e){var t,i=0,a=e.height,y=0,S=e.width;if(e.isNinePointMode){var n=(y+S)/2,C=(i+a)/2;t=[y,i,n,i,S,i,y,C,n,C,S,C,y,a,n,a,S,a]}else t=[y,i,S,i,y,a,S,a];return t},"GetPointPosition");const kZ=Phaser.Utils.Objects.IsPlainObject,Mn=Phaser.Utils.Objects.GetValue;var Fa;let XZ=(Fa=class extends Wf{constructor(t,i,a,y,S,n){kZ(i)&&(n=i,i=Mn(n,"x",0),a=Mn(n,"y",0),y=Mn(n,"key",null),S=Mn(n,"frame",null)),super(t,i,a,y,S),this.type="rexQuadImage",this.isNinePointMode=Mn(n,"ninePointMode",!1),this.fourPointsModeRTL=Mn(n,"rtl",!1),this.controlPoints=[],UZ(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var i=0,a=this.controlPoints.length;i<a;i++)this.controlPoints[i].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=WZ(this),i=this.width,a=this.height,y=this.frame.cutWidth/a/2,S=this.frame.cutHeight/a/2,n=this.frame.u0,C=this.frame.u1,s=this.frame.v0,o=this.frame.v1,T=C-n,c=o-s,l=this.controlPoints,u=0,h=t.length;u<h;u+=2){var f=t[u+0],v=t[u+1],d=u/2,p=f/a-y,g=v/a-S,m=n+T*(f/i),x=s+c*(v/a);this.vertices[d].set(p,-g,0).setUVs(m,x),l[d].resetLocalXY(f,v)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}},r(Fa,"Image"),Fa);Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var RS=r(function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);for(var a=e.width,y=e.height,S=a*.5,n=y*.5,C=Math.tan(t)*n,s=Math.tan(i)*S,o=e.controlPoints,T=0,c=o.length;T<c;T++){var l=o[T],u=l.localXOrigin,h=l.localYOrigin;l.localX=u+(h>n?C:-C),l.localY=h+(u>S?s:-s)}},"Skew");const zZ=Phaser.Utils.Objects.IsPlainObject,Bu=Phaser.Utils.Objects.GetValue,OS=Phaser.Math.DegToRad,LS=Phaser.Math.RadToDeg,ZT=class ZT extends XZ{constructor(t,i,a,y,S){if(zZ(i)){var n=i;i=Bu(n,"x",0),a=Bu(n,"y",0),y=Bu(n,"key",null),S=Bu(n,"frame",null)}super(t,i,a,y,S),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,RS(this,this._skewX,this._skewY)}get skewXDeg(){return LS(this._skewX)}set skewXDeg(t){this.skewX=OS(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,RS(this,this._skewX,this._skewY)}get skewYDeg(){return LS(this._skewY)}set skewYDeg(t){this.skewY=OS(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,i){return i===void 0&&(i=t),this.skewX=t,this.skewY=i,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,i){return i===void 0&&(i=t),this.skewXDeg=t,this.skewYDeg=i,this}};r(ZT,"SkewImage");let Yp=ZT;const IZ=Phaser.Utils.Objects.IsPlainObject,Gu=Phaser.Utils.Objects.GetValue,JT=class JT extends Yp{constructor(t,i,a,y,S){if(IZ(i)){var n=i;i=Gu(n,"x",0),a=Gu(n,"y",0),y=Gu(n,"width",32),S=Gu(n,"height",32)}var C=uO(t,y,S);super(t,i,a,C,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}};r(JT,"SkewRenderTexture");let Vp=JT;const QT=class QT extends dO(Vp){get skewState(){return this.isRunning}};r(QT,"ContainerSkew");let td=QT;rt.register("skew",function(e,t){return new td(e,t)});it(window,"RexPlugins.UI.Skew",td);rt.register("anchor",function(e,t){return new Lo(e,t)});it(window,"RexPlugins.UI.Anchor",Lo);rt.register("textTyping",function(e,t){return new nh(e,t)});it(window,"RexPlugins.UI.TextTyping",nh);rt.register("textPage",function(e,t){return new rh(e,t)});it(window,"RexPlugins.UI.TextPage",rh);var Un=void 0,$Z=r(function(e){e!==Un&&(Un!==void 0&&Un.close(),Un=e)},"SetLastOpenedEditor"),KZ=r(function(e){e===Un&&(Un=void 0)},"CloseLastOpenEditor");const Vi=Phaser.Utils.Objects.GetValue,ZZ=Phaser.Utils.Objects.Clone;var JZ=r(function(e,t){t===void 0&&(t={}),t=ZZ(t);var i=e.scene,a=e.style,y=Vi(t,"backgroundColor",a.backgroundColor);y===null&&(y="transparent"),t.text=Vi(t,"text",e.text),t.fontFamily=Vi(t,"fontFamily",a.fontFamily),t.fontSize=Vi(t,"fontSize",a.fontSize),t.color=Vi(t,"color",a.color),t.backgroundColor=y,t.direction=Vi(t,"rtl",a.rtl)?"rtl":"ltr",t.align=Vi(t,"align",QZ(a)),t.direction==="rtl"&&qg(e)&&(t.align="right");var S=e.padding;S.left>0&&(t.paddingLeft=`${S.left}px`),S.right>0&&(t.paddingRight=`${S.right}px`),a.backgroundCornerRadius&&(t.borderRadius=Vi(t,"borderRadius",`${a.backgroundCornerRadius}px`));var n=new fs(i,e.x,e.y,Vi(t,"width",e.width),Vi(t,"height",e.height),t);n.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var C=e.parentContainer;return C?C.add(n):i.add.existing(n),n},"CreateInputText"),QZ=r(function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},"GetHAlign"),jZ=r(function(e,t,i){return e.time.delayedCall(0,t,[],i)},"NextTick");const yr=Phaser.Utils.Objects.GetValue,qZ=Phaser.Utils.Objects.Merge;var _Z=r(function(e,t){e===void 0&&(e={}),e=qZ(e,this.openConfig),$Z(this),Ri(e)&&(t=e,e=void 0);var i=yr(e,"inputType",void 0);i===void 0&&(i=yr(e,"type","text")),t===void 0&&(t=yr(e,"onClose",void 0));var a=yr(e,"onCreate",void 0),y=yr(e,"onOpen",void 0),S=yr(e,"onTextChanged",void 0);return this.inputText=JZ(this.parent,e),a&&a(this.parent,this.inputText),this.inputText.on("textchange",function(n){var C=n.text;S?S(this.parent,C):this.parent.text=C},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,yr(e,"enterClose",i!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=jZ(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),y&&y(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},"Open"),tJ=r(function(){return KZ(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},"Close"),eJ={open:_Z,close:tJ};const iJ=Phaser.Utils.Objects.GetValue,jT=class jT extends Yt{constructor(t,i){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(i);var a=iJ(i,"clickEnable",!0);a&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}};r(jT,"TextEdit");let uh=jT;Object.assign(uh.prototype,eJ);var sJ=r(function(e,t,i){return e._edit||(e._edit=new uh(e,{clickEnable:!1})),e._edit.open(t,i),e._edit},"Edit");rt.register("textEdit",function(e,t){return new uh(e,t)});it(window,"RexPlugins.UI.TextEdit",uh);rt.register("layerManager",function(e){return new Na(this.scene,e)});it(window,"RexPlugins.UI.LayerManager",Na);const qT=class qT extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new rt(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,i,a,y){return t.visible?zi(t,i,a,y):!1}get viewport(){return vh(this.scene,this.scene.cameras.main,!0)}};r(qT,"UIPlugin");let ed=qT;var rJ={getParentSizer:Qe,getTopmostSizer:DP,removeFromParent:Er,hide:Gs,show:Bs,isShown:zg,confirmAction:IR,edit:sJ,wrapExpandText:Of,fontSizeExpandText:wf,fontSizeResize:Lf,setFontSizeToFitWidth:Lf,waitEvent:yd,waitComplete:Te,delayPromise:fR,setChildrenInteractive:wd,fadeIn:Ad,fadeOutDestroy:Pd,easeMoveTo:XP,easeMoveFrom:zP,modal:Ig,modalPromise:Z8,modalClose:QP,requestDrag:AO,openFileChooser:cR};Object.assign(ed.prototype,rJ);function nJ(e,t,i,a){var y=new Ws(this.scene,e,t,i,a);return this.scene.add.existing(y),y}r(nJ,"Factory$2");const Uu=Phaser.Utils.Objects.GetAdvancedValue,aJ=Phaser.GameObjects.BuildGameObject;function hJ(e,t){e===void 0&&(e={}),t!==void 0&&(e.add=t);var i=Uu(e,"text",""),a=Uu(e,"style",null),y=Uu(e,"padding",null);y!==null&&(a.padding=y);var S=new Ws(this.scene,0,0,i,a);return aJ(this.scene,S,e),S.autoRound=Uu(e,"autoRound",!0),S}r(hJ,"Creator$2");const _T=class _T extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("rexBBCodeText",nJ,hJ)}start(){var t=this.game.events;t.on("destroy",this.destroy,this)}};r(_T,"BBCodeTextPlugin");let Wp=_T;it(window,"RexPlugins.GameObjects.BBCodeText",Ws);function oJ(e,t,i,a,y){var S=new fs(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S}r(oJ,"Factory$1");const wS=Phaser.Utils.Objects.GetAdvancedValue,lJ=Phaser.GameObjects.BuildGameObject;function uJ(e,t){e===void 0&&(e={}),t!==void 0&&(e.add=t);var i=wS(e,"width",void 0),a=wS(e,"height",void 0),y=new fs(this.scene,0,0,i,a,e);return lJ(this.scene,y,e),y}r(uJ,"Creator$1");const ty=class ty extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("rexInputText",oJ,uJ)}start(){var t=this.game.events;t.on("destroy",this.destroy,this)}};r(ty,"InputTextPlugin");let kp=ty;it(window,"RexPlugins.GameObjects.InputText",fs);function fJ(e,t,i,a,y){var S=new Br(this.scene,e,t,i,a,y);return this.scene.add.existing(S),S}r(fJ,"Factory");const MS=Phaser.Utils.Objects.GetAdvancedValue,dJ=Phaser.GameObjects.BuildGameObject;function cJ(e,t){e===void 0&&(e={}),t!==void 0&&(e.add=t);var i=MS(e,"key",null),a=MS(e,"frame",null),y=new Br(this.scene,0,0,i,a,e);return dJ(this.scene,y,e),y}r(cJ,"Creator");const ey=class ey extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("rexTransitionImagePack",fJ,cJ)}boot(){var t=this.game.events;t.on("destroy",this.destroy,this)}};r(ey,"TransitionImagePackPlugin");let Xp=ey;it(window,"RexPlugins.GameObjects.TransitionImagePack",Br);var FO=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ABBREVIATED=1]="ABBREVIATED",e))(FO||{}),bO=(e=>(e[e.NONE=0]="NONE",e[e.POUND=1]="POUND",e[e.KARATE_CHOP=2]="KARATE_CHOP",e[e.DOUBLE_SLAP=3]="DOUBLE_SLAP",e[e.COMET_PUNCH=4]="COMET_PUNCH",e[e.MEGA_PUNCH=5]="MEGA_PUNCH",e[e.PAY_DAY=6]="PAY_DAY",e[e.FIRE_PUNCH=7]="FIRE_PUNCH",e[e.ICE_PUNCH=8]="ICE_PUNCH",e[e.THUNDER_PUNCH=9]="THUNDER_PUNCH",e[e.SCRATCH=10]="SCRATCH",e[e.VISE_GRIP=11]="VISE_GRIP",e[e.GUILLOTINE=12]="GUILLOTINE",e[e.RAZOR_WIND=13]="RAZOR_WIND",e[e.SWORDS_DANCE=14]="SWORDS_DANCE",e[e.CUT=15]="CUT",e[e.GUST=16]="GUST",e[e.WING_ATTACK=17]="WING_ATTACK",e[e.WHIRLWIND=18]="WHIRLWIND",e[e.FLY=19]="FLY",e[e.BIND=20]="BIND",e[e.SLAM=21]="SLAM",e[e.VINE_WHIP=22]="VINE_WHIP",e[e.STOMP=23]="STOMP",e[e.DOUBLE_KICK=24]="DOUBLE_KICK",e[e.MEGA_KICK=25]="MEGA_KICK",e[e.JUMP_KICK=26]="JUMP_KICK",e[e.ROLLING_KICK=27]="ROLLING_KICK",e[e.SAND_ATTACK=28]="SAND_ATTACK",e[e.HEADBUTT=29]="HEADBUTT",e[e.HORN_ATTACK=30]="HORN_ATTACK",e[e.FURY_ATTACK=31]="FURY_ATTACK",e[e.HORN_DRILL=32]="HORN_DRILL",e[e.TACKLE=33]="TACKLE",e[e.BODY_SLAM=34]="BODY_SLAM",e[e.WRAP=35]="WRAP",e[e.TAKE_DOWN=36]="TAKE_DOWN",e[e.THRASH=37]="THRASH",e[e.DOUBLE_EDGE=38]="DOUBLE_EDGE",e[e.TAIL_WHIP=39]="TAIL_WHIP",e[e.POISON_STING=40]="POISON_STING",e[e.TWINEEDLE=41]="TWINEEDLE",e[e.PIN_MISSILE=42]="PIN_MISSILE",e[e.LEER=43]="LEER",e[e.BITE=44]="BITE",e[e.GROWL=45]="GROWL",e[e.ROAR=46]="ROAR",e[e.SING=47]="SING",e[e.SUPERSONIC=48]="SUPERSONIC",e[e.SONIC_BOOM=49]="SONIC_BOOM",e[e.DISABLE=50]="DISABLE",e[e.ACID=51]="ACID",e[e.EMBER=52]="EMBER",e[e.FLAMETHROWER=53]="FLAMETHROWER",e[e.MIST=54]="MIST",e[e.WATER_GUN=55]="WATER_GUN",e[e.HYDRO_PUMP=56]="HYDRO_PUMP",e[e.SURF=57]="SURF",e[e.ICE_BEAM=58]="ICE_BEAM",e[e.BLIZZARD=59]="BLIZZARD",e[e.PSYBEAM=60]="PSYBEAM",e[e.BUBBLE_BEAM=61]="BUBBLE_BEAM",e[e.AURORA_BEAM=62]="AURORA_BEAM",e[e.HYPER_BEAM=63]="HYPER_BEAM",e[e.PECK=64]="PECK",e[e.DRILL_PECK=65]="DRILL_PECK",e[e.SUBMISSION=66]="SUBMISSION",e[e.LOW_KICK=67]="LOW_KICK",e[e.COUNTER=68]="COUNTER",e[e.SEISMIC_TOSS=69]="SEISMIC_TOSS",e[e.STRENGTH=70]="STRENGTH",e[e.ABSORB=71]="ABSORB",e[e.MEGA_DRAIN=72]="MEGA_DRAIN",e[e.LEECH_SEED=73]="LEECH_SEED",e[e.GROWTH=74]="GROWTH",e[e.RAZOR_LEAF=75]="RAZOR_LEAF",e[e.SOLAR_BEAM=76]="SOLAR_BEAM",e[e.POISON_POWDER=77]="POISON_POWDER",e[e.STUN_SPORE=78]="STUN_SPORE",e[e.SLEEP_POWDER=79]="SLEEP_POWDER",e[e.PETAL_DANCE=80]="PETAL_DANCE",e[e.STRING_SHOT=81]="STRING_SHOT",e[e.DRAGON_RAGE=82]="DRAGON_RAGE",e[e.FIRE_SPIN=83]="FIRE_SPIN",e[e.THUNDER_SHOCK=84]="THUNDER_SHOCK",e[e.THUNDERBOLT=85]="THUNDERBOLT",e[e.THUNDER_WAVE=86]="THUNDER_WAVE",e[e.THUNDER=87]="THUNDER",e[e.ROCK_THROW=88]="ROCK_THROW",e[e.EARTHQUAKE=89]="EARTHQUAKE",e[e.FISSURE=90]="FISSURE",e[e.DIG=91]="DIG",e[e.TOXIC=92]="TOXIC",e[e.CONFUSION=93]="CONFUSION",e[e.PSYCHIC=94]="PSYCHIC",e[e.HYPNOSIS=95]="HYPNOSIS",e[e.MEDITATE=96]="MEDITATE",e[e.AGILITY=97]="AGILITY",e[e.QUICK_ATTACK=98]="QUICK_ATTACK",e[e.RAGE=99]="RAGE",e[e.TELEPORT=100]="TELEPORT",e[e.NIGHT_SHADE=101]="NIGHT_SHADE",e[e.MIMIC=102]="MIMIC",e[e.SCREECH=103]="SCREECH",e[e.DOUBLE_TEAM=104]="DOUBLE_TEAM",e[e.RECOVER=105]="RECOVER",e[e.HARDEN=106]="HARDEN",e[e.MINIMIZE=107]="MINIMIZE",e[e.SMOKESCREEN=108]="SMOKESCREEN",e[e.CONFUSE_RAY=109]="CONFUSE_RAY",e[e.WITHDRAW=110]="WITHDRAW",e[e.DEFENSE_CURL=111]="DEFENSE_CURL",e[e.BARRIER=112]="BARRIER",e[e.LIGHT_SCREEN=113]="LIGHT_SCREEN",e[e.HAZE=114]="HAZE",e[e.REFLECT=115]="REFLECT",e[e.FOCUS_ENERGY=116]="FOCUS_ENERGY",e[e.BIDE=117]="BIDE",e[e.METRONOME=118]="METRONOME",e[e.MIRROR_MOVE=119]="MIRROR_MOVE",e[e.SELF_DESTRUCT=120]="SELF_DESTRUCT",e[e.EGG_BOMB=121]="EGG_BOMB",e[e.LICK=122]="LICK",e[e.SMOG=123]="SMOG",e[e.SLUDGE=124]="SLUDGE",e[e.BONE_CLUB=125]="BONE_CLUB",e[e.FIRE_BLAST=126]="FIRE_BLAST",e[e.WATERFALL=127]="WATERFALL",e[e.CLAMP=128]="CLAMP",e[e.SWIFT=129]="SWIFT",e[e.SKULL_BASH=130]="SKULL_BASH",e[e.SPIKE_CANNON=131]="SPIKE_CANNON",e[e.CONSTRICT=132]="CONSTRICT",e[e.AMNESIA=133]="AMNESIA",e[e.KINESIS=134]="KINESIS",e[e.SOFT_BOILED=135]="SOFT_BOILED",e[e.HIGH_JUMP_KICK=136]="HIGH_JUMP_KICK",e[e.GLARE=137]="GLARE",e[e.DREAM_EATER=138]="DREAM_EATER",e[e.POISON_GAS=139]="POISON_GAS",e[e.BARRAGE=140]="BARRAGE",e[e.LEECH_LIFE=141]="LEECH_LIFE",e[e.LOVELY_KISS=142]="LOVELY_KISS",e[e.SKY_ATTACK=143]="SKY_ATTACK",e[e.TRANSFORM=144]="TRANSFORM",e[e.BUBBLE=145]="BUBBLE",e[e.DIZZY_PUNCH=146]="DIZZY_PUNCH",e[e.SPORE=147]="SPORE",e[e.FLASH=148]="FLASH",e[e.PSYWAVE=149]="PSYWAVE",e[e.SPLASH=150]="SPLASH",e[e.ACID_ARMOR=151]="ACID_ARMOR",e[e.CRABHAMMER=152]="CRABHAMMER",e[e.EXPLOSION=153]="EXPLOSION",e[e.FURY_SWIPES=154]="FURY_SWIPES",e[e.BONEMERANG=155]="BONEMERANG",e[e.REST=156]="REST",e[e.ROCK_SLIDE=157]="ROCK_SLIDE",e[e.HYPER_FANG=158]="HYPER_FANG",e[e.SHARPEN=159]="SHARPEN",e[e.CONVERSION=160]="CONVERSION",e[e.TRI_ATTACK=161]="TRI_ATTACK",e[e.SUPER_FANG=162]="SUPER_FANG",e[e.SLASH=163]="SLASH",e[e.SUBSTITUTE=164]="SUBSTITUTE",e[e.STRUGGLE=165]="STRUGGLE",e[e.SKETCH=166]="SKETCH",e[e.TRIPLE_KICK=167]="TRIPLE_KICK",e[e.THIEF=168]="THIEF",e[e.SPIDER_WEB=169]="SPIDER_WEB",e[e.MIND_READER=170]="MIND_READER",e[e.NIGHTMARE=171]="NIGHTMARE",e[e.FLAME_WHEEL=172]="FLAME_WHEEL",e[e.SNORE=173]="SNORE",e[e.CURSE=174]="CURSE",e[e.FLAIL=175]="FLAIL",e[e.CONVERSION_2=176]="CONVERSION_2",e[e.AEROBLAST=177]="AEROBLAST",e[e.COTTON_SPORE=178]="COTTON_SPORE",e[e.REVERSAL=179]="REVERSAL",e[e.SPITE=180]="SPITE",e[e.POWDER_SNOW=181]="POWDER_SNOW",e[e.PROTECT=182]="PROTECT",e[e.MACH_PUNCH=183]="MACH_PUNCH",e[e.SCARY_FACE=184]="SCARY_FACE",e[e.FEINT_ATTACK=185]="FEINT_ATTACK",e[e.SWEET_KISS=186]="SWEET_KISS",e[e.BELLY_DRUM=187]="BELLY_DRUM",e[e.SLUDGE_BOMB=188]="SLUDGE_BOMB",e[e.MUD_SLAP=189]="MUD_SLAP",e[e.OCTAZOOKA=190]="OCTAZOOKA",e[e.SPIKES=191]="SPIKES",e[e.ZAP_CANNON=192]="ZAP_CANNON",e[e.FORESIGHT=193]="FORESIGHT",e[e.DESTINY_BOND=194]="DESTINY_BOND",e[e.PERISH_SONG=195]="PERISH_SONG",e[e.ICY_WIND=196]="ICY_WIND",e[e.DETECT=197]="DETECT",e[e.BONE_RUSH=198]="BONE_RUSH",e[e.LOCK_ON=199]="LOCK_ON",e[e.OUTRAGE=200]="OUTRAGE",e[e.SANDSTORM=201]="SANDSTORM",e[e.GIGA_DRAIN=202]="GIGA_DRAIN",e[e.ENDURE=203]="ENDURE",e[e.CHARM=204]="CHARM",e[e.ROLLOUT=205]="ROLLOUT",e[e.FALSE_SWIPE=206]="FALSE_SWIPE",e[e.SWAGGER=207]="SWAGGER",e[e.MILK_DRINK=208]="MILK_DRINK",e[e.SPARK=209]="SPARK",e[e.FURY_CUTTER=210]="FURY_CUTTER",e[e.STEEL_WING=211]="STEEL_WING",e[e.MEAN_LOOK=212]="MEAN_LOOK",e[e.ATTRACT=213]="ATTRACT",e[e.SLEEP_TALK=214]="SLEEP_TALK",e[e.HEAL_BELL=215]="HEAL_BELL",e[e.RETURN=216]="RETURN",e[e.PRESENT=217]="PRESENT",e[e.FRUSTRATION=218]="FRUSTRATION",e[e.SAFEGUARD=219]="SAFEGUARD",e[e.PAIN_SPLIT=220]="PAIN_SPLIT",e[e.SACRED_FIRE=221]="SACRED_FIRE",e[e.MAGNITUDE=222]="MAGNITUDE",e[e.DYNAMIC_PUNCH=223]="DYNAMIC_PUNCH",e[e.MEGAHORN=224]="MEGAHORN",e[e.DRAGON_BREATH=225]="DRAGON_BREATH",e[e.BATON_PASS=226]="BATON_PASS",e[e.ENCORE=227]="ENCORE",e[e.PURSUIT=228]="PURSUIT",e[e.RAPID_SPIN=229]="RAPID_SPIN",e[e.SWEET_SCENT=230]="SWEET_SCENT",e[e.IRON_TAIL=231]="IRON_TAIL",e[e.METAL_CLAW=232]="METAL_CLAW",e[e.VITAL_THROW=233]="VITAL_THROW",e[e.MORNING_SUN=234]="MORNING_SUN",e[e.SYNTHESIS=235]="SYNTHESIS",e[e.MOONLIGHT=236]="MOONLIGHT",e[e.HIDDEN_POWER=237]="HIDDEN_POWER",e[e.CROSS_CHOP=238]="CROSS_CHOP",e[e.TWISTER=239]="TWISTER",e[e.RAIN_DANCE=240]="RAIN_DANCE",e[e.SUNNY_DAY=241]="SUNNY_DAY",e[e.CRUNCH=242]="CRUNCH",e[e.MIRROR_COAT=243]="MIRROR_COAT",e[e.PSYCH_UP=244]="PSYCH_UP",e[e.EXTREME_SPEED=245]="EXTREME_SPEED",e[e.ANCIENT_POWER=246]="ANCIENT_POWER",e[e.SHADOW_BALL=247]="SHADOW_BALL",e[e.FUTURE_SIGHT=248]="FUTURE_SIGHT",e[e.ROCK_SMASH=249]="ROCK_SMASH",e[e.WHIRLPOOL=250]="WHIRLPOOL",e[e.BEAT_UP=251]="BEAT_UP",e[e.FAKE_OUT=252]="FAKE_OUT",e[e.UPROAR=253]="UPROAR",e[e.STOCKPILE=254]="STOCKPILE",e[e.SPIT_UP=255]="SPIT_UP",e[e.SWALLOW=256]="SWALLOW",e[e.HEAT_WAVE=257]="HEAT_WAVE",e[e.HAIL=258]="HAIL",e[e.TORMENT=259]="TORMENT",e[e.FLATTER=260]="FLATTER",e[e.WILL_O_WISP=261]="WILL_O_WISP",e[e.MEMENTO=262]="MEMENTO",e[e.FACADE=263]="FACADE",e[e.FOCUS_PUNCH=264]="FOCUS_PUNCH",e[e.SMELLING_SALTS=265]="SMELLING_SALTS",e[e.FOLLOW_ME=266]="FOLLOW_ME",e[e.NATURE_POWER=267]="NATURE_POWER",e[e.CHARGE=268]="CHARGE",e[e.TAUNT=269]="TAUNT",e[e.HELPING_HAND=270]="HELPING_HAND",e[e.TRICK=271]="TRICK",e[e.ROLE_PLAY=272]="ROLE_PLAY",e[e.WISH=273]="WISH",e[e.ASSIST=274]="ASSIST",e[e.INGRAIN=275]="INGRAIN",e[e.SUPERPOWER=276]="SUPERPOWER",e[e.MAGIC_COAT=277]="MAGIC_COAT",e[e.RECYCLE=278]="RECYCLE",e[e.REVENGE=279]="REVENGE",e[e.BRICK_BREAK=280]="BRICK_BREAK",e[e.YAWN=281]="YAWN",e[e.KNOCK_OFF=282]="KNOCK_OFF",e[e.ENDEAVOR=283]="ENDEAVOR",e[e.ERUPTION=284]="ERUPTION",e[e.SKILL_SWAP=285]="SKILL_SWAP",e[e.IMPRISON=286]="IMPRISON",e[e.REFRESH=287]="REFRESH",e[e.GRUDGE=288]="GRUDGE",e[e.SNATCH=289]="SNATCH",e[e.SECRET_POWER=290]="SECRET_POWER",e[e.DIVE=291]="DIVE",e[e.ARM_THRUST=292]="ARM_THRUST",e[e.CAMOUFLAGE=293]="CAMOUFLAGE",e[e.TAIL_GLOW=294]="TAIL_GLOW",e[e.LUSTER_PURGE=295]="LUSTER_PURGE",e[e.MIST_BALL=296]="MIST_BALL",e[e.FEATHER_DANCE=297]="FEATHER_DANCE",e[e.TEETER_DANCE=298]="TEETER_DANCE",e[e.BLAZE_KICK=299]="BLAZE_KICK",e[e.MUD_SPORT=300]="MUD_SPORT",e[e.ICE_BALL=301]="ICE_BALL",e[e.NEEDLE_ARM=302]="NEEDLE_ARM",e[e.SLACK_OFF=303]="SLACK_OFF",e[e.HYPER_VOICE=304]="HYPER_VOICE",e[e.POISON_FANG=305]="POISON_FANG",e[e.CRUSH_CLAW=306]="CRUSH_CLAW",e[e.BLAST_BURN=307]="BLAST_BURN",e[e.HYDRO_CANNON=308]="HYDRO_CANNON",e[e.METEOR_MASH=309]="METEOR_MASH",e[e.ASTONISH=310]="ASTONISH",e[e.WEATHER_BALL=311]="WEATHER_BALL",e[e.AROMATHERAPY=312]="AROMATHERAPY",e[e.FAKE_TEARS=313]="FAKE_TEARS",e[e.AIR_CUTTER=314]="AIR_CUTTER",e[e.OVERHEAT=315]="OVERHEAT",e[e.ODOR_SLEUTH=316]="ODOR_SLEUTH",e[e.ROCK_TOMB=317]="ROCK_TOMB",e[e.SILVER_WIND=318]="SILVER_WIND",e[e.METAL_SOUND=319]="METAL_SOUND",e[e.GRASS_WHISTLE=320]="GRASS_WHISTLE",e[e.TICKLE=321]="TICKLE",e[e.COSMIC_POWER=322]="COSMIC_POWER",e[e.WATER_SPOUT=323]="WATER_SPOUT",e[e.SIGNAL_BEAM=324]="SIGNAL_BEAM",e[e.SHADOW_PUNCH=325]="SHADOW_PUNCH",e[e.EXTRASENSORY=326]="EXTRASENSORY",e[e.SKY_UPPERCUT=327]="SKY_UPPERCUT",e[e.SAND_TOMB=328]="SAND_TOMB",e[e.SHEER_COLD=329]="SHEER_COLD",e[e.MUDDY_WATER=330]="MUDDY_WATER",e[e.BULLET_SEED=331]="BULLET_SEED",e[e.AERIAL_ACE=332]="AERIAL_ACE",e[e.ICICLE_SPEAR=333]="ICICLE_SPEAR",e[e.IRON_DEFENSE=334]="IRON_DEFENSE",e[e.BLOCK=335]="BLOCK",e[e.HOWL=336]="HOWL",e[e.DRAGON_CLAW=337]="DRAGON_CLAW",e[e.FRENZY_PLANT=338]="FRENZY_PLANT",e[e.BULK_UP=339]="BULK_UP",e[e.BOUNCE=340]="BOUNCE",e[e.MUD_SHOT=341]="MUD_SHOT",e[e.POISON_TAIL=342]="POISON_TAIL",e[e.COVET=343]="COVET",e[e.VOLT_TACKLE=344]="VOLT_TACKLE",e[e.MAGICAL_LEAF=345]="MAGICAL_LEAF",e[e.WATER_SPORT=346]="WATER_SPORT",e[e.CALM_MIND=347]="CALM_MIND",e[e.LEAF_BLADE=348]="LEAF_BLADE",e[e.DRAGON_DANCE=349]="DRAGON_DANCE",e[e.ROCK_BLAST=350]="ROCK_BLAST",e[e.SHOCK_WAVE=351]="SHOCK_WAVE",e[e.WATER_PULSE=352]="WATER_PULSE",e[e.DOOM_DESIRE=353]="DOOM_DESIRE",e[e.PSYCHO_BOOST=354]="PSYCHO_BOOST",e[e.ROOST=355]="ROOST",e[e.GRAVITY=356]="GRAVITY",e[e.MIRACLE_EYE=357]="MIRACLE_EYE",e[e.WAKE_UP_SLAP=358]="WAKE_UP_SLAP",e[e.HAMMER_ARM=359]="HAMMER_ARM",e[e.GYRO_BALL=360]="GYRO_BALL",e[e.HEALING_WISH=361]="HEALING_WISH",e[e.BRINE=362]="BRINE",e[e.NATURAL_GIFT=363]="NATURAL_GIFT",e[e.FEINT=364]="FEINT",e[e.PLUCK=365]="PLUCK",e[e.TAILWIND=366]="TAILWIND",e[e.ACUPRESSURE=367]="ACUPRESSURE",e[e.METAL_BURST=368]="METAL_BURST",e[e.U_TURN=369]="U_TURN",e[e.CLOSE_COMBAT=370]="CLOSE_COMBAT",e[e.PAYBACK=371]="PAYBACK",e[e.ASSURANCE=372]="ASSURANCE",e[e.EMBARGO=373]="EMBARGO",e[e.FLING=374]="FLING",e[e.PSYCHO_SHIFT=375]="PSYCHO_SHIFT",e[e.TRUMP_CARD=376]="TRUMP_CARD",e[e.HEAL_BLOCK=377]="HEAL_BLOCK",e[e.WRING_OUT=378]="WRING_OUT",e[e.POWER_TRICK=379]="POWER_TRICK",e[e.GASTRO_ACID=380]="GASTRO_ACID",e[e.LUCKY_CHANT=381]="LUCKY_CHANT",e[e.ME_FIRST=382]="ME_FIRST",e[e.COPYCAT=383]="COPYCAT",e[e.POWER_SWAP=384]="POWER_SWAP",e[e.GUARD_SWAP=385]="GUARD_SWAP",e[e.PUNISHMENT=386]="PUNISHMENT",e[e.LAST_RESORT=387]="LAST_RESORT",e[e.WORRY_SEED=388]="WORRY_SEED",e[e.SUCKER_PUNCH=389]="SUCKER_PUNCH",e[e.TOXIC_SPIKES=390]="TOXIC_SPIKES",e[e.HEART_SWAP=391]="HEART_SWAP",e[e.AQUA_RING=392]="AQUA_RING",e[e.MAGNET_RISE=393]="MAGNET_RISE",e[e.FLARE_BLITZ=394]="FLARE_BLITZ",e[e.FORCE_PALM=395]="FORCE_PALM",e[e.AURA_SPHERE=396]="AURA_SPHERE",e[e.ROCK_POLISH=397]="ROCK_POLISH",e[e.POISON_JAB=398]="POISON_JAB",e[e.DARK_PULSE=399]="DARK_PULSE",e[e.NIGHT_SLASH=400]="NIGHT_SLASH",e[e.AQUA_TAIL=401]="AQUA_TAIL",e[e.SEED_BOMB=402]="SEED_BOMB",e[e.AIR_SLASH=403]="AIR_SLASH",e[e.X_SCISSOR=404]="X_SCISSOR",e[e.BUG_BUZZ=405]="BUG_BUZZ",e[e.DRAGON_PULSE=406]="DRAGON_PULSE",e[e.DRAGON_RUSH=407]="DRAGON_RUSH",e[e.POWER_GEM=408]="POWER_GEM",e[e.DRAIN_PUNCH=409]="DRAIN_PUNCH",e[e.VACUUM_WAVE=410]="VACUUM_WAVE",e[e.FOCUS_BLAST=411]="FOCUS_BLAST",e[e.ENERGY_BALL=412]="ENERGY_BALL",e[e.BRAVE_BIRD=413]="BRAVE_BIRD",e[e.EARTH_POWER=414]="EARTH_POWER",e[e.SWITCHEROO=415]="SWITCHEROO",e[e.GIGA_IMPACT=416]="GIGA_IMPACT",e[e.NASTY_PLOT=417]="NASTY_PLOT",e[e.BULLET_PUNCH=418]="BULLET_PUNCH",e[e.AVALANCHE=419]="AVALANCHE",e[e.ICE_SHARD=420]="ICE_SHARD",e[e.SHADOW_CLAW=421]="SHADOW_CLAW",e[e.THUNDER_FANG=422]="THUNDER_FANG",e[e.ICE_FANG=423]="ICE_FANG",e[e.FIRE_FANG=424]="FIRE_FANG",e[e.SHADOW_SNEAK=425]="SHADOW_SNEAK",e[e.MUD_BOMB=426]="MUD_BOMB",e[e.PSYCHO_CUT=427]="PSYCHO_CUT",e[e.ZEN_HEADBUTT=428]="ZEN_HEADBUTT",e[e.MIRROR_SHOT=429]="MIRROR_SHOT",e[e.FLASH_CANNON=430]="FLASH_CANNON",e[e.ROCK_CLIMB=431]="ROCK_CLIMB",e[e.DEFOG=432]="DEFOG",e[e.TRICK_ROOM=433]="TRICK_ROOM",e[e.DRACO_METEOR=434]="DRACO_METEOR",e[e.DISCHARGE=435]="DISCHARGE",e[e.LAVA_PLUME=436]="LAVA_PLUME",e[e.LEAF_STORM=437]="LEAF_STORM",e[e.POWER_WHIP=438]="POWER_WHIP",e[e.ROCK_WRECKER=439]="ROCK_WRECKER",e[e.CROSS_POISON=440]="CROSS_POISON",e[e.GUNK_SHOT=441]="GUNK_SHOT",e[e.IRON_HEAD=442]="IRON_HEAD",e[e.MAGNET_BOMB=443]="MAGNET_BOMB",e[e.STONE_EDGE=444]="STONE_EDGE",e[e.CAPTIVATE=445]="CAPTIVATE",e[e.STEALTH_ROCK=446]="STEALTH_ROCK",e[e.GRASS_KNOT=447]="GRASS_KNOT",e[e.CHATTER=448]="CHATTER",e[e.JUDGMENT=449]="JUDGMENT",e[e.BUG_BITE=450]="BUG_BITE",e[e.CHARGE_BEAM=451]="CHARGE_BEAM",e[e.WOOD_HAMMER=452]="WOOD_HAMMER",e[e.AQUA_JET=453]="AQUA_JET",e[e.ATTACK_ORDER=454]="ATTACK_ORDER",e[e.DEFEND_ORDER=455]="DEFEND_ORDER",e[e.HEAL_ORDER=456]="HEAL_ORDER",e[e.HEAD_SMASH=457]="HEAD_SMASH",e[e.DOUBLE_HIT=458]="DOUBLE_HIT",e[e.ROAR_OF_TIME=459]="ROAR_OF_TIME",e[e.SPACIAL_REND=460]="SPACIAL_REND",e[e.LUNAR_DANCE=461]="LUNAR_DANCE",e[e.CRUSH_GRIP=462]="CRUSH_GRIP",e[e.MAGMA_STORM=463]="MAGMA_STORM",e[e.DARK_VOID=464]="DARK_VOID",e[e.SEED_FLARE=465]="SEED_FLARE",e[e.OMINOUS_WIND=466]="OMINOUS_WIND",e[e.SHADOW_FORCE=467]="SHADOW_FORCE",e[e.HONE_CLAWS=468]="HONE_CLAWS",e[e.WIDE_GUARD=469]="WIDE_GUARD",e[e.GUARD_SPLIT=470]="GUARD_SPLIT",e[e.POWER_SPLIT=471]="POWER_SPLIT",e[e.WONDER_ROOM=472]="WONDER_ROOM",e[e.PSYSHOCK=473]="PSYSHOCK",e[e.VENOSHOCK=474]="VENOSHOCK",e[e.AUTOTOMIZE=475]="AUTOTOMIZE",e[e.RAGE_POWDER=476]="RAGE_POWDER",e[e.TELEKINESIS=477]="TELEKINESIS",e[e.MAGIC_ROOM=478]="MAGIC_ROOM",e[e.SMACK_DOWN=479]="SMACK_DOWN",e[e.STORM_THROW=480]="STORM_THROW",e[e.FLAME_BURST=481]="FLAME_BURST",e[e.SLUDGE_WAVE=482]="SLUDGE_WAVE",e[e.QUIVER_DANCE=483]="QUIVER_DANCE",e[e.HEAVY_SLAM=484]="HEAVY_SLAM",e[e.SYNCHRONOISE=485]="SYNCHRONOISE",e[e.ELECTRO_BALL=486]="ELECTRO_BALL",e[e.SOAK=487]="SOAK",e[e.FLAME_CHARGE=488]="FLAME_CHARGE",e[e.COIL=489]="COIL",e[e.LOW_SWEEP=490]="LOW_SWEEP",e[e.ACID_SPRAY=491]="ACID_SPRAY",e[e.FOUL_PLAY=492]="FOUL_PLAY",e[e.SIMPLE_BEAM=493]="SIMPLE_BEAM",e[e.ENTRAINMENT=494]="ENTRAINMENT",e[e.AFTER_YOU=495]="AFTER_YOU",e[e.ROUND=496]="ROUND",e[e.ECHOED_VOICE=497]="ECHOED_VOICE",e[e.CHIP_AWAY=498]="CHIP_AWAY",e[e.CLEAR_SMOG=499]="CLEAR_SMOG",e[e.STORED_POWER=500]="STORED_POWER",e[e.QUICK_GUARD=501]="QUICK_GUARD",e[e.ALLY_SWITCH=502]="ALLY_SWITCH",e[e.SCALD=503]="SCALD",e[e.SHELL_SMASH=504]="SHELL_SMASH",e[e.HEAL_PULSE=505]="HEAL_PULSE",e[e.HEX=506]="HEX",e[e.SKY_DROP=507]="SKY_DROP",e[e.SHIFT_GEAR=508]="SHIFT_GEAR",e[e.CIRCLE_THROW=509]="CIRCLE_THROW",e[e.INCINERATE=510]="INCINERATE",e[e.QUASH=511]="QUASH",e[e.ACROBATICS=512]="ACROBATICS",e[e.REFLECT_TYPE=513]="REFLECT_TYPE",e[e.RETALIATE=514]="RETALIATE",e[e.FINAL_GAMBIT=515]="FINAL_GAMBIT",e[e.BESTOW=516]="BESTOW",e[e.INFERNO=517]="INFERNO",e[e.WATER_PLEDGE=518]="WATER_PLEDGE",e[e.FIRE_PLEDGE=519]="FIRE_PLEDGE",e[e.GRASS_PLEDGE=520]="GRASS_PLEDGE",e[e.VOLT_SWITCH=521]="VOLT_SWITCH",e[e.STRUGGLE_BUG=522]="STRUGGLE_BUG",e[e.BULLDOZE=523]="BULLDOZE",e[e.FROST_BREATH=524]="FROST_BREATH",e[e.DRAGON_TAIL=525]="DRAGON_TAIL",e[e.WORK_UP=526]="WORK_UP",e[e.ELECTROWEB=527]="ELECTROWEB",e[e.WILD_CHARGE=528]="WILD_CHARGE",e[e.DRILL_RUN=529]="DRILL_RUN",e[e.DUAL_CHOP=530]="DUAL_CHOP",e[e.HEART_STAMP=531]="HEART_STAMP",e[e.HORN_LEECH=532]="HORN_LEECH",e[e.SACRED_SWORD=533]="SACRED_SWORD",e[e.RAZOR_SHELL=534]="RAZOR_SHELL",e[e.HEAT_CRASH=535]="HEAT_CRASH",e[e.LEAF_TORNADO=536]="LEAF_TORNADO",e[e.STEAMROLLER=537]="STEAMROLLER",e[e.COTTON_GUARD=538]="COTTON_GUARD",e[e.NIGHT_DAZE=539]="NIGHT_DAZE",e[e.PSYSTRIKE=540]="PSYSTRIKE",e[e.TAIL_SLAP=541]="TAIL_SLAP",e[e.HURRICANE=542]="HURRICANE",e[e.HEAD_CHARGE=543]="HEAD_CHARGE",e[e.GEAR_GRIND=544]="GEAR_GRIND",e[e.SEARING_SHOT=545]="SEARING_SHOT",e[e.TECHNO_BLAST=546]="TECHNO_BLAST",e[e.RELIC_SONG=547]="RELIC_SONG",e[e.SECRET_SWORD=548]="SECRET_SWORD",e[e.GLACIATE=549]="GLACIATE",e[e.BOLT_STRIKE=550]="BOLT_STRIKE",e[e.BLUE_FLARE=551]="BLUE_FLARE",e[e.FIERY_DANCE=552]="FIERY_DANCE",e[e.FREEZE_SHOCK=553]="FREEZE_SHOCK",e[e.ICE_BURN=554]="ICE_BURN",e[e.SNARL=555]="SNARL",e[e.ICICLE_CRASH=556]="ICICLE_CRASH",e[e.V_CREATE=557]="V_CREATE",e[e.FUSION_FLARE=558]="FUSION_FLARE",e[e.FUSION_BOLT=559]="FUSION_BOLT",e[e.FLYING_PRESS=560]="FLYING_PRESS",e[e.MAT_BLOCK=561]="MAT_BLOCK",e[e.BELCH=562]="BELCH",e[e.ROTOTILLER=563]="ROTOTILLER",e[e.STICKY_WEB=564]="STICKY_WEB",e[e.FELL_STINGER=565]="FELL_STINGER",e[e.PHANTOM_FORCE=566]="PHANTOM_FORCE",e[e.TRICK_OR_TREAT=567]="TRICK_OR_TREAT",e[e.NOBLE_ROAR=568]="NOBLE_ROAR",e[e.ION_DELUGE=569]="ION_DELUGE",e[e.PARABOLIC_CHARGE=570]="PARABOLIC_CHARGE",e[e.FORESTS_CURSE=571]="FORESTS_CURSE",e[e.PETAL_BLIZZARD=572]="PETAL_BLIZZARD",e[e.FREEZE_DRY=573]="FREEZE_DRY",e[e.DISARMING_VOICE=574]="DISARMING_VOICE",e[e.PARTING_SHOT=575]="PARTING_SHOT",e[e.TOPSY_TURVY=576]="TOPSY_TURVY",e[e.DRAINING_KISS=577]="DRAINING_KISS",e[e.CRAFTY_SHIELD=578]="CRAFTY_SHIELD",e[e.FLOWER_SHIELD=579]="FLOWER_SHIELD",e[e.GRASSY_TERRAIN=580]="GRASSY_TERRAIN",e[e.MISTY_TERRAIN=581]="MISTY_TERRAIN",e[e.ELECTRIFY=582]="ELECTRIFY",e[e.PLAY_ROUGH=583]="PLAY_ROUGH",e[e.FAIRY_WIND=584]="FAIRY_WIND",e[e.MOONBLAST=585]="MOONBLAST",e[e.BOOMBURST=586]="BOOMBURST",e[e.FAIRY_LOCK=587]="FAIRY_LOCK",e[e.KINGS_SHIELD=588]="KINGS_SHIELD",e[e.PLAY_NICE=589]="PLAY_NICE",e[e.CONFIDE=590]="CONFIDE",e[e.DIAMOND_STORM=591]="DIAMOND_STORM",e[e.STEAM_ERUPTION=592]="STEAM_ERUPTION",e[e.HYPERSPACE_HOLE=593]="HYPERSPACE_HOLE",e[e.WATER_SHURIKEN=594]="WATER_SHURIKEN",e[e.MYSTICAL_FIRE=595]="MYSTICAL_FIRE",e[e.SPIKY_SHIELD=596]="SPIKY_SHIELD",e[e.AROMATIC_MIST=597]="AROMATIC_MIST",e[e.EERIE_IMPULSE=598]="EERIE_IMPULSE",e[e.VENOM_DRENCH=599]="VENOM_DRENCH",e[e.POWDER=600]="POWDER",e[e.GEOMANCY=601]="GEOMANCY",e[e.MAGNETIC_FLUX=602]="MAGNETIC_FLUX",e[e.HAPPY_HOUR=603]="HAPPY_HOUR",e[e.ELECTRIC_TERRAIN=604]="ELECTRIC_TERRAIN",e[e.DAZZLING_GLEAM=605]="DAZZLING_GLEAM",e[e.CELEBRATE=606]="CELEBRATE",e[e.HOLD_HANDS=607]="HOLD_HANDS",e[e.BABY_DOLL_EYES=608]="BABY_DOLL_EYES",e[e.NUZZLE=609]="NUZZLE",e[e.HOLD_BACK=610]="HOLD_BACK",e[e.INFESTATION=611]="INFESTATION",e[e.POWER_UP_PUNCH=612]="POWER_UP_PUNCH",e[e.OBLIVION_WING=613]="OBLIVION_WING",e[e.THOUSAND_ARROWS=614]="THOUSAND_ARROWS",e[e.THOUSAND_WAVES=615]="THOUSAND_WAVES",e[e.LANDS_WRATH=616]="LANDS_WRATH",e[e.LIGHT_OF_RUIN=617]="LIGHT_OF_RUIN",e[e.ORIGIN_PULSE=618]="ORIGIN_PULSE",e[e.PRECIPICE_BLADES=619]="PRECIPICE_BLADES",e[e.DRAGON_ASCENT=620]="DRAGON_ASCENT",e[e.HYPERSPACE_FURY=621]="HYPERSPACE_FURY",e[e.BREAKNECK_BLITZ__PHYSICAL=622]="BREAKNECK_BLITZ__PHYSICAL",e[e.BREAKNECK_BLITZ__SPECIAL=623]="BREAKNECK_BLITZ__SPECIAL",e[e.ALL_OUT_PUMMELING__PHYSICAL=624]="ALL_OUT_PUMMELING__PHYSICAL",e[e.ALL_OUT_PUMMELING__SPECIAL=625]="ALL_OUT_PUMMELING__SPECIAL",e[e.SUPERSONIC_SKYSTRIKE__PHYSICAL=626]="SUPERSONIC_SKYSTRIKE__PHYSICAL",e[e.SUPERSONIC_SKYSTRIKE__SPECIAL=627]="SUPERSONIC_SKYSTRIKE__SPECIAL",e[e.ACID_DOWNPOUR__PHYSICAL=628]="ACID_DOWNPOUR__PHYSICAL",e[e.ACID_DOWNPOUR__SPECIAL=629]="ACID_DOWNPOUR__SPECIAL",e[e.TECTONIC_RAGE__PHYSICAL=630]="TECTONIC_RAGE__PHYSICAL",e[e.TECTONIC_RAGE__SPECIAL=631]="TECTONIC_RAGE__SPECIAL",e[e.CONTINENTAL_CRUSH__PHYSICAL=632]="CONTINENTAL_CRUSH__PHYSICAL",e[e.CONTINENTAL_CRUSH__SPECIAL=633]="CONTINENTAL_CRUSH__SPECIAL",e[e.SAVAGE_SPIN_OUT__PHYSICAL=634]="SAVAGE_SPIN_OUT__PHYSICAL",e[e.SAVAGE_SPIN_OUT__SPECIAL=635]="SAVAGE_SPIN_OUT__SPECIAL",e[e.NEVER_ENDING_NIGHTMARE__PHYSICAL=636]="NEVER_ENDING_NIGHTMARE__PHYSICAL",e[e.NEVER_ENDING_NIGHTMARE__SPECIAL=637]="NEVER_ENDING_NIGHTMARE__SPECIAL",e[e.CORKSCREW_CRASH__PHYSICAL=638]="CORKSCREW_CRASH__PHYSICAL",e[e.CORKSCREW_CRASH__SPECIAL=639]="CORKSCREW_CRASH__SPECIAL",e[e.INFERNO_OVERDRIVE__PHYSICAL=640]="INFERNO_OVERDRIVE__PHYSICAL",e[e.INFERNO_OVERDRIVE__SPECIAL=641]="INFERNO_OVERDRIVE__SPECIAL",e[e.HYDRO_VORTEX__PHYSICAL=642]="HYDRO_VORTEX__PHYSICAL",e[e.HYDRO_VORTEX__SPECIAL=643]="HYDRO_VORTEX__SPECIAL",e[e.BLOOM_DOOM__PHYSICAL=644]="BLOOM_DOOM__PHYSICAL",e[e.BLOOM_DOOM__SPECIAL=645]="BLOOM_DOOM__SPECIAL",e[e.GIGAVOLT_HAVOC__PHYSICAL=646]="GIGAVOLT_HAVOC__PHYSICAL",e[e.GIGAVOLT_HAVOC__SPECIAL=647]="GIGAVOLT_HAVOC__SPECIAL",e[e.SHATTERED_PSYCHE__PHYSICAL=648]="SHATTERED_PSYCHE__PHYSICAL",e[e.SHATTERED_PSYCHE__SPECIAL=649]="SHATTERED_PSYCHE__SPECIAL",e[e.SUBZERO_SLAMMER__PHYSICAL=650]="SUBZERO_SLAMMER__PHYSICAL",e[e.SUBZERO_SLAMMER__SPECIAL=651]="SUBZERO_SLAMMER__SPECIAL",e[e.DEVASTATING_DRAKE__PHYSICAL=652]="DEVASTATING_DRAKE__PHYSICAL",e[e.DEVASTATING_DRAKE__SPECIAL=653]="DEVASTATING_DRAKE__SPECIAL",e[e.BLACK_HOLE_ECLIPSE__PHYSICAL=654]="BLACK_HOLE_ECLIPSE__PHYSICAL",e[e.BLACK_HOLE_ECLIPSE__SPECIAL=655]="BLACK_HOLE_ECLIPSE__SPECIAL",e[e.TWINKLE_TACKLE__PHYSICAL=656]="TWINKLE_TACKLE__PHYSICAL",e[e.TWINKLE_TACKLE__SPECIAL=657]="TWINKLE_TACKLE__SPECIAL",e[e.CATASTROPIKA=658]="CATASTROPIKA",e[e.SHORE_UP=659]="SHORE_UP",e[e.FIRST_IMPRESSION=660]="FIRST_IMPRESSION",e[e.BANEFUL_BUNKER=661]="BANEFUL_BUNKER",e[e.SPIRIT_SHACKLE=662]="SPIRIT_SHACKLE",e[e.DARKEST_LARIAT=663]="DARKEST_LARIAT",e[e.SPARKLING_ARIA=664]="SPARKLING_ARIA",e[e.ICE_HAMMER=665]="ICE_HAMMER",e[e.FLORAL_HEALING=666]="FLORAL_HEALING",e[e.HIGH_HORSEPOWER=667]="HIGH_HORSEPOWER",e[e.STRENGTH_SAP=668]="STRENGTH_SAP",e[e.SOLAR_BLADE=669]="SOLAR_BLADE",e[e.LEAFAGE=670]="LEAFAGE",e[e.SPOTLIGHT=671]="SPOTLIGHT",e[e.TOXIC_THREAD=672]="TOXIC_THREAD",e[e.LASER_FOCUS=673]="LASER_FOCUS",e[e.GEAR_UP=674]="GEAR_UP",e[e.THROAT_CHOP=675]="THROAT_CHOP",e[e.POLLEN_PUFF=676]="POLLEN_PUFF",e[e.ANCHOR_SHOT=677]="ANCHOR_SHOT",e[e.PSYCHIC_TERRAIN=678]="PSYCHIC_TERRAIN",e[e.LUNGE=679]="LUNGE",e[e.FIRE_LASH=680]="FIRE_LASH",e[e.POWER_TRIP=681]="POWER_TRIP",e[e.BURN_UP=682]="BURN_UP",e[e.SPEED_SWAP=683]="SPEED_SWAP",e[e.SMART_STRIKE=684]="SMART_STRIKE",e[e.PURIFY=685]="PURIFY",e[e.REVELATION_DANCE=686]="REVELATION_DANCE",e[e.CORE_ENFORCER=687]="CORE_ENFORCER",e[e.TROP_KICK=688]="TROP_KICK",e[e.INSTRUCT=689]="INSTRUCT",e[e.BEAK_BLAST=690]="BEAK_BLAST",e[e.CLANGING_SCALES=691]="CLANGING_SCALES",e[e.DRAGON_HAMMER=692]="DRAGON_HAMMER",e[e.BRUTAL_SWING=693]="BRUTAL_SWING",e[e.AURORA_VEIL=694]="AURORA_VEIL",e[e.SINISTER_ARROW_RAID=695]="SINISTER_ARROW_RAID",e[e.MALICIOUS_MOONSAULT=696]="MALICIOUS_MOONSAULT",e[e.OCEANIC_OPERETTA=697]="OCEANIC_OPERETTA",e[e.GUARDIAN_OF_ALOLA=698]="GUARDIAN_OF_ALOLA",e[e.SOUL_STEALING_7_STAR_STRIKE=699]="SOUL_STEALING_7_STAR_STRIKE",e[e.STOKED_SPARKSURFER=700]="STOKED_SPARKSURFER",e[e.PULVERIZING_PANCAKE=701]="PULVERIZING_PANCAKE",e[e.EXTREME_EVOBOOST=702]="EXTREME_EVOBOOST",e[e.GENESIS_SUPERNOVA=703]="GENESIS_SUPERNOVA",e[e.SHELL_TRAP=704]="SHELL_TRAP",e[e.FLEUR_CANNON=705]="FLEUR_CANNON",e[e.PSYCHIC_FANGS=706]="PSYCHIC_FANGS",e[e.STOMPING_TANTRUM=707]="STOMPING_TANTRUM",e[e.SHADOW_BONE=708]="SHADOW_BONE",e[e.ACCELEROCK=709]="ACCELEROCK",e[e.LIQUIDATION=710]="LIQUIDATION",e[e.PRISMATIC_LASER=711]="PRISMATIC_LASER",e[e.SPECTRAL_THIEF=712]="SPECTRAL_THIEF",e[e.SUNSTEEL_STRIKE=713]="SUNSTEEL_STRIKE",e[e.MOONGEIST_BEAM=714]="MOONGEIST_BEAM",e[e.TEARFUL_LOOK=715]="TEARFUL_LOOK",e[e.ZING_ZAP=716]="ZING_ZAP",e[e.NATURES_MADNESS=717]="NATURES_MADNESS",e[e.MULTI_ATTACK=718]="MULTI_ATTACK",e[e.TEN_MILLION_VOLT_THUNDERBOLT=719]="TEN_MILLION_VOLT_THUNDERBOLT",e[e.MIND_BLOWN=720]="MIND_BLOWN",e[e.PLASMA_FISTS=721]="PLASMA_FISTS",e[e.PHOTON_GEYSER=722]="PHOTON_GEYSER",e[e.LIGHT_THAT_BURNS_THE_SKY=723]="LIGHT_THAT_BURNS_THE_SKY",e[e.SEARING_SUNRAZE_SMASH=724]="SEARING_SUNRAZE_SMASH",e[e.MENACING_MOONRAZE_MAELSTROM=725]="MENACING_MOONRAZE_MAELSTROM",e[e.LETS_SNUGGLE_FOREVER=726]="LETS_SNUGGLE_FOREVER",e[e.SPLINTERED_STORMSHARDS=727]="SPLINTERED_STORMSHARDS",e[e.CLANGOROUS_SOULBLAZE=728]="CLANGOROUS_SOULBLAZE",e[e.ZIPPY_ZAP=729]="ZIPPY_ZAP",e[e.SPLISHY_SPLASH=730]="SPLISHY_SPLASH",e[e.FLOATY_FALL=731]="FLOATY_FALL",e[e.PIKA_PAPOW=732]="PIKA_PAPOW",e[e.BOUNCY_BUBBLE=733]="BOUNCY_BUBBLE",e[e.BUZZY_BUZZ=734]="BUZZY_BUZZ",e[e.SIZZLY_SLIDE=735]="SIZZLY_SLIDE",e[e.GLITZY_GLOW=736]="GLITZY_GLOW",e[e.BADDY_BAD=737]="BADDY_BAD",e[e.SAPPY_SEED=738]="SAPPY_SEED",e[e.FREEZY_FROST=739]="FREEZY_FROST",e[e.SPARKLY_SWIRL=740]="SPARKLY_SWIRL",e[e.VEEVEE_VOLLEY=741]="VEEVEE_VOLLEY",e[e.DOUBLE_IRON_BASH=742]="DOUBLE_IRON_BASH",e[e.MAX_GUARD=743]="MAX_GUARD",e[e.DYNAMAX_CANNON=744]="DYNAMAX_CANNON",e[e.SNIPE_SHOT=745]="SNIPE_SHOT",e[e.JAW_LOCK=746]="JAW_LOCK",e[e.STUFF_CHEEKS=747]="STUFF_CHEEKS",e[e.NO_RETREAT=748]="NO_RETREAT",e[e.TAR_SHOT=749]="TAR_SHOT",e[e.MAGIC_POWDER=750]="MAGIC_POWDER",e[e.DRAGON_DARTS=751]="DRAGON_DARTS",e[e.TEATIME=752]="TEATIME",e[e.OCTOLOCK=753]="OCTOLOCK",e[e.BOLT_BEAK=754]="BOLT_BEAK",e[e.FISHIOUS_REND=755]="FISHIOUS_REND",e[e.COURT_CHANGE=756]="COURT_CHANGE",e[e.MAX_FLARE=757]="MAX_FLARE",e[e.MAX_FLUTTERBY=758]="MAX_FLUTTERBY",e[e.MAX_LIGHTNING=759]="MAX_LIGHTNING",e[e.MAX_STRIKE=760]="MAX_STRIKE",e[e.MAX_KNUCKLE=761]="MAX_KNUCKLE",e[e.MAX_PHANTASM=762]="MAX_PHANTASM",e[e.MAX_HAILSTORM=763]="MAX_HAILSTORM",e[e.MAX_OOZE=764]="MAX_OOZE",e[e.MAX_GEYSER=765]="MAX_GEYSER",e[e.MAX_AIRSTREAM=766]="MAX_AIRSTREAM",e[e.MAX_STARFALL=767]="MAX_STARFALL",e[e.MAX_WYRMWIND=768]="MAX_WYRMWIND",e[e.MAX_MINDSTORM=769]="MAX_MINDSTORM",e[e.MAX_ROCKFALL=770]="MAX_ROCKFALL",e[e.MAX_QUAKE=771]="MAX_QUAKE",e[e.MAX_DARKNESS=772]="MAX_DARKNESS",e[e.MAX_OVERGROWTH=773]="MAX_OVERGROWTH",e[e.MAX_STEELSPIKE=774]="MAX_STEELSPIKE",e[e.CLANGOROUS_SOUL=775]="CLANGOROUS_SOUL",e[e.BODY_PRESS=776]="BODY_PRESS",e[e.DECORATE=777]="DECORATE",e[e.DRUM_BEATING=778]="DRUM_BEATING",e[e.SNAP_TRAP=779]="SNAP_TRAP",e[e.PYRO_BALL=780]="PYRO_BALL",e[e.BEHEMOTH_BLADE=781]="BEHEMOTH_BLADE",e[e.BEHEMOTH_BASH=782]="BEHEMOTH_BASH",e[e.AURA_WHEEL=783]="AURA_WHEEL",e[e.BREAKING_SWIPE=784]="BREAKING_SWIPE",e[e.BRANCH_POKE=785]="BRANCH_POKE",e[e.OVERDRIVE=786]="OVERDRIVE",e[e.APPLE_ACID=787]="APPLE_ACID",e[e.GRAV_APPLE=788]="GRAV_APPLE",e[e.SPIRIT_BREAK=789]="SPIRIT_BREAK",e[e.STRANGE_STEAM=790]="STRANGE_STEAM",e[e.LIFE_DEW=791]="LIFE_DEW",e[e.OBSTRUCT=792]="OBSTRUCT",e[e.FALSE_SURRENDER=793]="FALSE_SURRENDER",e[e.METEOR_ASSAULT=794]="METEOR_ASSAULT",e[e.ETERNABEAM=795]="ETERNABEAM",e[e.STEEL_BEAM=796]="STEEL_BEAM",e[e.EXPANDING_FORCE=797]="EXPANDING_FORCE",e[e.STEEL_ROLLER=798]="STEEL_ROLLER",e[e.SCALE_SHOT=799]="SCALE_SHOT",e[e.METEOR_BEAM=800]="METEOR_BEAM",e[e.SHELL_SIDE_ARM=801]="SHELL_SIDE_ARM",e[e.MISTY_EXPLOSION=802]="MISTY_EXPLOSION",e[e.GRASSY_GLIDE=803]="GRASSY_GLIDE",e[e.RISING_VOLTAGE=804]="RISING_VOLTAGE",e[e.TERRAIN_PULSE=805]="TERRAIN_PULSE",e[e.SKITTER_SMACK=806]="SKITTER_SMACK",e[e.BURNING_JEALOUSY=807]="BURNING_JEALOUSY",e[e.LASH_OUT=808]="LASH_OUT",e[e.POLTERGEIST=809]="POLTERGEIST",e[e.CORROSIVE_GAS=810]="CORROSIVE_GAS",e[e.COACHING=811]="COACHING",e[e.FLIP_TURN=812]="FLIP_TURN",e[e.TRIPLE_AXEL=813]="TRIPLE_AXEL",e[e.DUAL_WINGBEAT=814]="DUAL_WINGBEAT",e[e.SCORCHING_SANDS=815]="SCORCHING_SANDS",e[e.JUNGLE_HEALING=816]="JUNGLE_HEALING",e[e.WICKED_BLOW=817]="WICKED_BLOW",e[e.SURGING_STRIKES=818]="SURGING_STRIKES",e[e.THUNDER_CAGE=819]="THUNDER_CAGE",e[e.DRAGON_ENERGY=820]="DRAGON_ENERGY",e[e.FREEZING_GLARE=821]="FREEZING_GLARE",e[e.FIERY_WRATH=822]="FIERY_WRATH",e[e.THUNDEROUS_KICK=823]="THUNDEROUS_KICK",e[e.GLACIAL_LANCE=824]="GLACIAL_LANCE",e[e.ASTRAL_BARRAGE=825]="ASTRAL_BARRAGE",e[e.EERIE_SPELL=826]="EERIE_SPELL",e[e.DIRE_CLAW=827]="DIRE_CLAW",e[e.PSYSHIELD_BASH=828]="PSYSHIELD_BASH",e[e.POWER_SHIFT=829]="POWER_SHIFT",e[e.STONE_AXE=830]="STONE_AXE",e[e.SPRINGTIDE_STORM=831]="SPRINGTIDE_STORM",e[e.MYSTICAL_POWER=832]="MYSTICAL_POWER",e[e.RAGING_FURY=833]="RAGING_FURY",e[e.WAVE_CRASH=834]="WAVE_CRASH",e[e.CHLOROBLAST=835]="CHLOROBLAST",e[e.MOUNTAIN_GALE=836]="MOUNTAIN_GALE",e[e.VICTORY_DANCE=837]="VICTORY_DANCE",e[e.HEADLONG_RUSH=838]="HEADLONG_RUSH",e[e.BARB_BARRAGE=839]="BARB_BARRAGE",e[e.ESPER_WING=840]="ESPER_WING",e[e.BITTER_MALICE=841]="BITTER_MALICE",e[e.SHELTER=842]="SHELTER",e[e.TRIPLE_ARROWS=843]="TRIPLE_ARROWS",e[e.INFERNAL_PARADE=844]="INFERNAL_PARADE",e[e.CEASELESS_EDGE=845]="CEASELESS_EDGE",e[e.BLEAKWIND_STORM=846]="BLEAKWIND_STORM",e[e.WILDBOLT_STORM=847]="WILDBOLT_STORM",e[e.SANDSEAR_STORM=848]="SANDSEAR_STORM",e[e.LUNAR_BLESSING=849]="LUNAR_BLESSING",e[e.TAKE_HEART=850]="TAKE_HEART",e[e.TERA_BLAST=851]="TERA_BLAST",e[e.SILK_TRAP=852]="SILK_TRAP",e[e.AXE_KICK=853]="AXE_KICK",e[e.LAST_RESPECTS=854]="LAST_RESPECTS",e[e.LUMINA_CRASH=855]="LUMINA_CRASH",e[e.ORDER_UP=856]="ORDER_UP",e[e.JET_PUNCH=857]="JET_PUNCH",e[e.SPICY_EXTRACT=858]="SPICY_EXTRACT",e[e.SPIN_OUT=859]="SPIN_OUT",e[e.POPULATION_BOMB=860]="POPULATION_BOMB",e[e.ICE_SPINNER=861]="ICE_SPINNER",e[e.GLAIVE_RUSH=862]="GLAIVE_RUSH",e[e.REVIVAL_BLESSING=863]="REVIVAL_BLESSING",e[e.SALT_CURE=864]="SALT_CURE",e[e.TRIPLE_DIVE=865]="TRIPLE_DIVE",e[e.MORTAL_SPIN=866]="MORTAL_SPIN",e[e.DOODLE=867]="DOODLE",e[e.FILLET_AWAY=868]="FILLET_AWAY",e[e.KOWTOW_CLEAVE=869]="KOWTOW_CLEAVE",e[e.FLOWER_TRICK=870]="FLOWER_TRICK",e[e.TORCH_SONG=871]="TORCH_SONG",e[e.AQUA_STEP=872]="AQUA_STEP",e[e.RAGING_BULL=873]="RAGING_BULL",e[e.MAKE_IT_RAIN=874]="MAKE_IT_RAIN",e[e.PSYBLADE=875]="PSYBLADE",e[e.HYDRO_STEAM=876]="HYDRO_STEAM",e[e.RUINATION=877]="RUINATION",e[e.COLLISION_COURSE=878]="COLLISION_COURSE",e[e.ELECTRO_DRIFT=879]="ELECTRO_DRIFT",e[e.SHED_TAIL=880]="SHED_TAIL",e[e.CHILLY_RECEPTION=881]="CHILLY_RECEPTION",e[e.TIDY_UP=882]="TIDY_UP",e[e.SNOWSCAPE=883]="SNOWSCAPE",e[e.POUNCE=884]="POUNCE",e[e.TRAILBLAZE=885]="TRAILBLAZE",e[e.CHILLING_WATER=886]="CHILLING_WATER",e[e.HYPER_DRILL=887]="HYPER_DRILL",e[e.TWIN_BEAM=888]="TWIN_BEAM",e[e.RAGE_FIST=889]="RAGE_FIST",e[e.ARMOR_CANNON=890]="ARMOR_CANNON",e[e.BITTER_BLADE=891]="BITTER_BLADE",e[e.DOUBLE_SHOCK=892]="DOUBLE_SHOCK",e[e.GIGATON_HAMMER=893]="GIGATON_HAMMER",e[e.COMEUPPANCE=894]="COMEUPPANCE",e[e.AQUA_CUTTER=895]="AQUA_CUTTER",e[e.BLAZING_TORQUE=896]="BLAZING_TORQUE",e[e.WICKED_TORQUE=897]="WICKED_TORQUE",e[e.NOXIOUS_TORQUE=898]="NOXIOUS_TORQUE",e[e.COMBAT_TORQUE=899]="COMBAT_TORQUE",e[e.MAGICAL_TORQUE=900]="MAGICAL_TORQUE",e[e.BLOOD_MOON=901]="BLOOD_MOON",e[e.MATCHA_GOTCHA=902]="MATCHA_GOTCHA",e[e.SYRUP_BOMB=903]="SYRUP_BOMB",e[e.IVY_CUDGEL=904]="IVY_CUDGEL",e[e.ELECTRO_SHOT=905]="ELECTRO_SHOT",e[e.TERA_STARSTORM=906]="TERA_STARSTORM",e[e.FICKLE_BEAM=907]="FICKLE_BEAM",e[e.BURNING_BULWARK=908]="BURNING_BULWARK",e[e.THUNDERCLAP=909]="THUNDERCLAP",e[e.MIGHTY_CLEAVE=910]="MIGHTY_CLEAVE",e[e.TACHYON_CUTTER=911]="TACHYON_CUTTER",e[e.HARD_PRESS=912]="HARD_PRESS",e[e.DRAGON_CHEER=913]="DRAGON_CHEER",e[e.ALLURING_VOICE=914]="ALLURING_VOICE",e[e.TEMPER_FLARE=915]="TEMPER_FLARE",e[e.SUPERCELL_SLAM=916]="SUPERCELL_SLAM",e[e.PSYCHIC_NOISE=917]="PSYCHIC_NOISE",e[e.UPPER_HAND=918]="UPPER_HAND",e[e.MALIGNANT_CHAIN=919]="MALIGNANT_CHAIN",e))(bO||{});const mt=r(e=>typeof e=="string","isString"),Qh=r(()=>{let e,t;const i=new Promise((a,y)=>{e=a,t=y});return i.resolve=e,i.reject=t,i},"defer"),DS=r(e=>e==null?"":""+e,"makeString"),vJ=r((e,t,i)=>{e.forEach(a=>{t[a]&&(i[a]=t[a])})},"copy"),pJ=/###/g,FS=r(e=>e&&e.indexOf("###")>-1?e.replace(pJ,"."):e,"cleanKey"),bS=r(e=>!e||mt(e),"canNotTraverseDeeper"),so=r((e,t,i)=>{const a=mt(t)?t.split("."):t;let y=0;for(;y<a.length-1;){if(bS(e))return{};const S=FS(a[y]);!e[S]&&i&&(e[S]=new i),Object.prototype.hasOwnProperty.call(e,S)?e=e[S]:e={},++y}return bS(e)?{}:{obj:e,k:FS(a[y])}},"getLastOfPath"),NS=r((e,t,i)=>{const{obj:a,k:y}=so(e,t,Object);if(a!==void 0||t.length===1){a[y]=i;return}let S=t[t.length-1],n=t.slice(0,t.length-1),C=so(e,n,Object);for(;C.obj===void 0&&n.length;)S=`${n[n.length-1]}.${S}`,n=n.slice(0,n.length-1),C=so(e,n,Object),C!=null&&C.obj&&typeof C.obj[`${C.k}.${S}`]<"u"&&(C.obj=void 0);C.obj[`${C.k}.${S}`]=i},"setPath"),gJ=r((e,t,i,a)=>{const{obj:y,k:S}=so(e,t,Object);y[S]=y[S]||[],y[S].push(i)},"pushPath"),id=r((e,t)=>{const{obj:i,k:a}=so(e,t);if(i&&Object.prototype.hasOwnProperty.call(i,a))return i[a]},"getPath"),mJ=r((e,t,i)=>{const a=id(e,i);return a!==void 0?a:id(t,i)},"getPathWithDefaults"),NO=r((e,t,i)=>{for(const a in t)a!=="__proto__"&&a!=="constructor"&&(a in e?mt(e[a])||e[a]instanceof String||mt(t[a])||t[a]instanceof String?i&&(e[a]=t[a]):NO(e[a],t[a],i):e[a]=t[a]);return e},"deepExtend"),Dn=r(e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape");var xJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const TJ=r(e=>mt(e)?e.replace(/[&<>"'\/]/g,t=>xJ[t]):e,"escape"),iy=class iy{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const i=this.regExpMap.get(t);if(i!==void 0)return i;const a=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,a),this.regExpQueue.push(t),a}};r(iy,"RegExpCache");let zp=iy;const yJ=[" ",",","?","!",";"],CJ=new zp(20),EJ=r((e,t,i)=>{t=t||"",i=i||"";const a=yJ.filter(n=>t.indexOf(n)<0&&i.indexOf(n)<0);if(a.length===0)return!0;const y=CJ.getRegExp(`(${a.map(n=>n==="?"?"\\?":n).join("|")})`);let S=!y.test(e);if(!S){const n=e.indexOf(i);n>0&&!y.test(e.substring(0,n))&&(S=!0)}return S},"looksLikeObjectPath"),Ip=r(function(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const a=t.split(i);let y=e;for(let S=0;S<a.length;){if(!y||typeof y!="object")return;let n,C="";for(let s=S;s<a.length;++s)if(s!==S&&(C+=i),C+=a[s],n=y[C],n!==void 0){if(["string","number","boolean"].indexOf(typeof n)>-1&&s<a.length-1)continue;S+=s-S+1;break}y=n}return y},"deepFind"),sd=r(e=>e==null?void 0:e.replace("_","-"),"getCleanedCode"),SJ={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var i,a;(a=(i=console==null?void 0:console[e])==null?void 0:i.apply)==null||a.call(i,console,t)}},no=class no{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,i)}init(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=t||SJ,this.options=i,this.debug=i.debug}log(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return this.forward(i,"log","",!0)}warn(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return this.forward(i,"warn","",!0)}error(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return this.forward(i,"error","")}deprecate(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(t,i,a,y){return y&&!this.debug?null:(mt(t[0])&&(t[0]=`${a}${this.prefix} ${t[0]}`),this.logger[i](t))}create(t){return new no(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new no(this.logger,t)}};r(no,"Logger");let $p=no;var Wi=new $p;const sy=class sy{constructor(){this.observers={}}on(t,i){return t.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const y=this.observers[a].get(i)||0;this.observers[a].set(i,y+1)}),this}off(t,i){if(this.observers[t]){if(!i){delete this.observers[t];return}this.observers[t].delete(i)}}emit(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),y=1;y<i;y++)a[y-1]=arguments[y];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(n=>{let[C,s]=n;for(let o=0;o<s;o++)C(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(n=>{let[C,s]=n;for(let o=0;o<s;o++)C.apply(C,[t,...a])})}};r(sy,"EventEmitter");let fh=sy;const ry=class ry extends fh{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const i=this.options.ns.indexOf(t);i>-1&&this.options.ns.splice(i,1)}getResource(t,i,a){var o,T;let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const S=y.keySeparator!==void 0?y.keySeparator:this.options.keySeparator,n=y.ignoreJSONStructure!==void 0?y.ignoreJSONStructure:this.options.ignoreJSONStructure;let C;t.indexOf(".")>-1?C=t.split("."):(C=[t,i],a&&(Array.isArray(a)?C.push(...a):mt(a)&&S?C.push(...a.split(S)):C.push(a)));const s=id(this.data,C);return!s&&!i&&!a&&t.indexOf(".")>-1&&(t=C[0],i=C[1],a=C.slice(2).join(".")),s||!n||!mt(a)?s:Ip((T=(o=this.data)==null?void 0:o[t])==null?void 0:T[i],a,S)}addResource(t,i,a,y){let S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const n=S.keySeparator!==void 0?S.keySeparator:this.options.keySeparator;let C=[t,i];a&&(C=C.concat(n?a.split(n):a)),t.indexOf(".")>-1&&(C=t.split("."),y=i,i=C[1]),this.addNamespaces(i),NS(this.data,C,y),S.silent||this.emit("added",t,i,a,y)}addResources(t,i,a){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const S in a)(mt(a[S])||Array.isArray(a[S]))&&this.addResource(t,i,S,a[S],{silent:!0});y.silent||this.emit("added",t,i,a)}addResourceBundle(t,i,a,y,S){let n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},C=[t,i];t.indexOf(".")>-1&&(C=t.split("."),y=a,a=i,i=C[1]),this.addNamespaces(i);let s=id(this.data,C)||{};n.skipCopy||(a=JSON.parse(JSON.stringify(a))),y?NO(s,a,S):s={...s,...a},NS(this.data,C,s),n.silent||this.emit("added",t,i,a)}removeResourceBundle(t,i){this.hasResourceBundle(t,i)&&delete this.data[t][i],this.removeNamespaces(i),this.emit("removed",t,i)}hasResourceBundle(t,i){return this.getResource(t,i)!==void 0}getResourceBundle(t,i){return i||(i=this.options.defaultNS),this.getResource(t,i)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const i=this.getDataByLanguage(t);return!!(i&&Object.keys(i)||[]).find(y=>i[y]&&Object.keys(i[y]).length>0)}toJSON(){return this.data}};r(ry,"ResourceStore");let rd=ry;var BO={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,i,a,y){return e.forEach(S=>{var n;t=((n=this.processors[S])==null?void 0:n.process(t,i,a,y))??t}),t}};const BS={},GS=r(e=>!mt(e)&&typeof e!="boolean"&&typeof e!="number","shouldHandleAsObject"),cd=class cd extends fh{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),vJ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Wi.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const a=this.resolve(t,i);return(a==null?void 0:a.res)!==void 0}extractFromKey(t,i){let a=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const y=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let S=i.ns||this.options.defaultNS||[];const n=a&&t.indexOf(a)>-1,C=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!EJ(t,a,y);if(n&&!C){const s=t.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:t,namespaces:mt(S)?[S]:S};const o=t.split(a);(a!==y||a===y&&this.options.ns.indexOf(o[0])>-1)&&(S=o.shift()),t=o.join(y)}return{key:t,namespaces:mt(S)?[S]:S}}translate(t,i,a){if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const y=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,S=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:n,namespaces:C}=this.extractFromKey(t[t.length-1],i),s=C[C.length-1],o=i.lng||this.language,T=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((o==null?void 0:o.toLowerCase())==="cimode"){if(T){const L=i.nsSeparator||this.options.nsSeparator;return y?{res:`${s}${L}${n}`,usedKey:n,exactUsedKey:n,usedLng:o,usedNS:s,usedParams:this.getUsedParamsDetails(i)}:`${s}${L}${n}`}return y?{res:n,usedKey:n,exactUsedKey:n,usedLng:o,usedNS:s,usedParams:this.getUsedParamsDetails(i)}:n}const c=this.resolve(t,i);let l=c==null?void 0:c.res;const u=(c==null?void 0:c.usedKey)||n,h=(c==null?void 0:c.exactUsedKey)||n,f=["[object Number]","[object Function]","[object RegExp]"],v=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,d=!this.i18nFormat||this.i18nFormat.handleAsObject,p=i.count!==void 0&&!mt(i.count),g=cd.hasDefaultValue(i),m=p?this.pluralResolver.getSuffix(o,i.count,i):"",x=i.ordinal&&p?this.pluralResolver.getSuffix(o,i.count,{ordinal:!1}):"",E=p&&!i.ordinal&&i.count===0,A=E&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${m}`]||i[`defaultValue${x}`]||i.defaultValue;let R=l;d&&!l&&g&&(R=A);const P=GS(R),O=Object.prototype.toString.apply(R);if(d&&R&&P&&f.indexOf(O)<0&&!(mt(v)&&Array.isArray(R))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(u,R,{...i,ns:C}):`key '${n} (${this.language})' returned an object instead of string.`;return y?(c.res=L,c.usedParams=this.getUsedParamsDetails(i),c):L}if(S){const L=Array.isArray(R),w=L?[]:{},M=L?h:u;for(const b in R)if(Object.prototype.hasOwnProperty.call(R,b)){const D=`${M}${S}${b}`;g&&!l?w[b]=this.translate(D,{...i,defaultValue:GS(A)?A[b]:void 0,joinArrays:!1,ns:C}):w[b]=this.translate(D,{...i,joinArrays:!1,ns:C}),w[b]===D&&(w[b]=R[b])}l=w}}else if(d&&mt(v)&&Array.isArray(l))l=l.join(v),l&&(l=this.extendTranslation(l,t,i,a));else{let L=!1,w=!1;!this.isValidLookup(l)&&g&&(L=!0,l=A),this.isValidLookup(l)||(w=!0,l=n);const b=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&w?void 0:l,D=g&&A!==l&&this.options.updateMissing;if(w||L||D){if(this.logger.log(D?"updateKey":"missingKey",o,s,n,D?A:l),S){const Y=this.resolve(n,{...i,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&N&&N[0])for(let Y=0;Y<N.length;Y++)F.push(N[Y]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(i.lng||this.language):F.push(i.lng||this.language);const B=r((Y,W,z)=>{var H;const X=g&&z!==l?z:b;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,s,W,X,D,i):(H=this.backendConnector)!=null&&H.saveMissing&&this.backendConnector.saveMissing(Y,s,W,X,D,i),this.emit("missingKey",Y,s,W,l)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&p?F.forEach(Y=>{const W=this.pluralResolver.getSuffixes(Y,i);E&&i[`defaultValue${this.options.pluralSeparator}zero`]&&W.indexOf(`${this.options.pluralSeparator}zero`)<0&&W.push(`${this.options.pluralSeparator}zero`),W.forEach(z=>{B([Y],n+z,i[`defaultValue${z}`]||A)})}):B(F,n,A))}l=this.extendTranslation(l,t,i,c,a),w&&l===n&&this.options.appendNamespaceToMissingKey&&(l=`${s}:${n}`),(w||L)&&this.options.parseMissingKeyHandler&&(l=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${n}`:n,L?l:void 0))}return y?(c.res=l,c.usedParams=this.getUsedParamsDetails(i),c):l}extendTranslation(t,i,a,y,S){var o,T;var n=this;if((o=this.i18nFormat)!=null&&o.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||y.usedLng,y.usedNS,y.usedKey,{resolved:y});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const c=mt(t)&&(((T=a==null?void 0:a.interpolation)==null?void 0:T.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(c){const h=t.match(this.interpolator.nestingRegexp);l=h&&h.length}let u=a.replace&&!mt(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),t=this.interpolator.interpolate(t,u,a.lng||this.language||y.usedLng,a),c){const h=t.match(this.interpolator.nestingRegexp),f=h&&h.length;l<f&&(a.nest=!1)}!a.lng&&y&&y.res&&(a.lng=this.language||y.usedLng),a.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var h=arguments.length,f=new Array(h),v=0;v<h;v++)f[v]=arguments[v];return(S==null?void 0:S[0])===f[0]&&!a.context?(n.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${i[0]}`),null):n.translate(...f,i)},a)),a.interpolation&&this.interpolator.reset()}const C=a.postProcess||this.options.postProcess,s=mt(C)?[C]:C;return t!=null&&(s!=null&&s.length)&&a.applyPostProcessor!==!1&&(t=BO.handle(s,t,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...y,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),t}resolve(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,y,S,n,C;return mt(t)&&(t=[t]),t.forEach(s=>{if(this.isValidLookup(a))return;const o=this.extractFromKey(s,i),T=o.key;y=T;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const l=i.count!==void 0&&!mt(i.count),u=l&&!i.ordinal&&i.count===0,h=i.context!==void 0&&(mt(i.context)||typeof i.context=="number")&&i.context!=="",f=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);c.forEach(v=>{var d,p;this.isValidLookup(a)||(C=v,!BS[`${f[0]}-${v}`]&&((d=this.utils)!=null&&d.hasLoadedNamespace)&&!((p=this.utils)!=null&&p.hasLoadedNamespace(C))&&(BS[`${f[0]}-${v}`]=!0,this.logger.warn(`key "${y}" for languages "${f.join(", ")}" won't get resolved as namespace "${C}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(g=>{var E;if(this.isValidLookup(a))return;n=g;const m=[T];if((E=this.i18nFormat)!=null&&E.addLookupKeys)this.i18nFormat.addLookupKeys(m,T,g,v,i);else{let A;l&&(A=this.pluralResolver.getSuffix(g,i.count,i));const R=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(l&&(m.push(T+A),i.ordinal&&A.indexOf(P)===0&&m.push(T+A.replace(P,this.options.pluralSeparator)),u&&m.push(T+R)),h){const O=`${T}${this.options.contextSeparator}${i.context}`;m.push(O),l&&(m.push(O+A),i.ordinal&&A.indexOf(P)===0&&m.push(O+A.replace(P,this.options.pluralSeparator)),u&&m.push(O+R))}}let x;for(;x=m.pop();)this.isValidLookup(a)||(S=x,a=this.getResource(g,v,x,i))}))})}),{res:a,usedKey:y,exactUsedKey:S,usedLng:n,usedNS:C}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,i,a){var S;let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(S=this.i18nFormat)!=null&&S.getResource?this.i18nFormat.getResource(t,i,a,y):this.resourceStore.getResource(t,i,a,y)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=t.replace&&!mt(t.replace);let y=a?t.replace:t;if(a&&typeof t.count<"u"&&(y.count=t.count),this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),!a){y={...y};for(const S of i)delete y[S]}return y}static hasDefaultValue(t){const i="defaultValue";for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&i===a.substring(0,i.length)&&t[a]!==void 0)return!0;return!1}};r(cd,"Translator");let nd=cd;const ny=class ny{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Wi.create("languageUtils")}getScriptPartFromCode(t){if(t=sd(t),!t||t.indexOf("-")<0)return null;const i=t.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(t){if(t=sd(t),!t||t.indexOf("-")<0)return t;const i=t.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(t){if(mt(t)&&t.indexOf("-")>-1){let i;try{i=Intl.getCanonicalLocales(t)[0]}catch{}return i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let i;return t.forEach(a=>{if(i)return;const y=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(y))&&(i=y)}),!i&&this.options.supportedLngs&&t.forEach(a=>{if(i)return;const y=this.getLanguagePartFromCode(a);if(this.isSupportedCode(y))return i=y;i=this.options.supportedLngs.find(S=>{if(S===y)return S;if(!(S.indexOf("-")<0&&y.indexOf("-")<0)&&(S.indexOf("-")>0&&y.indexOf("-")<0&&S.substring(0,S.indexOf("-"))===y||S.indexOf(y)===0&&y.length>1))return S})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(t,i){if(!t)return[];if(typeof t=="function"&&(t=t(i)),mt(t)&&(t=[t]),Array.isArray(t))return t;if(!i)return t.default||[];let a=t[i];return a||(a=t[this.getScriptPartFromCode(i)]),a||(a=t[this.formatLanguageCode(i)]),a||(a=t[this.getLanguagePartFromCode(i)]),a||(a=t.default),a||[]}toResolveHierarchy(t,i){const a=this.getFallbackCodes(i||this.options.fallbackLng||[],t),y=[],S=r(n=>{n&&(this.isSupportedCode(n)?y.push(n):this.logger.warn(`rejecting language code not found in supportedLngs: ${n}`))},"addCode");return mt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&S(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&S(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&S(this.getLanguagePartFromCode(t))):mt(t)&&S(this.formatLanguageCode(t)),a.forEach(n=>{y.indexOf(n)<0&&S(this.formatLanguageCode(n))}),y}};r(ny,"LanguageUtil");let ad=ny;const US={zero:0,one:1,two:2,few:3,many:4,other:5},HS={select:r(e=>e===1?"one":"other","select"),resolvedOptions:r(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},ay=class ay{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=i,this.logger=Wi.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,i){this.rules[t]=i}clearCache(){this.pluralRulesCache={}}getRule(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=sd(t==="dev"?"en":t),y=i.ordinal?"ordinal":"cardinal",S=JSON.stringify({cleanedCode:a,type:y});if(S in this.pluralRulesCache)return this.pluralRulesCache[S];let n;try{n=new Intl.PluralRules(a,{type:y})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),HS;if(!t.match(/-|_/))return HS;const s=this.languageUtils.getLanguagePartFromCode(t);n=this.getRule(s,i)}return this.pluralRulesCache[S]=n,n}needsPlural(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(t,i);return a||(a=this.getRule("dev",i)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,a).map(y=>`${i}${y}`)}getSuffixes(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(t,i);return a||(a=this.getRule("dev",i)),a?a.resolvedOptions().pluralCategories.sort((y,S)=>US[y]-US[S]).map(y=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${y}`):[]}getSuffix(t,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const y=this.getRule(t,a);return y?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${y.select(i)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",i,a))}};r(ay,"PluralResolver");let Kp=ay;const YS=r(function(e,t,i){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,S=mJ(e,t,i);return!S&&y&&mt(i)&&(S=Ip(e,i,a),S===void 0&&(S=Ip(t,i,a))),S},"deepFindWithDefaults"),Ov=r(e=>e.replace(/\$/g,"$$$$"),"regexSafe"),hy=class hy{constructor(){var i;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Wi.create("interpolator"),this.options=t,this.format=((i=t==null?void 0:t.interpolation)==null?void 0:i.format)||(a=>a),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:i,escapeValue:a,useRawValueToEscape:y,prefix:S,prefixEscaped:n,suffix:C,suffixEscaped:s,formatSeparator:o,unescapeSuffix:T,unescapePrefix:c,nestingPrefix:l,nestingPrefixEscaped:u,nestingSuffix:h,nestingSuffixEscaped:f,nestingOptionsSeparator:v,maxReplaces:d,alwaysFormat:p}=t.interpolation;this.escape=i!==void 0?i:TJ,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=y!==void 0?y:!1,this.prefix=S?Dn(S):n||"{{",this.suffix=C?Dn(C):s||"}}",this.formatSeparator=o||",",this.unescapePrefix=T?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":T||"",this.nestingPrefix=l?Dn(l):u||Dn("$t("),this.nestingSuffix=h?Dn(h):f||Dn(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=d||1e3,this.alwaysFormat=p!==void 0?p:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=r((i,a)=>(i==null?void 0:i.source)===a?(i.lastIndex=0,i):new RegExp(a,"g"),"getOrResetRegExp");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,i,a,y){var u;let S,n,C;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},o=r(h=>{if(h.indexOf(this.formatSeparator)<0){const p=YS(i,s,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,a,{...y,...i,interpolationkey:h}):p}const f=h.split(this.formatSeparator),v=f.shift().trim(),d=f.join(this.formatSeparator).trim();return this.format(YS(i,s,v,this.options.keySeparator,this.options.ignoreJSONStructure),d,a,{...y,...i,interpolationkey:v})},"handleFormat");this.resetRegExp();const T=(y==null?void 0:y.missingInterpolationHandler)||this.options.missingInterpolationHandler,c=((u=y==null?void 0:y.interpolation)==null?void 0:u.skipOnVariables)!==void 0?y.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:r(h=>Ov(h),"safeValue")},{regex:this.regexp,safeValue:r(h=>this.escapeValue?Ov(this.escape(h)):Ov(h),"safeValue")}].forEach(h=>{for(C=0;S=h.regex.exec(t);){const f=S[1].trim();if(n=o(f),n===void 0)if(typeof T=="function"){const d=T(t,S,y);n=mt(d)?d:""}else if(y&&Object.prototype.hasOwnProperty.call(y,f))n="";else if(c){n=S[0];continue}else this.logger.warn(`missed to pass in variable ${f} for interpolating ${t}`),n="";else!mt(n)&&!this.useRawValueToEscape&&(n=DS(n));const v=h.safeValue(n);if(t=t.replace(S[0],v),c?(h.regex.lastIndex+=n.length,h.regex.lastIndex-=S[0].length):h.regex.lastIndex=0,C++,C>=this.maxReplaces)break}}),t}nest(t,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y,S,n;const C=r((s,o)=>{const T=this.nestingOptionsSeparator;if(s.indexOf(T)<0)return s;const c=s.split(new RegExp(`${T}[ ]*{`));let l=`{${c[1]}`;s=c[0],l=this.interpolate(l,n);const u=l.match(/'/g),h=l.match(/"/g);(((u==null?void 0:u.length)??0)%2===0&&!h||h.length%2!==0)&&(l=l.replace(/'/g,'"'));try{n=JSON.parse(l),o&&(n={...o,...n})}catch(f){return this.logger.warn(`failed parsing options string in nesting for key ${s}`,f),`${s}${T}${l}`}return n.defaultValue&&n.defaultValue.indexOf(this.prefix)>-1&&delete n.defaultValue,s},"handleHasOptions");for(;y=this.nestingRegexp.exec(t);){let s=[];n={...a},n=n.replace&&!mt(n.replace)?n.replace:n,n.applyPostProcessor=!1,delete n.defaultValue;let o=!1;if(y[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(y[1])){const T=y[1].split(this.formatSeparator).map(c=>c.trim());y[1]=T.shift(),s=T,o=!0}if(S=i(C.call(this,y[1].trim(),n),n),S&&y[0]===t&&!mt(S))return S;mt(S)||(S=DS(S)),S||(this.logger.warn(`missed to resolve ${y[1]} for nesting ${t}`),S=""),o&&(S=s.reduce((T,c)=>this.format(T,c,a.lng,{...a,interpolationkey:y[1].trim()}),S.trim())),t=t.replace(y[0],S),this.regexp.lastIndex=0}return t}};r(hy,"Interpolator");let Zp=hy;const AJ=r(e=>{let t=e.toLowerCase().trim();const i={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const y=a[1].substring(0,a[1].length-1);t==="currency"&&y.indexOf(":")<0?i.currency||(i.currency=y.trim()):t==="relativetime"&&y.indexOf(":")<0?i.range||(i.range=y.trim()):y.split(";").forEach(n=>{if(n){const[C,...s]=n.split(":"),o=s.join(":").trim().replace(/^'+|'+$/g,""),T=C.trim();i[T]||(i[T]=o),o==="false"&&(i[T]=!1),o==="true"&&(i[T]=!0),isNaN(o)||(i[T]=parseInt(o,10))}})}return{formatName:t,formatOptions:i}},"parseFormatStr"),Fn=r(e=>{const t={};return(i,a,y)=>{let S=y;y&&y.interpolationkey&&y.formatParams&&y.formatParams[y.interpolationkey]&&y[y.interpolationkey]&&(S={...S,[y.interpolationkey]:void 0});const n=a+JSON.stringify(S);let C=t[n];return C||(C=e(sd(a),y),t[n]=C),C(i)}},"createCachedFormatter"),oy=class oy{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Wi.create("formatter"),this.options=t,this.formats={number:Fn((i,a)=>{const y=new Intl.NumberFormat(i,{...a});return S=>y.format(S)}),currency:Fn((i,a)=>{const y=new Intl.NumberFormat(i,{...a,style:"currency"});return S=>y.format(S)}),datetime:Fn((i,a)=>{const y=new Intl.DateTimeFormat(i,{...a});return S=>y.format(S)}),relativetime:Fn((i,a)=>{const y=new Intl.RelativeTimeFormat(i,{...a});return S=>y.format(S,a.range||"day")}),list:Fn((i,a)=>{const y=new Intl.ListFormat(i,{...a});return S=>y.format(S)})},this.init(t)}init(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=i.interpolation.formatSeparator||","}add(t,i){this.formats[t.toLowerCase().trim()]=i}addCached(t,i){this.formats[t.toLowerCase().trim()]=Fn(i)}format(t,i,a){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const S=i.split(this.formatSeparator);if(S.length>1&&S[0].indexOf("(")>1&&S[0].indexOf(")")<0&&S.find(C=>C.indexOf(")")>-1)){const C=S.findIndex(s=>s.indexOf(")")>-1);S[0]=[S[0],...S.splice(1,C)].join(this.formatSeparator)}return S.reduce((C,s)=>{var c;const{formatName:o,formatOptions:T}=AJ(s);if(this.formats[o]){let l=C;try{const u=((c=y==null?void 0:y.formatParams)==null?void 0:c[y.interpolationkey])||{},h=u.locale||u.lng||y.locale||y.lng||a;l=this.formats[o](C,h,{...T,...y,...u})}catch(u){this.logger.warn(u)}return l}else this.logger.warn(`there was no format function for ${o}`);return C},t)}};r(oy,"Formatter");let Jp=oy;const PJ=r((e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)},"removePending"),ly=class ly extends fh{constructor(t,i,a){var S,n;let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=i,this.services=a,this.languageUtils=a.languageUtils,this.options=y,this.logger=Wi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=y.maxParallelReads||10,this.readingCalls=0,this.maxRetries=y.maxRetries>=0?y.maxRetries:5,this.retryTimeout=y.retryTimeout>=1?y.retryTimeout:350,this.state={},this.queue=[],(n=(S=this.backend)==null?void 0:S.init)==null||n.call(S,a,y.backend,y)}queueLoad(t,i,a,y){const S={},n={},C={},s={};return t.forEach(o=>{let T=!0;i.forEach(c=>{const l=`${o}|${c}`;!a.reload&&this.store.hasResourceBundle(o,c)?this.state[l]=2:this.state[l]<0||(this.state[l]===1?n[l]===void 0&&(n[l]=!0):(this.state[l]=1,T=!1,n[l]===void 0&&(n[l]=!0),S[l]===void 0&&(S[l]=!0),s[c]===void 0&&(s[c]=!0)))}),T||(C[o]=!0)}),(Object.keys(S).length||Object.keys(n).length)&&this.queue.push({pending:n,pendingCount:Object.keys(n).length,loaded:{},errors:[],callback:y}),{toLoad:Object.keys(S),pending:Object.keys(n),toLoadLanguages:Object.keys(C),toLoadNamespaces:Object.keys(s)}}loaded(t,i,a){const y=t.split("|"),S=y[0],n=y[1];i&&this.emit("failedLoading",S,n,i),!i&&a&&this.store.addResourceBundle(S,n,a,void 0,void 0,{skipCopy:!0}),this.state[t]=i?-1:2,i&&a&&(this.state[t]=0);const C={};this.queue.forEach(s=>{gJ(s.loaded,[S],n),PJ(s,t),i&&s.errors.push(i),s.pendingCount===0&&!s.done&&(Object.keys(s.loaded).forEach(o=>{C[o]||(C[o]={});const T=s.loaded[o];T.length&&T.forEach(c=>{C[o][c]===void 0&&(C[o][c]=!0)})}),s.done=!0,s.errors.length?s.callback(s.errors):s.callback())}),this.emit("loaded",C),this.queue=this.queue.filter(s=>!s.done)}read(t,i,a){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,n=arguments.length>5?arguments[5]:void 0;if(!t.length)return n(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:i,fcName:a,tried:y,wait:S,callback:n});return}this.readingCalls++;const C=r((o,T)=>{if(this.readingCalls--,this.waitingReads.length>0){const c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(o&&T&&y<this.maxRetries){setTimeout(()=>{this.read.call(this,t,i,a,y+1,S*2,n)},S);return}n(o,T)},"resolver"),s=this.backend[a].bind(this.backend);if(s.length===2){try{const o=s(t,i);o&&typeof o.then=="function"?o.then(T=>C(null,T)).catch(C):C(null,o)}catch(o){C(o)}return}return s(t,i,C)}prepareLoading(t,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),y&&y();mt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),mt(i)&&(i=[i]);const S=this.queueLoad(t,i,a,y);if(!S.toLoad.length)return S.pending.length||y(),null;S.toLoad.forEach(n=>{this.loadOne(n)})}load(t,i,a){this.prepareLoading(t,i,{},a)}reload(t,i,a){this.prepareLoading(t,i,{reload:!0},a)}loadOne(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const a=t.split("|"),y=a[0],S=a[1];this.read(y,S,"read",void 0,void 0,(n,C)=>{n&&this.logger.warn(`${i}loading namespace ${S} for language ${y} failed`,n),!n&&C&&this.logger.log(`${i}loaded namespace ${S} for language ${y}`,C),this.loaded(t,n,C)})}saveMissing(t,i,a,y,S){var s,o,T,c,l;let n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},C=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((o=(s=this.services)==null?void 0:s.utils)!=null&&o.hasLoadedNamespace&&!((c=(T=this.services)==null?void 0:T.utils)!=null&&c.hasLoadedNamespace(i))){this.logger.warn(`did not save key "${a}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((l=this.backend)!=null&&l.create){const u={...n,isUpdate:S},h=this.backend.create.bind(this.backend);if(h.length<6)try{let f;h.length===5?f=h(t,i,a,y,u):f=h(t,i,a,y),f&&typeof f.then=="function"?f.then(v=>C(null,v)).catch(C):C(null,f)}catch(f){C(f)}else h(t,i,a,y,C,u)}!t||!t[0]||this.store.addResource(t[0],i,a,y)}}};r(ly,"Connector");let Qp=ly;const VS=r(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r(e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),mt(e[1])&&(t.defaultValue=e[1]),mt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const i=e[3]||e[2];Object.keys(i).forEach(a=>{t[a]=i[a]})}return t},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:r(e=>e,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),"get"),WS=r(e=>{var t,i;return mt(e.ns)&&(e.ns=[e.ns]),mt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),mt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((i=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:i.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},"transformOptions"),Hu=r(()=>{},"noop"),RJ=r(e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(i=>{typeof e[i]=="function"&&(e[i]=e[i].bind(e))})},"bindMemberFunctions"),ao=class ao extends fh{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(super(),this.options=WS(t),this.services={},this.logger=Wi,this.modules={external:[]},RJ(this),i&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,i),this;setTimeout(()=>{this.init(t,i)},0)}}init(){var t=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof i=="function"&&(a=i,i={}),i.defaultNS==null&&i.ns&&(mt(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const y=VS();this.options={...y,...this.options,...WS(i)},this.options.interpolation={...y.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);const S=r(T=>T?typeof T=="function"?new T:T:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?Wi.init(S(this.modules.logger),this.options):Wi.init(null,this.options);let T;this.modules.formatter?T=this.modules.formatter:T=Jp;const c=new ad(this.options);this.store=new rd(this.options.resources,this.options);const l=this.services;l.logger=Wi,l.resourceStore=this.store,l.languageUtils=c,l.pluralResolver=new Kp(c,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),T&&(!this.options.interpolation.format||this.options.interpolation.format===y.interpolation.format)&&(l.formatter=S(T),l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new Zp(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new Qp(S(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",function(u){for(var h=arguments.length,f=new Array(h>1?h-1:0),v=1;v<h;v++)f[v-1]=arguments[v];t.emit(u,...f)}),this.modules.languageDetector&&(l.languageDetector=S(this.modules.languageDetector),l.languageDetector.init&&l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=S(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new nd(this.services,this.options),this.translator.on("*",function(u){for(var h=arguments.length,f=new Array(h>1?h-1:0),v=1;v<h;v++)f[v-1]=arguments[v];t.emit(u,...f)}),this.modules.external.forEach(u=>{u.init&&u.init(this)})}if(this.format=this.options.interpolation.format,a||(a=Hu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const T=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);T.length>0&&T[0]!=="dev"&&(this.options.lng=T[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(T=>{this[T]=function(){return t.store[T](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(T=>{this[T]=function(){return t.store[T](...arguments),t}});const s=Qh(),o=r(()=>{const T=r((c,l)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(l),a(c,l)},"finish");if(this.languages&&!this.isInitialized)return T(null,this.t.bind(this));this.changeLanguage(this.options.lng,T)},"load");return this.options.resources||!this.options.initAsync?o():setTimeout(o,0),s}loadResources(t){var S,n;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu;const y=mt(t)?t:this.language;if(typeof t=="function"&&(a=t),!this.options.resources||this.options.partialBundledLanguages){if((y==null?void 0:y.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const C=[],s=r(o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(c=>{c!=="cimode"&&C.indexOf(c)<0&&C.push(c)})},"append");y?s(y):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(T=>s(T)),(n=(S=this.options.preload)==null?void 0:S.forEach)==null||n.call(S,o=>s(o)),this.services.backendConnector.load(C,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(o)})}else a(null)}reloadResources(t,i,a){const y=Qh();return typeof t=="function"&&(a=t,t=void 0),typeof i=="function"&&(a=i,i=void 0),t||(t=this.languages),i||(i=this.options.ns),a||(a=Hu),this.services.backendConnector.reload(t,i,S=>{y.resolve(),a(S)}),y}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&BO.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let i=0;i<this.languages.length;i++){const a=this.languages[i];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}changeLanguage(t,i){var a=this;this.isLanguageChangingTo=t;const y=Qh();this.emit("languageChanging",t);const S=r(s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},"setLngProps"),n=r((s,o)=>{o?(S(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,y.resolve(function(){return a.t(...arguments)}),i&&i(s,function(){return a.t(...arguments)})},"done"),C=r(s=>{var T,c;!t&&!s&&this.services.languageDetector&&(s=[]);const o=mt(s)?s:this.services.languageUtils.getBestMatchFromCodes(s);o&&(this.language||S(o),this.translator.language||this.translator.changeLanguage(o),(c=(T=this.services.languageDetector)==null?void 0:T.cacheUserLanguage)==null||c.call(T,o)),this.loadResources(o,l=>{n(l,o)})},"setLng");return!t&&this.services.languageDetector&&!this.services.languageDetector.async?C(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(C):this.services.languageDetector.detect(C):C(t),y}getFixedT(t,i,a){var y=this;const S=r(function(n,C){let s;if(typeof C!="object"){for(var o=arguments.length,T=new Array(o>2?o-2:0),c=2;c<o;c++)T[c-2]=arguments[c];s=y.options.overloadTranslationOptionHandler([n,C].concat(T))}else s={...C};s.lng=s.lng||S.lng,s.lngs=s.lngs||S.lngs,s.ns=s.ns||S.ns,s.keyPrefix!==""&&(s.keyPrefix=s.keyPrefix||a||S.keyPrefix);const l=y.options.keySeparator||".";let u;return s.keyPrefix&&Array.isArray(n)?u=n.map(h=>`${s.keyPrefix}${l}${h}`):u=s.keyPrefix?`${s.keyPrefix}${l}${n}`:n,y.t(u,s)},"fixedT");return mt(t)?S.lng=t:S.lngs=t,S.ns=i,S.keyPrefix=a,S}t(){var y;for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(y=this.translator)==null?void 0:y.translate(...i)}exists(){var y;for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(y=this.translator)==null?void 0:y.exists(...i)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=i.lng||this.resolvedLanguage||this.languages[0],y=this.options?this.options.fallbackLng:!1,S=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const n=r((C,s)=>{const o=this.services.backendConnector.state[`${C}|${s}`];return o===-1||o===0||o===2},"loadNotPending");if(i.precheck){const C=i.precheck(this,n);if(C!==void 0)return C}return!!(this.hasResourceBundle(a,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||n(a,t)&&(!y||n(S,t)))}loadNamespaces(t,i){const a=Qh();return this.options.ns?(mt(t)&&(t=[t]),t.forEach(y=>{this.options.ns.indexOf(y)<0&&this.options.ns.push(y)}),this.loadResources(y=>{a.resolve(),i&&i(y)}),a):(i&&i(),Promise.resolve())}loadLanguages(t,i){const a=Qh();mt(t)&&(t=[t]);const y=this.options.preload||[],S=t.filter(n=>y.indexOf(n)<0&&this.services.languageUtils.isSupportedCode(n));return S.length?(this.options.preload=y.concat(S),this.loadResources(n=>{a.resolve(),i&&i(n)}),a):(i&&i(),Promise.resolve())}dir(t){var y,S;if(t||(t=this.resolvedLanguage||(((y=this.languages)==null?void 0:y.length)>0?this.languages[0]:this.language)),!t)return"rtl";const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((S=this.services)==null?void 0:S.languageUtils)||new ad(VS());return i.indexOf(a.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new ao(t,i)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu;const a=t.forkResourceStore;a&&delete t.forkResourceStore;const y={...this.options,...t,isClone:!0},S=new ao(y);if((t.debug!==void 0||t.prefix!==void 0)&&(S.logger=S.logger.clone(t)),["store","services","language"].forEach(C=>{S[C]=this[C]}),S.services={...this.services},S.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},a){const C=Object.keys(this.store.data).reduce((s,o)=>(s[o]={...this.store.data[o]},Object.keys(s[o]).reduce((T,c)=>(T[c]={...s[o][c]},T),{})),{});S.store=new rd(C,y),S.services.resourceStore=S.store}return S.translator=new nd(S.services,y),S.translator.on("*",function(C){for(var s=arguments.length,o=new Array(s>1?s-1:0),T=1;T<s;T++)o[T-1]=arguments[T];S.emit(C,...o)}),S.init(y,i),S.translator.options=y,S.translator.backendConnector.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}};r(ao,"I18n");let hd=ao;const Bt=hd.createInstance();Bt.createInstance=hd.createInstance;Bt.createInstance;Bt.dir;Bt.init;Bt.loadResources;Bt.reloadResources;Bt.use;Bt.changeLanguage;Bt.getFixedT;const RQ=Bt.t;Bt.exists;Bt.setDefaultNamespace;Bt.hasLoadedNamespace;Bt.loadNamespaces;Bt.loadLanguages;var Gt=(e=>(e[e.BULBASAUR=1]="BULBASAUR",e[e.IVYSAUR=2]="IVYSAUR",e[e.VENUSAUR=3]="VENUSAUR",e[e.CHARMANDER=4]="CHARMANDER",e[e.CHARMELEON=5]="CHARMELEON",e[e.CHARIZARD=6]="CHARIZARD",e[e.SQUIRTLE=7]="SQUIRTLE",e[e.WARTORTLE=8]="WARTORTLE",e[e.BLASTOISE=9]="BLASTOISE",e[e.CATERPIE=10]="CATERPIE",e[e.METAPOD=11]="METAPOD",e[e.BUTTERFREE=12]="BUTTERFREE",e[e.WEEDLE=13]="WEEDLE",e[e.KAKUNA=14]="KAKUNA",e[e.BEEDRILL=15]="BEEDRILL",e[e.PIDGEY=16]="PIDGEY",e[e.PIDGEOTTO=17]="PIDGEOTTO",e[e.PIDGEOT=18]="PIDGEOT",e[e.RATTATA=19]="RATTATA",e[e.RATICATE=20]="RATICATE",e[e.SPEAROW=21]="SPEAROW",e[e.FEAROW=22]="FEAROW",e[e.EKANS=23]="EKANS",e[e.ARBOK=24]="ARBOK",e[e.PIKACHU=25]="PIKACHU",e[e.RAICHU=26]="RAICHU",e[e.SANDSHREW=27]="SANDSHREW",e[e.SANDSLASH=28]="SANDSLASH",e[e.NIDORAN_F=29]="NIDORAN_F",e[e.NIDORINA=30]="NIDORINA",e[e.NIDOQUEEN=31]="NIDOQUEEN",e[e.NIDORAN_M=32]="NIDORAN_M",e[e.NIDORINO=33]="NIDORINO",e[e.NIDOKING=34]="NIDOKING",e[e.CLEFAIRY=35]="CLEFAIRY",e[e.CLEFABLE=36]="CLEFABLE",e[e.VULPIX=37]="VULPIX",e[e.NINETALES=38]="NINETALES",e[e.JIGGLYPUFF=39]="JIGGLYPUFF",e[e.WIGGLYTUFF=40]="WIGGLYTUFF",e[e.ZUBAT=41]="ZUBAT",e[e.GOLBAT=42]="GOLBAT",e[e.ODDISH=43]="ODDISH",e[e.GLOOM=44]="GLOOM",e[e.VILEPLUME=45]="VILEPLUME",e[e.PARAS=46]="PARAS",e[e.PARASECT=47]="PARASECT",e[e.VENONAT=48]="VENONAT",e[e.VENOMOTH=49]="VENOMOTH",e[e.DIGLETT=50]="DIGLETT",e[e.DUGTRIO=51]="DUGTRIO",e[e.MEOWTH=52]="MEOWTH",e[e.PERSIAN=53]="PERSIAN",e[e.PSYDUCK=54]="PSYDUCK",e[e.GOLDUCK=55]="GOLDUCK",e[e.MANKEY=56]="MANKEY",e[e.PRIMEAPE=57]="PRIMEAPE",e[e.GROWLITHE=58]="GROWLITHE",e[e.ARCANINE=59]="ARCANINE",e[e.POLIWAG=60]="POLIWAG",e[e.POLIWHIRL=61]="POLIWHIRL",e[e.POLIWRATH=62]="POLIWRATH",e[e.ABRA=63]="ABRA",e[e.KADABRA=64]="KADABRA",e[e.ALAKAZAM=65]="ALAKAZAM",e[e.MACHOP=66]="MACHOP",e[e.MACHOKE=67]="MACHOKE",e[e.MACHAMP=68]="MACHAMP",e[e.BELLSPROUT=69]="BELLSPROUT",e[e.WEEPINBELL=70]="WEEPINBELL",e[e.VICTREEBEL=71]="VICTREEBEL",e[e.TENTACOOL=72]="TENTACOOL",e[e.TENTACRUEL=73]="TENTACRUEL",e[e.GEODUDE=74]="GEODUDE",e[e.GRAVELER=75]="GRAVELER",e[e.GOLEM=76]="GOLEM",e[e.PONYTA=77]="PONYTA",e[e.RAPIDASH=78]="RAPIDASH",e[e.SLOWPOKE=79]="SLOWPOKE",e[e.SLOWBRO=80]="SLOWBRO",e[e.MAGNEMITE=81]="MAGNEMITE",e[e.MAGNETON=82]="MAGNETON",e[e.FARFETCHD=83]="FARFETCHD",e[e.DODUO=84]="DODUO",e[e.DODRIO=85]="DODRIO",e[e.SEEL=86]="SEEL",e[e.DEWGONG=87]="DEWGONG",e[e.GRIMER=88]="GRIMER",e[e.MUK=89]="MUK",e[e.SHELLDER=90]="SHELLDER",e[e.CLOYSTER=91]="CLOYSTER",e[e.GASTLY=92]="GASTLY",e[e.HAUNTER=93]="HAUNTER",e[e.GENGAR=94]="GENGAR",e[e.ONIX=95]="ONIX",e[e.DROWZEE=96]="DROWZEE",e[e.HYPNO=97]="HYPNO",e[e.KRABBY=98]="KRABBY",e[e.KINGLER=99]="KINGLER",e[e.VOLTORB=100]="VOLTORB",e[e.ELECTRODE=101]="ELECTRODE",e[e.EXEGGCUTE=102]="EXEGGCUTE",e[e.EXEGGUTOR=103]="EXEGGUTOR",e[e.CUBONE=104]="CUBONE",e[e.MAROWAK=105]="MAROWAK",e[e.HITMONLEE=106]="HITMONLEE",e[e.HITMONCHAN=107]="HITMONCHAN",e[e.LICKITUNG=108]="LICKITUNG",e[e.KOFFING=109]="KOFFING",e[e.WEEZING=110]="WEEZING",e[e.RHYHORN=111]="RHYHORN",e[e.RHYDON=112]="RHYDON",e[e.CHANSEY=113]="CHANSEY",e[e.TANGELA=114]="TANGELA",e[e.KANGASKHAN=115]="KANGASKHAN",e[e.HORSEA=116]="HORSEA",e[e.SEADRA=117]="SEADRA",e[e.GOLDEEN=118]="GOLDEEN",e[e.SEAKING=119]="SEAKING",e[e.STARYU=120]="STARYU",e[e.STARMIE=121]="STARMIE",e[e.MR_MIME=122]="MR_MIME",e[e.SCYTHER=123]="SCYTHER",e[e.JYNX=124]="JYNX",e[e.ELECTABUZZ=125]="ELECTABUZZ",e[e.MAGMAR=126]="MAGMAR",e[e.PINSIR=127]="PINSIR",e[e.TAUROS=128]="TAUROS",e[e.MAGIKARP=129]="MAGIKARP",e[e.GYARADOS=130]="GYARADOS",e[e.LAPRAS=131]="LAPRAS",e[e.DITTO=132]="DITTO",e[e.EEVEE=133]="EEVEE",e[e.VAPOREON=134]="VAPOREON",e[e.JOLTEON=135]="JOLTEON",e[e.FLAREON=136]="FLAREON",e[e.PORYGON=137]="PORYGON",e[e.OMANYTE=138]="OMANYTE",e[e.OMASTAR=139]="OMASTAR",e[e.KABUTO=140]="KABUTO",e[e.KABUTOPS=141]="KABUTOPS",e[e.AERODACTYL=142]="AERODACTYL",e[e.SNORLAX=143]="SNORLAX",e[e.ARTICUNO=144]="ARTICUNO",e[e.ZAPDOS=145]="ZAPDOS",e[e.MOLTRES=146]="MOLTRES",e[e.DRATINI=147]="DRATINI",e[e.DRAGONAIR=148]="DRAGONAIR",e[e.DRAGONITE=149]="DRAGONITE",e[e.MEWTWO=150]="MEWTWO",e[e.MEW=151]="MEW",e[e.CHIKORITA=152]="CHIKORITA",e[e.BAYLEEF=153]="BAYLEEF",e[e.MEGANIUM=154]="MEGANIUM",e[e.CYNDAQUIL=155]="CYNDAQUIL",e[e.QUILAVA=156]="QUILAVA",e[e.TYPHLOSION=157]="TYPHLOSION",e[e.TOTODILE=158]="TOTODILE",e[e.CROCONAW=159]="CROCONAW",e[e.FERALIGATR=160]="FERALIGATR",e[e.SENTRET=161]="SENTRET",e[e.FURRET=162]="FURRET",e[e.HOOTHOOT=163]="HOOTHOOT",e[e.NOCTOWL=164]="NOCTOWL",e[e.LEDYBA=165]="LEDYBA",e[e.LEDIAN=166]="LEDIAN",e[e.SPINARAK=167]="SPINARAK",e[e.ARIADOS=168]="ARIADOS",e[e.CROBAT=169]="CROBAT",e[e.CHINCHOU=170]="CHINCHOU",e[e.LANTURN=171]="LANTURN",e[e.PICHU=172]="PICHU",e[e.CLEFFA=173]="CLEFFA",e[e.IGGLYBUFF=174]="IGGLYBUFF",e[e.TOGEPI=175]="TOGEPI",e[e.TOGETIC=176]="TOGETIC",e[e.NATU=177]="NATU",e[e.XATU=178]="XATU",e[e.MAREEP=179]="MAREEP",e[e.FLAAFFY=180]="FLAAFFY",e[e.AMPHAROS=181]="AMPHAROS",e[e.BELLOSSOM=182]="BELLOSSOM",e[e.MARILL=183]="MARILL",e[e.AZUMARILL=184]="AZUMARILL",e[e.SUDOWOODO=185]="SUDOWOODO",e[e.POLITOED=186]="POLITOED",e[e.HOPPIP=187]="HOPPIP",e[e.SKIPLOOM=188]="SKIPLOOM",e[e.JUMPLUFF=189]="JUMPLUFF",e[e.AIPOM=190]="AIPOM",e[e.SUNKERN=191]="SUNKERN",e[e.SUNFLORA=192]="SUNFLORA",e[e.YANMA=193]="YANMA",e[e.WOOPER=194]="WOOPER",e[e.QUAGSIRE=195]="QUAGSIRE",e[e.ESPEON=196]="ESPEON",e[e.UMBREON=197]="UMBREON",e[e.MURKROW=198]="MURKROW",e[e.SLOWKING=199]="SLOWKING",e[e.MISDREAVUS=200]="MISDREAVUS",e[e.UNOWN=201]="UNOWN",e[e.WOBBUFFET=202]="WOBBUFFET",e[e.GIRAFARIG=203]="GIRAFARIG",e[e.PINECO=204]="PINECO",e[e.FORRETRESS=205]="FORRETRESS",e[e.DUNSPARCE=206]="DUNSPARCE",e[e.GLIGAR=207]="GLIGAR",e[e.STEELIX=208]="STEELIX",e[e.SNUBBULL=209]="SNUBBULL",e[e.GRANBULL=210]="GRANBULL",e[e.QWILFISH=211]="QWILFISH",e[e.SCIZOR=212]="SCIZOR",e[e.SHUCKLE=213]="SHUCKLE",e[e.HERACROSS=214]="HERACROSS",e[e.SNEASEL=215]="SNEASEL",e[e.TEDDIURSA=216]="TEDDIURSA",e[e.URSARING=217]="URSARING",e[e.SLUGMA=218]="SLUGMA",e[e.MAGCARGO=219]="MAGCARGO",e[e.SWINUB=220]="SWINUB",e[e.PILOSWINE=221]="PILOSWINE",e[e.CORSOLA=222]="CORSOLA",e[e.REMORAID=223]="REMORAID",e[e.OCTILLERY=224]="OCTILLERY",e[e.DELIBIRD=225]="DELIBIRD",e[e.MANTINE=226]="MANTINE",e[e.SKARMORY=227]="SKARMORY",e[e.HOUNDOUR=228]="HOUNDOUR",e[e.HOUNDOOM=229]="HOUNDOOM",e[e.KINGDRA=230]="KINGDRA",e[e.PHANPY=231]="PHANPY",e[e.DONPHAN=232]="DONPHAN",e[e.PORYGON2=233]="PORYGON2",e[e.STANTLER=234]="STANTLER",e[e.SMEARGLE=235]="SMEARGLE",e[e.TYROGUE=236]="TYROGUE",e[e.HITMONTOP=237]="HITMONTOP",e[e.SMOOCHUM=238]="SMOOCHUM",e[e.ELEKID=239]="ELEKID",e[e.MAGBY=240]="MAGBY",e[e.MILTANK=241]="MILTANK",e[e.BLISSEY=242]="BLISSEY",e[e.RAIKOU=243]="RAIKOU",e[e.ENTEI=244]="ENTEI",e[e.SUICUNE=245]="SUICUNE",e[e.LARVITAR=246]="LARVITAR",e[e.PUPITAR=247]="PUPITAR",e[e.TYRANITAR=248]="TYRANITAR",e[e.LUGIA=249]="LUGIA",e[e.HO_OH=250]="HO_OH",e[e.CELEBI=251]="CELEBI",e[e.TREECKO=252]="TREECKO",e[e.GROVYLE=253]="GROVYLE",e[e.SCEPTILE=254]="SCEPTILE",e[e.TORCHIC=255]="TORCHIC",e[e.COMBUSKEN=256]="COMBUSKEN",e[e.BLAZIKEN=257]="BLAZIKEN",e[e.MUDKIP=258]="MUDKIP",e[e.MARSHTOMP=259]="MARSHTOMP",e[e.SWAMPERT=260]="SWAMPERT",e[e.POOCHYENA=261]="POOCHYENA",e[e.MIGHTYENA=262]="MIGHTYENA",e[e.ZIGZAGOON=263]="ZIGZAGOON",e[e.LINOONE=264]="LINOONE",e[e.WURMPLE=265]="WURMPLE",e[e.SILCOON=266]="SILCOON",e[e.BEAUTIFLY=267]="BEAUTIFLY",e[e.CASCOON=268]="CASCOON",e[e.DUSTOX=269]="DUSTOX",e[e.LOTAD=270]="LOTAD",e[e.LOMBRE=271]="LOMBRE",e[e.LUDICOLO=272]="LUDICOLO",e[e.SEEDOT=273]="SEEDOT",e[e.NUZLEAF=274]="NUZLEAF",e[e.SHIFTRY=275]="SHIFTRY",e[e.TAILLOW=276]="TAILLOW",e[e.SWELLOW=277]="SWELLOW",e[e.WINGULL=278]="WINGULL",e[e.PELIPPER=279]="PELIPPER",e[e.RALTS=280]="RALTS",e[e.KIRLIA=281]="KIRLIA",e[e.GARDEVOIR=282]="GARDEVOIR",e[e.SURSKIT=283]="SURSKIT",e[e.MASQUERAIN=284]="MASQUERAIN",e[e.SHROOMISH=285]="SHROOMISH",e[e.BRELOOM=286]="BRELOOM",e[e.SLAKOTH=287]="SLAKOTH",e[e.VIGOROTH=288]="VIGOROTH",e[e.SLAKING=289]="SLAKING",e[e.NINCADA=290]="NINCADA",e[e.NINJASK=291]="NINJASK",e[e.SHEDINJA=292]="SHEDINJA",e[e.WHISMUR=293]="WHISMUR",e[e.LOUDRED=294]="LOUDRED",e[e.EXPLOUD=295]="EXPLOUD",e[e.MAKUHITA=296]="MAKUHITA",e[e.HARIYAMA=297]="HARIYAMA",e[e.AZURILL=298]="AZURILL",e[e.NOSEPASS=299]="NOSEPASS",e[e.SKITTY=300]="SKITTY",e[e.DELCATTY=301]="DELCATTY",e[e.SABLEYE=302]="SABLEYE",e[e.MAWILE=303]="MAWILE",e[e.ARON=304]="ARON",e[e.LAIRON=305]="LAIRON",e[e.AGGRON=306]="AGGRON",e[e.MEDITITE=307]="MEDITITE",e[e.MEDICHAM=308]="MEDICHAM",e[e.ELECTRIKE=309]="ELECTRIKE",e[e.MANECTRIC=310]="MANECTRIC",e[e.PLUSLE=311]="PLUSLE",e[e.MINUN=312]="MINUN",e[e.VOLBEAT=313]="VOLBEAT",e[e.ILLUMISE=314]="ILLUMISE",e[e.ROSELIA=315]="ROSELIA",e[e.GULPIN=316]="GULPIN",e[e.SWALOT=317]="SWALOT",e[e.CARVANHA=318]="CARVANHA",e[e.SHARPEDO=319]="SHARPEDO",e[e.WAILMER=320]="WAILMER",e[e.WAILORD=321]="WAILORD",e[e.NUMEL=322]="NUMEL",e[e.CAMERUPT=323]="CAMERUPT",e[e.TORKOAL=324]="TORKOAL",e[e.SPOINK=325]="SPOINK",e[e.GRUMPIG=326]="GRUMPIG",e[e.SPINDA=327]="SPINDA",e[e.TRAPINCH=328]="TRAPINCH",e[e.VIBRAVA=329]="VIBRAVA",e[e.FLYGON=330]="FLYGON",e[e.CACNEA=331]="CACNEA",e[e.CACTURNE=332]="CACTURNE",e[e.SWABLU=333]="SWABLU",e[e.ALTARIA=334]="ALTARIA",e[e.ZANGOOSE=335]="ZANGOOSE",e[e.SEVIPER=336]="SEVIPER",e[e.LUNATONE=337]="LUNATONE",e[e.SOLROCK=338]="SOLROCK",e[e.BARBOACH=339]="BARBOACH",e[e.WHISCASH=340]="WHISCASH",e[e.CORPHISH=341]="CORPHISH",e[e.CRAWDAUNT=342]="CRAWDAUNT",e[e.BALTOY=343]="BALTOY",e[e.CLAYDOL=344]="CLAYDOL",e[e.LILEEP=345]="LILEEP",e[e.CRADILY=346]="CRADILY",e[e.ANORITH=347]="ANORITH",e[e.ARMALDO=348]="ARMALDO",e[e.FEEBAS=349]="FEEBAS",e[e.MILOTIC=350]="MILOTIC",e[e.CASTFORM=351]="CASTFORM",e[e.KECLEON=352]="KECLEON",e[e.SHUPPET=353]="SHUPPET",e[e.BANETTE=354]="BANETTE",e[e.DUSKULL=355]="DUSKULL",e[e.DUSCLOPS=356]="DUSCLOPS",e[e.TROPIUS=357]="TROPIUS",e[e.CHIMECHO=358]="CHIMECHO",e[e.ABSOL=359]="ABSOL",e[e.WYNAUT=360]="WYNAUT",e[e.SNORUNT=361]="SNORUNT",e[e.GLALIE=362]="GLALIE",e[e.SPHEAL=363]="SPHEAL",e[e.SEALEO=364]="SEALEO",e[e.WALREIN=365]="WALREIN",e[e.CLAMPERL=366]="CLAMPERL",e[e.HUNTAIL=367]="HUNTAIL",e[e.GOREBYSS=368]="GOREBYSS",e[e.RELICANTH=369]="RELICANTH",e[e.LUVDISC=370]="LUVDISC",e[e.BAGON=371]="BAGON",e[e.SHELGON=372]="SHELGON",e[e.SALAMENCE=373]="SALAMENCE",e[e.BELDUM=374]="BELDUM",e[e.METANG=375]="METANG",e[e.METAGROSS=376]="METAGROSS",e[e.REGIROCK=377]="REGIROCK",e[e.REGICE=378]="REGICE",e[e.REGISTEEL=379]="REGISTEEL",e[e.LATIAS=380]="LATIAS",e[e.LATIOS=381]="LATIOS",e[e.KYOGRE=382]="KYOGRE",e[e.GROUDON=383]="GROUDON",e[e.RAYQUAZA=384]="RAYQUAZA",e[e.JIRACHI=385]="JIRACHI",e[e.DEOXYS=386]="DEOXYS",e[e.TURTWIG=387]="TURTWIG",e[e.GROTLE=388]="GROTLE",e[e.TORTERRA=389]="TORTERRA",e[e.CHIMCHAR=390]="CHIMCHAR",e[e.MONFERNO=391]="MONFERNO",e[e.INFERNAPE=392]="INFERNAPE",e[e.PIPLUP=393]="PIPLUP",e[e.PRINPLUP=394]="PRINPLUP",e[e.EMPOLEON=395]="EMPOLEON",e[e.STARLY=396]="STARLY",e[e.STARAVIA=397]="STARAVIA",e[e.STARAPTOR=398]="STARAPTOR",e[e.BIDOOF=399]="BIDOOF",e[e.BIBAREL=400]="BIBAREL",e[e.KRICKETOT=401]="KRICKETOT",e[e.KRICKETUNE=402]="KRICKETUNE",e[e.SHINX=403]="SHINX",e[e.LUXIO=404]="LUXIO",e[e.LUXRAY=405]="LUXRAY",e[e.BUDEW=406]="BUDEW",e[e.ROSERADE=407]="ROSERADE",e[e.CRANIDOS=408]="CRANIDOS",e[e.RAMPARDOS=409]="RAMPARDOS",e[e.SHIELDON=410]="SHIELDON",e[e.BASTIODON=411]="BASTIODON",e[e.BURMY=412]="BURMY",e[e.WORMADAM=413]="WORMADAM",e[e.MOTHIM=414]="MOTHIM",e[e.COMBEE=415]="COMBEE",e[e.VESPIQUEN=416]="VESPIQUEN",e[e.PACHIRISU=417]="PACHIRISU",e[e.BUIZEL=418]="BUIZEL",e[e.FLOATZEL=419]="FLOATZEL",e[e.CHERUBI=420]="CHERUBI",e[e.CHERRIM=421]="CHERRIM",e[e.SHELLOS=422]="SHELLOS",e[e.GASTRODON=423]="GASTRODON",e[e.AMBIPOM=424]="AMBIPOM",e[e.DRIFLOON=425]="DRIFLOON",e[e.DRIFBLIM=426]="DRIFBLIM",e[e.BUNEARY=427]="BUNEARY",e[e.LOPUNNY=428]="LOPUNNY",e[e.MISMAGIUS=429]="MISMAGIUS",e[e.HONCHKROW=430]="HONCHKROW",e[e.GLAMEOW=431]="GLAMEOW",e[e.PURUGLY=432]="PURUGLY",e[e.CHINGLING=433]="CHINGLING",e[e.STUNKY=434]="STUNKY",e[e.SKUNTANK=435]="SKUNTANK",e[e.BRONZOR=436]="BRONZOR",e[e.BRONZONG=437]="BRONZONG",e[e.BONSLY=438]="BONSLY",e[e.MIME_JR=439]="MIME_JR",e[e.HAPPINY=440]="HAPPINY",e[e.CHATOT=441]="CHATOT",e[e.SPIRITOMB=442]="SPIRITOMB",e[e.GIBLE=443]="GIBLE",e[e.GABITE=444]="GABITE",e[e.GARCHOMP=445]="GARCHOMP",e[e.MUNCHLAX=446]="MUNCHLAX",e[e.RIOLU=447]="RIOLU",e[e.LUCARIO=448]="LUCARIO",e[e.HIPPOPOTAS=449]="HIPPOPOTAS",e[e.HIPPOWDON=450]="HIPPOWDON",e[e.SKORUPI=451]="SKORUPI",e[e.DRAPION=452]="DRAPION",e[e.CROAGUNK=453]="CROAGUNK",e[e.TOXICROAK=454]="TOXICROAK",e[e.CARNIVINE=455]="CARNIVINE",e[e.FINNEON=456]="FINNEON",e[e.LUMINEON=457]="LUMINEON",e[e.MANTYKE=458]="MANTYKE",e[e.SNOVER=459]="SNOVER",e[e.ABOMASNOW=460]="ABOMASNOW",e[e.WEAVILE=461]="WEAVILE",e[e.MAGNEZONE=462]="MAGNEZONE",e[e.LICKILICKY=463]="LICKILICKY",e[e.RHYPERIOR=464]="RHYPERIOR",e[e.TANGROWTH=465]="TANGROWTH",e[e.ELECTIVIRE=466]="ELECTIVIRE",e[e.MAGMORTAR=467]="MAGMORTAR",e[e.TOGEKISS=468]="TOGEKISS",e[e.YANMEGA=469]="YANMEGA",e[e.LEAFEON=470]="LEAFEON",e[e.GLACEON=471]="GLACEON",e[e.GLISCOR=472]="GLISCOR",e[e.MAMOSWINE=473]="MAMOSWINE",e[e.PORYGON_Z=474]="PORYGON_Z",e[e.GALLADE=475]="GALLADE",e[e.PROBOPASS=476]="PROBOPASS",e[e.DUSKNOIR=477]="DUSKNOIR",e[e.FROSLASS=478]="FROSLASS",e[e.ROTOM=479]="ROTOM",e[e.UXIE=480]="UXIE",e[e.MESPRIT=481]="MESPRIT",e[e.AZELF=482]="AZELF",e[e.DIALGA=483]="DIALGA",e[e.PALKIA=484]="PALKIA",e[e.HEATRAN=485]="HEATRAN",e[e.REGIGIGAS=486]="REGIGIGAS",e[e.GIRATINA=487]="GIRATINA",e[e.CRESSELIA=488]="CRESSELIA",e[e.PHIONE=489]="PHIONE",e[e.MANAPHY=490]="MANAPHY",e[e.DARKRAI=491]="DARKRAI",e[e.SHAYMIN=492]="SHAYMIN",e[e.ARCEUS=493]="ARCEUS",e[e.VICTINI=494]="VICTINI",e[e.SNIVY=495]="SNIVY",e[e.SERVINE=496]="SERVINE",e[e.SERPERIOR=497]="SERPERIOR",e[e.TEPIG=498]="TEPIG",e[e.PIGNITE=499]="PIGNITE",e[e.EMBOAR=500]="EMBOAR",e[e.OSHAWOTT=501]="OSHAWOTT",e[e.DEWOTT=502]="DEWOTT",e[e.SAMUROTT=503]="SAMUROTT",e[e.PATRAT=504]="PATRAT",e[e.WATCHOG=505]="WATCHOG",e[e.LILLIPUP=506]="LILLIPUP",e[e.HERDIER=507]="HERDIER",e[e.STOUTLAND=508]="STOUTLAND",e[e.PURRLOIN=509]="PURRLOIN",e[e.LIEPARD=510]="LIEPARD",e[e.PANSAGE=511]="PANSAGE",e[e.SIMISAGE=512]="SIMISAGE",e[e.PANSEAR=513]="PANSEAR",e[e.SIMISEAR=514]="SIMISEAR",e[e.PANPOUR=515]="PANPOUR",e[e.SIMIPOUR=516]="SIMIPOUR",e[e.MUNNA=517]="MUNNA",e[e.MUSHARNA=518]="MUSHARNA",e[e.PIDOVE=519]="PIDOVE",e[e.TRANQUILL=520]="TRANQUILL",e[e.UNFEZANT=521]="UNFEZANT",e[e.BLITZLE=522]="BLITZLE",e[e.ZEBSTRIKA=523]="ZEBSTRIKA",e[e.ROGGENROLA=524]="ROGGENROLA",e[e.BOLDORE=525]="BOLDORE",e[e.GIGALITH=526]="GIGALITH",e[e.WOOBAT=527]="WOOBAT",e[e.SWOOBAT=528]="SWOOBAT",e[e.DRILBUR=529]="DRILBUR",e[e.EXCADRILL=530]="EXCADRILL",e[e.AUDINO=531]="AUDINO",e[e.TIMBURR=532]="TIMBURR",e[e.GURDURR=533]="GURDURR",e[e.CONKELDURR=534]="CONKELDURR",e[e.TYMPOLE=535]="TYMPOLE",e[e.PALPITOAD=536]="PALPITOAD",e[e.SEISMITOAD=537]="SEISMITOAD",e[e.THROH=538]="THROH",e[e.SAWK=539]="SAWK",e[e.SEWADDLE=540]="SEWADDLE",e[e.SWADLOON=541]="SWADLOON",e[e.LEAVANNY=542]="LEAVANNY",e[e.VENIPEDE=543]="VENIPEDE",e[e.WHIRLIPEDE=544]="WHIRLIPEDE",e[e.SCOLIPEDE=545]="SCOLIPEDE",e[e.COTTONEE=546]="COTTONEE",e[e.WHIMSICOTT=547]="WHIMSICOTT",e[e.PETILIL=548]="PETILIL",e[e.LILLIGANT=549]="LILLIGANT",e[e.BASCULIN=550]="BASCULIN",e[e.SANDILE=551]="SANDILE",e[e.KROKOROK=552]="KROKOROK",e[e.KROOKODILE=553]="KROOKODILE",e[e.DARUMAKA=554]="DARUMAKA",e[e.DARMANITAN=555]="DARMANITAN",e[e.MARACTUS=556]="MARACTUS",e[e.DWEBBLE=557]="DWEBBLE",e[e.CRUSTLE=558]="CRUSTLE",e[e.SCRAGGY=559]="SCRAGGY",e[e.SCRAFTY=560]="SCRAFTY",e[e.SIGILYPH=561]="SIGILYPH",e[e.YAMASK=562]="YAMASK",e[e.COFAGRIGUS=563]="COFAGRIGUS",e[e.TIRTOUGA=564]="TIRTOUGA",e[e.CARRACOSTA=565]="CARRACOSTA",e[e.ARCHEN=566]="ARCHEN",e[e.ARCHEOPS=567]="ARCHEOPS",e[e.TRUBBISH=568]="TRUBBISH",e[e.GARBODOR=569]="GARBODOR",e[e.ZORUA=570]="ZORUA",e[e.ZOROARK=571]="ZOROARK",e[e.MINCCINO=572]="MINCCINO",e[e.CINCCINO=573]="CINCCINO",e[e.GOTHITA=574]="GOTHITA",e[e.GOTHORITA=575]="GOTHORITA",e[e.GOTHITELLE=576]="GOTHITELLE",e[e.SOLOSIS=577]="SOLOSIS",e[e.DUOSION=578]="DUOSION",e[e.REUNICLUS=579]="REUNICLUS",e[e.DUCKLETT=580]="DUCKLETT",e[e.SWANNA=581]="SWANNA",e[e.VANILLITE=582]="VANILLITE",e[e.VANILLISH=583]="VANILLISH",e[e.VANILLUXE=584]="VANILLUXE",e[e.DEERLING=585]="DEERLING",e[e.SAWSBUCK=586]="SAWSBUCK",e[e.EMOLGA=587]="EMOLGA",e[e.KARRABLAST=588]="KARRABLAST",e[e.ESCAVALIER=589]="ESCAVALIER",e[e.FOONGUS=590]="FOONGUS",e[e.AMOONGUSS=591]="AMOONGUSS",e[e.FRILLISH=592]="FRILLISH",e[e.JELLICENT=593]="JELLICENT",e[e.ALOMOMOLA=594]="ALOMOMOLA",e[e.JOLTIK=595]="JOLTIK",e[e.GALVANTULA=596]="GALVANTULA",e[e.FERROSEED=597]="FERROSEED",e[e.FERROTHORN=598]="FERROTHORN",e[e.KLINK=599]="KLINK",e[e.KLANG=600]="KLANG",e[e.KLINKLANG=601]="KLINKLANG",e[e.TYNAMO=602]="TYNAMO",e[e.EELEKTRIK=603]="EELEKTRIK",e[e.EELEKTROSS=604]="EELEKTROSS",e[e.ELGYEM=605]="ELGYEM",e[e.BEHEEYEM=606]="BEHEEYEM",e[e.LITWICK=607]="LITWICK",e[e.LAMPENT=608]="LAMPENT",e[e.CHANDELURE=609]="CHANDELURE",e[e.AXEW=610]="AXEW",e[e.FRAXURE=611]="FRAXURE",e[e.HAXORUS=612]="HAXORUS",e[e.CUBCHOO=613]="CUBCHOO",e[e.BEARTIC=614]="BEARTIC",e[e.CRYOGONAL=615]="CRYOGONAL",e[e.SHELMET=616]="SHELMET",e[e.ACCELGOR=617]="ACCELGOR",e[e.STUNFISK=618]="STUNFISK",e[e.MIENFOO=619]="MIENFOO",e[e.MIENSHAO=620]="MIENSHAO",e[e.DRUDDIGON=621]="DRUDDIGON",e[e.GOLETT=622]="GOLETT",e[e.GOLURK=623]="GOLURK",e[e.PAWNIARD=624]="PAWNIARD",e[e.BISHARP=625]="BISHARP",e[e.BOUFFALANT=626]="BOUFFALANT",e[e.RUFFLET=627]="RUFFLET",e[e.BRAVIARY=628]="BRAVIARY",e[e.VULLABY=629]="VULLABY",e[e.MANDIBUZZ=630]="MANDIBUZZ",e[e.HEATMOR=631]="HEATMOR",e[e.DURANT=632]="DURANT",e[e.DEINO=633]="DEINO",e[e.ZWEILOUS=634]="ZWEILOUS",e[e.HYDREIGON=635]="HYDREIGON",e[e.LARVESTA=636]="LARVESTA",e[e.VOLCARONA=637]="VOLCARONA",e[e.COBALION=638]="COBALION",e[e.TERRAKION=639]="TERRAKION",e[e.VIRIZION=640]="VIRIZION",e[e.TORNADUS=641]="TORNADUS",e[e.THUNDURUS=642]="THUNDURUS",e[e.RESHIRAM=643]="RESHIRAM",e[e.ZEKROM=644]="ZEKROM",e[e.LANDORUS=645]="LANDORUS",e[e.KYUREM=646]="KYUREM",e[e.KELDEO=647]="KELDEO",e[e.MELOETTA=648]="MELOETTA",e[e.GENESECT=649]="GENESECT",e[e.CHESPIN=650]="CHESPIN",e[e.QUILLADIN=651]="QUILLADIN",e[e.CHESNAUGHT=652]="CHESNAUGHT",e[e.FENNEKIN=653]="FENNEKIN",e[e.BRAIXEN=654]="BRAIXEN",e[e.DELPHOX=655]="DELPHOX",e[e.FROAKIE=656]="FROAKIE",e[e.FROGADIER=657]="FROGADIER",e[e.GRENINJA=658]="GRENINJA",e[e.BUNNELBY=659]="BUNNELBY",e[e.DIGGERSBY=660]="DIGGERSBY",e[e.FLETCHLING=661]="FLETCHLING",e[e.FLETCHINDER=662]="FLETCHINDER",e[e.TALONFLAME=663]="TALONFLAME",e[e.SCATTERBUG=664]="SCATTERBUG",e[e.SPEWPA=665]="SPEWPA",e[e.VIVILLON=666]="VIVILLON",e[e.LITLEO=667]="LITLEO",e[e.PYROAR=668]="PYROAR",e[e.FLABEBE=669]="FLABEBE",e[e.FLOETTE=670]="FLOETTE",e[e.FLORGES=671]="FLORGES",e[e.SKIDDO=672]="SKIDDO",e[e.GOGOAT=673]="GOGOAT",e[e.PANCHAM=674]="PANCHAM",e[e.PANGORO=675]="PANGORO",e[e.FURFROU=676]="FURFROU",e[e.ESPURR=677]="ESPURR",e[e.MEOWSTIC=678]="MEOWSTIC",e[e.HONEDGE=679]="HONEDGE",e[e.DOUBLADE=680]="DOUBLADE",e[e.AEGISLASH=681]="AEGISLASH",e[e.SPRITZEE=682]="SPRITZEE",e[e.AROMATISSE=683]="AROMATISSE",e[e.SWIRLIX=684]="SWIRLIX",e[e.SLURPUFF=685]="SLURPUFF",e[e.INKAY=686]="INKAY",e[e.MALAMAR=687]="MALAMAR",e[e.BINACLE=688]="BINACLE",e[e.BARBARACLE=689]="BARBARACLE",e[e.SKRELP=690]="SKRELP",e[e.DRAGALGE=691]="DRAGALGE",e[e.CLAUNCHER=692]="CLAUNCHER",e[e.CLAWITZER=693]="CLAWITZER",e[e.HELIOPTILE=694]="HELIOPTILE",e[e.HELIOLISK=695]="HELIOLISK",e[e.TYRUNT=696]="TYRUNT",e[e.TYRANTRUM=697]="TYRANTRUM",e[e.AMAURA=698]="AMAURA",e[e.AURORUS=699]="AURORUS",e[e.SYLVEON=700]="SYLVEON",e[e.HAWLUCHA=701]="HAWLUCHA",e[e.DEDENNE=702]="DEDENNE",e[e.CARBINK=703]="CARBINK",e[e.GOOMY=704]="GOOMY",e[e.SLIGGOO=705]="SLIGGOO",e[e.GOODRA=706]="GOODRA",e[e.KLEFKI=707]="KLEFKI",e[e.PHANTUMP=708]="PHANTUMP",e[e.TREVENANT=709]="TREVENANT",e[e.PUMPKABOO=710]="PUMPKABOO",e[e.GOURGEIST=711]="GOURGEIST",e[e.BERGMITE=712]="BERGMITE",e[e.AVALUGG=713]="AVALUGG",e[e.NOIBAT=714]="NOIBAT",e[e.NOIVERN=715]="NOIVERN",e[e.XERNEAS=716]="XERNEAS",e[e.YVELTAL=717]="YVELTAL",e[e.ZYGARDE=718]="ZYGARDE",e[e.DIANCIE=719]="DIANCIE",e[e.HOOPA=720]="HOOPA",e[e.VOLCANION=721]="VOLCANION",e[e.ROWLET=722]="ROWLET",e[e.DARTRIX=723]="DARTRIX",e[e.DECIDUEYE=724]="DECIDUEYE",e[e.LITTEN=725]="LITTEN",e[e.TORRACAT=726]="TORRACAT",e[e.INCINEROAR=727]="INCINEROAR",e[e.POPPLIO=728]="POPPLIO",e[e.BRIONNE=729]="BRIONNE",e[e.PRIMARINA=730]="PRIMARINA",e[e.PIKIPEK=731]="PIKIPEK",e[e.TRUMBEAK=732]="TRUMBEAK",e[e.TOUCANNON=733]="TOUCANNON",e[e.YUNGOOS=734]="YUNGOOS",e[e.GUMSHOOS=735]="GUMSHOOS",e[e.GRUBBIN=736]="GRUBBIN",e[e.CHARJABUG=737]="CHARJABUG",e[e.VIKAVOLT=738]="VIKAVOLT",e[e.CRABRAWLER=739]="CRABRAWLER",e[e.CRABOMINABLE=740]="CRABOMINABLE",e[e.ORICORIO=741]="ORICORIO",e[e.CUTIEFLY=742]="CUTIEFLY",e[e.RIBOMBEE=743]="RIBOMBEE",e[e.ROCKRUFF=744]="ROCKRUFF",e[e.LYCANROC=745]="LYCANROC",e[e.WISHIWASHI=746]="WISHIWASHI",e[e.MAREANIE=747]="MAREANIE",e[e.TOXAPEX=748]="TOXAPEX",e[e.MUDBRAY=749]="MUDBRAY",e[e.MUDSDALE=750]="MUDSDALE",e[e.DEWPIDER=751]="DEWPIDER",e[e.ARAQUANID=752]="ARAQUANID",e[e.FOMANTIS=753]="FOMANTIS",e[e.LURANTIS=754]="LURANTIS",e[e.MORELULL=755]="MORELULL",e[e.SHIINOTIC=756]="SHIINOTIC",e[e.SALANDIT=757]="SALANDIT",e[e.SALAZZLE=758]="SALAZZLE",e[e.STUFFUL=759]="STUFFUL",e[e.BEWEAR=760]="BEWEAR",e[e.BOUNSWEET=761]="BOUNSWEET",e[e.STEENEE=762]="STEENEE",e[e.TSAREENA=763]="TSAREENA",e[e.COMFEY=764]="COMFEY",e[e.ORANGURU=765]="ORANGURU",e[e.PASSIMIAN=766]="PASSIMIAN",e[e.WIMPOD=767]="WIMPOD",e[e.GOLISOPOD=768]="GOLISOPOD",e[e.SANDYGAST=769]="SANDYGAST",e[e.PALOSSAND=770]="PALOSSAND",e[e.PYUKUMUKU=771]="PYUKUMUKU",e[e.TYPE_NULL=772]="TYPE_NULL",e[e.SILVALLY=773]="SILVALLY",e[e.MINIOR=774]="MINIOR",e[e.KOMALA=775]="KOMALA",e[e.TURTONATOR=776]="TURTONATOR",e[e.TOGEDEMARU=777]="TOGEDEMARU",e[e.MIMIKYU=778]="MIMIKYU",e[e.BRUXISH=779]="BRUXISH",e[e.DRAMPA=780]="DRAMPA",e[e.DHELMISE=781]="DHELMISE",e[e.JANGMO_O=782]="JANGMO_O",e[e.HAKAMO_O=783]="HAKAMO_O",e[e.KOMMO_O=784]="KOMMO_O",e[e.TAPU_KOKO=785]="TAPU_KOKO",e[e.TAPU_LELE=786]="TAPU_LELE",e[e.TAPU_BULU=787]="TAPU_BULU",e[e.TAPU_FINI=788]="TAPU_FINI",e[e.COSMOG=789]="COSMOG",e[e.COSMOEM=790]="COSMOEM",e[e.SOLGALEO=791]="SOLGALEO",e[e.LUNALA=792]="LUNALA",e[e.NIHILEGO=793]="NIHILEGO",e[e.BUZZWOLE=794]="BUZZWOLE",e[e.PHEROMOSA=795]="PHEROMOSA",e[e.XURKITREE=796]="XURKITREE",e[e.CELESTEELA=797]="CELESTEELA",e[e.KARTANA=798]="KARTANA",e[e.GUZZLORD=799]="GUZZLORD",e[e.NECROZMA=800]="NECROZMA",e[e.MAGEARNA=801]="MAGEARNA",e[e.MARSHADOW=802]="MARSHADOW",e[e.POIPOLE=803]="POIPOLE",e[e.NAGANADEL=804]="NAGANADEL",e[e.STAKATAKA=805]="STAKATAKA",e[e.BLACEPHALON=806]="BLACEPHALON",e[e.ZERAORA=807]="ZERAORA",e[e.MELTAN=808]="MELTAN",e[e.MELMETAL=809]="MELMETAL",e[e.GROOKEY=810]="GROOKEY",e[e.THWACKEY=811]="THWACKEY",e[e.RILLABOOM=812]="RILLABOOM",e[e.SCORBUNNY=813]="SCORBUNNY",e[e.RABOOT=814]="RABOOT",e[e.CINDERACE=815]="CINDERACE",e[e.SOBBLE=816]="SOBBLE",e[e.DRIZZILE=817]="DRIZZILE",e[e.INTELEON=818]="INTELEON",e[e.SKWOVET=819]="SKWOVET",e[e.GREEDENT=820]="GREEDENT",e[e.ROOKIDEE=821]="ROOKIDEE",e[e.CORVISQUIRE=822]="CORVISQUIRE",e[e.CORVIKNIGHT=823]="CORVIKNIGHT",e[e.BLIPBUG=824]="BLIPBUG",e[e.DOTTLER=825]="DOTTLER",e[e.ORBEETLE=826]="ORBEETLE",e[e.NICKIT=827]="NICKIT",e[e.THIEVUL=828]="THIEVUL",e[e.GOSSIFLEUR=829]="GOSSIFLEUR",e[e.ELDEGOSS=830]="ELDEGOSS",e[e.WOOLOO=831]="WOOLOO",e[e.DUBWOOL=832]="DUBWOOL",e[e.CHEWTLE=833]="CHEWTLE",e[e.DREDNAW=834]="DREDNAW",e[e.YAMPER=835]="YAMPER",e[e.BOLTUND=836]="BOLTUND",e[e.ROLYCOLY=837]="ROLYCOLY",e[e.CARKOL=838]="CARKOL",e[e.COALOSSAL=839]="COALOSSAL",e[e.APPLIN=840]="APPLIN",e[e.FLAPPLE=841]="FLAPPLE",e[e.APPLETUN=842]="APPLETUN",e[e.SILICOBRA=843]="SILICOBRA",e[e.SANDACONDA=844]="SANDACONDA",e[e.CRAMORANT=845]="CRAMORANT",e[e.ARROKUDA=846]="ARROKUDA",e[e.BARRASKEWDA=847]="BARRASKEWDA",e[e.TOXEL=848]="TOXEL",e[e.TOXTRICITY=849]="TOXTRICITY",e[e.SIZZLIPEDE=850]="SIZZLIPEDE",e[e.CENTISKORCH=851]="CENTISKORCH",e[e.CLOBBOPUS=852]="CLOBBOPUS",e[e.GRAPPLOCT=853]="GRAPPLOCT",e[e.SINISTEA=854]="SINISTEA",e[e.POLTEAGEIST=855]="POLTEAGEIST",e[e.HATENNA=856]="HATENNA",e[e.HATTREM=857]="HATTREM",e[e.HATTERENE=858]="HATTERENE",e[e.IMPIDIMP=859]="IMPIDIMP",e[e.MORGREM=860]="MORGREM",e[e.GRIMMSNARL=861]="GRIMMSNARL",e[e.OBSTAGOON=862]="OBSTAGOON",e[e.PERRSERKER=863]="PERRSERKER",e[e.CURSOLA=864]="CURSOLA",e[e.SIRFETCHD=865]="SIRFETCHD",e[e.MR_RIME=866]="MR_RIME",e[e.RUNERIGUS=867]="RUNERIGUS",e[e.MILCERY=868]="MILCERY",e[e.ALCREMIE=869]="ALCREMIE",e[e.FALINKS=870]="FALINKS",e[e.PINCURCHIN=871]="PINCURCHIN",e[e.SNOM=872]="SNOM",e[e.FROSMOTH=873]="FROSMOTH",e[e.STONJOURNER=874]="STONJOURNER",e[e.EISCUE=875]="EISCUE",e[e.INDEEDEE=876]="INDEEDEE",e[e.MORPEKO=877]="MORPEKO",e[e.CUFANT=878]="CUFANT",e[e.COPPERAJAH=879]="COPPERAJAH",e[e.DRACOZOLT=880]="DRACOZOLT",e[e.ARCTOZOLT=881]="ARCTOZOLT",e[e.DRACOVISH=882]="DRACOVISH",e[e.ARCTOVISH=883]="ARCTOVISH",e[e.DURALUDON=884]="DURALUDON",e[e.DREEPY=885]="DREEPY",e[e.DRAKLOAK=886]="DRAKLOAK",e[e.DRAGAPULT=887]="DRAGAPULT",e[e.ZACIAN=888]="ZACIAN",e[e.ZAMAZENTA=889]="ZAMAZENTA",e[e.ETERNATUS=890]="ETERNATUS",e[e.KUBFU=891]="KUBFU",e[e.URSHIFU=892]="URSHIFU",e[e.ZARUDE=893]="ZARUDE",e[e.REGIELEKI=894]="REGIELEKI",e[e.REGIDRAGO=895]="REGIDRAGO",e[e.GLASTRIER=896]="GLASTRIER",e[e.SPECTRIER=897]="SPECTRIER",e[e.CALYREX=898]="CALYREX",e[e.WYRDEER=899]="WYRDEER",e[e.KLEAVOR=900]="KLEAVOR",e[e.URSALUNA=901]="URSALUNA",e[e.BASCULEGION=902]="BASCULEGION",e[e.SNEASLER=903]="SNEASLER",e[e.OVERQWIL=904]="OVERQWIL",e[e.ENAMORUS=905]="ENAMORUS",e[e.SPRIGATITO=906]="SPRIGATITO",e[e.FLORAGATO=907]="FLORAGATO",e[e.MEOWSCARADA=908]="MEOWSCARADA",e[e.FUECOCO=909]="FUECOCO",e[e.CROCALOR=910]="CROCALOR",e[e.SKELEDIRGE=911]="SKELEDIRGE",e[e.QUAXLY=912]="QUAXLY",e[e.QUAXWELL=913]="QUAXWELL",e[e.QUAQUAVAL=914]="QUAQUAVAL",e[e.LECHONK=915]="LECHONK",e[e.OINKOLOGNE=916]="OINKOLOGNE",e[e.TAROUNTULA=917]="TAROUNTULA",e[e.SPIDOPS=918]="SPIDOPS",e[e.NYMBLE=919]="NYMBLE",e[e.LOKIX=920]="LOKIX",e[e.PAWMI=921]="PAWMI",e[e.PAWMO=922]="PAWMO",e[e.PAWMOT=923]="PAWMOT",e[e.TANDEMAUS=924]="TANDEMAUS",e[e.MAUSHOLD=925]="MAUSHOLD",e[e.FIDOUGH=926]="FIDOUGH",e[e.DACHSBUN=927]="DACHSBUN",e[e.SMOLIV=928]="SMOLIV",e[e.DOLLIV=929]="DOLLIV",e[e.ARBOLIVA=930]="ARBOLIVA",e[e.SQUAWKABILLY=931]="SQUAWKABILLY",e[e.NACLI=932]="NACLI",e[e.NACLSTACK=933]="NACLSTACK",e[e.GARGANACL=934]="GARGANACL",e[e.CHARCADET=935]="CHARCADET",e[e.ARMAROUGE=936]="ARMAROUGE",e[e.CERULEDGE=937]="CERULEDGE",e[e.TADBULB=938]="TADBULB",e[e.BELLIBOLT=939]="BELLIBOLT",e[e.WATTREL=940]="WATTREL",e[e.KILOWATTREL=941]="KILOWATTREL",e[e.MASCHIFF=942]="MASCHIFF",e[e.MABOSSTIFF=943]="MABOSSTIFF",e[e.SHROODLE=944]="SHROODLE",e[e.GRAFAIAI=945]="GRAFAIAI",e[e.BRAMBLIN=946]="BRAMBLIN",e[e.BRAMBLEGHAST=947]="BRAMBLEGHAST",e[e.TOEDSCOOL=948]="TOEDSCOOL",e[e.TOEDSCRUEL=949]="TOEDSCRUEL",e[e.KLAWF=950]="KLAWF",e[e.CAPSAKID=951]="CAPSAKID",e[e.SCOVILLAIN=952]="SCOVILLAIN",e[e.RELLOR=953]="RELLOR",e[e.RABSCA=954]="RABSCA",e[e.FLITTLE=955]="FLITTLE",e[e.ESPATHRA=956]="ESPATHRA",e[e.TINKATINK=957]="TINKATINK",e[e.TINKATUFF=958]="TINKATUFF",e[e.TINKATON=959]="TINKATON",e[e.WIGLETT=960]="WIGLETT",e[e.WUGTRIO=961]="WUGTRIO",e[e.BOMBIRDIER=962]="BOMBIRDIER",e[e.FINIZEN=963]="FINIZEN",e[e.PALAFIN=964]="PALAFIN",e[e.VAROOM=965]="VAROOM",e[e.REVAVROOM=966]="REVAVROOM",e[e.CYCLIZAR=967]="CYCLIZAR",e[e.ORTHWORM=968]="ORTHWORM",e[e.GLIMMET=969]="GLIMMET",e[e.GLIMMORA=970]="GLIMMORA",e[e.GREAVARD=971]="GREAVARD",e[e.HOUNDSTONE=972]="HOUNDSTONE",e[e.FLAMIGO=973]="FLAMIGO",e[e.CETODDLE=974]="CETODDLE",e[e.CETITAN=975]="CETITAN",e[e.VELUZA=976]="VELUZA",e[e.DONDOZO=977]="DONDOZO",e[e.TATSUGIRI=978]="TATSUGIRI",e[e.ANNIHILAPE=979]="ANNIHILAPE",e[e.CLODSIRE=980]="CLODSIRE",e[e.FARIGIRAF=981]="FARIGIRAF",e[e.DUDUNSPARCE=982]="DUDUNSPARCE",e[e.KINGAMBIT=983]="KINGAMBIT",e[e.GREAT_TUSK=984]="GREAT_TUSK",e[e.SCREAM_TAIL=985]="SCREAM_TAIL",e[e.BRUTE_BONNET=986]="BRUTE_BONNET",e[e.FLUTTER_MANE=987]="FLUTTER_MANE",e[e.SLITHER_WING=988]="SLITHER_WING",e[e.SANDY_SHOCKS=989]="SANDY_SHOCKS",e[e.IRON_TREADS=990]="IRON_TREADS",e[e.IRON_BUNDLE=991]="IRON_BUNDLE",e[e.IRON_HANDS=992]="IRON_HANDS",e[e.IRON_JUGULIS=993]="IRON_JUGULIS",e[e.IRON_MOTH=994]="IRON_MOTH",e[e.IRON_THORNS=995]="IRON_THORNS",e[e.FRIGIBAX=996]="FRIGIBAX",e[e.ARCTIBAX=997]="ARCTIBAX",e[e.BAXCALIBUR=998]="BAXCALIBUR",e[e.GIMMIGHOUL=999]="GIMMIGHOUL",e[e.GHOLDENGO=1e3]="GHOLDENGO",e[e.WO_CHIEN=1001]="WO_CHIEN",e[e.CHIEN_PAO=1002]="CHIEN_PAO",e[e.TING_LU=1003]="TING_LU",e[e.CHI_YU=1004]="CHI_YU",e[e.ROARING_MOON=1005]="ROARING_MOON",e[e.IRON_VALIANT=1006]="IRON_VALIANT",e[e.KORAIDON=1007]="KORAIDON",e[e.MIRAIDON=1008]="MIRAIDON",e[e.WALKING_WAKE=1009]="WALKING_WAKE",e[e.IRON_LEAVES=1010]="IRON_LEAVES",e[e.DIPPLIN=1011]="DIPPLIN",e[e.POLTCHAGEIST=1012]="POLTCHAGEIST",e[e.SINISTCHA=1013]="SINISTCHA",e[e.OKIDOGI=1014]="OKIDOGI",e[e.MUNKIDORI=1015]="MUNKIDORI",e[e.FEZANDIPITI=1016]="FEZANDIPITI",e[e.OGERPON=1017]="OGERPON",e[e.ARCHALUDON=1018]="ARCHALUDON",e[e.HYDRAPPLE=1019]="HYDRAPPLE",e[e.GOUGING_FIRE=1020]="GOUGING_FIRE",e[e.RAGING_BOLT=1021]="RAGING_BOLT",e[e.IRON_BOULDER=1022]="IRON_BOULDER",e[e.IRON_CROWN=1023]="IRON_CROWN",e[e.TERAPAGOS=1024]="TERAPAGOS",e[e.PECHARUNT=1025]="PECHARUNT",e[e.ALOLA_RATTATA=2019]="ALOLA_RATTATA",e[e.ALOLA_RATICATE=2020]="ALOLA_RATICATE",e[e.ALOLA_RAICHU=2026]="ALOLA_RAICHU",e[e.ALOLA_SANDSHREW=2027]="ALOLA_SANDSHREW",e[e.ALOLA_SANDSLASH=2028]="ALOLA_SANDSLASH",e[e.ALOLA_VULPIX=2037]="ALOLA_VULPIX",e[e.ALOLA_NINETALES=2038]="ALOLA_NINETALES",e[e.ALOLA_DIGLETT=2050]="ALOLA_DIGLETT",e[e.ALOLA_DUGTRIO=2051]="ALOLA_DUGTRIO",e[e.ALOLA_MEOWTH=2052]="ALOLA_MEOWTH",e[e.ALOLA_PERSIAN=2053]="ALOLA_PERSIAN",e[e.ALOLA_GEODUDE=2074]="ALOLA_GEODUDE",e[e.ALOLA_GRAVELER=2075]="ALOLA_GRAVELER",e[e.ALOLA_GOLEM=2076]="ALOLA_GOLEM",e[e.ALOLA_GRIMER=2088]="ALOLA_GRIMER",e[e.ALOLA_MUK=2089]="ALOLA_MUK",e[e.ALOLA_EXEGGUTOR=2103]="ALOLA_EXEGGUTOR",e[e.ALOLA_MAROWAK=2105]="ALOLA_MAROWAK",e[e.ETERNAL_FLOETTE=2670]="ETERNAL_FLOETTE",e[e.GALAR_MEOWTH=4052]="GALAR_MEOWTH",e[e.GALAR_PONYTA=4077]="GALAR_PONYTA",e[e.GALAR_RAPIDASH=4078]="GALAR_RAPIDASH",e[e.GALAR_SLOWPOKE=4079]="GALAR_SLOWPOKE",e[e.GALAR_SLOWBRO=4080]="GALAR_SLOWBRO",e[e.GALAR_FARFETCHD=4083]="GALAR_FARFETCHD",e[e.GALAR_WEEZING=4110]="GALAR_WEEZING",e[e.GALAR_MR_MIME=4122]="GALAR_MR_MIME",e[e.GALAR_ARTICUNO=4144]="GALAR_ARTICUNO",e[e.GALAR_ZAPDOS=4145]="GALAR_ZAPDOS",e[e.GALAR_MOLTRES=4146]="GALAR_MOLTRES",e[e.GALAR_SLOWKING=4199]="GALAR_SLOWKING",e[e.GALAR_CORSOLA=4222]="GALAR_CORSOLA",e[e.GALAR_ZIGZAGOON=4263]="GALAR_ZIGZAGOON",e[e.GALAR_LINOONE=4264]="GALAR_LINOONE",e[e.GALAR_DARUMAKA=4554]="GALAR_DARUMAKA",e[e.GALAR_DARMANITAN=4555]="GALAR_DARMANITAN",e[e.GALAR_YAMASK=4562]="GALAR_YAMASK",e[e.GALAR_STUNFISK=4618]="GALAR_STUNFISK",e[e.HISUI_GROWLITHE=6058]="HISUI_GROWLITHE",e[e.HISUI_ARCANINE=6059]="HISUI_ARCANINE",e[e.HISUI_VOLTORB=6100]="HISUI_VOLTORB",e[e.HISUI_ELECTRODE=6101]="HISUI_ELECTRODE",e[e.HISUI_TYPHLOSION=6157]="HISUI_TYPHLOSION",e[e.HISUI_QWILFISH=6211]="HISUI_QWILFISH",e[e.HISUI_SNEASEL=6215]="HISUI_SNEASEL",e[e.HISUI_SAMUROTT=6503]="HISUI_SAMUROTT",e[e.HISUI_LILLIGANT=6549]="HISUI_LILLIGANT",e[e.HISUI_ZORUA=6570]="HISUI_ZORUA",e[e.HISUI_ZOROARK=6571]="HISUI_ZOROARK",e[e.HISUI_BRAVIARY=6628]="HISUI_BRAVIARY",e[e.HISUI_SLIGGOO=6705]="HISUI_SLIGGOO",e[e.HISUI_GOODRA=6706]="HISUI_GOODRA",e[e.HISUI_AVALUGG=6713]="HISUI_AVALUGG",e[e.HISUI_DECIDUEYE=6724]="HISUI_DECIDUEYE",e[e.PALDEA_TAUROS=8128]="PALDEA_TAUROS",e[e.PALDEA_WOOPER=8194]="PALDEA_WOOPER",e[e.BLOODMOON_URSALUNA=8901]="BLOODMOON_URSALUNA",e))(Gt||{});const OQ=6,jp="pokerogue_sessionId",OJ=2147483648,LQ=[10,180],wQ=[10,180],MQ=20,DQ=[Gt.BULBASAUR,Gt.CHARMANDER,Gt.SQUIRTLE,Gt.CHIKORITA,Gt.CYNDAQUIL,Gt.TOTODILE,Gt.TREECKO,Gt.TORCHIC,Gt.MUDKIP,Gt.TURTWIG,Gt.CHIMCHAR,Gt.PIPLUP,Gt.SNIVY,Gt.TEPIG,Gt.OSHAWOTT,Gt.CHESPIN,Gt.FENNEKIN,Gt.FROAKIE,Gt.ROWLET,Gt.LITTEN,Gt.POPPLIO,Gt.GROOKEY,Gt.SCORBUNNY,Gt.SOBBLE,Gt.SPRIGATITO,Gt.FUECOCO,Gt.QUAXLY],FQ="x0i2O7WRiANTqPmZ",bQ=3,NQ=256,BQ=3,GQ=12,UQ=15;function LJ(e,t){const i=new Date;i.setTime(new Date().getTime()+36e5*24*30*3),document.cookie=`${e}=${t};Secure;SameSite=Strict;Domain=${window.location.hostname};Path=/;Expires=${i.toUTCString()}`}r(LJ,"setCookie");function GO(e){document.cookie=`${e}=;Secure;SameSite=Strict;Domain=${window.location.hostname};Path=/;Max-Age=-1`,document.cookie=`${e}=;Secure;SameSite=Strict;Path=/;Max-Age=-1`}r(GO,"removeCookie");function wJ(e){if(document.cookie.split(";").filter(a=>a.includes(e)).length>1)return GO(e),"";const t=`${e}=`,i=document.cookie.split(";");for(let a=0;a<i.length;a++){let y=i[a];for(;y.charAt(0)===" ";)y=y.substring(1);if(y.indexOf(t)===0)return y.substring(t.length,y.length)}return""}r(wJ,"getCookie");const uy=class uy{constructor(t){this.ERR_GENERIC="There was an error",this.base=t}async doGet(t){return this.doFetch(t,{method:"GET"})}async doPost(t,i,a="json"){let y;const S={};return i&&(a==="json"?(y=typeof i=="string"?i:JSON.stringify(i),S["Content-Type"]="application/json"):a==="form-urlencoded"?(i instanceof Object?y=this.toUrlSearchParams(i).toString():console.warn("Could not add body data to form-urlencoded!",i),S["Content-Type"]="application/x-www-form-urlencoded"):(console.warn(`Unsupported data type: ${a}`),y=String(i),S["Content-Type"]="text/plain")),await this.doFetch(t,{method:"POST",body:y,headers:S})}async doFetch(t,i){var a;return i.headers={...i.headers,Authorization:wJ(jp),"Content-Type":((a=i.headers)==null?void 0:a["Content-Type"])??"application/json"},await fetch(this.base+t,i)}toUrlSearchParams(t){const i=Object.entries(t).map(([a,y])=>y!==void 0?[a,String(y)]:[a,""]).filter(([,a])=>a!=="");return new URLSearchParams(i)}};r(uy,"ApiBase");let ds=uy;const fy=class fy extends ds{async getInfo(){try{const t=await this.doGet("/account/info");return t.ok?[await t.json(),t.status]:(console.warn("Could not get account info!",t.status,t.statusText),[null,t.status])}catch(t){return console.warn("Could not get account info!",t),[null,500]}}async register(t){try{const i=await this.doPost("/account/register",t,"form-urlencoded");return i.ok?null:i.text()}catch(i){console.warn("Register failed!",i)}return"Unknown error!"}async login(t){try{const i=await this.doPost("/account/login",t,"form-urlencoded");if(i.ok){const a=await i.json();return LJ(jp,a.token),null}return console.warn("Login failed!",i.status,i.statusText),i.text()}catch(i){console.warn("Login failed!",i)}return"Unknown error!"}async logout(){try{const t=await this.doGet("/account/logout");if(!t.ok)throw new Error(`${t.status}: ${t.statusText}`)}catch(t){console.warn("Log out failed!",t)}GO(jp)}};r(fy,"PokerogueAccountApi");let qp=fy;const dy=class dy extends ds{constructor(){super(...arguments),this.ERR_USERNAME_NOT_FOUND="Username not found!"}async linkAccountToDiscord(t){try{const i=await this.doPost("/admin/account/discordLink",t,"form-urlencoded");if(i.ok)return null;if(console.warn("Could not link account with discord!",i.status,i.statusText),i.status===404)return this.ERR_USERNAME_NOT_FOUND}catch(i){console.warn("Could not link account with discord!",i)}return this.ERR_GENERIC}async unlinkAccountFromDiscord(t){try{const i=await this.doPost("/admin/account/discordUnlink",t,"form-urlencoded");if(i.ok)return null;if(console.warn("Could not unlink account from discord!",i.status,i.statusText),i.status===404)return this.ERR_USERNAME_NOT_FOUND}catch(i){console.warn("Could not unlink account from discord!",i)}return this.ERR_GENERIC}async linkAccountToGoogleId(t){try{const i=await this.doPost("/admin/account/googleLink",t,"form-urlencoded");if(i.ok)return null;if(console.warn("Could not link account with google!",i.status,i.statusText),i.status===404)return this.ERR_USERNAME_NOT_FOUND}catch(i){console.warn("Could not link account with google!",i)}return this.ERR_GENERIC}async unlinkAccountFromGoogleId(t){try{const i=await this.doPost("/admin/account/googleUnlink",t,"form-urlencoded");if(i.ok)return null;if(console.warn("Could not unlink account from google!",i.status,i.statusText),i.status===404)return this.ERR_USERNAME_NOT_FOUND}catch(i){console.warn("Could not unlink account from google!",i)}return this.ERR_GENERIC}async searchAccount(t){try{const i=this.toUrlSearchParams(t),a=await this.doGet(`/admin/account/adminSearch?${i}`);if(a.ok)return[await a.json(),void 0];if(console.warn("Could not find account!",a.status,a.statusText),a.status===404)return[void 0,this.ERR_USERNAME_NOT_FOUND]}catch(i){console.warn("Could not find account!",i)}return[void 0,this.ERR_GENERIC]}};r(dy,"PokerogueAdminApi");let _p=dy;const cy=class cy extends ds{async getSeed(){try{return(await this.doGet("/daily/seed")).text()}catch(t){return console.warn("Could not get daily-run seed!",t),null}}async getRankings(t){try{const i=this.toUrlSearchParams(t);return await(await this.doGet(`/daily/rankings?${i}`)).json()}catch(i){return console.warn("Could not get daily rankings!",i),null}}async getRankingsPageCount(t){try{const i=this.toUrlSearchParams(t),y=await(await this.doGet(`/daily/rankingpagecount?${i}`)).json();return Number(y)}catch(i){return console.warn("Could not get daily rankings page count!",i),1}}};r(cy,"PokerogueDailyApi");let tg=cy;const vy=class vy extends ds{async newclear(t){try{const i=this.toUrlSearchParams(t),a=await this.doGet(`/savedata/session/newclear?${i}`),y=await a.json();if(a.ok)return!!y;throw new Error("Could not newclear session!")}catch(i){throw console.warn("Could not newclear session!",i),new Error("Could not newclear session!")}}async get(t){try{const i=this.toUrlSearchParams(t);return await(await this.doGet(`/savedata/session/get?${i}`)).text()}catch(i){return console.warn("Could not get session savedata!",i),null}}async update(t,i){try{const a=this.toUrlSearchParams(t);return await(await this.doPost(`/savedata/session/update?${a}`,i)).text()}catch(a){console.warn("Could not update session savedata!",a)}return"Unknown Error!"}async delete(t){try{const i=this.toUrlSearchParams(t),a=await this.doGet(`/savedata/session/delete?${i}`);return a.ok?null:await a.text()}catch(i){return console.warn("Could not delete session savedata!",i),"Unknown error"}}async clear(t,i){try{const a=this.toUrlSearchParams(t);return await(await this.doPost(`/savedata/session/clear?${a}`,i)).json()}catch(a){console.warn("Could not clear session savedata!",a)}return{error:"Unknown error",success:!1}}};r(vy,"PokerogueSessionSavedataApi");let eg=vy;const py=class py extends ds{async get(t){try{const i=this.toUrlSearchParams(t),a=await this.doGet(`/savedata/system/get?${i}`),y=await a.text();return a.ok?y:(console.warn("Could not get system savedata!",a.status,y),a.status)}catch(i){return console.warn("Could not get system savedata!",i),null}}async verify(t){const i=this.toUrlSearchParams(t),a=await this.doGet(`/savedata/system/verify?${i}`);if(a.ok){const y=await a.json();if(!y.valid)return console.warn("Invalid system savedata!"),y.systemData}else console.warn("System savedata verification failed!",a.status,a.statusText);return null}async update(t,i){try{const a=this.toUrlSearchParams(t);return await(await this.doPost(`/savedata/system/update?${a}`,i)).text()}catch(a){console.warn("Could not update system savedata!",a)}return"Unknown Error"}};r(py,"PokerogueSystemSavedataApi");let ig=py;const gy=class gy extends ds{constructor(t){super(t),this.system=new ig(t),this.session=new eg(t)}async updateAll(t){try{const i=JSON.stringify(t,(y,S)=>typeof S=="bigint"?S<=OJ?Number(S):S.toString():S);return await(await this.doPost("/savedata/updateall",i)).text()}catch(i){return console.warn("Could not update all savedata!",i),"Unknown error"}}};r(gy,"PokerogueSavedataApi");let sg=gy;const my=class my extends ds{constructor(t){super(t),this.account=new qp(t),this.daily=new tg(t),this.admin=new _p(t),this.savedata=new sg(t)}async getGameTitleStats(){try{return await(await this.doGet("/game/titlestats")).json()}catch(t){return console.warn("Could not get game title stats!",t),null}}async unlinkDiscord(){try{const t=await this.doPost("/auth/discord/logout");if(t.ok)return!0;console.warn(`Discord unlink failed (${t.status}: ${t.statusText})`)}catch(t){console.warn("Could not unlink Discord!",t)}return!1}async unlinkGoogle(){try{const t=await this.doPost("/auth/google/logout");if(t.ok)return!0;console.warn(`Google unlink failed (${t.status}: ${t.statusText})`)}catch(t){console.warn("Could not unlink Google!",t)}return!1}};r(my,"PokerogueApi");let rg=my;const MJ=new rg("https://api.pokerogue.net"),HQ="__MISSING";function YQ(e){return e.replace(/\_/g," ").split(" ").map(t=>`${t.slice(0,1)}${t.slice(1).toLowerCase()}`).join(" ")}r(YQ,"toReadableString");function VQ(e,t=!1){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let y=0;y<e;y++){const S=t?HO(i.length):Math.floor(Math.random()*i.length);a+=i[S]}return a}r(VQ,"randomString");function WQ(e,t){t||(t=0);let i="";for(let a=0;a<e.length;a++){const S=e.charCodeAt(a)+t;i+=String.fromCharCode(S)}return i}r(WQ,"shiftCharCodes");function kQ(e,t=0){const i=1-Math.random(),a=Math.random();return Math.sqrt(-2*Math.log(i))*Math.cos(2*Math.PI*a)*e+t}r(kQ,"randGauss");function XQ(e,t=0){if(!e)return 0;const i=1-kS(),a=kS();return Math.sqrt(-2*Math.log(i))*Math.cos(2*Math.PI*a)*e+t}r(XQ,"randSeedGauss");function zQ(e,t,i){i||(i="0");let a=e.toString();for(;a.length<t;)a=`${i}${a}`;return a}r(zQ,"padInt");function UO(e,t=0){return e===1?t:Math.floor(Math.random()*e)+t}r(UO,"randInt");function HO(e,t=0){return e<=1?t:Phaser.Math.RND.integerInRange(t,e-1+t)}r(HO,"randSeedInt");function IQ(e,t){return HO(t-e+1,e)}r(IQ,"randSeedIntRange");function $Q(e,t){return UO(t-e,e)}r($Q,"randIntRange");function kS(){return Phaser.Math.RND.frac()}r(kS,"randSeedFloat");function KQ(e){return e.length===1?e[0]:e[UO(e.length)]}r(KQ,"randItem");function ZQ(e){return e.length===1?e[0]:Phaser.Math.RND.pick(e)}r(ZQ,"randSeedItem");function JQ(e){return e.length===1?e[0]:Phaser.Math.RND.weightedPick(e)}r(JQ,"randSeedWeightedItem");function QQ(e){if(e.length<=1)return e;const t=e.slice(0);for(let i=e.length-1;i>0;i--){const a=Phaser.Math.RND.integerInRange(0,i);[t[i],t[a]]=[t[a],t[i]]}return t}r(QQ,"randSeedShuffle");function jQ(e){return Math.floor(1/60*1e3*e)}r(jQ,"getFrameMs");function qQ(){const e=new Date;return((e.getHours()*60+e.getMinutes())/1440+.675)%1}r(qQ,"getCurrentTime");const Yu=3600;function _Q(e){const t=`${Math.floor(e/(Yu*24))}`,i=`${Math.floor(e%(Yu*24)/Yu)}`,a=`${Math.floor(e%Yu/60)}`,y=`${Math.floor(e%60)}`;return`${t.padStart(2,"0")}:${i.padStart(2,"0")}:${a.padStart(2,"0")}:${y.padStart(2,"0")}`}r(_Q,"getPlayTimeString");function tj(e){return[(e&1040187392)>>>25,(e&32505856)>>>20,(e&1015808)>>>15,(e&31744)>>>10,(e&992)>>>5,e&31]}r(tj,"getIvsFromId");function DJ(e,t){if(e<t)return e.toString();const i=e.toString();let a="";switch(Math.ceil(i.length/3)-1){case 1:a="K";break;case 2:a="M";break;case 3:a="B";break;case 4:a="T";break;case 5:a="q";break;default:return"?"}const y=(i.length+2)%3+1;let S=i.slice(y,y+2);for(;S.endsWith("0");)S=S.slice(0,-1);return`${i.slice(0,y)}${S?`.${S}`:""}${a}`}r(DJ,"formatLargeNumber");const XS=["","K","M","B","t","q","Q","s","S","o","n","d"];function FJ(e,t=3){let i;if(e<1e3)i=0;else{const a=XS.length-1;i=Math.floor(Math.log(e)/Math.log(1e3)),i=Math.min(i,a),e/=Math.pow(1e3,i)}return`${i===0||e%1===0?e:e.toFixed(t)}${XS[i]}`}r(FJ,"formatFancyLargeNumber");function ej(e,t){return e===FO.ABBREVIATED?FJ(t):t.toLocaleString()}r(ej,"formatMoney");function ij(e,t=!1){return DJ(e,t?1e5:1e6)}r(ij,"formatStat");function sj(e){return Object.values(e).filter(t=>Number.isNaN(Number.parseInt(t.toString()))).map(t=>t.toString())}r(sj,"getEnumKeys");function rj(e){return Object.values(e).filter(t=>!Number.isNaN(Number.parseInt(t.toString()))).map(t=>Number.parseInt(t.toString()))}r(rj,"getEnumValues");function nj(e,t){return e?t():new Promise(i=>i(null))}r(nj,"executeIf");const aj="pokerogue_sessionId",bJ=(window.location.hostname==="localhost"||/^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$/.test(window.location.hostname))&&window.location.port!==""||window.location.hostname==="";let NJ=!0;async function hj(){bJ&&(NJ=!!await MJ.getGameTitleStats())}r(hj,"localPing");const xy=class xy{constructor(t){this.value=t}};r(xy,"BooleanHolder");let zS=xy;const Ty=class Ty{constructor(t){this.value=t}};r(Ty,"NumberHolder");let IS=Ty;const yy=class yy{constructor(t){this.value=t}};r(yy,"FixedInt");let ng=yy;function oj(e){return new ng(e)}r(oj,"fixedInt");function lj(e){const t=e.split("_");for(let i=0;i<t.length;i++)t[i]=t[i].charAt(0).toUpperCase()+t[i].substring(1).toLowerCase();return t.join(" ")}r(lj,"formatText");function uj(e){return e?e.split(/[_ ]/).filter(t=>t).map((t,i)=>i?`${t[0].toUpperCase()}${t.slice(1).toLowerCase()}`:t.toLowerCase()).join(""):""}r(uj,"toCamelCaseString");function fj(e,t,i){const a=Math.max(e,t,i),y=a-Math.min(e,t,i),S=y&&(a===e?(t-i)/y:a===t?2+(i-e)/y:4+(e-t)/y);return[60*(S<0?S+6:S),a&&y/a,a]}r(fj,"rgbToHsv");function dj(e,t){const[i,a,y]=e,[S,n,C]=t,s=Math.pow(i-S,2),o=Math.pow(a-n,2),T=Math.pow(y-C,2),c=(i+S)/2;return Math.ceil(Math.sqrt(2*s+4*o+3*T+c*(s-T)/256))}r(dj,"deltaRgb");const BJ=/^([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i;function cj(e){const t=e.match(BJ)??["000000","00","00","00"];return{r:Number.parseInt(t[1],16),g:Number.parseInt(t[2],16),b:Number.parseInt(t[3],16),a:255}}r(cj,"rgbHexToRgba");function vj(e){return(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]}r(vj,"rgbaToInt");function pj(e,t,i){const a=t*Math.min(i,1-i),y=r(S=>{const n=(S+e/30)%12,C=i-a*Math.max(-1,Math.min(n-3,9-n,1));return Math.round(C*255).toString(16).padStart(2,"0")},"f");return`#${y(0)}${y(8)}${y(4)}`}r(pj,"hslToHex");function GJ(e){switch(e||(e=Bt.resolvedLanguage),e){case"es-ES":case"es-MX":case"fr":case"da":case"de":case"it":case"zh-CN":case"zh-TW":case"pt-BR":case"ro":case"tr":case"ko":case"ja":case"ca":case"ru":return!0;default:return!1}}r(GJ,"hasAllLocalizedSprites");function gj(e,t=10){return e.length>t?e.slice(0,t-3)+"...":e}r(gj,"truncateString");function mj(e){return e.split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join("_")}r(mj,"reverseValueToKeySetting");function xj(e,t,i=!0,a=!1){if(e){const y=e.toLowerCase().split(t);for(let S=+i;S<(y==null?void 0:y.length);S++)y[S]=y[S].charAt(0).toUpperCase()+y[S].substring(1);return a?y.join(" "):y.join("")}return null}r(xj,"capitalizeString");function Tj(e){return e==null}r(Tj,"isNullOrUndefined");function yj(e){return e.charAt(0).toUpperCase()+e.slice(1)}r(yj,"capitalizeFirstLetter");function Cj(e,t=1){return Math.max(Math.floor(e),t)}r(Cj,"toDmgValue");function Ej(e){return`${e}${GJ(Bt.resolvedLanguage)?`_${Bt.resolvedLanguage}`:""}`}r(Ej,"getLocalizedSpriteKey");function Sj(e,t,i){return t<=e&&e<=i}r(Sj,"isBetween");function Aj(e){return bO[e].toLowerCase().replace(/\_/g,"-")}r(Aj,"animationFileName");function $S(e){return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,i)=>(i?"-":"")+t.toLowerCase())}r($S,"camelCaseToKebabCase");function Pj(e){switch(e){case 2:return Bt.t("common:epicShiny");case 1:return Bt.t("common:rareShiny");case 0:return Bt.t("common:commonShiny")}}r(Pj,"getShinyDescriptor");function Rj(e){return Array.isArray(e)?e:[e]}r(Rj,"coerceArray");const{slice:UJ,forEach:HJ}=[];function YJ(e){return HJ.call(UJ.call(arguments,1),t=>{if(t)for(const i in t)e[i]===void 0&&(e[i]=t[i])}),e}r(YJ,"defaults");function VJ(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(i=>i.test(e))}r(VJ,"hasXSS");const KS=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,WJ=r(function(e,t){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},y=encodeURIComponent(t);let S=`${e}=${y}`;if(a.maxAge>0){const n=a.maxAge-0;if(Number.isNaN(n))throw new Error("maxAge should be a Number");S+=`; Max-Age=${Math.floor(n)}`}if(a.domain){if(!KS.test(a.domain))throw new TypeError("option domain is invalid");S+=`; Domain=${a.domain}`}if(a.path){if(!KS.test(a.path))throw new TypeError("option path is invalid");S+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");S+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(S+="; HttpOnly"),a.secure&&(S+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"strict":S+="; SameSite=Strict";break;case"none":S+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a.partitioned&&(S+="; Partitioned"),S},"serializeCookie"),ZS={create(e,t,i,a){let y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(y.expires=new Date,y.expires.setTime(y.expires.getTime()+i*60*1e3)),a&&(y.domain=a),document.cookie=WJ(e,t,y)},read(e){const t=`${e}=`,i=document.cookie.split(";");for(let a=0;a<i.length;a++){let y=i[a];for(;y.charAt(0)===" ";)y=y.substring(1,y.length);if(y.indexOf(t)===0)return y.substring(t.length,y.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var kJ={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return ZS.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:i,cookieMinutes:a,cookieDomain:y,cookieOptions:S}=t;i&&typeof document<"u"&&ZS.create(i,e,a,y,S)}},XJ={name:"querystring",lookup(e){var a;let{lookupQuerystring:t}=e,i;if(typeof window<"u"){let{search:y}=window.location;!window.location.search&&((a=window.location.hash)==null?void 0:a.indexOf("?"))>-1&&(y=window.location.hash.substring(window.location.hash.indexOf("?")));const n=y.substring(1).split("&");for(let C=0;C<n.length;C++){const s=n[C].indexOf("=");s>0&&n[C].substring(0,s)===t&&(i=n[C].substring(s+1))}}return i}},zJ={name:"hash",lookup(e){var y;let{lookupHash:t,lookupFromHashIndex:i}=e,a;if(typeof window<"u"){const{hash:S}=window.location;if(S&&S.length>2){const n=S.substring(1);if(t){const C=n.split("&");for(let s=0;s<C.length;s++){const o=C[s].indexOf("=");o>0&&C[s].substring(0,o)===t&&(a=C[s].substring(o+1))}}if(a)return a;if(!a&&i>-1){const C=S.match(/\/([a-zA-Z-]*)/g);return Array.isArray(C)?(y=C[typeof i=="number"?i:0])==null?void 0:y.replace("/",""):void 0}}}return a}};let bn=null;const JS=r(()=>{if(bn!==null)return bn;try{if(bn=typeof window<"u"&&window.localStorage!==null,!bn)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{bn=!1}return bn},"localStorageAvailable");var IJ={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&JS())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:i}=t;i&&JS()&&window.localStorage.setItem(i,e)}};let Nn=null;const QS=r(()=>{if(Nn!==null)return Nn;try{if(Nn=typeof window<"u"&&window.sessionStorage!==null,!Nn)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Nn=!1}return Nn},"sessionStorageAvailable");var $J={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&QS())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:i}=t;i&&QS()&&window.sessionStorage.setItem(i,e)}},KJ={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:i,userLanguage:a,language:y}=navigator;if(i)for(let S=0;S<i.length;S++)t.push(i[S]);a&&t.push(a),y&&t.push(y)}return t.length>0?t:void 0}},ZJ={name:"htmlTag",lookup(e){let{htmlTag:t}=e,i;const a=t||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(i=a.getAttribute("lang")),i}},JJ={name:"path",lookup(e){var y;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?(y=i[typeof t=="number"?t:0])==null?void 0:y.replace("/",""):void 0}},QJ={name:"subdomain",lookup(e){var y,S;let{lookupFromSubdomainIndex:t}=e;const i=typeof t=="number"?t+1:1,a=typeof window<"u"&&((S=(y=window.location)==null?void 0:y.hostname)==null?void 0:S.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[i]}};let YO=!1;try{document.cookie,YO=!0}catch{}const VO=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];YO||VO.splice(1,1);const jJ=r(()=>({order:VO,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r(e=>e,"convertDetectedLanguage")}),"getDefaults$1"),Cy=class Cy{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,i)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=YJ(i,this.options||{},jJ()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=y=>y.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(kJ),this.addDetector(XJ),this.addDetector(IJ),this.addDetector($J),this.addDetector(KJ),this.addDetector(ZJ),this.addDetector(JJ),this.addDetector(QJ),this.addDetector(zJ)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,i=[];return t.forEach(a=>{if(this.detectors[a]){let y=this.detectors[a].lookup(this.options);y&&typeof y=="string"&&(y=[y]),y&&(i=i.concat(y))}}),i=i.filter(a=>a!=null&&!VJ(a)).map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||i.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(t,this.options)}))}};r(Cy,"Browser");let od=Cy;od.type="languageDetector";function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}r(ag,"_typeof$2");function WO(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":ag(XMLHttpRequest))==="object"}r(WO,"hasXMLHttpRequest");function qJ(e){return!!e&&typeof e.then=="function"}r(qJ,"isPromise");function _J(e){return qJ(e)?e:Promise.resolve(e)}r(_J,"makePromise");function jS(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(y){return Object.getOwnPropertyDescriptor(e,y).enumerable})),i.push.apply(i,a)}return i}r(jS,"ownKeys$1");function qS(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(i),!0).forEach(function(a){tQ(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):jS(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}r(qS,"_objectSpread$1");function tQ(e,t,i){return(t=eQ(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}r(tQ,"_defineProperty$1");function eQ(e){var t=iQ(e,"string");return Kr(t)=="symbol"?t:t+""}r(eQ,"_toPropertyKey$1");function iQ(e,t){if(Kr(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t);if(Kr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}r(iQ,"_toPrimitive$1");function Kr(e){"@babel/helpers - typeof";return Kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(e)}r(Kr,"_typeof$1");var Zs=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Zs=global.fetch:typeof window<"u"&&window.fetch&&(Zs=window.fetch);var hl;WO()&&(typeof global<"u"&&global.XMLHttpRequest?hl=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(hl=window.XMLHttpRequest));var ld;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?ld=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(ld=window.ActiveXObject));typeof Zs!="function"&&(Zs=void 0);if(!Zs&&!hl&&!ld)try{Mv(()=>import("./browser-ponyfill-BtvwjaJV.js").then(e=>e.b),[],import.meta.url).then(function(e){Zs=e.default}).catch(function(){})}catch{}var hg=r(function(t,i){if(i&&Kr(i)==="object"){var a="";for(var y in i)a+="&"+encodeURIComponent(y)+"="+encodeURIComponent(i[y]);if(!a)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+a.slice(1)}return t},"addQueryString"),_S=r(function(t,i,a,y){var S=r(function(s){if(!s.ok)return a(s.statusText||"Error",{status:s.status});s.text().then(function(o){a(null,{status:s.status,data:o})}).catch(a)},"resolver");if(y){var n=y(t,i);if(n instanceof Promise){n.then(S).catch(a);return}}typeof fetch=="function"?fetch(t,i).then(S).catch(a):Zs(t,i).then(S).catch(a)},"fetchIt"),tA=!1,sQ=r(function(t,i,a,y){t.queryStringParams&&(i=hg(i,t.queryStringParams));var S=qS({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(S["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),a&&(S["Content-Type"]="application/json");var n=typeof t.requestOptions=="function"?t.requestOptions(a):t.requestOptions,C=qS({method:a?"POST":"GET",body:a?t.stringify(a):void 0,headers:S},tA?{}:n),s=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{_S(i,C,y,s)}catch(o){if(!n||Object.keys(n).length===0||!o.message||o.message.indexOf("not implemented")<0)return y(o);try{Object.keys(n).forEach(function(T){delete C[T]}),_S(i,C,y,s),tA=!0}catch(T){y(T)}}},"requestWithFetch"),rQ=r(function(t,i,a,y){a&&Kr(a)==="object"&&(a=hg("",a).slice(1)),t.queryStringParams&&(i=hg(i,t.queryStringParams));try{var S=hl?new hl:new ld("MSXML2.XMLHTTP.3.0");S.open(a?"POST":"GET",i,1),t.crossDomain||S.setRequestHeader("X-Requested-With","XMLHttpRequest"),S.withCredentials=!!t.withCredentials,a&&S.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),S.overrideMimeType&&S.overrideMimeType("application/json");var n=t.customHeaders;if(n=typeof n=="function"?n():n,n)for(var C in n)S.setRequestHeader(C,n[C]);S.onreadystatechange=function(){S.readyState>3&&y(S.status>=400?S.statusText:null,{status:S.status,data:S.responseText})},S.send(a)}catch(s){}},"requestWithXmlHttpRequest"),nQ=r(function(t,i,a,y){if(typeof a=="function"&&(y=a,a=void 0),y=y||function(){},Zs&&i.indexOf("file:")!==0)return sQ(t,i,a,y);if(WO()||typeof ActiveXObject=="function")return rQ(t,i,a,y);y(new Error("No fetch and no xhr implementation found!"))},"request");function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}r(dh,"_typeof");function eA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(y){return Object.getOwnPropertyDescriptor(e,y).enumerable})),i.push.apply(i,a)}return i}r(eA,"ownKeys");function Lv(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(i),!0).forEach(function(a){kO(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eA(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}r(Lv,"_objectSpread");function aQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r(aQ,"_classCallCheck");function hQ(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XO(a.key),a)}}r(hQ,"_defineProperties");function oQ(e,t,i){return t&&hQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}r(oQ,"_createClass");function kO(e,t,i){return(t=XO(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}r(kO,"_defineProperty");function XO(e){var t=lQ(e,"string");return dh(t)=="symbol"?t:t+""}r(XO,"_toPropertyKey");function lQ(e,t){if(dh(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t);if(dh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}r(lQ,"_toPrimitive");var uQ=r(function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:r(function(i){return JSON.parse(i)},"parse"),stringify:JSON.stringify,parsePayload:r(function(i,a,y){return kO({},a,y||"")},"parsePayload"),parseLoadPayload:r(function(i,a){},"parseLoadPayload"),request:nQ,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},"getDefaults"),zO=function(){function e(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};aQ(this,e),this.services=t,this.options=i,this.allOptions=a,this.type="backend",this.init(t,i,a)}return r(e,"Backend"),oQ(e,[{key:"init",value:r(function(i){var a=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=i,this.options=Lv(Lv(Lv({},uQ()),this.options||{}),y),this.allOptions=S,this.services&&this.options.reloadInterval){var n=setInterval(function(){return a.reload()},this.options.reloadInterval);dh(n)==="object"&&typeof n.unref=="function"&&n.unref()}},"init")},{key:"readMulti",value:r(function(i,a,y){this._readAny(i,i,a,a,y)},"readMulti")},{key:"read",value:r(function(i,a,y){this._readAny([i],i,[a],a,y)},"read")},{key:"_readAny",value:r(function(i,a,y,S,n){var C=this,s=this.options.loadPath;typeof this.options.loadPath=="function"&&(s=this.options.loadPath(i,y)),s=_J(s),s.then(function(o){if(!o)return n(null,{});var T=C.services.interpolator.interpolate(o,{lng:i.join("+"),ns:y.join("+")});C.loadUrl(T,n,a,S)})},"_readAny")},{key:"loadUrl",value:r(function(i,a,y,S){var n=this,C=typeof y=="string"?[y]:y,s=typeof S=="string"?[S]:S,o=this.options.parseLoadPayload(C,s);this.options.request(this.options,i,o,function(T,c){if(c&&(c.status>=500&&c.status<600||!c.status))return a("failed loading "+i+"; status code: "+c.status,!0);if(c&&c.status>=400&&c.status<500)return a("failed loading "+i+"; status code: "+c.status,!1);if(!c&&T&&T.message){var l=T.message.toLowerCase(),u=["failed","fetch","network","load"].find(function(v){return l.indexOf(v)>-1});if(u)return a("failed loading "+i+": "+T.message,!0)}if(T)return a(T,!1);var h,f;try{typeof c.data=="string"?h=n.options.parse(c.data,y,S):h=c.data}catch{f="failed parsing "+i+" to json"}if(f)return a(f,!1);a(null,h)})},"loadUrl")},{key:"create",value:r(function(i,a,y,S,n){var C=this;if(this.options.addPath){typeof i=="string"&&(i=[i]);var s=this.options.parsePayload(a,y,S),o=0,T=[],c=[];i.forEach(function(l){var u=C.options.addPath;typeof C.options.addPath=="function"&&(u=C.options.addPath(l,a));var h=C.services.interpolator.interpolate(u,{lng:l,ns:a});C.options.request(C.options,h,s,function(f,v){o+=1,T.push(f),c.push(v),o===i.length&&typeof n=="function"&&n(T,c)})})}},"create")},{key:"reload",value:r(function(){var i=this,a=this.services,y=a.backendConnector,S=a.languageUtils,n=a.logger,C=y.language;if(!(C&&C.toLowerCase()==="cimode")){var s=[],o=r(function(c){var l=S.toResolveHierarchy(c);l.forEach(function(u){s.indexOf(u)<0&&s.push(u)})},"append");o(C),this.allOptions.preload&&this.allOptions.preload.forEach(function(T){return o(T)}),s.forEach(function(T){i.allOptions.ns.forEach(function(c){y.read(T,c,"read",null,null,function(l,u){l&&n.warn("loading namespace ".concat(c," for language ").concat(T," failed"),l),!l&&u&&n.log("loaded namespace ".concat(c," for language ").concat(T),u),y.loaded("".concat(T,"|").concat(c),l,u)})})})}},"reload")}])}();zO.type="backend";var Cr={},jh={},iA;function fQ(){if(iA)return jh;iA=1,Object.defineProperty(jh,"__esModule",{value:!0}),jh.PostPositionMap=void 0;var e=[["",""],["",""],["",""],["",""],["",""],["",""]],t={};jh.PostPositionMap=t;for(var i=0,a=e;i<a.length;i++){var y=a[i];t[y[0]]=y,t[y[1]]=y}return jh}r(fQ,"requireConsts");var Vu={},sA;function dQ(){if(sA)return Vu;sA=1,Object.defineProperty(Vu,"__esModule",{value:!0});function e(t){var i=t.charCodeAt(t.length-1);if(i>=44032&&i<=55203){var a=(i-44032)%28;return a!==0}}return r(e,"TestHangul"),Vu.default=e,Vu}r(dQ,"requireHangul");var Wu={},rA;function cQ(){if(rA)return Wu;rA=1,Object.defineProperty(Wu,"__esModule",{value:!0});function e(a){switch(a[a.length-1]){case"1":case"3":case"6":case"7":case"8":return!0;case"2":case"4":case"5":case"9":return!1;case"0":break;default:return}return t(a)}r(e,"TestNumber"),Wu.default=e;function t(a){for(var y=a.length-1,S=!0,n=0;y>0;y--){var C=a[y];if(C===".")return!0;if(S)if(C==="0")n++;else{if(C===",")continue;S=!1}}return i(n)}r(t,"TestNumberEndsWithZero");function i(a){var y=[12,20,24,32,44];return!(y.indexOf(a)!==-1||a>=52)}return r(i,"TestLargeNumberPostfix"),Wu}r(cQ,"requireNumber");var ku={},nA;function vQ(){if(nA)return ku;nA=1,Object.defineProperty(ku,"__esModule",{value:!0});var e=[12387,12435,12483,12531,110877,110878,65437],t=[[12353,12438],[12448,12538],[110592,110876],[12784,12799],[65382,65436],[12441,12447]];function i(a){var y=a.charCodeAt(a.length-1);if(y===65438||y===65439)return null;if(e.indexOf(y)!==-1)return!0;for(var S=0,n=t;S<n.length;S++){var C=n[S];if(y>=C[0]&&y<=C[1])return!1}}return r(i,"TestKana"),ku.default=i,ku}r(vQ,"requireKana");var Xu={},aA;function pQ(){if(aA)return Xu;aA=1,Object.defineProperty(Xu,"__esModule",{value:!0});function e(t){for(var i=[],a=t.length-1;a>0;a--){var y=t[a];if(y===")")i.push(a);else if(y==="(")i.pop();else if(i.length===0)return t.substring(0,a+1)}return t.substr(0,i[i.length-1])}return r(e,"ParenthesisModifier"),Xu.default=e,Xu}r(pQ,"requireParenthesis");var hA;function gQ(){return hA||(hA=1,function(e){var t=Cr&&Cr.__spreadArrays||function(){for(var T=0,c=0,l=arguments.length;c<l;c++)T+=arguments[c].length;for(var u=Array(T),h=0,c=0;c<l;c++)for(var f=arguments[c],v=0,d=f.length;v<d;v++,h++)u[h]=f[v];return u},i=Cr&&Cr.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(e,"__esModule",{value:!0}),e.KoreanPostpositionProcessor=e.default_modifiers=e.default_testers=void 0;var a=fQ(),y=i(dQ()),S=i(cQ()),n=i(vQ()),C=i(pQ());e.default_testers=[y.default,S.default,n.default],e.default_modifiers=[C.default];var s=function(){function T(c){var l=e.default_modifiers,u=e.default_testers;c!==void 0&&(c.modifiers&&(l=c.modifiers),c.testers&&(u=c.testers)),this.modifiers=t(l),this.testers=t(u)}return r(T,"KoreanPostpositionProcessor"),Object.defineProperty(T.prototype,"name",{get:r(function(){return"korean-postposition"},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"type",{get:r(function(){return"postProcessor"},"get"),enumerable:!1,configurable:!0}),T.prototype.process=function(c){var l=/\[\[(?:||||||(?:)||||(?:)|)\]\]/g,u=0,h=[];do{var f=l.exec(c);if(f===null)break;var v=c.substring(u,f.index);h.push(v);var d=f[0].replace("[[","").replace("]]",""),p=this.runTests(v,d);h.push(a.PostPositionMap[d][p?0:1]),u=f.index+f[0].length}while(!0);return u!==c.length&&h.push(c.substring(u)),h.join("")},T.prototype.runTests=function(c,l){c=this.applyModifiers(c);for(var u=a.PostPositionMap[l].indexOf(l)===0,h=0,f=this.testers;h<f.length;h++){var v=f[h],d=v(c);if(d!==void 0){d!==null&&(u=d);break}}return u},T.prototype.applyModifiers=function(c){for(var l=0,u=this.modifiers;l<u.length;l++){var h=u[l];c=h(c)}return c},T}();e.KoreanPostpositionProcessor=s;var o=new s;e.default=o}(Cr)),Cr}r(gQ,"requireI18nextKoreanPostpositionProcessor");var IO=gQ();const mQ=ug(IO);let og=!1;const Ci={fullwidth:"U+FF00-FFEF",hangul:"U+1100-11FF,U+3130-318F,U+A960-A97F,U+AC00-D7AF,U+D7B0-D7FF",kana:"U+3040-30FF",CJKCommon:"U+2E80-2EFF,U+3000-303F,U+31C0-31EF,U+3200-32FF,U+3400-4DBF,U+F900-FAFF,U+FE30-FE4F",CJKIdeograph:"U+4E00-9FFF",specialCharacters:"U+266A,U+2605,U+2665,U+2663"},Bn={korean:[Ci.CJKCommon,Ci.hangul].join(","),chinese:[Ci.CJKCommon,Ci.fullwidth,Ci.CJKIdeograph].join(","),japanese:[Ci.CJKCommon,Ci.fullwidth,Ci.kana,Ci.CJKIdeograph].join(",")},xQ=[{face:new FontFace("emerald","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:Ci.specialCharacters})},{face:new FontFace("pkmnems","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:Ci.specialCharacters}),extraOptions:{sizeAdjust:"133%"}},{face:new FontFace("emerald","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:Bn.korean})},{face:new FontFace("pkmnems","url(./fonts/PokePT_Wansung.woff2)",{unicodeRange:Bn.korean}),extraOptions:{sizeAdjust:"133%"}},{face:new FontFace("emerald","url(./fonts/unifont-15.1.05.subset.woff2)",{unicodeRange:Bn.chinese}),extraOptions:{sizeAdjust:"70%",format:"woff2"},only:["en","es","fr","it","de","zh","pt","ko","ca","da","tr","ro","ru"]},{face:new FontFace("pkmnems","url(./fonts/unifont-15.1.05.subset.woff2)",{unicodeRange:Bn.chinese}),extraOptions:{format:"woff2"},only:["en","es","fr","it","de","zh","pt","ko","ca","da","tr","ro","ru"]},{face:new FontFace("emerald","url(./fonts/Galmuri11.subset.woff2)",{unicodeRange:Bn.japanese}),extraOptions:{sizeAdjust:"66%"},only:["ja"]},{face:new FontFace("pkmnems","url(./fonts/Galmuri9.subset.woff2)",{unicodeRange:Bn.japanese}),only:["ja"]}],oA={titles:"trainer-titles",moveTriggers:"move-trigger",abilityTriggers:"ability-trigger",battlePokemonForm:"pokemon-form-battle",miscDialogue:"dialogue-misc",battleSpecDialogue:"dialogue-final-boss",doubleBattleDialogue:"dialogue-double-battle",splashMessages:"splash-texts",mysteryEncounterMessages:"mystery-encounter-texts"};async function TQ(e){var i;const t=await Promise.allSettled(xQ.filter(a=>!a.only||a.only.some(y=>(e==null?void 0:e.indexOf(y))===0)).map(a=>Object.assign(a.face,a.extraOptions??{}).load()));for(const a of t)a.status==="fulfilled"?(i=document.fonts)==null||i.add(a.value):console.error(a.reason)}r(TQ,"initFonts");function yQ(e){return Number.isNaN(Number(e))&&console.warn(`i18nMoneyFormatter: value "${e}" is not a number!`),`@[MONEY]{${Bt.t("common:money",{amount:e})}}`}r(yQ,"i18nMoneyFormatter");async function CQ(){og||(og=!0,Bt.use(zO),Bt.use(od),Bt.use(mQ),Bt.use(new IO.KoreanPostpositionProcessor),await Bt.init({fallbackLng:{"es-MX":["es-ES","en"],default:["en"]},supportedLngs:["en","es-ES","es-MX","fr","it","de","zh-CN","zh-TW","pt-BR","ko","ja","ca","da","tr","ro","ru"],backend:{loadPath(e,[t]){let i;return oA[t]?i=oA[t]:t.startsWith("mysteryEncounters/")?i=$S(t+"Dialogue"):i=$S(t),`./locales/${e}/${i}.json?v=${tL.version}`}},defaultNS:"menu",ns:["ability","abilityTriggers","arenaFlyout","arenaTag","battle","battleScene","battleInfo","battleMessageUiHandler","battlePokemonForm","battlerTags","berry","bgmName","biome","challenges","commandUiHandler","common","achv","dialogue","battleSpecDialogue","miscDialogue","doubleBattleDialogue","egg","fightUiHandler","filterBar","filterText","gameMode","gameStatsUiHandler","growth","menu","menuUiHandler","modifier","modifierType","move","nature","pokeball","pokedexUiHandler","pokemon","pokemonEvolutions","pokemonForm","pokemonInfo","pokemonInfoContainer","pokemonSummary","saveSlotSelectUiHandler","settings","splashMessages","starterSelectUiHandler","statusEffect","terrain","titles","trainerClasses","trainersCommon","trainerNames","tutorial","voucher","weather","partyUiHandler","modifierSelectUiHandler","moveTriggers","runHistory","mysteryEncounters/mysteriousChallengers","mysteryEncounters/mysteriousChest","mysteryEncounters/darkDeal","mysteryEncounters/fightOrFlight","mysteryEncounters/slumberingSnorlax","mysteryEncounters/trainingSession","mysteryEncounters/departmentStoreSale","mysteryEncounters/shadyVitaminDealer","mysteryEncounters/fieldTrip","mysteryEncounters/safariZone","mysteryEncounters/lostAtSea","mysteryEncounters/fieryFallout","mysteryEncounters/theStrongStuff","mysteryEncounters/thePokemonSalesman","mysteryEncounters/anOfferYouCantRefuse","mysteryEncounters/delibirdy","mysteryEncounters/absoluteAvarice","mysteryEncounters/aTrainersTest","mysteryEncounters/trashToTreasure","mysteryEncounters/berriesAbound","mysteryEncounters/clowningAround","mysteryEncounters/partTimer","mysteryEncounters/dancingLessons","mysteryEncounters/weirdDream","mysteryEncounters/theWinstrateChallenge","mysteryEncounters/teleportingHijinks","mysteryEncounters/bugTypeSuperfan","mysteryEncounters/funAndGames","mysteryEncounters/uncommonBreed","mysteryEncounters/globalTradeSystem","mysteryEncounters/theExpertPokemonBreeder","mysteryEncounterMessages"],detection:{lookupLocalStorage:"prLang"},debug:!1,interpolation:{escapeValue:!1},postProcess:["korean-postposition"]}),Bt.services.formatter&&Bt.services.formatter.add("money",yQ),await TQ(localStorage.getItem("prLang")??void 0))}r(CQ,"initI18n");function Oj(){return og}r(Oj,"getIsInitialized");window.onerror=(e,t,i,a,y)=>(console.error(y),!0);window.addEventListener("unhandledrejection",e=>{console.error(e.reason)});const xh=r(function(e,t,i){const a=e.width*(-.5+(.5-e.originX)),y=e.height*(-.5+(.5-e.originY));return this.setPosition(e.x+a+t,e.y+y+i)},"setPositionRelative");rs.GameObjects.Container.prototype.setPositionRelative=xh;rs.GameObjects.Sprite.prototype.setPositionRelative=xh;rs.GameObjects.Image.prototype.setPositionRelative=xh;rs.GameObjects.NineSlice.prototype.setPositionRelative=xh;rs.GameObjects.Text.prototype.setPositionRelative=xh;rs.GameObjects.Rectangle.prototype.setPositionRelative=xh;document.fonts.load("16px emerald").then(()=>document.fonts.load("10px pkmnems"));let wv;const lA=r(async e=>{await CQ();const t=(await Mv(async()=>{const{LoadingScene:a}=await import("./loading-scene-DWxFK_8p.js").then(y=>y.ff);return{LoadingScene:a}},[],import.meta.url)).LoadingScene,i=(await Mv(async()=>{const{default:a}=await import("./battle-scene-BqLx1xw0.js");return{default:a}},__vite__mapDeps([0,1]),import.meta.url)).default;wv=new rs.Game({type:rs.WEBGL,parent:"app",scale:{width:1920,height:1080,mode:rs.Scale.FIT},plugins:{global:[{key:"rexInputTextPlugin",plugin:kp,start:!0},{key:"rexBBCodeTextPlugin",plugin:Wp,start:!0},{key:"rexTransitionImagePackPlugin",plugin:Xp,start:!0}],scene:[{key:"rexUI",plugin:ed,mapping:"rexUI"}]},input:{mouse:{target:"app"},touch:{target:"app"},gamepad:!0},dom:{createContainer:!0},antialias:!1,pipeline:[Dv],scene:[t,i],version:fA}),wv.sound.pauseOnBlur=!1,e&&(wv.manifest=e)},"startGame");fetch("/manifest.json").then(e=>e.json()).then(e=>{lA(e.manifest)}).catch(()=>{lA()});let $O;function Lj(e){$O=e}r(Lj,"initGlobalScene");var lg=(e=>(e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e[e.SUBMIT=4]="SUBMIT",e[e.ACTION=5]="ACTION",e[e.CANCEL=6]="CANCEL",e[e.MENU=7]="MENU",e[e.STATS=8]="STATS",e[e.CYCLE_SHINY=9]="CYCLE_SHINY",e[e.CYCLE_FORM=10]="CYCLE_FORM",e[e.CYCLE_GENDER=11]="CYCLE_GENDER",e[e.CYCLE_ABILITY=12]="CYCLE_ABILITY",e[e.CYCLE_NATURE=13]="CYCLE_NATURE",e[e.CYCLE_TERA=14]="CYCLE_TERA",e[e.SPEED_UP=15]="SPEED_UP",e[e.SLOW_DOWN=16]="SLOW_DOWN",e))(lg||{});const EQ=250,Ey=class Ey{constructor(){this.buttonLock=new Array,this.inputInterval=new Array,this.disabled=!1,this.finishedLastTouch=!1,this.events=$O.game.events,this.init()}disable(){this.disabled=!0,this.finishedLastTouch=!1}enable(){this.disabled=!1,this.finishedLastTouch=!1}init(){this.preventElementZoom(document.querySelector("#dpad")),document.querySelectorAll(".apad-button").forEach(t=>this.preventElementZoom(t));for(const t of document.querySelectorAll("[data-key]"))this.bindKey(t,t.dataset.key)}bindKey(t,i){t.addEventListener("touchstart",a=>{a.preventDefault(),this.touchButtonDown(t,i)}),t.addEventListener("touchend",a=>{var y;a.preventDefault(),this.touchButtonUp(t,i,(y=a.target)==null?void 0:y.id)})}touchButtonDown(t,i){this.buttonLock.includes(i)||this.simulateKeyboardEvent("keydown",i)&&(clearInterval(this.inputInterval[i]),this.inputInterval[i]=setInterval(()=>{this.simulateKeyboardEvent("keydown",i)||clearInterval(this.inputInterval[i])},EQ),this.buttonLock.push(i),t.classList.add("active"))}touchButtonUp(t,i,a){var S;if(!this.buttonLock.includes(i)||this.disabled&&this.finishedLastTouch)return;this.finishedLastTouch=!0,this.simulateKeyboardEvent("keyup",i),t.classList.remove("active"),(S=document.getElementById(a))==null||S.classList.remove("active");const y=this.buttonLock.indexOf(i);this.buttonLock.splice(y,1),clearInterval(this.inputInterval[i])}simulateKeyboardEvent(t,i){if(!lg.hasOwnProperty(i)||this.disabled)return!1;const a=lg[i];switch(t){case"keydown":this.events.emit("input_down",{controller_type:"keyboard",button:a,isTouch:!0});break;case"keyup":this.events.emit("input_up",{controller_type:"keyboard",button:a,isTouch:!0});break}return!0}preventElementZoom(t){t&&t.addEventListener("touchstart",i=>{if(!(i.currentTarget instanceof HTMLElement))return;const a=i.timeStamp,y=Number(i.currentTarget.dataset.lastTouchTimeStamp)||a,S=a-y,n=i.touches.length;i.currentTarget.dataset.lastTouchTimeStamp=String(a),!(!S||S>500||n>1)&&(i.preventDefault(),i.target instanceof HTMLElement&&i.target.click())})}deactivatePressedKey(){for(const t of Object.keys(this.inputInterval))clearInterval(this.inputInterval[t]);for(const t of document.querySelectorAll("[data-key]"))t.classList.remove("active");this.buttonLock=[]}};r(Ey,"TouchControl");let uA=Ey;function wj(){return window.matchMedia("(hover: none), (pointer: coarse)").matches}r(wj,"hasTouchscreen");function Mj(){let e=!1;return(t=>{(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)})(navigator.userAgent||navigator.vendor||window.opera),e}r(Mj,"isMobile");export{uA as $,ZQ as A,lg as B,wQ as C,LQ as D,DJ as E,_Q as F,FJ as G,KQ as H,fA as I,UO as J,GO as K,mj as L,Pj as M,IS as N,nj as O,rs as P,ng as Q,Zr as R,Gt as S,DQ as T,bO as U,bQ as V,FQ as W,qQ as X,Rj as Y,HQ as Z,ij as _,Ej as a,uj as a0,jQ as a1,BQ as a2,NJ as a3,RQ as a4,Cj as a5,FO as a6,tj as a7,VQ as a8,WQ as a9,GJ as aA,Mj as aB,Dv as aa,Lj as ab,GQ as ac,NQ as ad,UQ as ae,CQ as af,kS as ag,xj as ah,fs as ai,Aj as aj,pj as ak,PQ as al,Oj as am,IQ as an,JQ as ao,wj as ap,MQ as aq,kQ as ar,yj as as,Ga as at,Td as au,vj as av,fj as aw,dj as ax,Sj as ay,hj as az,Ws as b,ej as c,OQ as d,Tj as e,oj as f,$O as g,zS as h,Bt as i,$Q as j,gj as k,lj as l,MJ as m,sj as n,bJ as o,zQ as p,wJ as q,cj as r,aj as s,YQ as t,rj as u,QQ as v,AQ as w,ug as x,HO as y,XQ as z};
